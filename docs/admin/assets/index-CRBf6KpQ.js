const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SignIn-BBp2Zn8j.js","assets/Input-eqrST-0v.js","assets/NotConfigured-BKFiPWft.js","assets/Card-BKQRm7Rb.js","assets/Overview-Czd6_kWU.js","assets/ErrorBox-DVY8vL3c.js","assets/useMutation-DfZD1PiA.js","assets/StatCard-B7MZSLFj.js","assets/Table-C_8f92Ce.js","assets/ConfirmDialog-khP5iV2U.js","assets/generateCategoricalChart-BZg-UuSW.js","assets/BarChart-CiVGKepq.js","assets/Embeddings-CexbCvJ1.js","assets/EmptyState-DFwSBMQU.js","assets/Jobs-CP1Nu6cw.js","assets/CopyButton-CqevYxQn.js","assets/Users-Cw-5A8CY.js","assets/Logs-DEs30OBL.js","assets/Costs-CMBrrxjH.js","assets/LineChart-BmTb63kD.js","assets/Audit-DDoQYCKp.js","assets/Assistant-DLPoEh1Y.js","assets/settingsHints-C505o_Eo.js","assets/Settings-DjVfIJib.js","assets/Verification-CZKV2-Uk.js","assets/Recsys-C8m8vXTz.js","assets/CartesianGrid-CesT3kVW.js","assets/RecsysExperiments-DzvmVJm1.js","assets/RecsysExperimentDetail-C67F7yXX.js","assets/RecsysAssignments-CPmtaqUm.js"])))=>i.map(i=>d[i]);
var Ry=Object.defineProperty;var $h=n=>{throw TypeError(n)};var Oy=(n,t,s)=>t in n?Ry(n,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[t]=s;var Zs=(n,t,s)=>Oy(n,typeof t!="symbol"?t+"":t,s),Kl=(n,t,s)=>t.has(n)||$h("Cannot "+s);var N=(n,t,s)=>(Kl(n,t,"read from private field"),s?s.call(n):t.get(n)),de=(n,t,s)=>t.has(n)?$h("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(n):t.set(n,s),ae=(n,t,s,o)=>(Kl(n,t,"write to private field"),o?o.call(n,s):t.set(n,s),s),nt=(n,t,s)=>(Kl(n,t,"access private method"),s);var Ao=(n,t,s,o)=>({set _(l){ae(n,t,l,s)},get _(){return N(n,t,o)}});function Py(n,t){for(var s=0;s<t.length;s++){const o=t[s];if(typeof o!="string"&&!Array.isArray(o)){for(const l in o)if(l!=="default"&&!(l in n)){const u=Object.getOwnPropertyDescriptor(o,l);u&&Object.defineProperty(n,l,u.get?u:{enumerable:!0,get:()=>o[l]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Gl={exports:{}},ei={},Ql={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function Ay(){if(Dh)return ue;Dh=1;var n=Symbol.for("react.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function S(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function x(b,D,le){this.props=b,this.context=D,this.refs=R,this.updater=le||E}x.prototype.isReactComponent={},x.prototype.setState=function(b,D){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,D,"setState")},x.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function j(){}j.prototype=x.prototype;function U(b,D,le){this.props=b,this.context=D,this.refs=R,this.updater=le||E}var A=U.prototype=new j;A.constructor=U,C(A,x.prototype),A.isPureReactComponent=!0;var I=Array.isArray,Z=Object.prototype.hasOwnProperty,G={current:null},re={key:!0,ref:!0,__self:!0,__source:!0};function ge(b,D,le){var ce,pe={},me=null,Se=null;if(D!=null)for(ce in D.ref!==void 0&&(Se=D.ref),D.key!==void 0&&(me=""+D.key),D)Z.call(D,ce)&&!re.hasOwnProperty(ce)&&(pe[ce]=D[ce]);var ve=arguments.length-2;if(ve===1)pe.children=le;else if(1<ve){for(var Ce=Array(ve),gt=0;gt<ve;gt++)Ce[gt]=arguments[gt+2];pe.children=Ce}if(b&&b.defaultProps)for(ce in ve=b.defaultProps,ve)pe[ce]===void 0&&(pe[ce]=ve[ce]);return{$$typeof:n,type:b,key:me,ref:Se,props:pe,_owner:G.current}}function _e(b,D){return{$$typeof:n,type:b.type,key:D,ref:b.ref,props:b.props,_owner:b._owner}}function fe(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function be(b){var D={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(le){return D[le]})}var Kt=/\/+/g;function yt(b,D){return typeof b=="object"&&b!==null&&b.key!=null?be(""+b.key):D.toString(36)}function It(b,D,le,ce,pe){var me=typeof b;(me==="undefined"||me==="boolean")&&(b=null);var Se=!1;if(b===null)Se=!0;else switch(me){case"string":case"number":Se=!0;break;case"object":switch(b.$$typeof){case n:case t:Se=!0}}if(Se)return Se=b,pe=pe(Se),b=ce===""?"."+yt(Se,0):ce,I(pe)?(le="",b!=null&&(le=b.replace(Kt,"$&/")+"/"),It(pe,D,le,"",function(gt){return gt})):pe!=null&&(fe(pe)&&(pe=_e(pe,le+(!pe.key||Se&&Se.key===pe.key?"":(""+pe.key).replace(Kt,"$&/")+"/")+b)),D.push(pe)),1;if(Se=0,ce=ce===""?".":ce+":",I(b))for(var ve=0;ve<b.length;ve++){me=b[ve];var Ce=ce+yt(me,ve);Se+=It(me,D,le,Ce,pe)}else if(Ce=S(b),typeof Ce=="function")for(b=Ce.call(b),ve=0;!(me=b.next()).done;)me=me.value,Ce=ce+yt(me,ve++),Se+=It(me,D,le,Ce,pe);else if(me==="object")throw D=String(b),Error("Objects are not valid as a React child (found: "+(D==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":D)+"). If you meant to render a collection of children, use an array instead.");return Se}function Gt(b,D,le){if(b==null)return b;var ce=[],pe=0;return It(b,ce,"","",function(me){return D.call(le,me,pe++)}),ce}function ut(b){if(b._status===-1){var D=b._result;D=D(),D.then(function(le){(b._status===0||b._status===-1)&&(b._status=1,b._result=le)},function(le){(b._status===0||b._status===-1)&&(b._status=2,b._result=le)}),b._status===-1&&(b._status=0,b._result=D)}if(b._status===1)return b._result.default;throw b._result}var Ie={current:null},q={transition:null},ie={ReactCurrentDispatcher:Ie,ReactCurrentBatchConfig:q,ReactCurrentOwner:G};function K(){throw Error("act(...) is not supported in production builds of React.")}return ue.Children={map:Gt,forEach:function(b,D,le){Gt(b,function(){D.apply(this,arguments)},le)},count:function(b){var D=0;return Gt(b,function(){D++}),D},toArray:function(b){return Gt(b,function(D){return D})||[]},only:function(b){if(!fe(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ue.Component=x,ue.Fragment=s,ue.Profiler=l,ue.PureComponent=U,ue.StrictMode=o,ue.Suspense=p,ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,ue.act=K,ue.cloneElement=function(b,D,le){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var ce=C({},b.props),pe=b.key,me=b.ref,Se=b._owner;if(D!=null){if(D.ref!==void 0&&(me=D.ref,Se=G.current),D.key!==void 0&&(pe=""+D.key),b.type&&b.type.defaultProps)var ve=b.type.defaultProps;for(Ce in D)Z.call(D,Ce)&&!re.hasOwnProperty(Ce)&&(ce[Ce]=D[Ce]===void 0&&ve!==void 0?ve[Ce]:D[Ce])}var Ce=arguments.length-2;if(Ce===1)ce.children=le;else if(1<Ce){ve=Array(Ce);for(var gt=0;gt<Ce;gt++)ve[gt]=arguments[gt+2];ce.children=ve}return{$$typeof:n,type:b.type,key:pe,ref:me,props:ce,_owner:Se}},ue.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},ue.createElement=ge,ue.createFactory=function(b){var D=ge.bind(null,b);return D.type=b,D},ue.createRef=function(){return{current:null}},ue.forwardRef=function(b){return{$$typeof:f,render:b}},ue.isValidElement=fe,ue.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:ut}},ue.memo=function(b,D){return{$$typeof:y,type:b,compare:D===void 0?null:D}},ue.startTransition=function(b){var D=q.transition;q.transition={};try{b()}finally{q.transition=D}},ue.unstable_act=K,ue.useCallback=function(b,D){return Ie.current.useCallback(b,D)},ue.useContext=function(b){return Ie.current.useContext(b)},ue.useDebugValue=function(){},ue.useDeferredValue=function(b){return Ie.current.useDeferredValue(b)},ue.useEffect=function(b,D){return Ie.current.useEffect(b,D)},ue.useId=function(){return Ie.current.useId()},ue.useImperativeHandle=function(b,D,le){return Ie.current.useImperativeHandle(b,D,le)},ue.useInsertionEffect=function(b,D){return Ie.current.useInsertionEffect(b,D)},ue.useLayoutEffect=function(b,D){return Ie.current.useLayoutEffect(b,D)},ue.useMemo=function(b,D){return Ie.current.useMemo(b,D)},ue.useReducer=function(b,D,le){return Ie.current.useReducer(b,D,le)},ue.useRef=function(b){return Ie.current.useRef(b)},ue.useState=function(b){return Ie.current.useState(b)},ue.useSyncExternalStore=function(b,D,le){return Ie.current.useSyncExternalStore(b,D,le)},ue.useTransition=function(){return Ie.current.useTransition()},ue.version="18.3.1",ue}var Mh;function ju(){return Mh||(Mh=1,Ql.exports=Ay()),Ql.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function jy(){if(zh)return ei;zh=1;var n=ju(),t=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,p,y){var g,w={},S=null,E=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(E=p.ref);for(g in p)o.call(p,g)&&!u.hasOwnProperty(g)&&(w[g]=p[g]);if(f&&f.defaultProps)for(g in p=f.defaultProps,p)w[g]===void 0&&(w[g]=p[g]);return{$$typeof:t,type:f,key:S,ref:E,props:w,_owner:l.current}}return ei.Fragment=s,ei.jsx=d,ei.jsxs=d,ei}var Fh;function Iy(){return Fh||(Fh=1,Gl.exports=jy()),Gl.exports}var F=Iy(),L=ju();const Iu=Vf(L),Ny=Py({__proto__:null,default:Iu},[L]);var jo={},Jl={exports:{}},mt={},Yl={exports:{}},Xl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bh;function Ly(){return Bh||(Bh=1,(function(n){function t(q,ie){var K=q.length;q.push(ie);e:for(;0<K;){var b=K-1>>>1,D=q[b];if(0<l(D,ie))q[b]=ie,q[K]=D,K=b;else break e}}function s(q){return q.length===0?null:q[0]}function o(q){if(q.length===0)return null;var ie=q[0],K=q.pop();if(K!==ie){q[0]=K;e:for(var b=0,D=q.length,le=D>>>1;b<le;){var ce=2*(b+1)-1,pe=q[ce],me=ce+1,Se=q[me];if(0>l(pe,K))me<D&&0>l(Se,pe)?(q[b]=Se,q[me]=K,b=me):(q[b]=pe,q[ce]=K,b=ce);else if(me<D&&0>l(Se,K))q[b]=Se,q[me]=K,b=me;else break e}}return ie}function l(q,ie){var K=q.sortIndex-ie.sortIndex;return K!==0?K:q.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();n.unstable_now=function(){return d.now()-f}}var p=[],y=[],g=1,w=null,S=3,E=!1,C=!1,R=!1,x=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,U=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(q){for(var ie=s(y);ie!==null;){if(ie.callback===null)o(y);else if(ie.startTime<=q)o(y),ie.sortIndex=ie.expirationTime,t(p,ie);else break;ie=s(y)}}function I(q){if(R=!1,A(q),!C)if(s(p)!==null)C=!0,ut(Z);else{var ie=s(y);ie!==null&&Ie(I,ie.startTime-q)}}function Z(q,ie){C=!1,R&&(R=!1,j(ge),ge=-1),E=!0;var K=S;try{for(A(ie),w=s(p);w!==null&&(!(w.expirationTime>ie)||q&&!be());){var b=w.callback;if(typeof b=="function"){w.callback=null,S=w.priorityLevel;var D=b(w.expirationTime<=ie);ie=n.unstable_now(),typeof D=="function"?w.callback=D:w===s(p)&&o(p),A(ie)}else o(p);w=s(p)}if(w!==null)var le=!0;else{var ce=s(y);ce!==null&&Ie(I,ce.startTime-ie),le=!1}return le}finally{w=null,S=K,E=!1}}var G=!1,re=null,ge=-1,_e=5,fe=-1;function be(){return!(n.unstable_now()-fe<_e)}function Kt(){if(re!==null){var q=n.unstable_now();fe=q;var ie=!0;try{ie=re(!0,q)}finally{ie?yt():(G=!1,re=null)}}else G=!1}var yt;if(typeof U=="function")yt=function(){U(Kt)};else if(typeof MessageChannel<"u"){var It=new MessageChannel,Gt=It.port2;It.port1.onmessage=Kt,yt=function(){Gt.postMessage(null)}}else yt=function(){x(Kt,0)};function ut(q){re=q,G||(G=!0,yt())}function Ie(q,ie){ge=x(function(){q(n.unstable_now())},ie)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(q){q.callback=null},n.unstable_continueExecution=function(){C||E||(C=!0,ut(Z))},n.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_e=0<q?Math.floor(1e3/q):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_getFirstCallbackNode=function(){return s(p)},n.unstable_next=function(q){switch(S){case 1:case 2:case 3:var ie=3;break;default:ie=S}var K=S;S=ie;try{return q()}finally{S=K}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(q,ie){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var K=S;S=q;try{return ie()}finally{S=K}},n.unstable_scheduleCallback=function(q,ie,K){var b=n.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?b+K:b):K=b,q){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=K+D,q={id:g++,callback:ie,priorityLevel:q,startTime:K,expirationTime:D,sortIndex:-1},K>b?(q.sortIndex=K,t(y,q),s(p)===null&&q===s(y)&&(R?(j(ge),ge=-1):R=!0,Ie(I,K-b))):(q.sortIndex=D,t(p,q),C||E||(C=!0,ut(Z))),q},n.unstable_shouldYield=be,n.unstable_wrapCallback=function(q){var ie=S;return function(){var K=S;S=ie;try{return q.apply(this,arguments)}finally{S=K}}}})(Xl)),Xl}var qh;function Uy(){return qh||(qh=1,Yl.exports=Ly()),Yl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function $y(){if(Vh)return mt;Vh=1;var n=ju(),t=Uy();function s(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,l={};function u(e,r){d(e,r),d(e+"Capture",r)}function d(e,r){for(l[e]=r,e=0;e<r.length;e++)o.add(r[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function S(e){return p.call(w,e)?!0:p.call(g,e)?!1:y.test(e)?w[e]=!0:(g[e]=!0,!1)}function E(e,r,i,a){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return a?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,r,i,a){if(r===null||typeof r>"u"||E(e,r,i,a))return!0;if(a)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function R(e,r,i,a,c,h,m){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=h,this.removeEmptyString=m}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];x[r]=new R(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function U(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(j,U);x[r]=new R(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(j,U);x[r]=new R(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(j,U);x[r]=new R(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function A(e,r,i,a){var c=x.hasOwnProperty(r)?x[r]:null;(c!==null?c.type!==0:a||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(C(r,i,c,a)&&(i=null),a||c===null?S(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(r=c.attributeName,a=c.attributeNamespace,i===null?e.removeAttribute(r):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,a?e.setAttributeNS(a,r,i):e.setAttribute(r,i))))}var I=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Z=Symbol.for("react.element"),G=Symbol.for("react.portal"),re=Symbol.for("react.fragment"),ge=Symbol.for("react.strict_mode"),_e=Symbol.for("react.profiler"),fe=Symbol.for("react.provider"),be=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),yt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),Gt=Symbol.for("react.memo"),ut=Symbol.for("react.lazy"),Ie=Symbol.for("react.offscreen"),q=Symbol.iterator;function ie(e){return e===null||typeof e!="object"?null:(e=q&&e[q]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,b;function D(e){if(b===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);b=r&&r[1]||""}return`
`+b+e}var le=!1;function ce(e,r){if(!e||le)return"";le=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(P){var a=P}Reflect.construct(e,[],r)}else{try{r.call()}catch(P){a=P}e.call(r.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),h=a.stack.split(`
`),m=c.length-1,v=h.length-1;1<=m&&0<=v&&c[m]!==h[v];)v--;for(;1<=m&&0<=v;m--,v--)if(c[m]!==h[v]){if(m!==1||v!==1)do if(m--,v--,0>v||c[m]!==h[v]){var _=`
`+c[m].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=m&&0<=v);break}}}finally{le=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?D(e):""}function pe(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case re:return"Fragment";case G:return"Portal";case _e:return"Profiler";case ge:return"StrictMode";case yt:return"Suspense";case It:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case be:return(e.displayName||"Context")+".Consumer";case fe:return(e._context.displayName||"Context")+".Provider";case Kt:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gt:return r=e.displayName||null,r!==null?r:me(e.type)||"Memo";case ut:r=e._payload,e=e._init;try{return me(e(r))}catch{}}return null}function Se(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(r);case 8:return r===ge?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function ve(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ce(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(e){var r=Ce(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),a=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,h=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return c.call(this)},set:function(m){a=""+m,h.call(this,m)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function _i(e){e._valueTracker||(e._valueTracker=gt(e))}function qu(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),a="";return e&&(a=Ce(e)?e.checked?"true":"false":e.value),e=a,e!==i?(r.setValue(e),!0):!1}function Si(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ea(e,r){var i=r.checked;return K({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function Vu(e,r){var i=r.defaultValue==null?"":r.defaultValue,a=r.checked!=null?r.checked:r.defaultChecked;i=ve(r.value!=null?r.value:i),e._wrapperState={initialChecked:a,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Wu(e,r){r=r.checked,r!=null&&A(e,"checked",r,!1)}function ta(e,r){Wu(e,r);var i=ve(r.value),a=r.type;if(i!=null)a==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?ra(e,r.type,i):r.hasOwnProperty("defaultValue")&&ra(e,r.type,ve(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function Hu(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var a=r.type;if(!(a!=="submit"&&a!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function ra(e,r,i){(r!=="number"||Si(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ps=Array.isArray;function _n(e,r,i,a){if(e=e.options,r){r={};for(var c=0;c<i.length;c++)r["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=r.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&a&&(e[i].defaultSelected=!0)}else{for(i=""+ve(i),r=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}r!==null||e[c].disabled||(r=e[c])}r!==null&&(r.selected=!0)}}function na(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(s(91));return K({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ku(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(s(92));if(ps(i)){if(1<i.length)throw Error(s(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:ve(i)}}function Gu(e,r){var i=ve(r.value),a=ve(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),a!=null&&(e.defaultValue=""+a)}function Qu(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function Ju(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sa(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?Ju(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ki,Yu=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,a,c){MSApp.execUnsafeLocalFunction(function(){return e(r,i,a,c)})}:e})(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(ki=ki||document.createElement("div"),ki.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=ki.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function ms(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var ys={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jp=["Webkit","ms","Moz","O"];Object.keys(ys).forEach(function(e){jp.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),ys[r]=ys[e]})});function Xu(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||ys.hasOwnProperty(e)&&ys[e]?(""+r).trim():r+"px"}function Zu(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var a=i.indexOf("--")===0,c=Xu(i,r[i],a);i==="float"&&(i="cssFloat"),a?e.setProperty(i,c):e[i]=c}}var Ip=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(e,r){if(r){if(Ip[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(s(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(s(61))}if(r.style!=null&&typeof r.style!="object")throw Error(s(62))}}function oa(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function la(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ua=null,Sn=null,kn=null;function ec(e){if(e=Ds(e)){if(typeof ua!="function")throw Error(s(280));var r=e.stateNode;r&&(r=Wi(r),ua(e.stateNode,e.type,r))}}function tc(e){Sn?kn?kn.push(e):kn=[e]:Sn=e}function rc(){if(Sn){var e=Sn,r=kn;if(kn=Sn=null,ec(e),r)for(e=0;e<r.length;e++)ec(r[e])}}function nc(e,r){return e(r)}function sc(){}var ca=!1;function ic(e,r,i){if(ca)return e(r,i);ca=!0;try{return nc(e,r,i)}finally{ca=!1,(Sn!==null||kn!==null)&&(sc(),rc())}}function gs(e,r){var i=e.stateNode;if(i===null)return null;var a=Wi(i);if(a===null)return null;i=a[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(s(231,r,typeof i));return i}var da=!1;if(f)try{var vs={};Object.defineProperty(vs,"passive",{get:function(){da=!0}}),window.addEventListener("test",vs,vs),window.removeEventListener("test",vs,vs)}catch{da=!1}function Np(e,r,i,a,c,h,m,v,_){var P=Array.prototype.slice.call(arguments,3);try{r.apply(i,P)}catch(M){this.onError(M)}}var ws=!1,Ei=null,bi=!1,ha=null,Lp={onError:function(e){ws=!0,Ei=e}};function Up(e,r,i,a,c,h,m,v,_){ws=!1,Ei=null,Np.apply(Lp,arguments)}function $p(e,r,i,a,c,h,m,v,_){if(Up.apply(this,arguments),ws){if(ws){var P=Ei;ws=!1,Ei=null}else throw Error(s(198));bi||(bi=!0,ha=P)}}function Kr(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,(r.flags&4098)!==0&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function oc(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function ac(e){if(Kr(e)!==e)throw Error(s(188))}function Dp(e){var r=e.alternate;if(!r){if(r=Kr(e),r===null)throw Error(s(188));return r!==e?null:e}for(var i=e,a=r;;){var c=i.return;if(c===null)break;var h=c.alternate;if(h===null){if(a=c.return,a!==null){i=a;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===i)return ac(c),e;if(h===a)return ac(c),r;h=h.sibling}throw Error(s(188))}if(i.return!==a.return)i=c,a=h;else{for(var m=!1,v=c.child;v;){if(v===i){m=!0,i=c,a=h;break}if(v===a){m=!0,a=c,i=h;break}v=v.sibling}if(!m){for(v=h.child;v;){if(v===i){m=!0,i=h,a=c;break}if(v===a){m=!0,a=h,i=c;break}v=v.sibling}if(!m)throw Error(s(189))}}if(i.alternate!==a)throw Error(s(190))}if(i.tag!==3)throw Error(s(188));return i.stateNode.current===i?e:r}function lc(e){return e=Dp(e),e!==null?uc(e):null}function uc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=uc(e);if(r!==null)return r;e=e.sibling}return null}var cc=t.unstable_scheduleCallback,dc=t.unstable_cancelCallback,Mp=t.unstable_shouldYield,zp=t.unstable_requestPaint,$e=t.unstable_now,Fp=t.unstable_getCurrentPriorityLevel,fa=t.unstable_ImmediatePriority,hc=t.unstable_UserBlockingPriority,xi=t.unstable_NormalPriority,Bp=t.unstable_LowPriority,fc=t.unstable_IdlePriority,Ti=null,Qt=null;function qp(e){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ti,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:Hp,Vp=Math.log,Wp=Math.LN2;function Hp(e){return e>>>=0,e===0?32:31-(Vp(e)/Wp|0)|0}var Ci=64,Ri=4194304;function _s(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Oi(e,r){var i=e.pendingLanes;if(i===0)return 0;var a=0,c=e.suspendedLanes,h=e.pingedLanes,m=i&268435455;if(m!==0){var v=m&~c;v!==0?a=_s(v):(h&=m,h!==0&&(a=_s(h)))}else m=i&~c,m!==0?a=_s(m):h!==0&&(a=_s(h));if(a===0)return 0;if(r!==0&&r!==a&&(r&c)===0&&(c=a&-a,h=r&-r,c>=h||c===16&&(h&4194240)!==0))return r;if((a&4)!==0&&(a|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=a;0<r;)i=31-Nt(r),c=1<<i,a|=e[i],r&=~c;return a}function Kp(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gp(e,r){for(var i=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var m=31-Nt(h),v=1<<m,_=c[m];_===-1?((v&i)===0||(v&a)!==0)&&(c[m]=Kp(v,r)):_<=r&&(e.expiredLanes|=v),h&=~v}}function pa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function pc(){var e=Ci;return Ci<<=1,(Ci&4194240)===0&&(Ci=64),e}function ma(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function Ss(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Nt(r),e[r]=i}function Qp(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-Nt(i),h=1<<c;r[c]=0,a[c]=-1,e[c]=-1,i&=~h}}function ya(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var a=31-Nt(i),c=1<<a;c&r|e[a]&r&&(e[a]|=r),i&=~c}}var we=0;function mc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var yc,ga,gc,vc,wc,va=!1,Pi=[],gr=null,vr=null,wr=null,ks=new Map,Es=new Map,_r=[],Jp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _c(e,r){switch(e){case"focusin":case"focusout":gr=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":ks.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(r.pointerId)}}function bs(e,r,i,a,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:r,domEventName:i,eventSystemFlags:a,nativeEvent:h,targetContainers:[c]},r!==null&&(r=Ds(r),r!==null&&ga(r)),e):(e.eventSystemFlags|=a,r=e.targetContainers,c!==null&&r.indexOf(c)===-1&&r.push(c),e)}function Yp(e,r,i,a,c){switch(r){case"focusin":return gr=bs(gr,e,r,i,a,c),!0;case"dragenter":return vr=bs(vr,e,r,i,a,c),!0;case"mouseover":return wr=bs(wr,e,r,i,a,c),!0;case"pointerover":var h=c.pointerId;return ks.set(h,bs(ks.get(h)||null,e,r,i,a,c)),!0;case"gotpointercapture":return h=c.pointerId,Es.set(h,bs(Es.get(h)||null,e,r,i,a,c)),!0}return!1}function Sc(e){var r=Gr(e.target);if(r!==null){var i=Kr(r);if(i!==null){if(r=i.tag,r===13){if(r=oc(i),r!==null){e.blockedOn=r,wc(e.priority,function(){gc(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ai(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=_a(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);aa=a,i.target.dispatchEvent(a),aa=null}else return r=Ds(i),r!==null&&ga(r),e.blockedOn=i,!1;r.shift()}return!0}function kc(e,r,i){Ai(e)&&i.delete(r)}function Xp(){va=!1,gr!==null&&Ai(gr)&&(gr=null),vr!==null&&Ai(vr)&&(vr=null),wr!==null&&Ai(wr)&&(wr=null),ks.forEach(kc),Es.forEach(kc)}function xs(e,r){e.blockedOn===r&&(e.blockedOn=null,va||(va=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Xp)))}function Ts(e){function r(c){return xs(c,e)}if(0<Pi.length){xs(Pi[0],e);for(var i=1;i<Pi.length;i++){var a=Pi[i];a.blockedOn===e&&(a.blockedOn=null)}}for(gr!==null&&xs(gr,e),vr!==null&&xs(vr,e),wr!==null&&xs(wr,e),ks.forEach(r),Es.forEach(r),i=0;i<_r.length;i++)a=_r[i],a.blockedOn===e&&(a.blockedOn=null);for(;0<_r.length&&(i=_r[0],i.blockedOn===null);)Sc(i),i.blockedOn===null&&_r.shift()}var En=I.ReactCurrentBatchConfig,ji=!0;function Zp(e,r,i,a){var c=we,h=En.transition;En.transition=null;try{we=1,wa(e,r,i,a)}finally{we=c,En.transition=h}}function em(e,r,i,a){var c=we,h=En.transition;En.transition=null;try{we=4,wa(e,r,i,a)}finally{we=c,En.transition=h}}function wa(e,r,i,a){if(ji){var c=_a(e,r,i,a);if(c===null)$a(e,r,a,Ii,i),_c(e,a);else if(Yp(c,e,r,i,a))a.stopPropagation();else if(_c(e,a),r&4&&-1<Jp.indexOf(e)){for(;c!==null;){var h=Ds(c);if(h!==null&&yc(h),h=_a(e,r,i,a),h===null&&$a(e,r,a,Ii,i),h===c)break;c=h}c!==null&&a.stopPropagation()}else $a(e,r,a,null,i)}}var Ii=null;function _a(e,r,i,a){if(Ii=null,e=la(a),e=Gr(e),e!==null)if(r=Kr(e),r===null)e=null;else if(i=r.tag,i===13){if(e=oc(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Ii=e,null}function Ec(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fp()){case fa:return 1;case hc:return 4;case xi:case Bp:return 16;case fc:return 536870912;default:return 16}default:return 16}}var Sr=null,Sa=null,Ni=null;function bc(){if(Ni)return Ni;var e,r=Sa,i=r.length,a,c="value"in Sr?Sr.value:Sr.textContent,h=c.length;for(e=0;e<i&&r[e]===c[e];e++);var m=i-e;for(a=1;a<=m&&r[i-a]===c[h-a];a++);return Ni=c.slice(e,1<a?1-a:void 0)}function Li(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function Ui(){return!0}function xc(){return!1}function vt(e){function r(i,a,c,h,m){this._reactName=i,this._targetInst=c,this.type=a,this.nativeEvent=h,this.target=m,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(i=e[v],this[v]=i?i(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Ui:xc,this.isPropagationStopped=xc,this}return K(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),r}var bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ka=vt(bn),Cs=K({},bn,{view:0,detail:0}),tm=vt(Cs),Ea,ba,Rs,$i=K({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(Ea=e.screenX-Rs.screenX,ba=e.screenY-Rs.screenY):ba=Ea=0,Rs=e),Ea)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),Tc=vt($i),rm=K({},$i,{dataTransfer:0}),nm=vt(rm),sm=K({},Cs,{relatedTarget:0}),xa=vt(sm),im=K({},bn,{animationName:0,elapsedTime:0,pseudoElement:0}),om=vt(im),am=K({},bn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lm=vt(am),um=K({},bn,{data:0}),Cc=vt(um),cm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fm(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=hm[e])?!!r[e]:!1}function Ta(){return fm}var pm=K({},Cs,{key:function(e){if(e.key){var r=cm[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Li(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?dm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Li(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Li(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mm=vt(pm),ym=K({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Rc=vt(ym),gm=K({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),vm=vt(gm),wm=K({},bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),_m=vt(wm),Sm=K({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),km=vt(Sm),Em=[9,13,27,32],Ca=f&&"CompositionEvent"in window,Os=null;f&&"documentMode"in document&&(Os=document.documentMode);var bm=f&&"TextEvent"in window&&!Os,Oc=f&&(!Ca||Os&&8<Os&&11>=Os),Pc=" ",Ac=!1;function jc(e,r){switch(e){case"keyup":return Em.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ic(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function xm(e,r){switch(e){case"compositionend":return Ic(r);case"keypress":return r.which!==32?null:(Ac=!0,Pc);case"textInput":return e=r.data,e===Pc&&Ac?null:e;default:return null}}function Tm(e,r){if(xn)return e==="compositionend"||!Ca&&jc(e,r)?(e=bc(),Ni=Sa=Sr=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Oc&&r.locale!=="ko"?null:r.data;default:return null}}var Cm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Cm[e.type]:r==="textarea"}function Lc(e,r,i,a){tc(a),r=Bi(r,"onChange"),0<r.length&&(i=new ka("onChange","change",null,i,a),e.push({event:i,listeners:r}))}var Ps=null,As=null;function Rm(e){Zc(e,0)}function Di(e){var r=Pn(e);if(qu(r))return e}function Om(e,r){if(e==="change")return r}var Uc=!1;if(f){var Ra;if(f){var Oa="oninput"in document;if(!Oa){var $c=document.createElement("div");$c.setAttribute("oninput","return;"),Oa=typeof $c.oninput=="function"}Ra=Oa}else Ra=!1;Uc=Ra&&(!document.documentMode||9<document.documentMode)}function Dc(){Ps&&(Ps.detachEvent("onpropertychange",Mc),As=Ps=null)}function Mc(e){if(e.propertyName==="value"&&Di(As)){var r=[];Lc(r,As,e,la(e)),ic(Rm,r)}}function Pm(e,r,i){e==="focusin"?(Dc(),Ps=r,As=i,Ps.attachEvent("onpropertychange",Mc)):e==="focusout"&&Dc()}function Am(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Di(As)}function jm(e,r){if(e==="click")return Di(r)}function Im(e,r){if(e==="input"||e==="change")return Di(r)}function Nm(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Lt=typeof Object.is=="function"?Object.is:Nm;function js(e,r){if(Lt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var c=i[a];if(!p.call(r,c)||!Lt(e[c],r[c]))return!1}return!0}function zc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,r){var i=zc(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=r&&a>=r)return{node:i,offset:r-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=zc(i)}}function Bc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?Bc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function qc(){for(var e=window,r=Si();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=Si(e.document)}return r}function Pa(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function Lm(e){var r=qc(),i=e.focusedElem,a=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&Bc(i.ownerDocument.documentElement,i)){if(a!==null&&Pa(i)){if(r=a.start,e=a.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,h=Math.min(a.start,c);a=a.end===void 0?h:Math.min(a.end,c),!e.extend&&h>a&&(c=a,a=h,h=c),c=Fc(i,h);var m=Fc(i,a);c&&m&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(r=r.createRange(),r.setStart(c.node,c.offset),e.removeAllRanges(),h>a?(e.addRange(r),e.extend(m.node,m.offset)):(r.setEnd(m.node,m.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Um=f&&"documentMode"in document&&11>=document.documentMode,Tn=null,Aa=null,Is=null,ja=!1;function Vc(e,r,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ja||Tn==null||Tn!==Si(a)||(a=Tn,"selectionStart"in a&&Pa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Is&&js(Is,a)||(Is=a,a=Bi(Aa,"onSelect"),0<a.length&&(r=new ka("onSelect","select",null,r,i),e.push({event:r,listeners:a}),r.target=Tn)))}function Mi(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var Cn={animationend:Mi("Animation","AnimationEnd"),animationiteration:Mi("Animation","AnimationIteration"),animationstart:Mi("Animation","AnimationStart"),transitionend:Mi("Transition","TransitionEnd")},Ia={},Wc={};f&&(Wc=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function zi(e){if(Ia[e])return Ia[e];if(!Cn[e])return e;var r=Cn[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in Wc)return Ia[e]=r[i];return e}var Hc=zi("animationend"),Kc=zi("animationiteration"),Gc=zi("animationstart"),Qc=zi("transitionend"),Jc=new Map,Yc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kr(e,r){Jc.set(e,r),u(r,[e])}for(var Na=0;Na<Yc.length;Na++){var La=Yc[Na],$m=La.toLowerCase(),Dm=La[0].toUpperCase()+La.slice(1);kr($m,"on"+Dm)}kr(Hc,"onAnimationEnd"),kr(Kc,"onAnimationIteration"),kr(Gc,"onAnimationStart"),kr("dblclick","onDoubleClick"),kr("focusin","onFocus"),kr("focusout","onBlur"),kr(Qc,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ns="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ns));function Xc(e,r,i){var a=e.type||"unknown-event";e.currentTarget=i,$p(a,r,void 0,e),e.currentTarget=null}function Zc(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],c=a.event;a=a.listeners;e:{var h=void 0;if(r)for(var m=a.length-1;0<=m;m--){var v=a[m],_=v.instance,P=v.currentTarget;if(v=v.listener,_!==h&&c.isPropagationStopped())break e;Xc(c,v,P),h=_}else for(m=0;m<a.length;m++){if(v=a[m],_=v.instance,P=v.currentTarget,v=v.listener,_!==h&&c.isPropagationStopped())break e;Xc(c,v,P),h=_}}}if(bi)throw e=ha,bi=!1,ha=null,e}function xe(e,r){var i=r[qa];i===void 0&&(i=r[qa]=new Set);var a=e+"__bubble";i.has(a)||(ed(r,e,2,!1),i.add(a))}function Ua(e,r,i){var a=0;r&&(a|=4),ed(i,e,a,r)}var Fi="_reactListening"+Math.random().toString(36).slice(2);function Ls(e){if(!e[Fi]){e[Fi]=!0,o.forEach(function(i){i!=="selectionchange"&&(Mm.has(i)||Ua(i,!1,e),Ua(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Fi]||(r[Fi]=!0,Ua("selectionchange",!1,r))}}function ed(e,r,i,a){switch(Ec(r)){case 1:var c=Zp;break;case 4:c=em;break;default:c=wa}i=c.bind(null,r,i,e),c=void 0,!da||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(r,i,{capture:!0,passive:c}):e.addEventListener(r,i,!0):c!==void 0?e.addEventListener(r,i,{passive:c}):e.addEventListener(r,i,!1)}function $a(e,r,i,a,c){var h=a;if((r&1)===0&&(r&2)===0&&a!==null)e:for(;;){if(a===null)return;var m=a.tag;if(m===3||m===4){var v=a.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(m===4)for(m=a.return;m!==null;){var _=m.tag;if((_===3||_===4)&&(_=m.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;m=m.return}for(;v!==null;){if(m=Gr(v),m===null)return;if(_=m.tag,_===5||_===6){a=h=m;continue e}v=v.parentNode}}a=a.return}ic(function(){var P=h,M=la(i),z=[];e:{var $=Jc.get(e);if($!==void 0){var V=ka,Q=e;switch(e){case"keypress":if(Li(i)===0)break e;case"keydown":case"keyup":V=mm;break;case"focusin":Q="focus",V=xa;break;case"focusout":Q="blur",V=xa;break;case"beforeblur":case"afterblur":V=xa;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=nm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=vm;break;case Hc:case Kc:case Gc:V=om;break;case Qc:V=_m;break;case"scroll":V=tm;break;case"wheel":V=km;break;case"copy":case"cut":case"paste":V=lm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=Rc}var J=(r&4)!==0,De=!J&&e==="scroll",T=J?$!==null?$+"Capture":null:$;J=[];for(var k=P,O;k!==null;){O=k;var B=O.stateNode;if(O.tag===5&&B!==null&&(O=B,T!==null&&(B=gs(k,T),B!=null&&J.push(Us(k,B,O)))),De)break;k=k.return}0<J.length&&($=new V($,Q,null,i,M),z.push({event:$,listeners:J}))}}if((r&7)===0){e:{if($=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",$&&i!==aa&&(Q=i.relatedTarget||i.fromElement)&&(Gr(Q)||Q[nr]))break e;if((V||$)&&($=M.window===M?M:($=M.ownerDocument)?$.defaultView||$.parentWindow:window,V?(Q=i.relatedTarget||i.toElement,V=P,Q=Q?Gr(Q):null,Q!==null&&(De=Kr(Q),Q!==De||Q.tag!==5&&Q.tag!==6)&&(Q=null)):(V=null,Q=P),V!==Q)){if(J=Tc,B="onMouseLeave",T="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(J=Rc,B="onPointerLeave",T="onPointerEnter",k="pointer"),De=V==null?$:Pn(V),O=Q==null?$:Pn(Q),$=new J(B,k+"leave",V,i,M),$.target=De,$.relatedTarget=O,B=null,Gr(M)===P&&(J=new J(T,k+"enter",Q,i,M),J.target=O,J.relatedTarget=De,B=J),De=B,V&&Q)t:{for(J=V,T=Q,k=0,O=J;O;O=Rn(O))k++;for(O=0,B=T;B;B=Rn(B))O++;for(;0<k-O;)J=Rn(J),k--;for(;0<O-k;)T=Rn(T),O--;for(;k--;){if(J===T||T!==null&&J===T.alternate)break t;J=Rn(J),T=Rn(T)}J=null}else J=null;V!==null&&td(z,$,V,J,!1),Q!==null&&De!==null&&td(z,De,Q,J,!0)}}e:{if($=P?Pn(P):window,V=$.nodeName&&$.nodeName.toLowerCase(),V==="select"||V==="input"&&$.type==="file")var Y=Om;else if(Nc($))if(Uc)Y=Im;else{Y=Am;var ee=Pm}else(V=$.nodeName)&&V.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(Y=jm);if(Y&&(Y=Y(e,P))){Lc(z,Y,i,M);break e}ee&&ee(e,$,P),e==="focusout"&&(ee=$._wrapperState)&&ee.controlled&&$.type==="number"&&ra($,"number",$.value)}switch(ee=P?Pn(P):window,e){case"focusin":(Nc(ee)||ee.contentEditable==="true")&&(Tn=ee,Aa=P,Is=null);break;case"focusout":Is=Aa=Tn=null;break;case"mousedown":ja=!0;break;case"contextmenu":case"mouseup":case"dragend":ja=!1,Vc(z,i,M);break;case"selectionchange":if(Um)break;case"keydown":case"keyup":Vc(z,i,M)}var te;if(Ca)e:{switch(e){case"compositionstart":var oe="onCompositionStart";break e;case"compositionend":oe="onCompositionEnd";break e;case"compositionupdate":oe="onCompositionUpdate";break e}oe=void 0}else xn?jc(e,i)&&(oe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(oe="onCompositionStart");oe&&(Oc&&i.locale!=="ko"&&(xn||oe!=="onCompositionStart"?oe==="onCompositionEnd"&&xn&&(te=bc()):(Sr=M,Sa="value"in Sr?Sr.value:Sr.textContent,xn=!0)),ee=Bi(P,oe),0<ee.length&&(oe=new Cc(oe,e,null,i,M),z.push({event:oe,listeners:ee}),te?oe.data=te:(te=Ic(i),te!==null&&(oe.data=te)))),(te=bm?xm(e,i):Tm(e,i))&&(P=Bi(P,"onBeforeInput"),0<P.length&&(M=new Cc("onBeforeInput","beforeinput",null,i,M),z.push({event:M,listeners:P}),M.data=te))}Zc(z,r)})}function Us(e,r,i){return{instance:e,listener:r,currentTarget:i}}function Bi(e,r){for(var i=r+"Capture",a=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=gs(e,i),h!=null&&a.unshift(Us(e,h,c)),h=gs(e,r),h!=null&&a.push(Us(e,h,c))),e=e.return}return a}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function td(e,r,i,a,c){for(var h=r._reactName,m=[];i!==null&&i!==a;){var v=i,_=v.alternate,P=v.stateNode;if(_!==null&&_===a)break;v.tag===5&&P!==null&&(v=P,c?(_=gs(i,h),_!=null&&m.unshift(Us(i,_,v))):c||(_=gs(i,h),_!=null&&m.push(Us(i,_,v)))),i=i.return}m.length!==0&&e.push({event:r,listeners:m})}var zm=/\r\n?/g,Fm=/\u0000|\uFFFD/g;function rd(e){return(typeof e=="string"?e:""+e).replace(zm,`
`).replace(Fm,"")}function qi(e,r,i){if(r=rd(r),rd(e)!==r&&i)throw Error(s(425))}function Vi(){}var Da=null,Ma=null;function za(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Fa=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,nd=typeof Promise=="function"?Promise:void 0,qm=typeof queueMicrotask=="function"?queueMicrotask:typeof nd<"u"?function(e){return nd.resolve(null).then(e).catch(Vm)}:Fa;function Vm(e){setTimeout(function(){throw e})}function Ba(e,r){var i=r,a=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(a===0){e.removeChild(c),Ts(r);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=c}while(i);Ts(r)}function Er(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function sd(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var On=Math.random().toString(36).slice(2),Jt="__reactFiber$"+On,$s="__reactProps$"+On,nr="__reactContainer$"+On,qa="__reactEvents$"+On,Wm="__reactListeners$"+On,Hm="__reactHandles$"+On;function Gr(e){var r=e[Jt];if(r)return r;for(var i=e.parentNode;i;){if(r=i[nr]||i[Jt]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=sd(e);e!==null;){if(i=e[Jt])return i;e=sd(e)}return r}e=i,i=e.parentNode}return null}function Ds(e){return e=e[Jt]||e[nr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Pn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Wi(e){return e[$s]||null}var Va=[],An=-1;function br(e){return{current:e}}function Te(e){0>An||(e.current=Va[An],Va[An]=null,An--)}function ke(e,r){An++,Va[An]=e.current,e.current=r}var xr={},Ze=br(xr),ct=br(!1),Qr=xr;function jn(e,r){var i=e.type.contextTypes;if(!i)return xr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===r)return a.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in i)c[h]=r[h];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=c),c}function dt(e){return e=e.childContextTypes,e!=null}function Hi(){Te(ct),Te(Ze)}function id(e,r,i){if(Ze.current!==xr)throw Error(s(168));ke(Ze,r),ke(ct,i)}function od(e,r,i){var a=e.stateNode;if(r=r.childContextTypes,typeof a.getChildContext!="function")return i;a=a.getChildContext();for(var c in a)if(!(c in r))throw Error(s(108,Se(e)||"Unknown",c));return K({},i,a)}function Ki(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xr,Qr=Ze.current,ke(Ze,e),ke(ct,ct.current),!0}function ad(e,r,i){var a=e.stateNode;if(!a)throw Error(s(169));i?(e=od(e,r,Qr),a.__reactInternalMemoizedMergedChildContext=e,Te(ct),Te(Ze),ke(Ze,e)):Te(ct),ke(ct,i)}var sr=null,Gi=!1,Wa=!1;function ld(e){sr===null?sr=[e]:sr.push(e)}function Km(e){Gi=!0,ld(e)}function Tr(){if(!Wa&&sr!==null){Wa=!0;var e=0,r=we;try{var i=sr;for(we=1;e<i.length;e++){var a=i[e];do a=a(!0);while(a!==null)}sr=null,Gi=!1}catch(c){throw sr!==null&&(sr=sr.slice(e+1)),cc(fa,Tr),c}finally{we=r,Wa=!1}}return null}var In=[],Nn=0,Qi=null,Ji=0,xt=[],Tt=0,Jr=null,ir=1,or="";function Yr(e,r){In[Nn++]=Ji,In[Nn++]=Qi,Qi=e,Ji=r}function ud(e,r,i){xt[Tt++]=ir,xt[Tt++]=or,xt[Tt++]=Jr,Jr=e;var a=ir;e=or;var c=32-Nt(a)-1;a&=~(1<<c),i+=1;var h=32-Nt(r)+c;if(30<h){var m=c-c%5;h=(a&(1<<m)-1).toString(32),a>>=m,c-=m,ir=1<<32-Nt(r)+c|i<<c|a,or=h+e}else ir=1<<h|i<<c|a,or=e}function Ha(e){e.return!==null&&(Yr(e,1),ud(e,1,0))}function Ka(e){for(;e===Qi;)Qi=In[--Nn],In[Nn]=null,Ji=In[--Nn],In[Nn]=null;for(;e===Jr;)Jr=xt[--Tt],xt[Tt]=null,or=xt[--Tt],xt[Tt]=null,ir=xt[--Tt],xt[Tt]=null}var wt=null,_t=null,Re=!1,Ut=null;function cd(e,r){var i=Pt(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function dd(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,wt=e,_t=Er(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,wt=e,_t=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=Jr!==null?{id:ir,overflow:or}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=Pt(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,wt=e,_t=null,!0):!1;default:return!1}}function Ga(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Qa(e){if(Re){var r=_t;if(r){var i=r;if(!dd(e,r)){if(Ga(e))throw Error(s(418));r=Er(i.nextSibling);var a=wt;r&&dd(e,r)?cd(a,i):(e.flags=e.flags&-4097|2,Re=!1,wt=e)}}else{if(Ga(e))throw Error(s(418));e.flags=e.flags&-4097|2,Re=!1,wt=e}}}function hd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Yi(e){if(e!==wt)return!1;if(!Re)return hd(e),Re=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!za(e.type,e.memoizedProps)),r&&(r=_t)){if(Ga(e))throw fd(),Error(s(418));for(;r;)cd(e,r),r=Er(r.nextSibling)}if(hd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){_t=Er(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}_t=null}}else _t=wt?Er(e.stateNode.nextSibling):null;return!0}function fd(){for(var e=_t;e;)e=Er(e.nextSibling)}function Ln(){_t=wt=null,Re=!1}function Ja(e){Ut===null?Ut=[e]:Ut.push(e)}var Gm=I.ReactCurrentBatchConfig;function Ms(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(s(309));var a=i.stateNode}if(!a)throw Error(s(147,e));var c=a,h=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(m){var v=c.refs;m===null?delete v[h]:v[h]=m},r._stringRef=h,r)}if(typeof e!="string")throw Error(s(284));if(!i._owner)throw Error(s(290,e))}return e}function Xi(e,r){throw e=Object.prototype.toString.call(r),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function pd(e){var r=e._init;return r(e._payload)}function md(e){function r(T,k){if(e){var O=T.deletions;O===null?(T.deletions=[k],T.flags|=16):O.push(k)}}function i(T,k){if(!e)return null;for(;k!==null;)r(T,k),k=k.sibling;return null}function a(T,k){for(T=new Map;k!==null;)k.key!==null?T.set(k.key,k):T.set(k.index,k),k=k.sibling;return T}function c(T,k){return T=Nr(T,k),T.index=0,T.sibling=null,T}function h(T,k,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<k?(T.flags|=2,k):O):(T.flags|=2,k)):(T.flags|=1048576,k)}function m(T){return e&&T.alternate===null&&(T.flags|=2),T}function v(T,k,O,B){return k===null||k.tag!==6?(k=Fl(O,T.mode,B),k.return=T,k):(k=c(k,O),k.return=T,k)}function _(T,k,O,B){var Y=O.type;return Y===re?M(T,k,O.props.children,B,O.key):k!==null&&(k.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ut&&pd(Y)===k.type)?(B=c(k,O.props),B.ref=Ms(T,k,O),B.return=T,B):(B=Eo(O.type,O.key,O.props,null,T.mode,B),B.ref=Ms(T,k,O),B.return=T,B)}function P(T,k,O,B){return k===null||k.tag!==4||k.stateNode.containerInfo!==O.containerInfo||k.stateNode.implementation!==O.implementation?(k=Bl(O,T.mode,B),k.return=T,k):(k=c(k,O.children||[]),k.return=T,k)}function M(T,k,O,B,Y){return k===null||k.tag!==7?(k=on(O,T.mode,B,Y),k.return=T,k):(k=c(k,O),k.return=T,k)}function z(T,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Fl(""+k,T.mode,O),k.return=T,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Z:return O=Eo(k.type,k.key,k.props,null,T.mode,O),O.ref=Ms(T,null,k),O.return=T,O;case G:return k=Bl(k,T.mode,O),k.return=T,k;case ut:var B=k._init;return z(T,B(k._payload),O)}if(ps(k)||ie(k))return k=on(k,T.mode,O,null),k.return=T,k;Xi(T,k)}return null}function $(T,k,O,B){var Y=k!==null?k.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return Y!==null?null:v(T,k,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Z:return O.key===Y?_(T,k,O,B):null;case G:return O.key===Y?P(T,k,O,B):null;case ut:return Y=O._init,$(T,k,Y(O._payload),B)}if(ps(O)||ie(O))return Y!==null?null:M(T,k,O,B,null);Xi(T,O)}return null}function V(T,k,O,B,Y){if(typeof B=="string"&&B!==""||typeof B=="number")return T=T.get(O)||null,v(k,T,""+B,Y);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Z:return T=T.get(B.key===null?O:B.key)||null,_(k,T,B,Y);case G:return T=T.get(B.key===null?O:B.key)||null,P(k,T,B,Y);case ut:var ee=B._init;return V(T,k,O,ee(B._payload),Y)}if(ps(B)||ie(B))return T=T.get(O)||null,M(k,T,B,Y,null);Xi(k,B)}return null}function Q(T,k,O,B){for(var Y=null,ee=null,te=k,oe=k=0,He=null;te!==null&&oe<O.length;oe++){te.index>oe?(He=te,te=null):He=te.sibling;var ye=$(T,te,O[oe],B);if(ye===null){te===null&&(te=He);break}e&&te&&ye.alternate===null&&r(T,te),k=h(ye,k,oe),ee===null?Y=ye:ee.sibling=ye,ee=ye,te=He}if(oe===O.length)return i(T,te),Re&&Yr(T,oe),Y;if(te===null){for(;oe<O.length;oe++)te=z(T,O[oe],B),te!==null&&(k=h(te,k,oe),ee===null?Y=te:ee.sibling=te,ee=te);return Re&&Yr(T,oe),Y}for(te=a(T,te);oe<O.length;oe++)He=V(te,T,oe,O[oe],B),He!==null&&(e&&He.alternate!==null&&te.delete(He.key===null?oe:He.key),k=h(He,k,oe),ee===null?Y=He:ee.sibling=He,ee=He);return e&&te.forEach(function(Lr){return r(T,Lr)}),Re&&Yr(T,oe),Y}function J(T,k,O,B){var Y=ie(O);if(typeof Y!="function")throw Error(s(150));if(O=Y.call(O),O==null)throw Error(s(151));for(var ee=Y=null,te=k,oe=k=0,He=null,ye=O.next();te!==null&&!ye.done;oe++,ye=O.next()){te.index>oe?(He=te,te=null):He=te.sibling;var Lr=$(T,te,ye.value,B);if(Lr===null){te===null&&(te=He);break}e&&te&&Lr.alternate===null&&r(T,te),k=h(Lr,k,oe),ee===null?Y=Lr:ee.sibling=Lr,ee=Lr,te=He}if(ye.done)return i(T,te),Re&&Yr(T,oe),Y;if(te===null){for(;!ye.done;oe++,ye=O.next())ye=z(T,ye.value,B),ye!==null&&(k=h(ye,k,oe),ee===null?Y=ye:ee.sibling=ye,ee=ye);return Re&&Yr(T,oe),Y}for(te=a(T,te);!ye.done;oe++,ye=O.next())ye=V(te,T,oe,ye.value,B),ye!==null&&(e&&ye.alternate!==null&&te.delete(ye.key===null?oe:ye.key),k=h(ye,k,oe),ee===null?Y=ye:ee.sibling=ye,ee=ye);return e&&te.forEach(function(Cy){return r(T,Cy)}),Re&&Yr(T,oe),Y}function De(T,k,O,B){if(typeof O=="object"&&O!==null&&O.type===re&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case Z:e:{for(var Y=O.key,ee=k;ee!==null;){if(ee.key===Y){if(Y=O.type,Y===re){if(ee.tag===7){i(T,ee.sibling),k=c(ee,O.props.children),k.return=T,T=k;break e}}else if(ee.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ut&&pd(Y)===ee.type){i(T,ee.sibling),k=c(ee,O.props),k.ref=Ms(T,ee,O),k.return=T,T=k;break e}i(T,ee);break}else r(T,ee);ee=ee.sibling}O.type===re?(k=on(O.props.children,T.mode,B,O.key),k.return=T,T=k):(B=Eo(O.type,O.key,O.props,null,T.mode,B),B.ref=Ms(T,k,O),B.return=T,T=B)}return m(T);case G:e:{for(ee=O.key;k!==null;){if(k.key===ee)if(k.tag===4&&k.stateNode.containerInfo===O.containerInfo&&k.stateNode.implementation===O.implementation){i(T,k.sibling),k=c(k,O.children||[]),k.return=T,T=k;break e}else{i(T,k);break}else r(T,k);k=k.sibling}k=Bl(O,T.mode,B),k.return=T,T=k}return m(T);case ut:return ee=O._init,De(T,k,ee(O._payload),B)}if(ps(O))return Q(T,k,O,B);if(ie(O))return J(T,k,O,B);Xi(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,k!==null&&k.tag===6?(i(T,k.sibling),k=c(k,O),k.return=T,T=k):(i(T,k),k=Fl(O,T.mode,B),k.return=T,T=k),m(T)):i(T,k)}return De}var Un=md(!0),yd=md(!1),Zi=br(null),eo=null,$n=null,Ya=null;function Xa(){Ya=$n=eo=null}function Za(e){var r=Zi.current;Te(Zi),e._currentValue=r}function el(e,r,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,a!==null&&(a.childLanes|=r)):a!==null&&(a.childLanes&r)!==r&&(a.childLanes|=r),e===i)break;e=e.return}}function Dn(e,r){eo=e,Ya=$n=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&r)!==0&&(ht=!0),e.firstContext=null)}function Ct(e){var r=e._currentValue;if(Ya!==e)if(e={context:e,memoizedValue:r,next:null},$n===null){if(eo===null)throw Error(s(308));$n=e,eo.dependencies={lanes:0,firstContext:e}}else $n=$n.next=e;return r}var Xr=null;function tl(e){Xr===null?Xr=[e]:Xr.push(e)}function gd(e,r,i,a){var c=r.interleaved;return c===null?(i.next=i,tl(r)):(i.next=c.next,c.next=i),r.interleaved=i,ar(e,a)}function ar(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Cr=!1;function rl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vd(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function lr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function Rr(e,r,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(he&2)!==0){var c=a.pending;return c===null?r.next=r:(r.next=c.next,c.next=r),a.pending=r,ar(e,i)}return c=a.interleaved,c===null?(r.next=r,tl(a)):(r.next=c.next,c.next=r),a.interleaved=r,ar(e,i)}function to(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var a=r.lanes;a&=e.pendingLanes,i|=a,r.lanes=i,ya(e,i)}}function wd(e,r){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var c=null,h=null;if(i=i.firstBaseUpdate,i!==null){do{var m={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};h===null?c=h=m:h=h.next=m,i=i.next}while(i!==null);h===null?c=h=r:h=h.next=r}else c=h=r;i={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:a.shared,effects:a.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function ro(e,r,i,a){var c=e.updateQueue;Cr=!1;var h=c.firstBaseUpdate,m=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var _=v,P=_.next;_.next=null,m===null?h=P:m.next=P,m=_;var M=e.alternate;M!==null&&(M=M.updateQueue,v=M.lastBaseUpdate,v!==m&&(v===null?M.firstBaseUpdate=P:v.next=P,M.lastBaseUpdate=_))}if(h!==null){var z=c.baseState;m=0,M=P=_=null,v=h;do{var $=v.lane,V=v.eventTime;if((a&$)===$){M!==null&&(M=M.next={eventTime:V,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var Q=e,J=v;switch($=r,V=i,J.tag){case 1:if(Q=J.payload,typeof Q=="function"){z=Q.call(V,z,$);break e}z=Q;break e;case 3:Q.flags=Q.flags&-65537|128;case 0:if(Q=J.payload,$=typeof Q=="function"?Q.call(V,z,$):Q,$==null)break e;z=K({},z,$);break e;case 2:Cr=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,$=c.effects,$===null?c.effects=[v]:$.push(v))}else V={eventTime:V,lane:$,tag:v.tag,payload:v.payload,callback:v.callback,next:null},M===null?(P=M=V,_=z):M=M.next=V,m|=$;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;$=v,v=$.next,$.next=null,c.lastBaseUpdate=$,c.shared.pending=null}}while(!0);if(M===null&&(_=z),c.baseState=_,c.firstBaseUpdate=P,c.lastBaseUpdate=M,r=c.shared.interleaved,r!==null){c=r;do m|=c.lane,c=c.next;while(c!==r)}else h===null&&(c.shared.lanes=0);tn|=m,e.lanes=m,e.memoizedState=z}}function _d(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var a=e[r],c=a.callback;if(c!==null){if(a.callback=null,a=i,typeof c!="function")throw Error(s(191,c));c.call(a)}}}var zs={},Yt=br(zs),Fs=br(zs),Bs=br(zs);function Zr(e){if(e===zs)throw Error(s(174));return e}function nl(e,r){switch(ke(Bs,r),ke(Fs,e),ke(Yt,zs),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:sa(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=sa(r,e)}Te(Yt),ke(Yt,r)}function Mn(){Te(Yt),Te(Fs),Te(Bs)}function Sd(e){Zr(Bs.current);var r=Zr(Yt.current),i=sa(r,e.type);r!==i&&(ke(Fs,e),ke(Yt,i))}function sl(e){Fs.current===e&&(Te(Yt),Te(Fs))}var Oe=br(0);function no(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var il=[];function ol(){for(var e=0;e<il.length;e++)il[e]._workInProgressVersionPrimary=null;il.length=0}var so=I.ReactCurrentDispatcher,al=I.ReactCurrentBatchConfig,en=0,Pe=null,Fe=null,Ve=null,io=!1,qs=!1,Vs=0,Qm=0;function et(){throw Error(s(321))}function ll(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!Lt(e[i],r[i]))return!1;return!0}function ul(e,r,i,a,c,h){if(en=h,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,so.current=e===null||e.memoizedState===null?Zm:ey,e=i(a,c),qs){h=0;do{if(qs=!1,Vs=0,25<=h)throw Error(s(301));h+=1,Ve=Fe=null,r.updateQueue=null,so.current=ty,e=i(a,c)}while(qs)}if(so.current=lo,r=Fe!==null&&Fe.next!==null,en=0,Ve=Fe=Pe=null,io=!1,r)throw Error(s(300));return e}function cl(){var e=Vs!==0;return Vs=0,e}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Pe.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Rt(){if(Fe===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Fe.next;var r=Ve===null?Pe.memoizedState:Ve.next;if(r!==null)Ve=r,Fe=e;else{if(e===null)throw Error(s(310));Fe=e,e={memoizedState:Fe.memoizedState,baseState:Fe.baseState,baseQueue:Fe.baseQueue,queue:Fe.queue,next:null},Ve===null?Pe.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function Ws(e,r){return typeof r=="function"?r(e):r}function dl(e){var r=Rt(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=Fe,c=a.baseQueue,h=i.pending;if(h!==null){if(c!==null){var m=c.next;c.next=h.next,h.next=m}a.baseQueue=c=h,i.pending=null}if(c!==null){h=c.next,a=a.baseState;var v=m=null,_=null,P=h;do{var M=P.lane;if((en&M)===M)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var z={lane:M,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(v=_=z,m=a):_=_.next=z,Pe.lanes|=M,tn|=M}P=P.next}while(P!==null&&P!==h);_===null?m=a:_.next=v,Lt(a,r.memoizedState)||(ht=!0),r.memoizedState=a,r.baseState=m,r.baseQueue=_,i.lastRenderedState=a}if(e=i.interleaved,e!==null){c=e;do h=c.lane,Pe.lanes|=h,tn|=h,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function hl(e){var r=Rt(),i=r.queue;if(i===null)throw Error(s(311));i.lastRenderedReducer=e;var a=i.dispatch,c=i.pending,h=r.memoizedState;if(c!==null){i.pending=null;var m=c=c.next;do h=e(h,m.action),m=m.next;while(m!==c);Lt(h,r.memoizedState)||(ht=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),i.lastRenderedState=h}return[h,a]}function kd(){}function Ed(e,r){var i=Pe,a=Rt(),c=r(),h=!Lt(a.memoizedState,c);if(h&&(a.memoizedState=c,ht=!0),a=a.queue,fl(Td.bind(null,i,a,e),[e]),a.getSnapshot!==r||h||Ve!==null&&Ve.memoizedState.tag&1){if(i.flags|=2048,Hs(9,xd.bind(null,i,a,c,r),void 0,null),We===null)throw Error(s(349));(en&30)!==0||bd(i,r,c)}return c}function bd(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=Pe.updateQueue,r===null?(r={lastEffect:null,stores:null},Pe.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function xd(e,r,i,a){r.value=i,r.getSnapshot=a,Cd(r)&&Rd(e)}function Td(e,r,i){return i(function(){Cd(r)&&Rd(e)})}function Cd(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!Lt(e,i)}catch{return!0}}function Rd(e){var r=ar(e,1);r!==null&&zt(r,e,1,-1)}function Od(e){var r=Xt();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ws,lastRenderedState:e},r.queue=e,e=e.dispatch=Xm.bind(null,Pe,e),[r.memoizedState,e]}function Hs(e,r,i,a){return e={tag:e,create:r,destroy:i,deps:a,next:null},r=Pe.updateQueue,r===null?(r={lastEffect:null,stores:null},Pe.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,r.lastEffect=e)),e}function Pd(){return Rt().memoizedState}function oo(e,r,i,a){var c=Xt();Pe.flags|=e,c.memoizedState=Hs(1|r,i,void 0,a===void 0?null:a)}function ao(e,r,i,a){var c=Rt();a=a===void 0?null:a;var h=void 0;if(Fe!==null){var m=Fe.memoizedState;if(h=m.destroy,a!==null&&ll(a,m.deps)){c.memoizedState=Hs(r,i,h,a);return}}Pe.flags|=e,c.memoizedState=Hs(1|r,i,h,a)}function Ad(e,r){return oo(8390656,8,e,r)}function fl(e,r){return ao(2048,8,e,r)}function jd(e,r){return ao(4,2,e,r)}function Id(e,r){return ao(4,4,e,r)}function Nd(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function Ld(e,r,i){return i=i!=null?i.concat([e]):null,ao(4,4,Nd.bind(null,r,e),i)}function pl(){}function Ud(e,r){var i=Rt();r=r===void 0?null:r;var a=i.memoizedState;return a!==null&&r!==null&&ll(r,a[1])?a[0]:(i.memoizedState=[e,r],e)}function $d(e,r){var i=Rt();r=r===void 0?null:r;var a=i.memoizedState;return a!==null&&r!==null&&ll(r,a[1])?a[0]:(e=e(),i.memoizedState=[e,r],e)}function Dd(e,r,i){return(en&21)===0?(e.baseState&&(e.baseState=!1,ht=!0),e.memoizedState=i):(Lt(i,r)||(i=pc(),Pe.lanes|=i,tn|=i,e.baseState=!0),r)}function Jm(e,r){var i=we;we=i!==0&&4>i?i:4,e(!0);var a=al.transition;al.transition={};try{e(!1),r()}finally{we=i,al.transition=a}}function Md(){return Rt().memoizedState}function Ym(e,r,i){var a=jr(e);if(i={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null},zd(e))Fd(r,i);else if(i=gd(e,r,i,a),i!==null){var c=ot();zt(i,e,a,c),Bd(i,r,a)}}function Xm(e,r,i){var a=jr(e),c={lane:a,action:i,hasEagerState:!1,eagerState:null,next:null};if(zd(e))Fd(r,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var m=r.lastRenderedState,v=h(m,i);if(c.hasEagerState=!0,c.eagerState=v,Lt(v,m)){var _=r.interleaved;_===null?(c.next=c,tl(r)):(c.next=_.next,_.next=c),r.interleaved=c;return}}catch{}finally{}i=gd(e,r,c,a),i!==null&&(c=ot(),zt(i,e,a,c),Bd(i,r,a))}}function zd(e){var r=e.alternate;return e===Pe||r!==null&&r===Pe}function Fd(e,r){qs=io=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function Bd(e,r,i){if((i&4194240)!==0){var a=r.lanes;a&=e.pendingLanes,i|=a,r.lanes=i,ya(e,i)}}var lo={readContext:Ct,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useInsertionEffect:et,useLayoutEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useMutableSource:et,useSyncExternalStore:et,useId:et,unstable_isNewReconciler:!1},Zm={readContext:Ct,useCallback:function(e,r){return Xt().memoizedState=[e,r===void 0?null:r],e},useContext:Ct,useEffect:Ad,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,oo(4194308,4,Nd.bind(null,r,e),i)},useLayoutEffect:function(e,r){return oo(4194308,4,e,r)},useInsertionEffect:function(e,r){return oo(4,2,e,r)},useMemo:function(e,r){var i=Xt();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var a=Xt();return r=i!==void 0?i(r):r,a.memoizedState=a.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},a.queue=e,e=e.dispatch=Ym.bind(null,Pe,e),[a.memoizedState,e]},useRef:function(e){var r=Xt();return e={current:e},r.memoizedState=e},useState:Od,useDebugValue:pl,useDeferredValue:function(e){return Xt().memoizedState=e},useTransition:function(){var e=Od(!1),r=e[0];return e=Jm.bind(null,e[1]),Xt().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var a=Pe,c=Xt();if(Re){if(i===void 0)throw Error(s(407));i=i()}else{if(i=r(),We===null)throw Error(s(349));(en&30)!==0||bd(a,r,i)}c.memoizedState=i;var h={value:i,getSnapshot:r};return c.queue=h,Ad(Td.bind(null,a,h,e),[e]),a.flags|=2048,Hs(9,xd.bind(null,a,h,i,r),void 0,null),i},useId:function(){var e=Xt(),r=We.identifierPrefix;if(Re){var i=or,a=ir;i=(a&~(1<<32-Nt(a)-1)).toString(32)+i,r=":"+r+"R"+i,i=Vs++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=Qm++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},ey={readContext:Ct,useCallback:Ud,useContext:Ct,useEffect:fl,useImperativeHandle:Ld,useInsertionEffect:jd,useLayoutEffect:Id,useMemo:$d,useReducer:dl,useRef:Pd,useState:function(){return dl(Ws)},useDebugValue:pl,useDeferredValue:function(e){var r=Rt();return Dd(r,Fe.memoizedState,e)},useTransition:function(){var e=dl(Ws)[0],r=Rt().memoizedState;return[e,r]},useMutableSource:kd,useSyncExternalStore:Ed,useId:Md,unstable_isNewReconciler:!1},ty={readContext:Ct,useCallback:Ud,useContext:Ct,useEffect:fl,useImperativeHandle:Ld,useInsertionEffect:jd,useLayoutEffect:Id,useMemo:$d,useReducer:hl,useRef:Pd,useState:function(){return hl(Ws)},useDebugValue:pl,useDeferredValue:function(e){var r=Rt();return Fe===null?r.memoizedState=e:Dd(r,Fe.memoizedState,e)},useTransition:function(){var e=hl(Ws)[0],r=Rt().memoizedState;return[e,r]},useMutableSource:kd,useSyncExternalStore:Ed,useId:Md,unstable_isNewReconciler:!1};function $t(e,r){if(e&&e.defaultProps){r=K({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function ml(e,r,i,a){r=e.memoizedState,i=i(a,r),i=i==null?r:K({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var uo={isMounted:function(e){return(e=e._reactInternals)?Kr(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var a=ot(),c=jr(e),h=lr(a,c);h.payload=r,i!=null&&(h.callback=i),r=Rr(e,h,c),r!==null&&(zt(r,e,c,a),to(r,e,c))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var a=ot(),c=jr(e),h=lr(a,c);h.tag=1,h.payload=r,i!=null&&(h.callback=i),r=Rr(e,h,c),r!==null&&(zt(r,e,c,a),to(r,e,c))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=ot(),a=jr(e),c=lr(i,a);c.tag=2,r!=null&&(c.callback=r),r=Rr(e,c,a),r!==null&&(zt(r,e,a,i),to(r,e,a))}};function qd(e,r,i,a,c,h,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,h,m):r.prototype&&r.prototype.isPureReactComponent?!js(i,a)||!js(c,h):!0}function Vd(e,r,i){var a=!1,c=xr,h=r.contextType;return typeof h=="object"&&h!==null?h=Ct(h):(c=dt(r)?Qr:Ze.current,a=r.contextTypes,h=(a=a!=null)?jn(e,c):xr),r=new r(i,h),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=uo,e.stateNode=r,r._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),r}function Wd(e,r,i,a){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,a),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,a),r.state!==e&&uo.enqueueReplaceState(r,r.state,null)}function yl(e,r,i,a){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},rl(e);var h=r.contextType;typeof h=="object"&&h!==null?c.context=Ct(h):(h=dt(r)?Qr:Ze.current,c.context=jn(e,h)),c.state=e.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(ml(e,r,h,i),c.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(r=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),r!==c.state&&uo.enqueueReplaceState(c,c.state,null),ro(e,i,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function zn(e,r){try{var i="",a=r;do i+=pe(a),a=a.return;while(a);var c=i}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:r,stack:c,digest:null}}function gl(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function vl(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var ry=typeof WeakMap=="function"?WeakMap:Map;function Hd(e,r,i){i=lr(-1,i),i.tag=3,i.payload={element:null};var a=r.value;return i.callback=function(){go||(go=!0,Il=a),vl(e,r)},i}function Kd(e,r,i){i=lr(-1,i),i.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=r.value;i.payload=function(){return a(c)},i.callback=function(){vl(e,r)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(i.callback=function(){vl(e,r),typeof a!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})}),i}function Gd(e,r,i){var a=e.pingCache;if(a===null){a=e.pingCache=new ry;var c=new Set;a.set(r,c)}else c=a.get(r),c===void 0&&(c=new Set,a.set(r,c));c.has(i)||(c.add(i),e=yy.bind(null,e,r,i),r.then(e,e))}function Qd(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Jd(e,r,i,a,c){return(e.mode&1)===0?(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=lr(-1,1),r.tag=2,Rr(i,r,1))),i.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var ny=I.ReactCurrentOwner,ht=!1;function it(e,r,i,a){r.child=e===null?yd(r,null,i,a):Un(r,e.child,i,a)}function Yd(e,r,i,a,c){i=i.render;var h=r.ref;return Dn(r,c),a=ul(e,r,i,a,h,c),i=cl(),e!==null&&!ht?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~c,ur(e,r,c)):(Re&&i&&Ha(r),r.flags|=1,it(e,r,a,c),r.child)}function Xd(e,r,i,a,c){if(e===null){var h=i.type;return typeof h=="function"&&!zl(h)&&h.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=h,Zd(e,r,h,a,c)):(e=Eo(i.type,null,a,r,r.mode,c),e.ref=r.ref,e.return=r,r.child=e)}if(h=e.child,(e.lanes&c)===0){var m=h.memoizedProps;if(i=i.compare,i=i!==null?i:js,i(m,a)&&e.ref===r.ref)return ur(e,r,c)}return r.flags|=1,e=Nr(h,a),e.ref=r.ref,e.return=r,r.child=e}function Zd(e,r,i,a,c){if(e!==null){var h=e.memoizedProps;if(js(h,a)&&e.ref===r.ref)if(ht=!1,r.pendingProps=a=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(ht=!0);else return r.lanes=e.lanes,ur(e,r,c)}return wl(e,r,i,a,c)}function eh(e,r,i){var a=r.pendingProps,c=a.children,h=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},ke(Bn,St),St|=i;else{if((i&1073741824)===0)return e=h!==null?h.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,ke(Bn,St),St|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=h!==null?h.baseLanes:i,ke(Bn,St),St|=a}else h!==null?(a=h.baseLanes|i,r.memoizedState=null):a=i,ke(Bn,St),St|=a;return it(e,r,c,i),r.child}function th(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function wl(e,r,i,a,c){var h=dt(i)?Qr:Ze.current;return h=jn(r,h),Dn(r,c),i=ul(e,r,i,a,h,c),a=cl(),e!==null&&!ht?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~c,ur(e,r,c)):(Re&&a&&Ha(r),r.flags|=1,it(e,r,i,c),r.child)}function rh(e,r,i,a,c){if(dt(i)){var h=!0;Ki(r)}else h=!1;if(Dn(r,c),r.stateNode===null)ho(e,r),Vd(r,i,a),yl(r,i,a,c),a=!0;else if(e===null){var m=r.stateNode,v=r.memoizedProps;m.props=v;var _=m.context,P=i.contextType;typeof P=="object"&&P!==null?P=Ct(P):(P=dt(i)?Qr:Ze.current,P=jn(r,P));var M=i.getDerivedStateFromProps,z=typeof M=="function"||typeof m.getSnapshotBeforeUpdate=="function";z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==a||_!==P)&&Wd(r,m,a,P),Cr=!1;var $=r.memoizedState;m.state=$,ro(r,a,m,c),_=r.memoizedState,v!==a||$!==_||ct.current||Cr?(typeof M=="function"&&(ml(r,i,M,a),_=r.memoizedState),(v=Cr||qd(r,i,v,a,$,_,P))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=a,r.memoizedState=_),m.props=a,m.state=_,m.context=P,a=v):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),a=!1)}else{m=r.stateNode,vd(e,r),v=r.memoizedProps,P=r.type===r.elementType?v:$t(r.type,v),m.props=P,z=r.pendingProps,$=m.context,_=i.contextType,typeof _=="object"&&_!==null?_=Ct(_):(_=dt(i)?Qr:Ze.current,_=jn(r,_));var V=i.getDerivedStateFromProps;(M=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==z||$!==_)&&Wd(r,m,a,_),Cr=!1,$=r.memoizedState,m.state=$,ro(r,a,m,c);var Q=r.memoizedState;v!==z||$!==Q||ct.current||Cr?(typeof V=="function"&&(ml(r,i,V,a),Q=r.memoizedState),(P=Cr||qd(r,i,P,a,$,Q,_)||!1)?(M||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(a,Q,_),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(a,Q,_)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(r.flags|=1024),r.memoizedProps=a,r.memoizedState=Q),m.props=a,m.state=Q,m.context=_,a=P):(typeof m.componentDidUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&$===e.memoizedState||(r.flags|=1024),a=!1)}return _l(e,r,i,a,h,c)}function _l(e,r,i,a,c,h){th(e,r);var m=(r.flags&128)!==0;if(!a&&!m)return c&&ad(r,i,!1),ur(e,r,h);a=r.stateNode,ny.current=r;var v=m&&typeof i.getDerivedStateFromError!="function"?null:a.render();return r.flags|=1,e!==null&&m?(r.child=Un(r,e.child,null,h),r.child=Un(r,null,v,h)):it(e,r,v,h),r.memoizedState=a.state,c&&ad(r,i,!0),r.child}function nh(e){var r=e.stateNode;r.pendingContext?id(e,r.pendingContext,r.pendingContext!==r.context):r.context&&id(e,r.context,!1),nl(e,r.containerInfo)}function sh(e,r,i,a,c){return Ln(),Ja(c),r.flags|=256,it(e,r,i,a),r.child}var Sl={dehydrated:null,treeContext:null,retryLane:0};function kl(e){return{baseLanes:e,cachePool:null,transitions:null}}function ih(e,r,i){var a=r.pendingProps,c=Oe.current,h=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=e!==null&&e.memoizedState===null?!1:(c&2)!==0),v?(h=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ke(Oe,c&1),e===null)return Qa(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((r.mode&1)===0?r.lanes=1:e.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(m=a.children,e=a.fallback,h?(a=r.mode,h=r.child,m={mode:"hidden",children:m},(a&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=m):h=bo(m,a,0,null),e=on(e,a,i,null),h.return=r,e.return=r,h.sibling=e,r.child=h,r.child.memoizedState=kl(i),r.memoizedState=Sl,e):El(r,m));if(c=e.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return sy(e,r,m,a,v,c,i);if(h){h=a.fallback,m=r.mode,c=e.child,v=c.sibling;var _={mode:"hidden",children:a.children};return(m&1)===0&&r.child!==c?(a=r.child,a.childLanes=0,a.pendingProps=_,r.deletions=null):(a=Nr(c,_),a.subtreeFlags=c.subtreeFlags&14680064),v!==null?h=Nr(v,h):(h=on(h,m,i,null),h.flags|=2),h.return=r,a.return=r,a.sibling=h,r.child=a,a=h,h=r.child,m=e.child.memoizedState,m=m===null?kl(i):{baseLanes:m.baseLanes|i,cachePool:null,transitions:m.transitions},h.memoizedState=m,h.childLanes=e.childLanes&~i,r.memoizedState=Sl,a}return h=e.child,e=h.sibling,a=Nr(h,{mode:"visible",children:a.children}),(r.mode&1)===0&&(a.lanes=i),a.return=r,a.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=a,r.memoizedState=null,a}function El(e,r){return r=bo({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function co(e,r,i,a){return a!==null&&Ja(a),Un(r,e.child,null,i),e=El(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function sy(e,r,i,a,c,h,m){if(i)return r.flags&256?(r.flags&=-257,a=gl(Error(s(422))),co(e,r,m,a)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(h=a.fallback,c=r.mode,a=bo({mode:"visible",children:a.children},c,0,null),h=on(h,c,m,null),h.flags|=2,a.return=r,h.return=r,a.sibling=h,r.child=a,(r.mode&1)!==0&&Un(r,e.child,null,m),r.child.memoizedState=kl(m),r.memoizedState=Sl,h);if((r.mode&1)===0)return co(e,r,m,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var v=a.dgst;return a=v,h=Error(s(419)),a=gl(h,a,void 0),co(e,r,m,a)}if(v=(m&e.childLanes)!==0,ht||v){if(a=We,a!==null){switch(m&-m){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|m))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,ar(e,c),zt(a,e,c,-1))}return Ml(),a=gl(Error(s(421))),co(e,r,m,a)}return c.data==="$?"?(r.flags|=128,r.child=e.child,r=gy.bind(null,e),c._reactRetry=r,null):(e=h.treeContext,_t=Er(c.nextSibling),wt=r,Re=!0,Ut=null,e!==null&&(xt[Tt++]=ir,xt[Tt++]=or,xt[Tt++]=Jr,ir=e.id,or=e.overflow,Jr=r),r=El(r,a.children),r.flags|=4096,r)}function oh(e,r,i){e.lanes|=r;var a=e.alternate;a!==null&&(a.lanes|=r),el(e.return,r,i)}function bl(e,r,i,a,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:c}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=a,h.tail=i,h.tailMode=c)}function ah(e,r,i){var a=r.pendingProps,c=a.revealOrder,h=a.tail;if(it(e,r,a.children,i),a=Oe.current,(a&2)!==0)a=a&1|2,r.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oh(e,i,r);else if(e.tag===19)oh(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ke(Oe,a),(r.mode&1)===0)r.memoizedState=null;else switch(c){case"forwards":for(i=r.child,c=null;i!==null;)e=i.alternate,e!==null&&no(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=r.child,r.child=null):(c=i.sibling,i.sibling=null),bl(r,!1,c,i,h);break;case"backwards":for(i=null,c=r.child,r.child=null;c!==null;){if(e=c.alternate,e!==null&&no(e)===null){r.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}bl(r,!0,i,null,h);break;case"together":bl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ho(e,r){(r.mode&1)===0&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function ur(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),tn|=r.lanes,(i&r.childLanes)===0)return null;if(e!==null&&r.child!==e.child)throw Error(s(153));if(r.child!==null){for(e=r.child,i=Nr(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Nr(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function iy(e,r,i){switch(r.tag){case 3:nh(r),Ln();break;case 5:Sd(r);break;case 1:dt(r.type)&&Ki(r);break;case 4:nl(r,r.stateNode.containerInfo);break;case 10:var a=r.type._context,c=r.memoizedProps.value;ke(Zi,a._currentValue),a._currentValue=c;break;case 13:if(a=r.memoizedState,a!==null)return a.dehydrated!==null?(ke(Oe,Oe.current&1),r.flags|=128,null):(i&r.child.childLanes)!==0?ih(e,r,i):(ke(Oe,Oe.current&1),e=ur(e,r,i),e!==null?e.sibling:null);ke(Oe,Oe.current&1);break;case 19:if(a=(i&r.childLanes)!==0,(e.flags&128)!==0){if(a)return ah(e,r,i);r.flags|=128}if(c=r.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ke(Oe,Oe.current),a)break;return null;case 22:case 23:return r.lanes=0,eh(e,r,i)}return ur(e,r,i)}var lh,xl,uh,ch;lh=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},xl=function(){},uh=function(e,r,i,a){var c=e.memoizedProps;if(c!==a){e=r.stateNode,Zr(Yt.current);var h=null;switch(i){case"input":c=ea(e,c),a=ea(e,a),h=[];break;case"select":c=K({},c,{value:void 0}),a=K({},a,{value:void 0}),h=[];break;case"textarea":c=na(e,c),a=na(e,a),h=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Vi)}ia(i,a);var m;i=null;for(P in c)if(!a.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var v=c[P];for(m in v)v.hasOwnProperty(m)&&(i||(i={}),i[m]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in a){var _=a[P];if(v=c!=null?c[P]:void 0,a.hasOwnProperty(P)&&_!==v&&(_!=null||v!=null))if(P==="style")if(v){for(m in v)!v.hasOwnProperty(m)||_&&_.hasOwnProperty(m)||(i||(i={}),i[m]="");for(m in _)_.hasOwnProperty(m)&&v[m]!==_[m]&&(i||(i={}),i[m]=_[m])}else i||(h||(h=[]),h.push(P,i)),i=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(h=h||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&xe("scroll",e),h||v===_||(h=[])):(h=h||[]).push(P,_))}i&&(h=h||[]).push("style",i);var P=h;(r.updateQueue=P)&&(r.flags|=4)}},ch=function(e,r,i,a){i!==a&&(r.flags|=4)};function Ks(e,r){if(!Re)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function tt(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(r)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=i,r}function oy(e,r,i){var a=r.pendingProps;switch(Ka(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(r),null;case 1:return dt(r.type)&&Hi(),tt(r),null;case 3:return a=r.stateNode,Mn(),Te(ct),Te(Ze),ol(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yi(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Ut!==null&&(Ul(Ut),Ut=null))),xl(e,r),tt(r),null;case 5:sl(r);var c=Zr(Bs.current);if(i=r.type,e!==null&&r.stateNode!=null)uh(e,r,i,a,c),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!a){if(r.stateNode===null)throw Error(s(166));return tt(r),null}if(e=Zr(Yt.current),Yi(r)){a=r.stateNode,i=r.type;var h=r.memoizedProps;switch(a[Jt]=r,a[$s]=h,e=(r.mode&1)!==0,i){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(c=0;c<Ns.length;c++)xe(Ns[c],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":Vu(a,h),xe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!h.multiple},xe("invalid",a);break;case"textarea":Ku(a,h),xe("invalid",a)}ia(i,h),c=null;for(var m in h)if(h.hasOwnProperty(m)){var v=h[m];m==="children"?typeof v=="string"?a.textContent!==v&&(h.suppressHydrationWarning!==!0&&qi(a.textContent,v,e),c=["children",v]):typeof v=="number"&&a.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&qi(a.textContent,v,e),c=["children",""+v]):l.hasOwnProperty(m)&&v!=null&&m==="onScroll"&&xe("scroll",a)}switch(i){case"input":_i(a),Hu(a,h,!0);break;case"textarea":_i(a),Qu(a);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(a.onclick=Vi)}a=c,r.updateQueue=a,a!==null&&(r.flags|=4)}else{m=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ju(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=m.createElement(i,{is:a.is}):(e=m.createElement(i),i==="select"&&(m=e,a.multiple?m.multiple=!0:a.size&&(m.size=a.size))):e=m.createElementNS(e,i),e[Jt]=r,e[$s]=a,lh(e,r,!1,!1),r.stateNode=e;e:{switch(m=oa(i,a),i){case"dialog":xe("cancel",e),xe("close",e),c=a;break;case"iframe":case"object":case"embed":xe("load",e),c=a;break;case"video":case"audio":for(c=0;c<Ns.length;c++)xe(Ns[c],e);c=a;break;case"source":xe("error",e),c=a;break;case"img":case"image":case"link":xe("error",e),xe("load",e),c=a;break;case"details":xe("toggle",e),c=a;break;case"input":Vu(e,a),c=ea(e,a),xe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=K({},a,{value:void 0}),xe("invalid",e);break;case"textarea":Ku(e,a),c=na(e,a),xe("invalid",e);break;default:c=a}ia(i,c),v=c;for(h in v)if(v.hasOwnProperty(h)){var _=v[h];h==="style"?Zu(e,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Yu(e,_)):h==="children"?typeof _=="string"?(i!=="textarea"||_!=="")&&ms(e,_):typeof _=="number"&&ms(e,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?_!=null&&h==="onScroll"&&xe("scroll",e):_!=null&&A(e,h,_,m))}switch(i){case"input":_i(e),Hu(e,a,!1);break;case"textarea":_i(e),Qu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+ve(a.value));break;case"select":e.multiple=!!a.multiple,h=a.value,h!=null?_n(e,!!a.multiple,h,!1):a.defaultValue!=null&&_n(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Vi)}switch(i){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return tt(r),null;case 6:if(e&&r.stateNode!=null)ch(e,r,e.memoizedProps,a);else{if(typeof a!="string"&&r.stateNode===null)throw Error(s(166));if(i=Zr(Bs.current),Zr(Yt.current),Yi(r)){if(a=r.stateNode,i=r.memoizedProps,a[Jt]=r,(h=a.nodeValue!==i)&&(e=wt,e!==null))switch(e.tag){case 3:qi(a.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qi(a.nodeValue,i,(e.mode&1)!==0)}h&&(r.flags|=4)}else a=(i.nodeType===9?i:i.ownerDocument).createTextNode(a),a[Jt]=r,r.stateNode=a}return tt(r),null;case 13:if(Te(Oe),a=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Re&&_t!==null&&(r.mode&1)!==0&&(r.flags&128)===0)fd(),Ln(),r.flags|=98560,h=!1;else if(h=Yi(r),a!==null&&a.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Jt]=r}else Ln(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;tt(r),h=!1}else Ut!==null&&(Ul(Ut),Ut=null),h=!0;if(!h)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=i,r):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(r.child.flags|=8192,(r.mode&1)!==0&&(e===null||(Oe.current&1)!==0?Be===0&&(Be=3):Ml())),r.updateQueue!==null&&(r.flags|=4),tt(r),null);case 4:return Mn(),xl(e,r),e===null&&Ls(r.stateNode.containerInfo),tt(r),null;case 10:return Za(r.type._context),tt(r),null;case 17:return dt(r.type)&&Hi(),tt(r),null;case 19:if(Te(Oe),h=r.memoizedState,h===null)return tt(r),null;if(a=(r.flags&128)!==0,m=h.rendering,m===null)if(a)Ks(h,!1);else{if(Be!==0||e!==null&&(e.flags&128)!==0)for(e=r.child;e!==null;){if(m=no(e),m!==null){for(r.flags|=128,Ks(h,!1),a=m.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),r.subtreeFlags=0,a=i,i=r.child;i!==null;)h=i,e=a,h.flags&=14680066,m=h.alternate,m===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=m.childLanes,h.lanes=m.lanes,h.child=m.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=m.memoizedProps,h.memoizedState=m.memoizedState,h.updateQueue=m.updateQueue,h.type=m.type,e=m.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return ke(Oe,Oe.current&1|2),r.child}e=e.sibling}h.tail!==null&&$e()>qn&&(r.flags|=128,a=!0,Ks(h,!1),r.lanes=4194304)}else{if(!a)if(e=no(m),e!==null){if(r.flags|=128,a=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),Ks(h,!0),h.tail===null&&h.tailMode==="hidden"&&!m.alternate&&!Re)return tt(r),null}else 2*$e()-h.renderingStartTime>qn&&i!==1073741824&&(r.flags|=128,a=!0,Ks(h,!1),r.lanes=4194304);h.isBackwards?(m.sibling=r.child,r.child=m):(i=h.last,i!==null?i.sibling=m:r.child=m,h.last=m)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=$e(),r.sibling=null,i=Oe.current,ke(Oe,a?i&1|2:i&1),r):(tt(r),null);case 22:case 23:return Dl(),a=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(r.flags|=8192),a&&(r.mode&1)!==0?(St&1073741824)!==0&&(tt(r),r.subtreeFlags&6&&(r.flags|=8192)):tt(r),null;case 24:return null;case 25:return null}throw Error(s(156,r.tag))}function ay(e,r){switch(Ka(r),r.tag){case 1:return dt(r.type)&&Hi(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Mn(),Te(ct),Te(Ze),ol(),e=r.flags,(e&65536)!==0&&(e&128)===0?(r.flags=e&-65537|128,r):null;case 5:return sl(r),null;case 13:if(Te(Oe),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Ln()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Te(Oe),null;case 4:return Mn(),null;case 10:return Za(r.type._context),null;case 22:case 23:return Dl(),null;case 24:return null;default:return null}}var fo=!1,rt=!1,ly=typeof WeakSet=="function"?WeakSet:Set,H=null;function Fn(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(a){Ne(e,r,a)}else i.current=null}function Tl(e,r,i){try{i()}catch(a){Ne(e,r,a)}}var dh=!1;function uy(e,r){if(Da=ji,e=qc(),Pa(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var c=a.anchorOffset,h=a.focusNode;a=a.focusOffset;try{i.nodeType,h.nodeType}catch{i=null;break e}var m=0,v=-1,_=-1,P=0,M=0,z=e,$=null;t:for(;;){for(var V;z!==i||c!==0&&z.nodeType!==3||(v=m+c),z!==h||a!==0&&z.nodeType!==3||(_=m+a),z.nodeType===3&&(m+=z.nodeValue.length),(V=z.firstChild)!==null;)$=z,z=V;for(;;){if(z===e)break t;if($===i&&++P===c&&(v=m),$===h&&++M===a&&(_=m),(V=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=V}i=v===-1||_===-1?null:{start:v,end:_}}else i=null}i=i||{start:0,end:0}}else i=null;for(Ma={focusedElem:e,selectionRange:i},ji=!1,H=r;H!==null;)if(r=H,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,H=e;else for(;H!==null;){r=H;try{var Q=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Q!==null){var J=Q.memoizedProps,De=Q.memoizedState,T=r.stateNode,k=T.getSnapshotBeforeUpdate(r.elementType===r.type?J:$t(r.type,J),De);T.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var O=r.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(B){Ne(r,r.return,B)}if(e=r.sibling,e!==null){e.return=r.return,H=e;break}H=r.return}return Q=dh,dh=!1,Q}function Gs(e,r,i){var a=r.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Tl(r,i,h)}c=c.next}while(c!==a)}}function po(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.create;i.destroy=a()}i=i.next}while(i!==r)}}function Cl(e){var r=e.ref;if(r!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof r=="function"?r(e):r.current=e}}function hh(e){var r=e.alternate;r!==null&&(e.alternate=null,hh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Jt],delete r[$s],delete r[qa],delete r[Wm],delete r[Hm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fh(e){return e.tag===5||e.tag===3||e.tag===4}function ph(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rl(e,r,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Vi));else if(a!==4&&(e=e.child,e!==null))for(Rl(e,r,i),e=e.sibling;e!==null;)Rl(e,r,i),e=e.sibling}function Ol(e,r,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Ol(e,r,i),e=e.sibling;e!==null;)Ol(e,r,i),e=e.sibling}var Ge=null,Dt=!1;function Or(e,r,i){for(i=i.child;i!==null;)mh(e,r,i),i=i.sibling}function mh(e,r,i){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ti,i)}catch{}switch(i.tag){case 5:rt||Fn(i,r);case 6:var a=Ge,c=Dt;Ge=null,Or(e,r,i),Ge=a,Dt=c,Ge!==null&&(Dt?(e=Ge,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ge.removeChild(i.stateNode));break;case 18:Ge!==null&&(Dt?(e=Ge,i=i.stateNode,e.nodeType===8?Ba(e.parentNode,i):e.nodeType===1&&Ba(e,i),Ts(e)):Ba(Ge,i.stateNode));break;case 4:a=Ge,c=Dt,Ge=i.stateNode.containerInfo,Dt=!0,Or(e,r,i),Ge=a,Dt=c;break;case 0:case 11:case 14:case 15:if(!rt&&(a=i.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var h=c,m=h.destroy;h=h.tag,m!==void 0&&((h&2)!==0||(h&4)!==0)&&Tl(i,r,m),c=c.next}while(c!==a)}Or(e,r,i);break;case 1:if(!rt&&(Fn(i,r),a=i.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=i.memoizedProps,a.state=i.memoizedState,a.componentWillUnmount()}catch(v){Ne(i,r,v)}Or(e,r,i);break;case 21:Or(e,r,i);break;case 22:i.mode&1?(rt=(a=rt)||i.memoizedState!==null,Or(e,r,i),rt=a):Or(e,r,i);break;default:Or(e,r,i)}}function yh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new ly),r.forEach(function(a){var c=vy.bind(null,e,a);i.has(a)||(i.add(a),a.then(c,c))})}}function Mt(e,r){var i=r.deletions;if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];try{var h=e,m=r,v=m;e:for(;v!==null;){switch(v.tag){case 5:Ge=v.stateNode,Dt=!1;break e;case 3:Ge=v.stateNode.containerInfo,Dt=!0;break e;case 4:Ge=v.stateNode.containerInfo,Dt=!0;break e}v=v.return}if(Ge===null)throw Error(s(160));mh(h,m,c),Ge=null,Dt=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(P){Ne(c,r,P)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)gh(r,e),r=r.sibling}function gh(e,r){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Mt(r,e),Zt(e),a&4){try{Gs(3,e,e.return),po(3,e)}catch(J){Ne(e,e.return,J)}try{Gs(5,e,e.return)}catch(J){Ne(e,e.return,J)}}break;case 1:Mt(r,e),Zt(e),a&512&&i!==null&&Fn(i,i.return);break;case 5:if(Mt(r,e),Zt(e),a&512&&i!==null&&Fn(i,i.return),e.flags&32){var c=e.stateNode;try{ms(c,"")}catch(J){Ne(e,e.return,J)}}if(a&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,m=i!==null?i.memoizedProps:h,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&Wu(c,h),oa(v,m);var P=oa(v,h);for(m=0;m<_.length;m+=2){var M=_[m],z=_[m+1];M==="style"?Zu(c,z):M==="dangerouslySetInnerHTML"?Yu(c,z):M==="children"?ms(c,z):A(c,M,z,P)}switch(v){case"input":ta(c,h);break;case"textarea":Gu(c,h);break;case"select":var $=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var V=h.value;V!=null?_n(c,!!h.multiple,V,!1):$!==!!h.multiple&&(h.defaultValue!=null?_n(c,!!h.multiple,h.defaultValue,!0):_n(c,!!h.multiple,h.multiple?[]:"",!1))}c[$s]=h}catch(J){Ne(e,e.return,J)}}break;case 6:if(Mt(r,e),Zt(e),a&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(J){Ne(e,e.return,J)}}break;case 3:if(Mt(r,e),Zt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Ts(r.containerInfo)}catch(J){Ne(e,e.return,J)}break;case 4:Mt(r,e),Zt(e);break;case 13:Mt(r,e),Zt(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(jl=$e())),a&4&&yh(e);break;case 22:if(M=i!==null&&i.memoizedState!==null,e.mode&1?(rt=(P=rt)||M,Mt(r,e),rt=P):Mt(r,e),Zt(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!M&&(e.mode&1)!==0)for(H=e,M=e.child;M!==null;){for(z=H=M;H!==null;){switch($=H,V=$.child,$.tag){case 0:case 11:case 14:case 15:Gs(4,$,$.return);break;case 1:Fn($,$.return);var Q=$.stateNode;if(typeof Q.componentWillUnmount=="function"){a=$,i=$.return;try{r=a,Q.props=r.memoizedProps,Q.state=r.memoizedState,Q.componentWillUnmount()}catch(J){Ne(a,i,J)}}break;case 5:Fn($,$.return);break;case 22:if($.memoizedState!==null){_h(z);continue}}V!==null?(V.return=$,H=V):_h(z)}M=M.sibling}e:for(M=null,z=e;;){if(z.tag===5){if(M===null){M=z;try{c=z.stateNode,P?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=z.stateNode,_=z.memoizedProps.style,m=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=Xu("display",m))}catch(J){Ne(e,e.return,J)}}}else if(z.tag===6){if(M===null)try{z.stateNode.nodeValue=P?"":z.memoizedProps}catch(J){Ne(e,e.return,J)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===e)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===e)break e;for(;z.sibling===null;){if(z.return===null||z.return===e)break e;M===z&&(M=null),z=z.return}M===z&&(M=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Mt(r,e),Zt(e),a&4&&yh(e);break;case 21:break;default:Mt(r,e),Zt(e)}}function Zt(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(fh(i)){var a=i;break e}i=i.return}throw Error(s(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(ms(c,""),a.flags&=-33);var h=ph(e);Ol(e,h,c);break;case 3:case 4:var m=a.stateNode.containerInfo,v=ph(e);Rl(e,v,m);break;default:throw Error(s(161))}}catch(_){Ne(e,e.return,_)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function cy(e,r,i){H=e,vh(e)}function vh(e,r,i){for(var a=(e.mode&1)!==0;H!==null;){var c=H,h=c.child;if(c.tag===22&&a){var m=c.memoizedState!==null||fo;if(!m){var v=c.alternate,_=v!==null&&v.memoizedState!==null||rt;v=fo;var P=rt;if(fo=m,(rt=_)&&!P)for(H=c;H!==null;)m=H,_=m.child,m.tag===22&&m.memoizedState!==null?Sh(c):_!==null?(_.return=m,H=_):Sh(c);for(;h!==null;)H=h,vh(h),h=h.sibling;H=c,fo=v,rt=P}wh(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,H=h):wh(e)}}function wh(e){for(;H!==null;){var r=H;if((r.flags&8772)!==0){var i=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:rt||po(5,r);break;case 1:var a=r.stateNode;if(r.flags&4&&!rt)if(i===null)a.componentDidMount();else{var c=r.elementType===r.type?i.memoizedProps:$t(r.type,i.memoizedProps);a.componentDidUpdate(c,i.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&_d(r,h,a);break;case 3:var m=r.updateQueue;if(m!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}_d(r,m,i)}break;case 5:var v=r.stateNode;if(i===null&&r.flags&4){i=v;var _=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&i.focus();break;case"img":_.src&&(i.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var P=r.alternate;if(P!==null){var M=P.memoizedState;if(M!==null){var z=M.dehydrated;z!==null&&Ts(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}rt||r.flags&512&&Cl(r)}catch($){Ne(r,r.return,$)}}if(r===e){H=null;break}if(i=r.sibling,i!==null){i.return=r.return,H=i;break}H=r.return}}function _h(e){for(;H!==null;){var r=H;if(r===e){H=null;break}var i=r.sibling;if(i!==null){i.return=r.return,H=i;break}H=r.return}}function Sh(e){for(;H!==null;){var r=H;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{po(4,r)}catch(_){Ne(r,i,_)}break;case 1:var a=r.stateNode;if(typeof a.componentDidMount=="function"){var c=r.return;try{a.componentDidMount()}catch(_){Ne(r,c,_)}}var h=r.return;try{Cl(r)}catch(_){Ne(r,h,_)}break;case 5:var m=r.return;try{Cl(r)}catch(_){Ne(r,m,_)}}}catch(_){Ne(r,r.return,_)}if(r===e){H=null;break}var v=r.sibling;if(v!==null){v.return=r.return,H=v;break}H=r.return}}var dy=Math.ceil,mo=I.ReactCurrentDispatcher,Pl=I.ReactCurrentOwner,Ot=I.ReactCurrentBatchConfig,he=0,We=null,Me=null,Qe=0,St=0,Bn=br(0),Be=0,Qs=null,tn=0,yo=0,Al=0,Js=null,ft=null,jl=0,qn=1/0,cr=null,go=!1,Il=null,Pr=null,vo=!1,Ar=null,wo=0,Ys=0,Nl=null,_o=-1,So=0;function ot(){return(he&6)!==0?$e():_o!==-1?_o:_o=$e()}function jr(e){return(e.mode&1)===0?1:(he&2)!==0&&Qe!==0?Qe&-Qe:Gm.transition!==null?(So===0&&(So=pc()),So):(e=we,e!==0||(e=window.event,e=e===void 0?16:Ec(e.type)),e)}function zt(e,r,i,a){if(50<Ys)throw Ys=0,Nl=null,Error(s(185));Ss(e,i,a),((he&2)===0||e!==We)&&(e===We&&((he&2)===0&&(yo|=i),Be===4&&Ir(e,Qe)),pt(e,a),i===1&&he===0&&(r.mode&1)===0&&(qn=$e()+500,Gi&&Tr()))}function pt(e,r){var i=e.callbackNode;Gp(e,r);var a=Oi(e,e===We?Qe:0);if(a===0)i!==null&&dc(i),e.callbackNode=null,e.callbackPriority=0;else if(r=a&-a,e.callbackPriority!==r){if(i!=null&&dc(i),r===1)e.tag===0?Km(Eh.bind(null,e)):ld(Eh.bind(null,e)),qm(function(){(he&6)===0&&Tr()}),i=null;else{switch(mc(a)){case 1:i=fa;break;case 4:i=hc;break;case 16:i=xi;break;case 536870912:i=fc;break;default:i=xi}i=Ah(i,kh.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function kh(e,r){if(_o=-1,So=0,(he&6)!==0)throw Error(s(327));var i=e.callbackNode;if(Vn()&&e.callbackNode!==i)return null;var a=Oi(e,e===We?Qe:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||r)r=ko(e,a);else{r=a;var c=he;he|=2;var h=xh();(We!==e||Qe!==r)&&(cr=null,qn=$e()+500,nn(e,r));do try{py();break}catch(v){bh(e,v)}while(!0);Xa(),mo.current=h,he=c,Me!==null?r=0:(We=null,Qe=0,r=Be)}if(r!==0){if(r===2&&(c=pa(e),c!==0&&(a=c,r=Ll(e,c))),r===1)throw i=Qs,nn(e,0),Ir(e,a),pt(e,$e()),i;if(r===6)Ir(e,a);else{if(c=e.current.alternate,(a&30)===0&&!hy(c)&&(r=ko(e,a),r===2&&(h=pa(e),h!==0&&(a=h,r=Ll(e,h))),r===1))throw i=Qs,nn(e,0),Ir(e,a),pt(e,$e()),i;switch(e.finishedWork=c,e.finishedLanes=a,r){case 0:case 1:throw Error(s(345));case 2:sn(e,ft,cr);break;case 3:if(Ir(e,a),(a&130023424)===a&&(r=jl+500-$e(),10<r)){if(Oi(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){ot(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Fa(sn.bind(null,e,ft,cr),r);break}sn(e,ft,cr);break;case 4:if(Ir(e,a),(a&4194240)===a)break;for(r=e.eventTimes,c=-1;0<a;){var m=31-Nt(a);h=1<<m,m=r[m],m>c&&(c=m),a&=~h}if(a=c,a=$e()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*dy(a/1960))-a,10<a){e.timeoutHandle=Fa(sn.bind(null,e,ft,cr),a);break}sn(e,ft,cr);break;case 5:sn(e,ft,cr);break;default:throw Error(s(329))}}}return pt(e,$e()),e.callbackNode===i?kh.bind(null,e):null}function Ll(e,r){var i=Js;return e.current.memoizedState.isDehydrated&&(nn(e,r).flags|=256),e=ko(e,r),e!==2&&(r=ft,ft=i,r!==null&&Ul(r)),e}function Ul(e){ft===null?ft=e:ft.push.apply(ft,e)}function hy(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var a=0;a<i.length;a++){var c=i[a],h=c.getSnapshot;c=c.value;try{if(!Lt(h(),c))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ir(e,r){for(r&=~Al,r&=~yo,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Nt(r),a=1<<i;e[i]=-1,r&=~a}}function Eh(e){if((he&6)!==0)throw Error(s(327));Vn();var r=Oi(e,0);if((r&1)===0)return pt(e,$e()),null;var i=ko(e,r);if(e.tag!==0&&i===2){var a=pa(e);a!==0&&(r=a,i=Ll(e,a))}if(i===1)throw i=Qs,nn(e,0),Ir(e,r),pt(e,$e()),i;if(i===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,sn(e,ft,cr),pt(e,$e()),null}function $l(e,r){var i=he;he|=1;try{return e(r)}finally{he=i,he===0&&(qn=$e()+500,Gi&&Tr())}}function rn(e){Ar!==null&&Ar.tag===0&&(he&6)===0&&Vn();var r=he;he|=1;var i=Ot.transition,a=we;try{if(Ot.transition=null,we=1,e)return e()}finally{we=a,Ot.transition=i,he=r,(he&6)===0&&Tr()}}function Dl(){St=Bn.current,Te(Bn)}function nn(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Bm(i)),Me!==null)for(i=Me.return;i!==null;){var a=i;switch(Ka(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&Hi();break;case 3:Mn(),Te(ct),Te(Ze),ol();break;case 5:sl(a);break;case 4:Mn();break;case 13:Te(Oe);break;case 19:Te(Oe);break;case 10:Za(a.type._context);break;case 22:case 23:Dl()}i=i.return}if(We=e,Me=e=Nr(e.current,null),Qe=St=r,Be=0,Qs=null,Al=yo=tn=0,ft=Js=null,Xr!==null){for(r=0;r<Xr.length;r++)if(i=Xr[r],a=i.interleaved,a!==null){i.interleaved=null;var c=a.next,h=i.pending;if(h!==null){var m=h.next;h.next=c,a.next=m}i.pending=a}Xr=null}return e}function bh(e,r){do{var i=Me;try{if(Xa(),so.current=lo,io){for(var a=Pe.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}io=!1}if(en=0,Ve=Fe=Pe=null,qs=!1,Vs=0,Pl.current=null,i===null||i.return===null){Be=1,Qs=r,Me=null;break}e:{var h=e,m=i.return,v=i,_=r;if(r=Qe,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,M=v,z=M.tag;if((M.mode&1)===0&&(z===0||z===11||z===15)){var $=M.alternate;$?(M.updateQueue=$.updateQueue,M.memoizedState=$.memoizedState,M.lanes=$.lanes):(M.updateQueue=null,M.memoizedState=null)}var V=Qd(m);if(V!==null){V.flags&=-257,Jd(V,m,v,h,r),V.mode&1&&Gd(h,P,r),r=V,_=P;var Q=r.updateQueue;if(Q===null){var J=new Set;J.add(_),r.updateQueue=J}else Q.add(_);break e}else{if((r&1)===0){Gd(h,P,r),Ml();break e}_=Error(s(426))}}else if(Re&&v.mode&1){var De=Qd(m);if(De!==null){(De.flags&65536)===0&&(De.flags|=256),Jd(De,m,v,h,r),Ja(zn(_,v));break e}}h=_=zn(_,v),Be!==4&&(Be=2),Js===null?Js=[h]:Js.push(h),h=m;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var T=Hd(h,_,r);wd(h,T);break e;case 1:v=_;var k=h.type,O=h.stateNode;if((h.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(Pr===null||!Pr.has(O)))){h.flags|=65536,r&=-r,h.lanes|=r;var B=Kd(h,v,r);wd(h,B);break e}}h=h.return}while(h!==null)}Ch(i)}catch(Y){r=Y,Me===i&&i!==null&&(Me=i=i.return);continue}break}while(!0)}function xh(){var e=mo.current;return mo.current=lo,e===null?lo:e}function Ml(){(Be===0||Be===3||Be===2)&&(Be=4),We===null||(tn&268435455)===0&&(yo&268435455)===0||Ir(We,Qe)}function ko(e,r){var i=he;he|=2;var a=xh();(We!==e||Qe!==r)&&(cr=null,nn(e,r));do try{fy();break}catch(c){bh(e,c)}while(!0);if(Xa(),he=i,mo.current=a,Me!==null)throw Error(s(261));return We=null,Qe=0,Be}function fy(){for(;Me!==null;)Th(Me)}function py(){for(;Me!==null&&!Mp();)Th(Me)}function Th(e){var r=Ph(e.alternate,e,St);e.memoizedProps=e.pendingProps,r===null?Ch(e):Me=r,Pl.current=null}function Ch(e){var r=e;do{var i=r.alternate;if(e=r.return,(r.flags&32768)===0){if(i=oy(i,r,St),i!==null){Me=i;return}}else{if(i=ay(i,r),i!==null){i.flags&=32767,Me=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Be=6,Me=null;return}}if(r=r.sibling,r!==null){Me=r;return}Me=r=e}while(r!==null);Be===0&&(Be=5)}function sn(e,r,i){var a=we,c=Ot.transition;try{Ot.transition=null,we=1,my(e,r,i,a)}finally{Ot.transition=c,we=a}return null}function my(e,r,i,a){do Vn();while(Ar!==null);if((he&6)!==0)throw Error(s(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=i.lanes|i.childLanes;if(Qp(e,h),e===We&&(Me=We=null,Qe=0),(i.subtreeFlags&2064)===0&&(i.flags&2064)===0||vo||(vo=!0,Ah(xi,function(){return Vn(),null})),h=(i.flags&15990)!==0,(i.subtreeFlags&15990)!==0||h){h=Ot.transition,Ot.transition=null;var m=we;we=1;var v=he;he|=4,Pl.current=null,uy(e,i),gh(i,e),Lm(Ma),ji=!!Da,Ma=Da=null,e.current=i,cy(i),zp(),he=v,we=m,Ot.transition=h}else e.current=i;if(vo&&(vo=!1,Ar=e,wo=c),h=e.pendingLanes,h===0&&(Pr=null),qp(i.stateNode),pt(e,$e()),r!==null)for(a=e.onRecoverableError,i=0;i<r.length;i++)c=r[i],a(c.value,{componentStack:c.stack,digest:c.digest});if(go)throw go=!1,e=Il,Il=null,e;return(wo&1)!==0&&e.tag!==0&&Vn(),h=e.pendingLanes,(h&1)!==0?e===Nl?Ys++:(Ys=0,Nl=e):Ys=0,Tr(),null}function Vn(){if(Ar!==null){var e=mc(wo),r=Ot.transition,i=we;try{if(Ot.transition=null,we=16>e?16:e,Ar===null)var a=!1;else{if(e=Ar,Ar=null,wo=0,(he&6)!==0)throw Error(s(331));var c=he;for(he|=4,H=e.current;H!==null;){var h=H,m=h.child;if((H.flags&16)!==0){var v=h.deletions;if(v!==null){for(var _=0;_<v.length;_++){var P=v[_];for(H=P;H!==null;){var M=H;switch(M.tag){case 0:case 11:case 15:Gs(8,M,h)}var z=M.child;if(z!==null)z.return=M,H=z;else for(;H!==null;){M=H;var $=M.sibling,V=M.return;if(hh(M),M===P){H=null;break}if($!==null){$.return=V,H=$;break}H=V}}}var Q=h.alternate;if(Q!==null){var J=Q.child;if(J!==null){Q.child=null;do{var De=J.sibling;J.sibling=null,J=De}while(J!==null)}}H=h}}if((h.subtreeFlags&2064)!==0&&m!==null)m.return=h,H=m;else e:for(;H!==null;){if(h=H,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Gs(9,h,h.return)}var T=h.sibling;if(T!==null){T.return=h.return,H=T;break e}H=h.return}}var k=e.current;for(H=k;H!==null;){m=H;var O=m.child;if((m.subtreeFlags&2064)!==0&&O!==null)O.return=m,H=O;else e:for(m=k;H!==null;){if(v=H,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:po(9,v)}}catch(Y){Ne(v,v.return,Y)}if(v===m){H=null;break e}var B=v.sibling;if(B!==null){B.return=v.return,H=B;break e}H=v.return}}if(he=c,Tr(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ti,e)}catch{}a=!0}return a}finally{we=i,Ot.transition=r}}return!1}function Rh(e,r,i){r=zn(i,r),r=Hd(e,r,1),e=Rr(e,r,1),r=ot(),e!==null&&(Ss(e,1,r),pt(e,r))}function Ne(e,r,i){if(e.tag===3)Rh(e,e,i);else for(;r!==null;){if(r.tag===3){Rh(r,e,i);break}else if(r.tag===1){var a=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Pr===null||!Pr.has(a))){e=zn(i,e),e=Kd(r,e,1),r=Rr(r,e,1),e=ot(),r!==null&&(Ss(r,1,e),pt(r,e));break}}r=r.return}}function yy(e,r,i){var a=e.pingCache;a!==null&&a.delete(r),r=ot(),e.pingedLanes|=e.suspendedLanes&i,We===e&&(Qe&i)===i&&(Be===4||Be===3&&(Qe&130023424)===Qe&&500>$e()-jl?nn(e,0):Al|=i),pt(e,r)}function Oh(e,r){r===0&&((e.mode&1)===0?r=1:(r=Ri,Ri<<=1,(Ri&130023424)===0&&(Ri=4194304)));var i=ot();e=ar(e,r),e!==null&&(Ss(e,r,i),pt(e,i))}function gy(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),Oh(e,i)}function vy(e,r){var i=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(r),Oh(e,i)}var Ph;Ph=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||ct.current)ht=!0;else{if((e.lanes&i)===0&&(r.flags&128)===0)return ht=!1,iy(e,r,i);ht=(e.flags&131072)!==0}else ht=!1,Re&&(r.flags&1048576)!==0&&ud(r,Ji,r.index);switch(r.lanes=0,r.tag){case 2:var a=r.type;ho(e,r),e=r.pendingProps;var c=jn(r,Ze.current);Dn(r,i),c=ul(null,r,a,e,c,i);var h=cl();return r.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,dt(a)?(h=!0,Ki(r)):h=!1,r.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,rl(r),c.updater=uo,r.stateNode=c,c._reactInternals=r,yl(r,a,e,i),r=_l(null,r,a,!0,h,i)):(r.tag=0,Re&&h&&Ha(r),it(null,r,c,i),r=r.child),r;case 16:a=r.elementType;e:{switch(ho(e,r),e=r.pendingProps,c=a._init,a=c(a._payload),r.type=a,c=r.tag=_y(a),e=$t(a,e),c){case 0:r=wl(null,r,a,e,i);break e;case 1:r=rh(null,r,a,e,i);break e;case 11:r=Yd(null,r,a,e,i);break e;case 14:r=Xd(null,r,a,$t(a.type,e),i);break e}throw Error(s(306,a,""))}return r;case 0:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:$t(a,c),wl(e,r,a,c,i);case 1:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:$t(a,c),rh(e,r,a,c,i);case 3:e:{if(nh(r),e===null)throw Error(s(387));a=r.pendingProps,h=r.memoizedState,c=h.element,vd(e,r),ro(r,a,null,i);var m=r.memoizedState;if(a=m.element,h.isDehydrated)if(h={element:a,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){c=zn(Error(s(423)),r),r=sh(e,r,a,i,c);break e}else if(a!==c){c=zn(Error(s(424)),r),r=sh(e,r,a,i,c);break e}else for(_t=Er(r.stateNode.containerInfo.firstChild),wt=r,Re=!0,Ut=null,i=yd(r,null,a,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ln(),a===c){r=ur(e,r,i);break e}it(e,r,a,i)}r=r.child}return r;case 5:return Sd(r),e===null&&Qa(r),a=r.type,c=r.pendingProps,h=e!==null?e.memoizedProps:null,m=c.children,za(a,c)?m=null:h!==null&&za(a,h)&&(r.flags|=32),th(e,r),it(e,r,m,i),r.child;case 6:return e===null&&Qa(r),null;case 13:return ih(e,r,i);case 4:return nl(r,r.stateNode.containerInfo),a=r.pendingProps,e===null?r.child=Un(r,null,a,i):it(e,r,a,i),r.child;case 11:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:$t(a,c),Yd(e,r,a,c,i);case 7:return it(e,r,r.pendingProps,i),r.child;case 8:return it(e,r,r.pendingProps.children,i),r.child;case 12:return it(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(a=r.type._context,c=r.pendingProps,h=r.memoizedProps,m=c.value,ke(Zi,a._currentValue),a._currentValue=m,h!==null)if(Lt(h.value,m)){if(h.children===c.children&&!ct.current){r=ur(e,r,i);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var v=h.dependencies;if(v!==null){m=h.child;for(var _=v.firstContext;_!==null;){if(_.context===a){if(h.tag===1){_=lr(-1,i&-i),_.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var M=P.pending;M===null?_.next=_:(_.next=M.next,M.next=_),P.pending=_}}h.lanes|=i,_=h.alternate,_!==null&&(_.lanes|=i),el(h.return,i,r),v.lanes|=i;break}_=_.next}}else if(h.tag===10)m=h.type===r.type?null:h.child;else if(h.tag===18){if(m=h.return,m===null)throw Error(s(341));m.lanes|=i,v=m.alternate,v!==null&&(v.lanes|=i),el(m,i,r),m=h.sibling}else m=h.child;if(m!==null)m.return=h;else for(m=h;m!==null;){if(m===r){m=null;break}if(h=m.sibling,h!==null){h.return=m.return,m=h;break}m=m.return}h=m}it(e,r,c.children,i),r=r.child}return r;case 9:return c=r.type,a=r.pendingProps.children,Dn(r,i),c=Ct(c),a=a(c),r.flags|=1,it(e,r,a,i),r.child;case 14:return a=r.type,c=$t(a,r.pendingProps),c=$t(a.type,c),Xd(e,r,a,c,i);case 15:return Zd(e,r,r.type,r.pendingProps,i);case 17:return a=r.type,c=r.pendingProps,c=r.elementType===a?c:$t(a,c),ho(e,r),r.tag=1,dt(a)?(e=!0,Ki(r)):e=!1,Dn(r,i),Vd(r,a,c),yl(r,a,c,i),_l(null,r,a,!0,e,i);case 19:return ah(e,r,i);case 22:return eh(e,r,i)}throw Error(s(156,r.tag))};function Ah(e,r){return cc(e,r)}function wy(e,r,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,r,i,a){return new wy(e,r,i,a)}function zl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function _y(e){if(typeof e=="function")return zl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Kt)return 11;if(e===Gt)return 14}return 2}function Nr(e,r){var i=e.alternate;return i===null?(i=Pt(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Eo(e,r,i,a,c,h){var m=2;if(a=e,typeof e=="function")zl(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case re:return on(i.children,c,h,r);case ge:m=8,c|=8;break;case _e:return e=Pt(12,i,r,c|2),e.elementType=_e,e.lanes=h,e;case yt:return e=Pt(13,i,r,c),e.elementType=yt,e.lanes=h,e;case It:return e=Pt(19,i,r,c),e.elementType=It,e.lanes=h,e;case Ie:return bo(i,c,h,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:m=10;break e;case be:m=9;break e;case Kt:m=11;break e;case Gt:m=14;break e;case ut:m=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return r=Pt(m,i,r,c),r.elementType=e,r.type=a,r.lanes=h,r}function on(e,r,i,a){return e=Pt(7,e,a,r),e.lanes=i,e}function bo(e,r,i,a){return e=Pt(22,e,a,r),e.elementType=Ie,e.lanes=i,e.stateNode={isHidden:!1},e}function Fl(e,r,i){return e=Pt(6,e,null,r),e.lanes=i,e}function Bl(e,r,i){return r=Pt(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function Sy(e,r,i,a,c){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ma(0),this.expirationTimes=ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ma(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function ql(e,r,i,a,c,h,m,v,_){return e=new Sy(e,r,i,v,_),r===1?(r=1,h===!0&&(r|=8)):r=0,h=Pt(3,null,null,r),e.current=h,h.stateNode=e,h.memoizedState={element:a,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},rl(h),e}function ky(e,r,i){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:a==null?null:""+a,children:e,containerInfo:r,implementation:i}}function jh(e){if(!e)return xr;e=e._reactInternals;e:{if(Kr(e)!==e||e.tag!==1)throw Error(s(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(dt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(s(171))}if(e.tag===1){var i=e.type;if(dt(i))return od(e,i,r)}return r}function Ih(e,r,i,a,c,h,m,v,_){return e=ql(i,a,!0,e,c,h,m,v,_),e.context=jh(null),i=e.current,a=ot(),c=jr(i),h=lr(a,c),h.callback=r??null,Rr(i,h,c),e.current.lanes=c,Ss(e,c,a),pt(e,a),e}function xo(e,r,i,a){var c=r.current,h=ot(),m=jr(c);return i=jh(i),r.context===null?r.context=i:r.pendingContext=i,r=lr(h,m),r.payload={element:e},a=a===void 0?null:a,a!==null&&(r.callback=a),e=Rr(c,r,m),e!==null&&(zt(e,c,m,h),to(e,c,m)),m}function To(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Nh(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function Vl(e,r){Nh(e,r),(e=e.alternate)&&Nh(e,r)}function Ey(){return null}var Lh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Wl(e){this._internalRoot=e}Co.prototype.render=Wl.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(s(409));xo(e,r,null,null)},Co.prototype.unmount=Wl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;rn(function(){xo(null,e,null,null)}),r[nr]=null}};function Co(e){this._internalRoot=e}Co.prototype.unstable_scheduleHydration=function(e){if(e){var r=vc();e={blockedOn:null,target:e,priority:r};for(var i=0;i<_r.length&&r!==0&&r<_r[i].priority;i++);_r.splice(i,0,e),i===0&&Sc(e)}};function Hl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ro(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Uh(){}function by(e,r,i,a,c){if(c){if(typeof a=="function"){var h=a;a=function(){var P=To(m);h.call(P)}}var m=Ih(r,a,e,0,null,!1,!1,"",Uh);return e._reactRootContainer=m,e[nr]=m.current,Ls(e.nodeType===8?e.parentNode:e),rn(),m}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var v=a;a=function(){var P=To(_);v.call(P)}}var _=ql(e,0,!1,null,null,!1,!1,"",Uh);return e._reactRootContainer=_,e[nr]=_.current,Ls(e.nodeType===8?e.parentNode:e),rn(function(){xo(r,_,i,a)}),_}function Oo(e,r,i,a,c){var h=i._reactRootContainer;if(h){var m=h;if(typeof c=="function"){var v=c;c=function(){var _=To(m);v.call(_)}}xo(r,m,e,c)}else m=by(i,r,e,c,a);return To(m)}yc=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=_s(r.pendingLanes);i!==0&&(ya(r,i|1),pt(r,$e()),(he&6)===0&&(qn=$e()+500,Tr()))}break;case 13:rn(function(){var a=ar(e,1);if(a!==null){var c=ot();zt(a,e,1,c)}}),Vl(e,1)}},ga=function(e){if(e.tag===13){var r=ar(e,134217728);if(r!==null){var i=ot();zt(r,e,134217728,i)}Vl(e,134217728)}},gc=function(e){if(e.tag===13){var r=jr(e),i=ar(e,r);if(i!==null){var a=ot();zt(i,e,r,a)}Vl(e,r)}},vc=function(){return we},wc=function(e,r){var i=we;try{return we=e,r()}finally{we=i}},ua=function(e,r,i){switch(r){case"input":if(ta(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var a=i[r];if(a!==e&&a.form===e.form){var c=Wi(a);if(!c)throw Error(s(90));qu(a),ta(a,c)}}}break;case"textarea":Gu(e,i);break;case"select":r=i.value,r!=null&&_n(e,!!i.multiple,r,!1)}},nc=$l,sc=rn;var xy={usingClientEntryPoint:!1,Events:[Ds,Pn,Wi,tc,rc,$l]},Xs={findFiberByHostInstance:Gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ty={bundleType:Xs.bundleType,version:Xs.version,rendererPackageName:Xs.rendererPackageName,rendererConfig:Xs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=lc(e),e===null?null:e.stateNode},findFiberByHostInstance:Xs.findFiberByHostInstance||Ey,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ti=Po.inject(Ty),Qt=Po}catch{}}return mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xy,mt.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hl(r))throw Error(s(200));return ky(e,r,null,i)},mt.createRoot=function(e,r){if(!Hl(e))throw Error(s(299));var i=!1,a="",c=Lh;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(c=r.onRecoverableError)),r=ql(e,1,!1,null,null,i,!1,a,c),e[nr]=r.current,Ls(e.nodeType===8?e.parentNode:e),new Wl(r)},mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=lc(r),e=e===null?null:e.stateNode,e},mt.flushSync=function(e){return rn(e)},mt.hydrate=function(e,r,i){if(!Ro(r))throw Error(s(200));return Oo(null,e,r,!0,i)},mt.hydrateRoot=function(e,r,i){if(!Hl(e))throw Error(s(405));var a=i!=null&&i.hydratedSources||null,c=!1,h="",m=Lh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onRecoverableError!==void 0&&(m=i.onRecoverableError)),r=Ih(r,null,e,1,i??null,c,!1,h,m),e[nr]=r.current,Ls(e),a)for(e=0;e<a.length;e++)i=a[e],c=i._getVersion,c=c(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,c]:r.mutableSourceEagerHydrationData.push(i,c);return new Co(r)},mt.render=function(e,r,i){if(!Ro(r))throw Error(s(200));return Oo(null,e,r,!1,i)},mt.unmountComponentAtNode=function(e){if(!Ro(e))throw Error(s(40));return e._reactRootContainer?(rn(function(){Oo(null,null,e,!1,function(){e._reactRootContainer=null,e[nr]=null})}),!0):!1},mt.unstable_batchedUpdates=$l,mt.unstable_renderSubtreeIntoContainer=function(e,r,i,a){if(!Ro(i))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Oo(e,r,i,!1,a)},mt.version="18.3.1-next-f1338f8080-20240426",mt}var Wh;function Wf(){if(Wh)return Jl.exports;Wh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jl.exports=$y(),Jl.exports}var Hh;function Dy(){if(Hh)return jo;Hh=1;var n=Wf();return jo.createRoot=n.createRoot,jo.hydrateRoot=n.hydrateRoot,jo}var My=Dy();const zy=Vf(My);var Wo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(n){return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Fy={setTimeout:(n,t)=>setTimeout(n,t),clearTimeout:n=>clearTimeout(n),setInterval:(n,t)=>setInterval(n,t),clearInterval:n=>clearInterval(n)},Mr,Au,Lf,By=(Lf=class{constructor(){de(this,Mr,Fy);de(this,Au,!1)}setTimeoutProvider(n){ae(this,Mr,n)}setTimeout(n,t){return N(this,Mr).setTimeout(n,t)}clearTimeout(n){N(this,Mr).clearTimeout(n)}setInterval(n,t){return N(this,Mr).setInterval(n,t)}clearInterval(n){N(this,Mr).clearInterval(n)}},Mr=new WeakMap,Au=new WeakMap,Lf),hu=new By;function qy(n){setTimeout(n,0)}var Ho=typeof window>"u"||"Deno"in globalThis;function Bt(){}function Vy(n,t){return typeof n=="function"?n(t):n}function Wy(n){return typeof n=="number"&&n>=0&&n!==1/0}function Hy(n,t){return Math.max(n+(t||0)-Date.now(),0)}function fu(n,t){return typeof n=="function"?n(t):n}function Ky(n,t){return typeof n=="function"?n(t):n}function Kh(n,t){const{type:s="all",exact:o,fetchStatus:l,predicate:u,queryKey:d,stale:f}=n;if(d){if(o){if(t.queryHash!==Nu(d,t.options))return!1}else if(!ai(t.queryKey,d))return!1}if(s!=="all"){const p=t.isActive();if(s==="active"&&!p||s==="inactive"&&p)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||l&&l!==t.state.fetchStatus||u&&!u(t))}function Gh(n,t){const{exact:s,status:o,predicate:l,mutationKey:u}=n;if(u){if(!t.options.mutationKey)return!1;if(s){if(oi(t.options.mutationKey)!==oi(u))return!1}else if(!ai(t.options.mutationKey,u))return!1}return!(o&&t.state.status!==o||l&&!l(t))}function Nu(n,t){return((t==null?void 0:t.queryKeyHashFn)||oi)(n)}function oi(n){return JSON.stringify(n,(t,s)=>pu(s)?Object.keys(s).sort().reduce((o,l)=>(o[l]=s[l],o),{}):s)}function ai(n,t){return n===t?!0:typeof n!=typeof t?!1:n&&t&&typeof n=="object"&&typeof t=="object"?Object.keys(t).every(s=>ai(n[s],t[s])):!1}var Gy=Object.prototype.hasOwnProperty;function Hf(n,t,s=0){if(n===t)return n;if(s>500)return t;const o=Qh(n)&&Qh(t);if(!o&&!(pu(n)&&pu(t)))return t;const u=(o?n:Object.keys(n)).length,d=o?t:Object.keys(t),f=d.length,p=o?new Array(f):{};let y=0;for(let g=0;g<f;g++){const w=o?g:d[g],S=n[w],E=t[w];if(S===E){p[w]=S,(o?g<u:Gy.call(n,w))&&y++;continue}if(S===null||E===null||typeof S!="object"||typeof E!="object"){p[w]=E;continue}const C=Hf(S,E,s+1);p[w]=C,C===S&&y++}return u===f&&y===u?n:p}function G_(n,t){if(!t||Object.keys(n).length!==Object.keys(t).length)return!1;for(const s in n)if(n[s]!==t[s])return!1;return!0}function Qh(n){return Array.isArray(n)&&n.length===Object.keys(n).length}function pu(n){if(!Jh(n))return!1;const t=n.constructor;if(t===void 0)return!0;const s=t.prototype;return!(!Jh(s)||!s.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(n)!==Object.prototype)}function Jh(n){return Object.prototype.toString.call(n)==="[object Object]"}function Qy(n){return new Promise(t=>{hu.setTimeout(t,n)})}function Jy(n,t,s){return typeof s.structuralSharing=="function"?s.structuralSharing(n,t):s.structuralSharing!==!1?Hf(n,t):t}function Yy(n,t,s=0){const o=[...n,t];return s&&o.length>s?o.slice(1):o}function Xy(n,t,s=0){const o=[t,...n];return s&&o.length>s?o.slice(0,-1):o}var Lu=Symbol();function Kf(n,t){return!n.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!n.queryFn||n.queryFn===Lu?()=>Promise.reject(new Error(`Missing queryFn: '${n.queryHash}'`)):n.queryFn}function Q_(n,t){return typeof n=="function"?n(...t):!!n}function Zy(n,t,s){let o=!1,l;return Object.defineProperty(n,"signal",{enumerable:!0,get:()=>(l??(l=t()),o||(o=!0,l.aborted?s():l.addEventListener("abort",s,{once:!0})),l)}),n}var fn,zr,rs,Uf,eg=(Uf=class extends Wo{constructor(){super();de(this,fn);de(this,zr);de(this,rs);ae(this,rs,t=>{if(!Ho&&window.addEventListener){const s=()=>t();return window.addEventListener("visibilitychange",s,!1),()=>{window.removeEventListener("visibilitychange",s)}}})}onSubscribe(){N(this,zr)||this.setEventListener(N(this,rs))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,zr))==null||t.call(this),ae(this,zr,void 0))}setEventListener(t){var s;ae(this,rs,t),(s=N(this,zr))==null||s.call(this),ae(this,zr,t(o=>{typeof o=="boolean"?this.setFocused(o):this.onFocus()}))}setFocused(t){N(this,fn)!==t&&(ae(this,fn,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(s=>{s(t)})}isFocused(){var t;return typeof N(this,fn)=="boolean"?N(this,fn):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},fn=new WeakMap,zr=new WeakMap,rs=new WeakMap,Uf),Gf=new eg;function tg(){let n,t;const s=new Promise((l,u)=>{n=l,t=u});s.status="pending",s.catch(()=>{});function o(l){Object.assign(s,l),delete s.resolve,delete s.reject}return s.resolve=l=>{o({status:"fulfilled",value:l}),n(l)},s.reject=l=>{o({status:"rejected",reason:l}),t(l)},s}var rg=qy;function ng(){let n=[],t=0,s=f=>{f()},o=f=>{f()},l=rg;const u=f=>{t?n.push(f):l(()=>{s(f)})},d=()=>{const f=n;n=[],f.length&&l(()=>{o(()=>{f.forEach(p=>{s(p)})})})};return{batch:f=>{let p;t++;try{p=f()}finally{t--,t||d()}return p},batchCalls:f=>(...p)=>{u(()=>{f(...p)})},schedule:u,setNotifyFunction:f=>{s=f},setBatchNotifyFunction:f=>{o=f},setScheduler:f=>{l=f}}}var lt=ng(),ns,Fr,ss,$f,sg=($f=class extends Wo{constructor(){super();de(this,ns,!0);de(this,Fr);de(this,ss);ae(this,ss,t=>{if(!Ho&&window.addEventListener){const s=()=>t(!0),o=()=>t(!1);return window.addEventListener("online",s,!1),window.addEventListener("offline",o,!1),()=>{window.removeEventListener("online",s),window.removeEventListener("offline",o)}}})}onSubscribe(){N(this,Fr)||this.setEventListener(N(this,ss))}onUnsubscribe(){var t;this.hasListeners()||((t=N(this,Fr))==null||t.call(this),ae(this,Fr,void 0))}setEventListener(t){var s;ae(this,ss,t),(s=N(this,Fr))==null||s.call(this),ae(this,Fr,t(this.setOnline.bind(this)))}setOnline(t){N(this,ns)!==t&&(ae(this,ns,t),this.listeners.forEach(o=>{o(t)}))}isOnline(){return N(this,ns)}},ns=new WeakMap,Fr=new WeakMap,ss=new WeakMap,$f),Do=new sg;function ig(n){return Math.min(1e3*2**n,3e4)}function Qf(n){return(n??"online")==="online"?Do.isOnline():!0}var mu=class extends Error{constructor(n){super("CancelledError"),this.revert=n==null?void 0:n.revert,this.silent=n==null?void 0:n.silent}};function Jf(n){let t=!1,s=0,o;const l=tg(),u=()=>l.status!=="pending",d=R=>{var x;if(!u()){const j=new mu(R);S(j),(x=n.onCancel)==null||x.call(n,j)}},f=()=>{t=!0},p=()=>{t=!1},y=()=>Gf.isFocused()&&(n.networkMode==="always"||Do.isOnline())&&n.canRun(),g=()=>Qf(n.networkMode)&&n.canRun(),w=R=>{u()||(o==null||o(),l.resolve(R))},S=R=>{u()||(o==null||o(),l.reject(R))},E=()=>new Promise(R=>{var x;o=j=>{(u()||y())&&R(j)},(x=n.onPause)==null||x.call(n)}).then(()=>{var R;o=void 0,u()||(R=n.onContinue)==null||R.call(n)}),C=()=>{if(u())return;let R;const x=s===0?n.initialPromise:void 0;try{R=x??n.fn()}catch(j){R=Promise.reject(j)}Promise.resolve(R).then(w).catch(j=>{var G;if(u())return;const U=n.retry??(Ho?0:3),A=n.retryDelay??ig,I=typeof A=="function"?A(s,j):A,Z=U===!0||typeof U=="number"&&s<U||typeof U=="function"&&U(s,j);if(t||!Z){S(j);return}s++,(G=n.onFail)==null||G.call(n,s,j),Qy(I).then(()=>y()?void 0:E()).then(()=>{t?S(j):C()})})};return{promise:l,status:()=>l.status,cancel:d,continue:()=>(o==null||o(),l),cancelRetry:f,continueRetry:p,canStart:g,start:()=>(g()?C():E().then(C),l)}}var pn,Df,Yf=(Df=class{constructor(){de(this,pn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Wy(this.gcTime)&&ae(this,pn,hu.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(n){this.gcTime=Math.max(this.gcTime||0,n??(Ho?1/0:300*1e3))}clearGcTimeout(){N(this,pn)&&(hu.clearTimeout(N(this,pn)),ae(this,pn,void 0))}},pn=new WeakMap,Df),mn,is,At,yn,Ke,yi,gn,Vt,dr,Mf,og=(Mf=class extends Yf{constructor(t){super();de(this,Vt);de(this,mn);de(this,is);de(this,At);de(this,yn);de(this,Ke);de(this,yi);de(this,gn);ae(this,gn,!1),ae(this,yi,t.defaultOptions),this.setOptions(t.options),this.observers=[],ae(this,yn,t.client),ae(this,At,N(this,yn).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,ae(this,mn,Xh(this.options)),this.state=t.state??N(this,mn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=N(this,Ke))==null?void 0:t.promise}setOptions(t){if(this.options={...N(this,yi),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const s=Xh(this.options);s.data!==void 0&&(this.setState(Yh(s.data,s.dataUpdatedAt)),ae(this,mn,s))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,At).remove(this)}setData(t,s){const o=Jy(this.state.data,t,this.options);return nt(this,Vt,dr).call(this,{data:o,type:"success",dataUpdatedAt:s==null?void 0:s.updatedAt,manual:s==null?void 0:s.manual}),o}setState(t,s){nt(this,Vt,dr).call(this,{type:"setState",state:t,setStateOptions:s})}cancel(t){var o,l;const s=(o=N(this,Ke))==null?void 0:o.promise;return(l=N(this,Ke))==null||l.cancel(t),s?s.then(Bt).catch(Bt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,mn))}isActive(){return this.observers.some(t=>Ky(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Lu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Hy(this.state.dataUpdatedAt,t)}onFocus(){var s;const t=this.observers.find(o=>o.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(s=N(this,Ke))==null||s.continue()}onOnline(){var s;const t=this.observers.find(o=>o.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(s=N(this,Ke))==null||s.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),N(this,At).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(s=>s!==t),this.observers.length||(N(this,Ke)&&(N(this,gn)?N(this,Ke).cancel({revert:!0}):N(this,Ke).cancelRetry()),this.scheduleGc()),N(this,At).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||nt(this,Vt,dr).call(this,{type:"invalidate"})}async fetch(t,s){var p,y,g,w,S,E,C,R,x,j,U,A;if(this.state.fetchStatus!=="idle"&&((p=N(this,Ke))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(s!=null&&s.cancelRefetch))this.cancel({silent:!0});else if(N(this,Ke))return N(this,Ke).continueRetry(),N(this,Ke).promise}if(t&&this.setOptions(t),!this.options.queryFn){const I=this.observers.find(Z=>Z.options.queryFn);I&&this.setOptions(I.options)}const o=new AbortController,l=I=>{Object.defineProperty(I,"signal",{enumerable:!0,get:()=>(ae(this,gn,!0),o.signal)})},u=()=>{const I=Kf(this.options,s),G=(()=>{const re={client:N(this,yn),queryKey:this.queryKey,meta:this.meta};return l(re),re})();return ae(this,gn,!1),this.options.persister?this.options.persister(I,G,this):I(G)},f=(()=>{const I={fetchOptions:s,options:this.options,queryKey:this.queryKey,client:N(this,yn),state:this.state,fetchFn:u};return l(I),I})();(y=this.options.behavior)==null||y.onFetch(f,this),ae(this,is,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((g=f.fetchOptions)==null?void 0:g.meta))&&nt(this,Vt,dr).call(this,{type:"fetch",meta:(w=f.fetchOptions)==null?void 0:w.meta}),ae(this,Ke,Jf({initialPromise:s==null?void 0:s.initialPromise,fn:f.fetchFn,onCancel:I=>{I instanceof mu&&I.revert&&this.setState({...N(this,is),fetchStatus:"idle"}),o.abort()},onFail:(I,Z)=>{nt(this,Vt,dr).call(this,{type:"failed",failureCount:I,error:Z})},onPause:()=>{nt(this,Vt,dr).call(this,{type:"pause"})},onContinue:()=>{nt(this,Vt,dr).call(this,{type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode,canRun:()=>!0}));try{const I=await N(this,Ke).start();if(I===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(I),(E=(S=N(this,At).config).onSuccess)==null||E.call(S,I,this),(R=(C=N(this,At).config).onSettled)==null||R.call(C,I,this.state.error,this),I}catch(I){if(I instanceof mu){if(I.silent)return N(this,Ke).promise;if(I.revert){if(this.state.data===void 0)throw I;return this.state.data}}throw nt(this,Vt,dr).call(this,{type:"error",error:I}),(j=(x=N(this,At).config).onError)==null||j.call(x,I,this),(A=(U=N(this,At).config).onSettled)==null||A.call(U,this.state.data,I,this),I}finally{this.scheduleGc()}}},mn=new WeakMap,is=new WeakMap,At=new WeakMap,yn=new WeakMap,Ke=new WeakMap,yi=new WeakMap,gn=new WeakMap,Vt=new WeakSet,dr=function(t){const s=o=>{switch(t.type){case"failed":return{...o,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...o,fetchStatus:"paused"};case"continue":return{...o,fetchStatus:"fetching"};case"fetch":return{...o,...ag(o.data,this.options),fetchMeta:t.meta??null};case"success":const l={...o,...Yh(t.data,t.dataUpdatedAt),dataUpdateCount:o.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ae(this,is,t.manual?l:void 0),l;case"error":const u=t.error;return{...o,error:u,errorUpdateCount:o.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:o.fetchFailureCount+1,fetchFailureReason:u,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...o,isInvalidated:!0};case"setState":return{...o,...t.state}}};this.state=s(this.state),lt.batch(()=>{this.observers.forEach(o=>{o.onQueryUpdate()}),N(this,At).notify({query:this,type:"updated",action:t})})},Mf);function ag(n,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Qf(t.networkMode)?"fetching":"paused",...n===void 0&&{error:null,status:"pending"}}}function Yh(n,t){return{data:n,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Xh(n){const t=typeof n.initialData=="function"?n.initialData():n.initialData,s=t!==void 0,o=s?typeof n.initialDataUpdatedAt=="function"?n.initialDataUpdatedAt():n.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:s?o??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:s?"success":"pending",fetchStatus:"idle"}}function Zh(n){return{onFetch:(t,s)=>{var g,w,S,E,C;const o=t.options,l=(S=(w=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:w.fetchMore)==null?void 0:S.direction,u=((E=t.state.data)==null?void 0:E.pages)||[],d=((C=t.state.data)==null?void 0:C.pageParams)||[];let f={pages:[],pageParams:[]},p=0;const y=async()=>{let R=!1;const x=A=>{Zy(A,()=>t.signal,()=>R=!0)},j=Kf(t.options,t.fetchOptions),U=async(A,I,Z)=>{if(R)return Promise.reject();if(I==null&&A.pages.length)return Promise.resolve(A);const re=(()=>{const be={client:t.client,queryKey:t.queryKey,pageParam:I,direction:Z?"backward":"forward",meta:t.options.meta};return x(be),be})(),ge=await j(re),{maxPages:_e}=t.options,fe=Z?Xy:Yy;return{pages:fe(A.pages,ge,_e),pageParams:fe(A.pageParams,I,_e)}};if(l&&u.length){const A=l==="backward",I=A?lg:ef,Z={pages:u,pageParams:d},G=I(o,Z);f=await U(Z,G,A)}else{const A=n??u.length;do{const I=p===0?d[0]??o.initialPageParam:ef(o,f);if(p>0&&I==null)break;f=await U(f,I),p++}while(p<A)}return f};t.options.persister?t.fetchFn=()=>{var R,x;return(x=(R=t.options).persister)==null?void 0:x.call(R,y,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},s)}:t.fetchFn=y}}}function ef(n,{pages:t,pageParams:s}){const o=t.length-1;return t.length>0?n.getNextPageParam(t[o],t,s[o],s):void 0}function lg(n,{pages:t,pageParams:s}){var o;return t.length>0?(o=n.getPreviousPageParam)==null?void 0:o.call(n,t[0],t,s[0],s):void 0}var gi,er,at,vn,tr,Ur,zf,ug=(zf=class extends Yf{constructor(t){super();de(this,tr);de(this,gi);de(this,er);de(this,at);de(this,vn);ae(this,gi,t.client),this.mutationId=t.mutationId,ae(this,at,t.mutationCache),ae(this,er,[]),this.state=t.state||cg(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){N(this,er).includes(t)||(N(this,er).push(t),this.clearGcTimeout(),N(this,at).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){ae(this,er,N(this,er).filter(s=>s!==t)),this.scheduleGc(),N(this,at).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){N(this,er).length||(this.state.status==="pending"?this.scheduleGc():N(this,at).remove(this))}continue(){var t;return((t=N(this,vn))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var d,f,p,y,g,w,S,E,C,R,x,j,U,A,I,Z,G,re,ge,_e;const s=()=>{nt(this,tr,Ur).call(this,{type:"continue"})},o={client:N(this,gi),meta:this.options.meta,mutationKey:this.options.mutationKey};ae(this,vn,Jf({fn:()=>this.options.mutationFn?this.options.mutationFn(t,o):Promise.reject(new Error("No mutationFn found")),onFail:(fe,be)=>{nt(this,tr,Ur).call(this,{type:"failed",failureCount:fe,error:be})},onPause:()=>{nt(this,tr,Ur).call(this,{type:"pause"})},onContinue:s,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,at).canRun(this)}));const l=this.state.status==="pending",u=!N(this,vn).canStart();try{if(l)s();else{nt(this,tr,Ur).call(this,{type:"pending",variables:t,isPaused:u}),await((f=(d=N(this,at).config).onMutate)==null?void 0:f.call(d,t,this,o));const be=await((y=(p=this.options).onMutate)==null?void 0:y.call(p,t,o));be!==this.state.context&&nt(this,tr,Ur).call(this,{type:"pending",context:be,variables:t,isPaused:u})}const fe=await N(this,vn).start();return await((w=(g=N(this,at).config).onSuccess)==null?void 0:w.call(g,fe,t,this.state.context,this,o)),await((E=(S=this.options).onSuccess)==null?void 0:E.call(S,fe,t,this.state.context,o)),await((R=(C=N(this,at).config).onSettled)==null?void 0:R.call(C,fe,null,this.state.variables,this.state.context,this,o)),await((j=(x=this.options).onSettled)==null?void 0:j.call(x,fe,null,t,this.state.context,o)),nt(this,tr,Ur).call(this,{type:"success",data:fe}),fe}catch(fe){try{await((A=(U=N(this,at).config).onError)==null?void 0:A.call(U,fe,t,this.state.context,this,o))}catch(be){Promise.reject(be)}try{await((Z=(I=this.options).onError)==null?void 0:Z.call(I,fe,t,this.state.context,o))}catch(be){Promise.reject(be)}try{await((re=(G=N(this,at).config).onSettled)==null?void 0:re.call(G,void 0,fe,this.state.variables,this.state.context,this,o))}catch(be){Promise.reject(be)}try{await((_e=(ge=this.options).onSettled)==null?void 0:_e.call(ge,void 0,fe,t,this.state.context,o))}catch(be){Promise.reject(be)}throw nt(this,tr,Ur).call(this,{type:"error",error:fe}),fe}finally{N(this,at).runNext(this)}}},gi=new WeakMap,er=new WeakMap,at=new WeakMap,vn=new WeakMap,tr=new WeakSet,Ur=function(t){const s=o=>{switch(t.type){case"failed":return{...o,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...o,isPaused:!0};case"continue":return{...o,isPaused:!1};case"pending":return{...o,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...o,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...o,data:void 0,error:t.error,failureCount:o.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=s(this.state),lt.batch(()=>{N(this,er).forEach(o=>{o.onMutationUpdate(t)}),N(this,at).notify({mutation:this,type:"updated",action:t})})},zf);function cg(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fr,Wt,vi,Ff,dg=(Ff=class extends Wo{constructor(t={}){super();de(this,fr);de(this,Wt);de(this,vi);this.config=t,ae(this,fr,new Set),ae(this,Wt,new Map),ae(this,vi,0)}build(t,s,o){const l=new ug({client:t,mutationCache:this,mutationId:++Ao(this,vi)._,options:t.defaultMutationOptions(s),state:o});return this.add(l),l}add(t){N(this,fr).add(t);const s=Io(t);if(typeof s=="string"){const o=N(this,Wt).get(s);o?o.push(t):N(this,Wt).set(s,[t])}this.notify({type:"added",mutation:t})}remove(t){if(N(this,fr).delete(t)){const s=Io(t);if(typeof s=="string"){const o=N(this,Wt).get(s);if(o)if(o.length>1){const l=o.indexOf(t);l!==-1&&o.splice(l,1)}else o[0]===t&&N(this,Wt).delete(s)}}this.notify({type:"removed",mutation:t})}canRun(t){const s=Io(t);if(typeof s=="string"){const o=N(this,Wt).get(s),l=o==null?void 0:o.find(u=>u.state.status==="pending");return!l||l===t}else return!0}runNext(t){var o;const s=Io(t);if(typeof s=="string"){const l=(o=N(this,Wt).get(s))==null?void 0:o.find(u=>u!==t&&u.state.isPaused);return(l==null?void 0:l.continue())??Promise.resolve()}else return Promise.resolve()}clear(){lt.batch(()=>{N(this,fr).forEach(t=>{this.notify({type:"removed",mutation:t})}),N(this,fr).clear(),N(this,Wt).clear()})}getAll(){return Array.from(N(this,fr))}find(t){const s={exact:!0,...t};return this.getAll().find(o=>Gh(s,o))}findAll(t={}){return this.getAll().filter(s=>Gh(t,s))}notify(t){lt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}resumePausedMutations(){const t=this.getAll().filter(s=>s.state.isPaused);return lt.batch(()=>Promise.all(t.map(s=>s.continue().catch(Bt))))}},fr=new WeakMap,Wt=new WeakMap,vi=new WeakMap,Ff);function Io(n){var t;return(t=n.options.scope)==null?void 0:t.id}var rr,Bf,hg=(Bf=class extends Wo{constructor(t={}){super();de(this,rr);this.config=t,ae(this,rr,new Map)}build(t,s,o){const l=s.queryKey,u=s.queryHash??Nu(l,s);let d=this.get(u);return d||(d=new og({client:t,queryKey:l,queryHash:u,options:t.defaultQueryOptions(s),state:o,defaultOptions:t.getQueryDefaults(l)}),this.add(d)),d}add(t){N(this,rr).has(t.queryHash)||(N(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const s=N(this,rr).get(t.queryHash);s&&(t.destroy(),s===t&&N(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){lt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return N(this,rr).get(t)}getAll(){return[...N(this,rr).values()]}find(t){const s={exact:!0,...t};return this.getAll().find(o=>Kh(s,o))}findAll(t={}){const s=this.getAll();return Object.keys(t).length>0?s.filter(o=>Kh(t,o)):s}notify(t){lt.batch(()=>{this.listeners.forEach(s=>{s(t)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,Bf),Le,Br,qr,os,as,Vr,ls,us,qf,fg=(qf=class{constructor(n={}){de(this,Le);de(this,Br);de(this,qr);de(this,os);de(this,as);de(this,Vr);de(this,ls);de(this,us);ae(this,Le,n.queryCache||new hg),ae(this,Br,n.mutationCache||new dg),ae(this,qr,n.defaultOptions||{}),ae(this,os,new Map),ae(this,as,new Map),ae(this,Vr,0)}mount(){Ao(this,Vr)._++,N(this,Vr)===1&&(ae(this,ls,Gf.subscribe(async n=>{n&&(await this.resumePausedMutations(),N(this,Le).onFocus())})),ae(this,us,Do.subscribe(async n=>{n&&(await this.resumePausedMutations(),N(this,Le).onOnline())})))}unmount(){var n,t;Ao(this,Vr)._--,N(this,Vr)===0&&((n=N(this,ls))==null||n.call(this),ae(this,ls,void 0),(t=N(this,us))==null||t.call(this),ae(this,us,void 0))}isFetching(n){return N(this,Le).findAll({...n,fetchStatus:"fetching"}).length}isMutating(n){return N(this,Br).findAll({...n,status:"pending"}).length}getQueryData(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=N(this,Le).get(t.queryHash))==null?void 0:s.state.data}ensureQueryData(n){const t=this.defaultQueryOptions(n),s=N(this,Le).build(this,t),o=s.state.data;return o===void 0?this.fetchQuery(n):(n.revalidateIfStale&&s.isStaleByTime(fu(t.staleTime,s))&&this.prefetchQuery(t),Promise.resolve(o))}getQueriesData(n){return N(this,Le).findAll(n).map(({queryKey:t,state:s})=>{const o=s.data;return[t,o]})}setQueryData(n,t,s){const o=this.defaultQueryOptions({queryKey:n}),l=N(this,Le).get(o.queryHash),u=l==null?void 0:l.state.data,d=Vy(t,u);if(d!==void 0)return N(this,Le).build(this,o).setData(d,{...s,manual:!0})}setQueriesData(n,t,s){return lt.batch(()=>N(this,Le).findAll(n).map(({queryKey:o})=>[o,this.setQueryData(o,t,s)]))}getQueryState(n){var s;const t=this.defaultQueryOptions({queryKey:n});return(s=N(this,Le).get(t.queryHash))==null?void 0:s.state}removeQueries(n){const t=N(this,Le);lt.batch(()=>{t.findAll(n).forEach(s=>{t.remove(s)})})}resetQueries(n,t){const s=N(this,Le);return lt.batch(()=>(s.findAll(n).forEach(o=>{o.reset()}),this.refetchQueries({type:"active",...n},t)))}cancelQueries(n,t={}){const s={revert:!0,...t},o=lt.batch(()=>N(this,Le).findAll(n).map(l=>l.cancel(s)));return Promise.all(o).then(Bt).catch(Bt)}invalidateQueries(n,t={}){return lt.batch(()=>(N(this,Le).findAll(n).forEach(s=>{s.invalidate()}),(n==null?void 0:n.refetchType)==="none"?Promise.resolve():this.refetchQueries({...n,type:(n==null?void 0:n.refetchType)??(n==null?void 0:n.type)??"active"},t)))}refetchQueries(n,t={}){const s={...t,cancelRefetch:t.cancelRefetch??!0},o=lt.batch(()=>N(this,Le).findAll(n).filter(l=>!l.isDisabled()&&!l.isStatic()).map(l=>{let u=l.fetch(void 0,s);return s.throwOnError||(u=u.catch(Bt)),l.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(o).then(Bt)}fetchQuery(n){const t=this.defaultQueryOptions(n);t.retry===void 0&&(t.retry=!1);const s=N(this,Le).build(this,t);return s.isStaleByTime(fu(t.staleTime,s))?s.fetch(t):Promise.resolve(s.state.data)}prefetchQuery(n){return this.fetchQuery(n).then(Bt).catch(Bt)}fetchInfiniteQuery(n){return n.behavior=Zh(n.pages),this.fetchQuery(n)}prefetchInfiniteQuery(n){return this.fetchInfiniteQuery(n).then(Bt).catch(Bt)}ensureInfiniteQueryData(n){return n.behavior=Zh(n.pages),this.ensureQueryData(n)}resumePausedMutations(){return Do.isOnline()?N(this,Br).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,Le)}getMutationCache(){return N(this,Br)}getDefaultOptions(){return N(this,qr)}setDefaultOptions(n){ae(this,qr,n)}setQueryDefaults(n,t){N(this,os).set(oi(n),{queryKey:n,defaultOptions:t})}getQueryDefaults(n){const t=[...N(this,os).values()],s={};return t.forEach(o=>{ai(n,o.queryKey)&&Object.assign(s,o.defaultOptions)}),s}setMutationDefaults(n,t){N(this,as).set(oi(n),{mutationKey:n,defaultOptions:t})}getMutationDefaults(n){const t=[...N(this,as).values()],s={};return t.forEach(o=>{ai(n,o.mutationKey)&&Object.assign(s,o.defaultOptions)}),s}defaultQueryOptions(n){if(n._defaulted)return n;const t={...N(this,qr).queries,...this.getQueryDefaults(n.queryKey),...n,_defaulted:!0};return t.queryHash||(t.queryHash=Nu(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Lu&&(t.enabled=!1),t}defaultMutationOptions(n){return n!=null&&n._defaulted?n:{...N(this,qr).mutations,...(n==null?void 0:n.mutationKey)&&this.getMutationDefaults(n.mutationKey),...n,_defaulted:!0}}clear(){N(this,Le).clear(),N(this,Br).clear()}},Le=new WeakMap,Br=new WeakMap,qr=new WeakMap,os=new WeakMap,as=new WeakMap,Vr=new WeakMap,ls=new WeakMap,us=new WeakMap,qf),Xf=L.createContext(void 0),J_=n=>{const t=L.useContext(Xf);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},pg=({client:n,children:t})=>(L.useEffect(()=>(n.mount(),()=>{n.unmount()}),[n]),F.jsx(Xf.Provider,{value:n,children:t}));Wf();/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function li(){return li=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},li.apply(this,arguments)}var Wr;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Wr||(Wr={}));const tf="popstate";function mg(n){n===void 0&&(n={});function t(l,u){let{pathname:d="/",search:f="",hash:p=""}=wn(l.location.hash.substr(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),yu("",{pathname:d,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function s(l,u){let d=l.document.querySelector("base"),f="";if(d&&d.getAttribute("href")){let p=l.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof u=="string"?u:Mo(u))}function o(l,u){Ko(l.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(u)+")")}return gg(t,s,o,n)}function je(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Ko(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function yg(){return Math.random().toString(36).substr(2,8)}function rf(n,t){return{usr:n.state,key:n.key,idx:t}}function yu(n,t,s,o){return s===void 0&&(s=null),li({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?wn(t):t,{state:s,key:t&&t.key||o||yg()})}function Mo(n){let{pathname:t="/",search:s="",hash:o=""}=n;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),o&&o!=="#"&&(t+=o.charAt(0)==="#"?o:"#"+o),t}function wn(n){let t={};if(n){let s=n.indexOf("#");s>=0&&(t.hash=n.substr(s),n=n.substr(0,s));let o=n.indexOf("?");o>=0&&(t.search=n.substr(o),n=n.substr(0,o)),n&&(t.pathname=n)}return t}function gg(n,t,s,o){o===void 0&&(o={});let{window:l=document.defaultView,v5Compat:u=!1}=o,d=l.history,f=Wr.Pop,p=null,y=g();y==null&&(y=0,d.replaceState(li({},d.state,{idx:y}),""));function g(){return(d.state||{idx:null}).idx}function w(){f=Wr.Pop;let x=g(),j=x==null?null:x-y;y=x,p&&p({action:f,location:R.location,delta:j})}function S(x,j){f=Wr.Push;let U=yu(R.location,x,j);s&&s(U,x),y=g()+1;let A=rf(U,y),I=R.createHref(U);try{d.pushState(A,"",I)}catch(Z){if(Z instanceof DOMException&&Z.name==="DataCloneError")throw Z;l.location.assign(I)}u&&p&&p({action:f,location:R.location,delta:1})}function E(x,j){f=Wr.Replace;let U=yu(R.location,x,j);s&&s(U,x),y=g();let A=rf(U,y),I=R.createHref(U);d.replaceState(A,"",I),u&&p&&p({action:f,location:R.location,delta:0})}function C(x){let j=l.location.origin!=="null"?l.location.origin:l.location.href,U=typeof x=="string"?x:Mo(x);return U=U.replace(/ $/,"%20"),je(j,"No window.location.(origin|href) available to create URL for href: "+U),new URL(U,j)}let R={get action(){return f},get location(){return n(l,d)},listen(x){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(tf,w),p=x,()=>{l.removeEventListener(tf,w),p=null}},createHref(x){return t(l,x)},createURL:C,encodeLocation(x){let j=C(x);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:S,replace:E,go(x){return d.go(x)}};return R}var nf;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(nf||(nf={}));function vg(n,t,s){return s===void 0&&(s="/"),wg(n,t,s)}function wg(n,t,s,o){let l=typeof t=="string"?wn(t):t,u=cs(l.pathname||"/",s);if(u==null)return null;let d=Zf(n);_g(d);let f=null;for(let p=0;f==null&&p<d.length;++p){let y=Ag(u);f=Og(d[p],y)}return f}function Zf(n,t,s,o){t===void 0&&(t=[]),s===void 0&&(s=[]),o===void 0&&(o="");let l=(u,d,f)=>{let p={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};p.relativePath.startsWith("/")&&(je(p.relativePath.startsWith(o),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(o.length));let y=Hr([o,p.relativePath]),g=s.concat(p);u.children&&u.children.length>0&&(je(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Zf(u.children,t,g,y)),!(u.path==null&&!u.index)&&t.push({path:y,score:Cg(y,u.index),routesMeta:g})};return n.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))l(u,d);else for(let p of ep(u.path))l(u,d,p)}),t}function ep(n){let t=n.split("/");if(t.length===0)return[];let[s,...o]=t,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(o.length===0)return l?[u,""]:[u];let d=ep(o.join("/")),f=[];return f.push(...d.map(p=>p===""?u:[u,p].join("/"))),l&&f.push(...d),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function _g(n){n.sort((t,s)=>t.score!==s.score?s.score-t.score:Rg(t.routesMeta.map(o=>o.childrenIndex),s.routesMeta.map(o=>o.childrenIndex)))}const Sg=/^:[\w-]+$/,kg=3,Eg=2,bg=1,xg=10,Tg=-2,sf=n=>n==="*";function Cg(n,t){let s=n.split("/"),o=s.length;return s.some(sf)&&(o+=Tg),t&&(o+=Eg),s.filter(l=>!sf(l)).reduce((l,u)=>l+(Sg.test(u)?kg:u===""?bg:xg),o)}function Rg(n,t){return n.length===t.length&&n.slice(0,-1).every((o,l)=>o===t[l])?n[n.length-1]-t[t.length-1]:0}function Og(n,t,s){let{routesMeta:o}=n,l={},u="/",d=[];for(let f=0;f<o.length;++f){let p=o[f],y=f===o.length-1,g=u==="/"?t:t.slice(u.length)||"/",w=gu({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},g),S=p.route;if(!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:Hr([u,w.pathname]),pathnameBase:Ug(Hr([u,w.pathnameBase])),route:S}),w.pathnameBase!=="/"&&(u=Hr([u,w.pathnameBase]))}return d}function gu(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[s,o]=Pg(n.path,n.caseSensitive,n.end),l=t.match(s);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),f=l.slice(1);return{params:o.reduce((y,g,w)=>{let{paramName:S,isOptional:E}=g;if(S==="*"){let R=f[w]||"";d=u.slice(0,u.length-R.length).replace(/(.)\/+$/,"$1")}const C=f[w];return E&&!C?y[S]=void 0:y[S]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:d,pattern:n}}function Pg(n,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Ko(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],l="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),l+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":n!==""&&n!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),o]}function Ag(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ko(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function cs(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,o=n.charAt(s);return o&&o!=="/"?null:n.slice(s)||"/"}const jg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ig=n=>jg.test(n);function Ng(n,t){t===void 0&&(t="/");let{pathname:s,search:o="",hash:l=""}=typeof n=="string"?wn(n):n,u;if(s)if(Ig(s))u=s;else{if(s.includes("//")){let d=s;s=s.replace(/\/\/+/g,"/"),Ko(!1,"Pathnames cannot have embedded double slashes - normalizing "+(d+" -> "+s))}s.startsWith("/")?u=of(s.substring(1),"/"):u=of(s,t)}else u=t;return{pathname:u,search:$g(o),hash:Dg(l)}}function of(n,t){let s=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function Zl(n,t,s,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lg(n){return n.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Uu(n,t){let s=Lg(n);return t?s.map((o,l)=>l===s.length-1?o.pathname:o.pathnameBase):s.map(o=>o.pathnameBase)}function $u(n,t,s,o){o===void 0&&(o=!1);let l;typeof n=="string"?l=wn(n):(l=li({},n),je(!l.pathname||!l.pathname.includes("?"),Zl("?","pathname","search",l)),je(!l.pathname||!l.pathname.includes("#"),Zl("#","pathname","hash",l)),je(!l.search||!l.search.includes("#"),Zl("#","search","hash",l)));let u=n===""||l.pathname==="",d=u?"/":l.pathname,f;if(d==null)f=s;else{let w=t.length-1;if(!o&&d.startsWith("..")){let S=d.split("/");for(;S[0]==="..";)S.shift(),w-=1;l.pathname=S.join("/")}f=w>=0?t[w]:"/"}let p=Ng(l,f),y=d&&d!=="/"&&d.endsWith("/"),g=(u||d===".")&&s.endsWith("/");return!p.pathname.endsWith("/")&&(y||g)&&(p.pathname+="/"),p}const Hr=n=>n.join("/").replace(/\/\/+/g,"/"),Ug=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$g=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Dg=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function Mg(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const tp=["post","put","patch","delete"];new Set(tp);const zg=["get",...tp];new Set(zg);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ui(){return ui=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},ui.apply(this,arguments)}const Go=L.createContext(null),rp=L.createContext(null),pr=L.createContext(null),Qo=L.createContext(null),mr=L.createContext({outlet:null,matches:[],isDataRoute:!1}),np=L.createContext(null);function Fg(n,t){let{relative:s}=t===void 0?{}:t;hs()||je(!1);let{basename:o,navigator:l}=L.useContext(pr),{hash:u,pathname:d,search:f}=Jo(n,{relative:s}),p=d;return o!=="/"&&(p=d==="/"?o:Hr([o,d])),l.createHref({pathname:p,search:f,hash:u})}function hs(){return L.useContext(Qo)!=null}function fs(){return hs()||je(!1),L.useContext(Qo).location}function sp(n){L.useContext(pr).static||L.useLayoutEffect(n)}function ip(){let{isDataRoute:n}=L.useContext(mr);return n?ev():Bg()}function Bg(){hs()||je(!1);let n=L.useContext(Go),{basename:t,future:s,navigator:o}=L.useContext(pr),{matches:l}=L.useContext(mr),{pathname:u}=fs(),d=JSON.stringify(Uu(l,s.v7_relativeSplatPath)),f=L.useRef(!1);return sp(()=>{f.current=!0}),L.useCallback(function(y,g){if(g===void 0&&(g={}),!f.current)return;if(typeof y=="number"){o.go(y);return}let w=$u(y,JSON.parse(d),u,g.relative==="path");n==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Hr([t,w.pathname])),(g.replace?o.replace:o.push)(w,g.state,g)},[t,o,d,u,n])}function Y_(){let{matches:n}=L.useContext(mr),t=n[n.length-1];return t?t.params:{}}function Jo(n,t){let{relative:s}=t===void 0?{}:t,{future:o}=L.useContext(pr),{matches:l}=L.useContext(mr),{pathname:u}=fs(),d=JSON.stringify(Uu(l,o.v7_relativeSplatPath));return L.useMemo(()=>$u(n,JSON.parse(d),u,s==="path"),[n,d,u,s])}function qg(n,t){return Vg(n,t)}function Vg(n,t,s,o){hs()||je(!1);let{navigator:l}=L.useContext(pr),{matches:u}=L.useContext(mr),d=u[u.length-1],f=d?d.params:{};d&&d.pathname;let p=d?d.pathnameBase:"/";d&&d.route;let y=fs(),g;if(t){var w;let x=typeof t=="string"?wn(t):t;p==="/"||(w=x.pathname)!=null&&w.startsWith(p)||je(!1),g=x}else g=y;let S=g.pathname||"/",E=S;if(p!=="/"){let x=p.replace(/^\//,"").split("/");E="/"+S.replace(/^\//,"").split("/").slice(x.length).join("/")}let C=vg(n,{pathname:E}),R=Qg(C&&C.map(x=>Object.assign({},x,{params:Object.assign({},f,x.params),pathname:Hr([p,l.encodeLocation?l.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?p:Hr([p,l.encodeLocation?l.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),u,s,o);return t&&R?L.createElement(Qo.Provider,{value:{location:ui({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Wr.Pop}},R):R}function Wg(){let n=Zg(),t=Mg(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),s=n instanceof Error?n.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),s?L.createElement("pre",{style:l},s):null,null)}const Hg=L.createElement(Wg,null);class Kg extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?L.createElement(mr.Provider,{value:this.props.routeContext},L.createElement(np.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gg(n){let{routeContext:t,match:s,children:o}=n,l=L.useContext(Go);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),L.createElement(mr.Provider,{value:t},o)}function Qg(n,t,s,o){var l;if(t===void 0&&(t=[]),s===void 0&&(s=null),o===void 0&&(o=null),n==null){var u;if(!s)return null;if(s.errors)n=s.matches;else if((u=o)!=null&&u.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)n=s.matches;else return null}let d=n,f=(l=s)==null?void 0:l.errors;if(f!=null){let g=d.findIndex(w=>w.route.id&&(f==null?void 0:f[w.route.id])!==void 0);g>=0||je(!1),d=d.slice(0,Math.min(d.length,g+1))}let p=!1,y=-1;if(s&&o&&o.v7_partialHydration)for(let g=0;g<d.length;g++){let w=d[g];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(y=g),w.route.id){let{loaderData:S,errors:E}=s,C=w.route.loader&&S[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||C){p=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((g,w,S)=>{let E,C=!1,R=null,x=null;s&&(E=f&&w.route.id?f[w.route.id]:void 0,R=w.route.errorElement||Hg,p&&(y<0&&S===0?(tv("route-fallback"),C=!0,x=null):y===S&&(C=!0,x=w.route.hydrateFallbackElement||null)));let j=t.concat(d.slice(0,S+1)),U=()=>{let A;return E?A=R:C?A=x:w.route.Component?A=L.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=g,L.createElement(Gg,{match:w,routeContext:{outlet:g,matches:j,isDataRoute:s!=null},children:A})};return s&&(w.route.ErrorBoundary||w.route.errorElement||S===0)?L.createElement(Kg,{location:s.location,revalidation:s.revalidation,component:R,error:E,children:U(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):U()},null)}var op=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(op||{}),ap=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(ap||{});function Jg(n){let t=L.useContext(Go);return t||je(!1),t}function Yg(n){let t=L.useContext(rp);return t||je(!1),t}function Xg(n){let t=L.useContext(mr);return t||je(!1),t}function lp(n){let t=Xg(),s=t.matches[t.matches.length-1];return s.route.id||je(!1),s.route.id}function Zg(){var n;let t=L.useContext(np),s=Yg(),o=lp();return t!==void 0?t:(n=s.errors)==null?void 0:n[o]}function ev(){let{router:n}=Jg(op.UseNavigateStable),t=lp(ap.UseNavigateStable),s=L.useRef(!1);return sp(()=>{s.current=!0}),L.useCallback(function(l,u){u===void 0&&(u={}),s.current&&(typeof l=="number"?n.navigate(l):n.navigate(l,ui({fromRouteId:t},u)))},[n,t])}const af={};function tv(n,t,s){af[n]||(af[n]=!0)}function rv(n,t){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function nv(n){let{to:t,replace:s,state:o,relative:l}=n;hs()||je(!1);let{future:u,static:d}=L.useContext(pr),{matches:f}=L.useContext(mr),{pathname:p}=fs(),y=ip(),g=$u(t,Uu(f,u.v7_relativeSplatPath),p,l==="path"),w=JSON.stringify(g);return L.useEffect(()=>y(JSON.parse(w),{replace:s,state:o,relative:l}),[y,w,l,s,o]),null}function Ye(n){je(!1)}function sv(n){let{basename:t="/",children:s=null,location:o,navigationType:l=Wr.Pop,navigator:u,static:d=!1,future:f}=n;hs()&&je(!1);let p=t.replace(/^\/*/,"/"),y=L.useMemo(()=>({basename:p,navigator:u,static:d,future:ui({v7_relativeSplatPath:!1},f)}),[p,f,u,d]);typeof o=="string"&&(o=wn(o));let{pathname:g="/",search:w="",hash:S="",state:E=null,key:C="default"}=o,R=L.useMemo(()=>{let x=cs(g,p);return x==null?null:{location:{pathname:x,search:w,hash:S,state:E,key:C},navigationType:l}},[p,g,w,S,E,C,l]);return R==null?null:L.createElement(pr.Provider,{value:y},L.createElement(Qo.Provider,{children:s,value:R}))}function iv(n){let{children:t,location:s}=n;return qg(vu(t),s)}new Promise(()=>{});function vu(n,t){t===void 0&&(t=[]);let s=[];return L.Children.forEach(n,(o,l)=>{if(!L.isValidElement(o))return;let u=[...t,l];if(o.type===L.Fragment){s.push.apply(s,vu(o.props.children,u));return}o.type!==Ye&&je(!1),!o.props.index||!o.props.children||je(!1);let d={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(d.children=vu(o.props.children,u)),s.push(d)}),s}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zo(){return zo=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])}return n},zo.apply(this,arguments)}function up(n,t){if(n==null)return{};var s={},o=Object.keys(n),l,u;for(u=0;u<o.length;u++)l=o[u],!(t.indexOf(l)>=0)&&(s[l]=n[l]);return s}function ov(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function av(n,t){return n.button===0&&(!t||t==="_self")&&!ov(n)}const lv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uv=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],cv="6";try{window.__reactRouterVersion=cv}catch{}const dv=L.createContext({isTransitioning:!1}),hv="startTransition",lf=Ny[hv];function fv(n){let{basename:t,children:s,future:o,window:l}=n,u=L.useRef();u.current==null&&(u.current=mg({window:l,v5Compat:!0}));let d=u.current,[f,p]=L.useState({action:d.action,location:d.location}),{v7_startTransition:y}=o||{},g=L.useCallback(w=>{y&&lf?lf(()=>p(w)):p(w)},[p,y]);return L.useLayoutEffect(()=>d.listen(g),[d,g]),L.useEffect(()=>rv(o),[o]),L.createElement(sv,{basename:t,children:s,location:f.location,navigationType:f.action,navigator:d,future:o})}const pv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yv=L.forwardRef(function(t,s){let{onClick:o,relative:l,reloadDocument:u,replace:d,state:f,target:p,to:y,preventScrollReset:g,viewTransition:w}=t,S=up(t,lv),{basename:E}=L.useContext(pr),C,R=!1;if(typeof y=="string"&&mv.test(y)&&(C=y,pv))try{let A=new URL(window.location.href),I=y.startsWith("//")?new URL(A.protocol+y):new URL(y),Z=cs(I.pathname,E);I.origin===A.origin&&Z!=null?y=Z+I.search+I.hash:R=!0}catch{}let x=Fg(y,{relative:l}),j=wv(y,{replace:d,state:f,target:p,preventScrollReset:g,relative:l,viewTransition:w});function U(A){o&&o(A),A.defaultPrevented||j(A)}return L.createElement("a",zo({},S,{href:C||x,onClick:R||u?o:U,ref:s,target:p}))}),gv=L.forwardRef(function(t,s){let{"aria-current":o="page",caseSensitive:l=!1,className:u="",end:d=!1,style:f,to:p,viewTransition:y,children:g}=t,w=up(t,uv),S=Jo(p,{relative:w.relative}),E=fs(),C=L.useContext(rp),{navigator:R,basename:x}=L.useContext(pr),j=C!=null&&_v(S)&&y===!0,U=R.encodeLocation?R.encodeLocation(S).pathname:S.pathname,A=E.pathname,I=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;l||(A=A.toLowerCase(),I=I?I.toLowerCase():null,U=U.toLowerCase()),I&&x&&(I=cs(I,x)||I);const Z=U!=="/"&&U.endsWith("/")?U.length-1:U.length;let G=A===U||!d&&A.startsWith(U)&&A.charAt(Z)==="/",re=I!=null&&(I===U||!d&&I.startsWith(U)&&I.charAt(U.length)==="/"),ge={isActive:G,isPending:re,isTransitioning:j},_e=G?o:void 0,fe;typeof u=="function"?fe=u(ge):fe=[u,G?"active":null,re?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let be=typeof f=="function"?f(ge):f;return L.createElement(yv,zo({},w,{"aria-current":_e,className:fe,ref:s,style:be,to:p,viewTransition:y}),typeof g=="function"?g(ge):g)});var wu;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(wu||(wu={}));var uf;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(uf||(uf={}));function vv(n){let t=L.useContext(Go);return t||je(!1),t}function wv(n,t){let{target:s,replace:o,state:l,preventScrollReset:u,relative:d,viewTransition:f}=t===void 0?{}:t,p=ip(),y=fs(),g=Jo(n,{relative:d});return L.useCallback(w=>{if(av(w,s)){w.preventDefault();let S=o!==void 0?o:Mo(y)===Mo(g);p(n,{replace:S,state:l,preventScrollReset:u,relative:d,viewTransition:f})}},[y,p,g,o,l,s,n,u,d,f])}function _v(n,t){t===void 0&&(t={});let s=L.useContext(dv);s==null&&je(!1);let{basename:o}=vv(wu.useViewTransitionState),l=Jo(n,{relative:t.relative});if(!s.isTransitioning)return!1;let u=cs(s.currentLocation.pathname,o)||s.currentLocation.pathname,d=cs(s.nextLocation.pathname,o)||s.nextLocation.pathname;return gu(l.pathname,d)!=null||gu(l.pathname,u)!=null}const Sv="modulepreload",kv=function(n){return"/MoviNesta/admin/"+n},cf={},st=function(t,s,o){let l=Promise.resolve();if(s&&s.length>0){let d=function(y){return Promise.all(y.map(g=>Promise.resolve(g).then(w=>({status:"fulfilled",value:w}),w=>({status:"rejected",reason:w}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),p=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));l=d(s.map(y=>{if(y=kv(y),y in cf)return;cf[y]=!0;const g=y.endsWith(".css"),w=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${y}"]${w}`))return;const S=document.createElement("link");if(S.rel=g?"stylesheet":Sv,g||(S.as="script"),S.crossOrigin="",S.href=y,p&&S.setAttribute("nonce",p),document.head.appendChild(S),g)return new Promise((E,C)=>{S.addEventListener("load",E),S.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${y}`)))})}))}function u(d){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=d,window.dispatchEvent(f),!f.defaultPrevented)throw d}return l.then(d=>{for(const f of d||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};function Yo(n,t){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&t.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(n);l<o.length;l++)t.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(n,o[l])&&(s[o[l]]=n[o[l]]);return s}function Ev(n,t,s,o){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function f(g){try{y(o.next(g))}catch(w){d(w)}}function p(g){try{y(o.throw(g))}catch(w){d(w)}}function y(g){g.done?u(g.value):l(g.value).then(f,p)}y((o=o.apply(n,t||[])).next())})}const bv=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);class Du extends Error{constructor(t,s="FunctionsError",o){super(t),this.name=s,this.context=o}}class xv extends Du{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class df extends Du{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hf extends Du{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var _u;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(_u||(_u={}));class Tv{constructor(t,{headers:s={},customFetch:o,region:l=_u.Any}={}){this.url=t,this.headers=s,this.region=l,this.fetch=bv(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Ev(this,arguments,void 0,function*(s,o={}){var l;let u,d;try{const{headers:f,method:p,body:y,signal:g,timeout:w}=o;let S={},{region:E}=o;E||(E=this.region);const C=new URL(`${this.url}/${s}`);E&&E!=="any"&&(S["x-region"]=E,C.searchParams.set("forceFunctionRegion",E));let R;y&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&y instanceof Blob||y instanceof ArrayBuffer?(S["Content-Type"]="application/octet-stream",R=y):typeof y=="string"?(S["Content-Type"]="text/plain",R=y):typeof FormData<"u"&&y instanceof FormData?R=y:(S["Content-Type"]="application/json",R=JSON.stringify(y)):y&&typeof y!="string"&&!(typeof Blob<"u"&&y instanceof Blob)&&!(y instanceof ArrayBuffer)&&!(typeof FormData<"u"&&y instanceof FormData)?R=JSON.stringify(y):R=y;let x=g;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),g?(x=d.signal,g.addEventListener("abort",()=>d.abort())):x=d.signal);const j=yield this.fetch(C.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},S),this.headers),f),body:R,signal:x}).catch(Z=>{throw new xv(Z)}),U=j.headers.get("x-relay-error");if(U&&U==="true")throw new df(j);if(!j.ok)throw new hf(j);let A=((l=j.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),I;return A==="application/json"?I=yield j.json():A==="application/octet-stream"||A==="application/pdf"?I=yield j.blob():A==="text/event-stream"?I=j:A==="multipart/form-data"?I=yield j.formData():I=yield j.text(),{data:I,error:null,response:j}}catch(f){return{data:null,error:f,response:f instanceof hf||f instanceof df?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var Cv=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}},Rv=class{constructor(n){var t,s;this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=new Headers(n.headers),this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=(t=n.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=n.signal,this.isMaybeSingle=(s=n.isMaybeSingle)!==null&&s!==void 0?s:!1,n.fetch?this.fetch=n.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=new Headers(this.headers),this.headers.set(n,t),this}then(n,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let l=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let d=null,f=null,p=null,y=u.status,g=u.statusText;if(u.ok){var w,S;if(s.method!=="HEAD"){var E;const j=await u.text();j===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((E=s.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?f=j:f=JSON.parse(j))}const R=(w=s.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),x=(S=u.headers.get("content-range"))===null||S===void 0?void 0:S.split("/");R&&x&&x.length>1&&(p=parseInt(x[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,p=null,y=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var C;const R=await u.text();try{d=JSON.parse(R),Array.isArray(d)&&u.status===404&&(f=[],d=null,y=200,g="OK")}catch{u.status===404&&R===""?(y=204,g="No Content"):d={message:R}}if(d&&s.isMaybeSingle&&(!(d==null||(C=d.details)===null||C===void 0)&&C.includes("0 rows"))&&(d=null,y=200,g="OK"),d&&s.shouldThrowOnError)throw new Cv(d)}return{error:d,data:f,count:p,status:y,statusText:g}});return this.shouldThrowOnError||(l=l.catch(u=>{var d;let f="";const p=u==null?void 0:u.cause;if(p){var y,g,w,S;const C=(y=p==null?void 0:p.message)!==null&&y!==void 0?y:"",R=(g=p==null?void 0:p.code)!==null&&g!==void 0?g:"";f=`${(w=u==null?void 0:u.name)!==null&&w!==void 0?w:"FetchError"}: ${u==null?void 0:u.message}`,f+=`

Caused by: ${(S=p==null?void 0:p.name)!==null&&S!==void 0?S:"Error"}: ${C}`,R&&(f+=` (${R})`),p!=null&&p.stack&&(f+=`
${p.stack}`)}else{var E;f=(E=u==null?void 0:u.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),l.then(n,t)}returns(){return this}overrideTypes(){return this}},Ov=class extends Rv{select(n){let t=!1;const s=(n??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(n,{ascending:t=!0,nullsFirst:s,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${n}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:s=t}={}){const o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${n}`),this}range(n,t,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(u,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:n=!1,verbose:t=!1,settings:s=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[n?"analyze":null,t?"verbose":null,s?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(n){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${n}`),this}};const ff=new RegExp("[,()]");var Yn=class extends Ov{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}regexMatch(n,t){return this.url.searchParams.append(n,`match.${t}`),this}regexIMatch(n,t){return this.url.searchParams.append(n,`imatch.${t}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}isDistinct(n,t){return this.url.searchParams.append(n,`isdistinct.${t}`),this}in(n,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&ff.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`in.(${s})`),this}notIn(n,t){const s=Array.from(new Set(t)).map(o=>typeof o=="string"&&ff.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(n,`not.in.(${s})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:s,type:o}={}){let l="";o==="plain"?l="pl":o==="phrase"?l="ph":o==="websearch"&&(l="w");const u=s===void 0?"":`(${s})`;return this.url.searchParams.append(n,`${l}fts${u}.${t}`),this}match(n){return Object.entries(n).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(n,t,s){return this.url.searchParams.append(n,`not.${t}.${s}`),this}or(n,{foreignTable:t,referencedTable:s=t}={}){const o=s?`${s}.or`:"or";return this.url.searchParams.append(o,`(${n})`),this}filter(n,t,s){return this.url.searchParams.append(n,`${t}.${s}`),this}},Pv=class{constructor(n,{headers:t={},schema:s,fetch:o}){this.url=n,this.headers=new Headers(t),this.schema=s,this.fetch=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(n,t){const{head:s=!1,count:o}=t??{},l=s?"HEAD":"GET";let u=!1;const d=(n??"*").split("").map(y=>/\s/.test(y)&&!u?"":(y==='"'&&(u=!u),y)).join(""),{url:f,headers:p}=this.cloneRequestState();return f.searchParams.set("select",d),o&&p.append("Prefer",`count=${o}`),new Yn({method:l,url:f,headers:p,schema:this.schema,fetch:this.fetch})}insert(n,{count:t,defaultToNull:s=!0}={}){var o;const l="POST",{url:u,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),s||d.append("Prefer","missing=default"),Array.isArray(n)){const f=n.reduce((p,y)=>p.concat(Object.keys(y)),[]);if(f.length>0){const p=[...new Set(f)].map(y=>`"${y}"`);u.searchParams.set("columns",p.join(","))}}return new Yn({method:l,url:u,headers:d,schema:this.schema,body:n,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(n,{onConflict:t,ignoreDuplicates:s=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST",{url:f,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),o&&p.append("Prefer",`count=${o}`),l||p.append("Prefer","missing=default"),Array.isArray(n)){const y=n.reduce((g,w)=>g.concat(Object.keys(w)),[]);if(y.length>0){const g=[...new Set(y)].map(w=>`"${w}"`);f.searchParams.set("columns",g.join(","))}}return new Yn({method:d,url:f,headers:p,schema:this.schema,body:n,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(n,{count:t}={}){var s;const o="PATCH",{url:l,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new Yn({method:o,url:l,headers:u,schema:this.schema,body:n,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:n}={}){var t;const s="DELETE",{url:o,headers:l}=this.cloneRequestState();return n&&l.append("Prefer",`count=${n}`),new Yn({method:s,url:o,headers:l,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Av=class cp{constructor(t,{headers:s={},schema:o,fetch:l}={}){this.url=t,this.headers=new Headers(s),this.schemaName=o,this.fetch=l}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pv(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new cp(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,s={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const p=new URL(`${this.url}/rpc/${t}`);let y;const g=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(g)),w=o&&Object.values(s).some(g);w?(f="POST",y=s):o||l?(f=o?"HEAD":"GET",Object.entries(s).filter(([E,C])=>C!==void 0).map(([E,C])=>[E,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([E,C])=>{p.searchParams.append(E,C)})):(f="POST",y=s);const S=new Headers(this.headers);return w?S.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&S.set("Prefer",`count=${u}`),new Yn({method:f,url:p,headers:S,schema:this.schemaName,body:y,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}};class jv{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const o=s.versions;if(o&&o.node){const l=o.node,u=parseInt(l.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const o=this.getWebSocketConstructor();return new o(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Iv="2.90.1",Nv=`realtime-js/${Iv}`,dp="1.0.0",Lv="2.0.0",pf=dp,Su=1e4,Uv=1e3,$v=100;var $r;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})($r||($r={}));var qe;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(qe||(qe={}));var Ht;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Ht||(Ht={}));var ku;(function(n){n.websocket="websocket"})(ku||(ku={}));var cn;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(cn||(cn={}));class Dv{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,o;const l=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(t){var s,o;const l=(o=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&o!==void 0?o:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,o){var l,u;const d=t.topic,f=(l=t.ref)!==null&&l!==void 0?l:"",p=(u=t.join_ref)!==null&&u!==void 0?u:"",y=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},w=Object.keys(g).length===0?"":JSON.stringify(g);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`userEvent length ${y.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const S=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+f.length+d.length+y.length+w.length,E=new ArrayBuffer(this.HEADER_LENGTH+S);let C=new DataView(E),R=0;C.setUint8(R++,this.KINDS.userBroadcastPush),C.setUint8(R++,p.length),C.setUint8(R++,f.length),C.setUint8(R++,d.length),C.setUint8(R++,y.length),C.setUint8(R++,w.length),C.setUint8(R++,s),Array.from(p,j=>C.setUint8(R++,j.charCodeAt(0))),Array.from(f,j=>C.setUint8(R++,j.charCodeAt(0))),Array.from(d,j=>C.setUint8(R++,j.charCodeAt(0))),Array.from(y,j=>C.setUint8(R++,j.charCodeAt(0))),Array.from(w,j=>C.setUint8(R++,j.charCodeAt(0)));var x=new Uint8Array(E.byteLength+o.byteLength);return x.set(new Uint8Array(E),0),x.set(new Uint8Array(o),E.byteLength),x.buffer}decode(t,s){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return s(o)}if(typeof t=="string"){const o=JSON.parse(t),[l,u,d,f,p]=o;return s({join_ref:l,ref:u,topic:d,event:f,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),o=s.getUint8(0),l=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,l)}}_decodeUserBroadcast(t,s,o){const l=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let p=this.HEADER_LENGTH+4;const y=o.decode(t.slice(p,p+l));p=p+l;const g=o.decode(t.slice(p,p+u));p=p+u;const w=o.decode(t.slice(p,p+d));p=p+d;const S=t.slice(p,t.byteLength),E=f===this.JSON_ENCODING?JSON.parse(o.decode(S)):S,C={type:this.BROADCAST_EVENT,event:g,payload:E};return d>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:y,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>s.includes(o)))}}class hp{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ee;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ee||(Ee={}));const mf=(n,t,s={})=>{var o;const l=(o=s.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((u,d)=>(u[d]=Mv(d,n,t,l),u),{}):{}},Mv=(n,t,s,o)=>{const l=t.find(f=>f.name===n),u=l==null?void 0:l.type,d=s[n];return u&&!o.includes(u)?fp(u,d):Eu(d)},fp=(n,t)=>{if(n.charAt(0)==="_"){const s=n.slice(1,n.length);return qv(t,s)}switch(n){case Ee.bool:return zv(t);case Ee.float4:case Ee.float8:case Ee.int2:case Ee.int4:case Ee.int8:case Ee.numeric:case Ee.oid:return Fv(t);case Ee.json:case Ee.jsonb:return Bv(t);case Ee.timestamp:return Vv(t);case Ee.abstime:case Ee.date:case Ee.daterange:case Ee.int4range:case Ee.int8range:case Ee.money:case Ee.reltime:case Ee.text:case Ee.time:case Ee.timestamptz:case Ee.timetz:case Ee.tsrange:case Ee.tstzrange:return Eu(t);default:return Eu(t)}},Eu=n=>n,zv=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},Fv=n=>{if(typeof n=="string"){const t=parseFloat(n);if(!Number.isNaN(t))return t}return n},Bv=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch{return n}return n},qv=(n,t)=>{if(typeof n!="string")return n;const s=n.length-1,o=n[s];if(n[0]==="{"&&o==="}"){let u;const d=n.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>fp(t,f))}return n},Vv=n=>typeof n=="string"?n.replace(" ","T"):n,pp=n=>{const t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class eu{constructor(t,s,o={},l=Su){this.channel=t,this.event=s,this.payload=o,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var o;return this._hasReceived(t)&&s((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yf;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(yf||(yf={}));class ni{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ni.syncState(this.state,l,u,d),this.pendingDiffs.forEach(p=>{this.state=ni.syncDiff(this.state,p,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(o.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ni.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,o,l){const u=this.cloneDeep(t),d=this.transformState(s),f={},p={};return this.map(u,(y,g)=>{d[y]||(p[y]=g)}),this.map(d,(y,g)=>{const w=u[y];if(w){const S=g.map(x=>x.presence_ref),E=w.map(x=>x.presence_ref),C=g.filter(x=>E.indexOf(x.presence_ref)<0),R=w.filter(x=>S.indexOf(x.presence_ref)<0);C.length>0&&(f[y]=C),R.length>0&&(p[y]=R)}else f[y]=g}),this.syncDiff(u,{joins:f,leaves:p},o,l)}static syncDiff(t,s,o,l){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return o||(o=()=>{}),l||(l=()=>{}),this.map(u,(f,p)=>{var y;const g=(y=t[f])!==null&&y!==void 0?y:[];if(t[f]=this.cloneDeep(p),g.length>0){const w=t[f].map(E=>E.presence_ref),S=g.filter(E=>w.indexOf(E.presence_ref)<0);t[f].unshift(...S)}o(f,g,p)}),this.map(d,(f,p)=>{let y=t[f];if(!y)return;const g=p.map(w=>w.presence_ref);y=y.filter(w=>g.indexOf(w.presence_ref)<0),t[f]=y,l(f,y,p),y.length===0&&delete t[f]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(o=>s(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,o)=>{const l=t[o];return"metas"in l?s[o]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[o]=l,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gf;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(gf||(gf={}));var si;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(si||(si={}));var hr;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(hr||(hr={}));class es{constructor(t,s={config:{}},o){var l,u;if(this.topic=t,this.params=s,this.socket=o,this.bindings={},this.state=qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new eu(this,Ht.join,this.params,this.timeout),this.rejoinTimer=new hp(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=qe.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ht.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new ni(this),this.broadcastEndpointURL=pp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var o,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==qe.closed){const{config:{broadcast:d,presence:f,private:p}}=this.params,y=(l=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(E=>E.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[si.PRESENCE]&&this.bindings[si.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},S={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:y,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>t==null?void 0:t(hr.CHANNEL_ERROR,E)),this._onClose(()=>t==null?void 0:t(hr.CLOSED)),this.updateJoinPayload(Object.assign({config:S},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:E})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){t==null||t(hr.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,x=(C=R==null?void 0:R.length)!==null&&C!==void 0?C:0,j=[];for(let U=0;U<x;U++){const A=R[U],{filter:{event:I,schema:Z,table:G,filter:re}}=A,ge=E&&E[U];if(ge&&ge.event===I&&es.isFilterValueEqual(ge.schema,Z)&&es.isFilterValueEqual(ge.table,G)&&es.isFilterValueEqual(ge.filter,re))j.push(Object.assign(Object.assign({},A),{id:ge.id}));else{this.unsubscribe(),this.state=qe.errored,t==null||t(hr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(hr.SUBSCRIBED);return}}).receive("error",E=>{this.state=qe.errored,t==null||t(hr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(hr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,o){return this.state===qe.joined&&t===si.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,o)}async httpSend(t,s,o={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=o.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let p=f.statusText;try{const y=await f.json();p=y.error||y.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var o,l;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const y=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);return await((l=y.body)===null||l===void 0?void 0:l.cancel()),y.ok?"ok":"error"}catch(y){return y.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,p;const y=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||p===void 0)&&p.ack)&&u("ok"),y.receive("ok",()=>u("ok")),y.receive("error",()=>u("error")),y.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=qe.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ht.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(l=>{o=new eu(this,Ht.leave,{},t),o.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=qe.closed,this.bindings={}}async _fetchWithTimeout(t,s,o){const l=new AbortController,u=setTimeout(()=>l.abort(),o),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),d}_push(t,s,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new eu(this,t,s,o);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>$v){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,o){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,o){var l,u;const d=t.toLocaleLowerCase(),{close:f,error:p,leave:y,join:g}=Ht;if(o&&[f,p,y,g].indexOf(d)>=0&&o!==this._joinRef())return;let S=this._onMessage(d,s,o);if(s&&!S)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(E=>{var C,R,x;return((C=E.filter)===null||C===void 0?void 0:C.event)==="*"||((x=(R=E.filter)===null||R===void 0?void 0:R.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===d}).map(E=>E.callback(S,o)):(u=this.bindings[d])===null||u===void 0||u.filter(E=>{var C,R,x,j,U,A,I,Z;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in E){const G=E.id,re=(C=E.filter)===null||C===void 0?void 0:C.event;return G&&((R=s.ids)===null||R===void 0?void 0:R.includes(G))&&(re==="*"||(re==null?void 0:re.toLocaleLowerCase())===((x=s.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))&&(!(!((j=E.filter)===null||j===void 0)&&j.table)||E.filter.table===((U=s.data)===null||U===void 0?void 0:U.table))}else{const G=(I=(A=E==null?void 0:E.filter)===null||A===void 0?void 0:A.event)===null||I===void 0?void 0:I.toLocaleLowerCase();return G==="*"||G===((Z=s==null?void 0:s.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===d}).map(E=>{if(typeof S=="object"&&"ids"in S){const C=S.data,{schema:R,table:x,commit_timestamp:j,type:U,errors:A}=C;S=Object.assign(Object.assign({},{schema:R,table:x,commit_timestamp:j,eventType:U,new:{},old:{},errors:A}),this._getPayloadRecords(C))}E.callback(S,o)})}_isClosed(){return this.state===qe.closed}_isJoined(){return this.state===qe.joined}_isJoining(){return this.state===qe.joining}_isLeaving(){return this.state===qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,o){const l=t.toLocaleLowerCase(),u={type:l,filter:s,callback:o};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(t,s){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&es.isEqual(l.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const o in t)if(t[o]!==s[o])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ht.close,{},t)}_onError(t){this._on(Ht.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=mf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=mf(t.columns,t.old_record)),s}}const tu=()=>{},No={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Wv=[1e3,2e3,5e3,1e4],Hv=1e4,Kv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gv{constructor(t,s){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Su,this.transport=null,this.heartbeatIntervalMs=No.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tu,this.ref=0,this.reconnectTimer=null,this.vsn=pf,this.logger=tu,this.conn=null,this.sendBuffer=[],this.serializer=new Dv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((o=s==null?void 0:s.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${ku.websocket}`,this.httpEndpoint=pp(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=jv.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,o){this.logger(t,s,o)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return cn.Connecting;case $r.open:return cn.Open;case $r.closing:return cn.Closing;default:return cn.Closed}}isConnected(){return this.connectionState()===cn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const o=`realtime:${t}`,l=this.getChannels().find(u=>u.topic===o);if(l)return l;{const u=new es(`realtime:${t}`,s,this);return this.channels.push(u),u}}push(t){const{topic:s,event:o,payload:l,ref:u}=t,d=()=>{this.encode(t,f=>{var p;(p=this.conn)===null||p===void 0||p.send(f)})};this.log("push",`${s} ${o} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Uv,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},No.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const y=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",y)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:l,payload:u,ref:d}=s,f=d?`(${d})`:"",p=u.status||"";this.log("receive",`${p} ${o} ${l} ${f}`.trim(),u),this.channels.filter(y=>y._isMember(o)).forEach(y=>y._trigger(l,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===$r.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===$r.open||this.conn.readyState===$r.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ht.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const o=t.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${t}${o}${l}`}_workerObjectUrl(t){let s;if(t)s=t;else{const o=new Blob([Kv],{type:"application/javascript"});s=URL.createObjectURL(o)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,o=!1;if(t)s=t,o=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const u={access_token:s,version:Nv};s&&l.updateJoinPayload(u),l.joinedOnce&&l._isJoined()&&l._push(Ht.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(s)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new hp(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},No.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,o,l,u,d,f,p,y,g,w,S,E;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(o=t==null?void 0:t.timeout)!==null&&o!==void 0?o:Su,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:No.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=t==null?void 0:t.heartbeatCallback)!==null&&f!==void 0?f:tu,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:pf,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(y=t==null?void 0:t.reconnectAfterMs)!==null&&y!==void 0?y:(C=>Wv[C-1]||Hv),this.vsn){case dp:this.encode=(g=t==null?void 0:t.encode)!==null&&g!==void 0?g:((C,R)=>R(JSON.stringify(C))),this.decode=(w=t==null?void 0:t.decode)!==null&&w!==void 0?w:((C,R)=>R(JSON.parse(C)));break;case Lv:this.encode=(S=t==null?void 0:t.encode)!==null&&S!==void 0?S:this.serializer.encode.bind(this.serializer),this.decode=(E=t==null?void 0:t.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var ci=class extends Error{constructor(n,t){var s;super(n),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function Qv(n,t,s){const o=new URL(t,n);if(s)for(const[l,u]of Object.entries(s))u!==void 0&&o.searchParams.set(l,u);return o.toString()}async function Jv(n){return!n||n.type==="none"?{}:n.type==="bearer"?{Authorization:`Bearer ${n.token}`}:n.type==="header"?{[n.name]:n.value}:n.type==="custom"?await n.getHeaders():{}}function Yv(n){const t=n.fetchImpl??globalThis.fetch;return{async request({method:s,path:o,query:l,body:u,headers:d}){const f=Qv(n.baseUrl,o,l),p=await Jv(n.auth),y=await t(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...p,...d},body:u?JSON.stringify(u):void 0}),g=await y.text(),w=(y.headers.get("content-type")||"").includes("application/json"),S=w&&g?JSON.parse(g):g;if(!y.ok){const E=w?S:void 0,C=E==null?void 0:E.error;throw new ci((C==null?void 0:C.message)??`Request failed with status ${y.status}`,{status:y.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:E})}return{status:y.status,headers:y.headers,data:S}}}}function Lo(n){return n.join("")}var Xv=class{constructor(n,t=""){this.client=n,this.prefix=t}async listNamespaces(n){const t=n?{parent:Lo(n.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(n,t){const s={namespace:n.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Lo(n.namespace)}`})}async loadNamespaceMetadata(n){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Lo(n.namespace)}`})).data.properties}}async namespaceExists(n){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Lo(n.namespace)}`}),!0}catch(t){if(t instanceof ci&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(n,t){try{return await this.createNamespace(n,t)}catch(s){if(s instanceof ci&&s.status===409)return;throw s}}};function Wn(n){return n.join("")}var Zv=class{constructor(n,t="",s){this.client=n,this.prefix=t,this.accessDelegation=s}async listTables(n){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wn(n.namespace)}/tables`})).data.identifiers}async createTable(n,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wn(n.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(n,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Wn(n.namespace)}/tables/${n.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(n,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Wn(n.namespace)}/tables/${n.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(n){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Wn(n.namespace)}/tables/${n.name}`,headers:t})).data.metadata}async tableExists(n){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Wn(n.namespace)}/tables/${n.name}`,headers:t}),!0}catch(s){if(s instanceof ci&&s.status===404)return!1;throw s}}async createTableIfNotExists(n,t){try{return await this.createTable(n,t)}catch(s){if(s instanceof ci&&s.status===409)return await this.loadTable({namespace:n.namespace,name:t.name});throw s}}},e0=class{constructor(n){var o;let t="v1";n.catalogName&&(t+=`/${n.catalogName}`);const s=n.baseUrl.endsWith("/")?n.baseUrl:`${n.baseUrl}/`;this.client=Yv({baseUrl:s,auth:n.auth,fetchImpl:n.fetch}),this.accessDelegation=(o=n.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new Xv(this.client,t),this.tableOps=new Zv(this.client,t,this.accessDelegation)}async listNamespaces(n){return this.namespaceOps.listNamespaces(n)}async createNamespace(n,t){return this.namespaceOps.createNamespace(n,t)}async dropNamespace(n){await this.namespaceOps.dropNamespace(n)}async loadNamespaceMetadata(n){return this.namespaceOps.loadNamespaceMetadata(n)}async listTables(n){return this.tableOps.listTables(n)}async createTable(n,t){return this.tableOps.createTable(n,t)}async updateTable(n,t){return this.tableOps.updateTable(n,t)}async dropTable(n,t){await this.tableOps.dropTable(n,t)}async loadTable(n){return this.tableOps.loadTable(n)}async namespaceExists(n){return this.namespaceOps.namespaceExists(n)}async tableExists(n){return this.tableOps.tableExists(n)}async createNamespaceIfNotExists(n,t){return this.namespaceOps.createNamespaceIfNotExists(n,t)}async createTableIfNotExists(n,t){return this.tableOps.createTableIfNotExists(n,t)}},Xo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ae(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var t0=class extends Xo{constructor(n,t,s){super(n),this.name="StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bu=class extends Xo{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};const Mu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),r0=()=>Response,xu=n=>{if(Array.isArray(n))return n.map(s=>xu(s));if(typeof n=="function"||n!==Object(n))return n;const t={};return Object.entries(n).forEach(([s,o])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[l]=xu(o)}),t},n0=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},s0=n=>!n||typeof n!="string"||n.length===0||n.length>100||n.trim()!==n||n.includes("/")||n.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(n);function di(n){"@babel/helpers - typeof";return di=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},di(n)}function i0(n,t){if(di(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,t);if(di(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function o0(n){var t=i0(n,"string");return di(t)=="symbol"?t:t+""}function a0(n,t,s){return(t=o0(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function vf(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function se(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?vf(Object(s),!0).forEach(function(o){a0(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):vf(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const ru=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},l0=async(n,t,s)=>{n instanceof await r0()&&!(s!=null&&s.noResolveJson)?n.json().then(o=>{const l=n.status||500,u=(o==null?void 0:o.statusCode)||l+"";t(new t0(ru(o),l,u))}).catch(o=>{t(new bu(ru(o),o))}):t(new bu(ru(n),n))},u0=(n,t,s,o)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"||!o?l:(n0(o)?(l.headers=se({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(o)):l.body=o,t!=null&&t.duplex&&(l.duplex=t.duplex),se(se({},l),s))};async function wi(n,t,s,o,l,u){return new Promise((d,f)=>{n(s,u0(t,o,l,u)).then(p=>{if(!p.ok)throw p;return o!=null&&o.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>l0(p,f,o))})}async function hi(n,t,s,o){return wi(n,"GET",t,s,o)}async function qt(n,t,s,o,l){return wi(n,"POST",t,o,l,s)}async function Tu(n,t,s,o,l){return wi(n,"PUT",t,o,l,s)}async function c0(n,t,s,o){return wi(n,"HEAD",t,se(se({},s),{},{noResolveJson:!0}),o)}async function zu(n,t,s,o,l){return wi(n,"DELETE",t,o,l,s)}var d0=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t}then(n,t){return this.execute().then(n,t)}async execute(){var n=this;try{return{data:(await n.downloadFn()).body,error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}}};let mp;mp=Symbol.toStringTag;var h0=class{constructor(n,t){this.downloadFn=n,this.shouldThrowOnError=t,this[mp]="BlobDownloadBuilder",this.promise=null}asStream(){return new d0(this.downloadFn,this.shouldThrowOnError)}then(n,t){return this.getPromise().then(n,t)}catch(n){return this.getPromise().catch(n)}finally(n){return this.getPromise().finally(n)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var n=this;try{return{data:await(await n.downloadFn()).blob(),error:null}}catch(t){if(n.shouldThrowOnError)throw t;if(Ae(t))return{data:null,error:t};throw t}}};const f0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},wf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var p0=class{constructor(n,t={},s,o){this.shouldThrowOnError=!1,this.url=n,this.headers=t,this.bucketId=s,this.fetch=Mu(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(n,t,s,o){var l=this;try{let u;const d=se(se({},wf),o);let f=se(se({},l.headers),n==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&s instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),p&&u.append("metadata",l.encodeMetadata(p)),u.append("",s)):typeof FormData<"u"&&s instanceof FormData?(u=s,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),p&&!u.has("metadata")&&u.append("metadata",l.encodeMetadata(p))):(u=s,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,p&&(f["x-metadata"]=l.toBase64(l.encodeMetadata(p))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),o!=null&&o.headers&&(f=se(se({},f),o.headers));const y=l._removeEmptyFolders(t),g=l._getFinalPath(y),w=await(n=="PUT"?Tu:qt)(l.fetch,`${l.url}/object/${g}`,u,se({headers:f},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:y,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(l.shouldThrowOnError)throw u;if(Ae(u))return{data:null,error:u};throw u}}async upload(n,t,s){return this.uploadOrUpdate("POST",n,t,s)}async uploadToSignedUrl(n,t,s,o){var l=this;const u=l._removeEmptyFolders(n),d=l._getFinalPath(u),f=new URL(l.url+`/object/upload/sign/${d}`);f.searchParams.set("token",t);try{let p;const y=se({upsert:wf.upsert},o),g=se(se({},l.headers),{"x-upsert":String(y.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",y.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",y.cacheControl)):(p=s,g["cache-control"]=`max-age=${y.cacheControl}`,g["content-type"]=y.contentType),{data:{path:u,fullPath:(await Tu(l.fetch,f.toString(),p,{headers:g})).Key},error:null}}catch(p){if(l.shouldThrowOnError)throw p;if(Ae(p))return{data:null,error:p};throw p}}async createSignedUploadUrl(n,t){var s=this;try{let o=s._getFinalPath(n);const l=se({},s.headers);t!=null&&t.upsert&&(l["x-upsert"]="true");const u=await qt(s.fetch,`${s.url}/object/upload/sign/${o}`,{},{headers:l}),d=new URL(s.url+u.url),f=d.searchParams.get("token");if(!f)throw new Xo("No token returned by API");return{data:{signedUrl:d.toString(),path:n,token:f},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}}async update(n,t,s){return this.uploadOrUpdate("PUT",n,t,s)}async move(n,t,s){var o=this;try{return{data:await qt(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers}),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}}async copy(n,t,s){var o=this;try{return{data:{path:(await qt(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:n,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:o.headers})).Key},error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}}async createSignedUrl(n,t,s){var o=this;try{let l=o._getFinalPath(n),u=await qt(o.fetch,`${o.url}/object/sign/${l}`,se({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:o.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return u={signedUrl:encodeURI(`${o.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}}async createSignedUrls(n,t,s){var o=this;try{const l=await qt(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:n},{headers:o.headers}),u=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:l.map(d=>se(se({},d),{},{signedUrl:d.signedURL?encodeURI(`${o.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}}download(n,t){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(n),d=()=>hi(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new h0(d,this.shouldThrowOnError)}async info(n){var t=this;const s=t._getFinalPath(n);try{return{data:xu(await hi(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}}async exists(n){var t=this;const s=t._getFinalPath(n);try{return await c0(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(Ae(o)&&o instanceof bu){const l=o.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:o}}throw o}}getPublicUrl(n,t){const s=this._getFinalPath(n),o=[],l=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";l!==""&&o.push(l);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&o.push(d);let f=o.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${s}${f}`)}}}async remove(n){var t=this;try{return{data:await zu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async list(n,t,s){var o=this;try{const l=se(se(se({},f0),t),{},{prefix:n||""});return{data:await qt(o.fetch,`${o.url}/object/list/${o.bucketId}`,l,{headers:o.headers},s),error:null}}catch(l){if(o.shouldThrowOnError)throw l;if(Ae(l))return{data:null,error:l};throw l}}async listV2(n,t){var s=this;try{const o=se({},n);return{data:await qt(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,o,{headers:s.headers},t),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n.replace(/^\/+/,"")}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){const t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};const yp="2.90.1",gp={"X-Client-Info":`storage-js/${yp}`};var m0=class{constructor(n,t={},s,o){this.shouldThrowOnError=!1;const l=new URL(n);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=se(se({},gp),t),this.fetch=Mu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(n){var t=this;try{const s=t.listBucketOptionsToQueryString(n);return{data:await hi(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await hi(t.fetch,`${t.url}/bucket/${n}`,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async createBucket(n,t={public:!1}){var s=this;try{return{data:await qt(s.fetch,`${s.url}/bucket`,{id:n,name:n,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}}async updateBucket(n,t){var s=this;try{return{data:await Tu(s.fetch,`${s.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Ae(o))return{data:null,error:o};throw o}}async emptyBucket(n){var t=this;try{return{data:await qt(t.fetch,`${t.url}/bucket/${n}/empty`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await zu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}listBucketOptionsToQueryString(n){const t={};return n&&("limit"in n&&(t.limit=String(n.limit)),"offset"in n&&(t.offset=String(n.offset)),n.search&&(t.search=n.search),n.sortColumn&&(t.sortColumn=n.sortColumn),n.sortOrder&&(t.sortOrder=n.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},y0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},gp),t),this.fetch=Mu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await qt(t.fetch,`${t.url}/bucket`,{name:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async listBuckets(n){var t=this;try{const s=new URLSearchParams;(n==null?void 0:n.limit)!==void 0&&s.set("limit",n.limit.toString()),(n==null?void 0:n.offset)!==void 0&&s.set("offset",n.offset.toString()),n!=null&&n.sortColumn&&s.set("sortColumn",n.sortColumn),n!=null&&n.sortOrder&&s.set("sortOrder",n.sortOrder),n!=null&&n.search&&s.set("search",n.search);const o=s.toString(),l=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await hi(t.fetch,l,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await zu(t.fetch,`${t.url}/bucket/${n}`,{},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Ae(s))return{data:null,error:s};throw s}}from(n){var t=this;if(!s0(n))throw new Xo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new e0({baseUrl:this.url,catalogName:n,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(s,{get(l,u){const d=l[u];return typeof d!="function"?d:async(...f)=>{try{return{data:await d.apply(l,f),error:null}}catch(p){if(o)throw p;return{data:null,error:p}}}}})}};const Fu={"X-Client-Info":`storage-js/${yp}`,"Content-Type":"application/json"};var vp=class extends Error{constructor(n){super(n),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Et(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var nu=class extends vp{constructor(n,t,s){super(n),this.name="StorageVectorsApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},g0=class extends vp{constructor(n,t){super(n),this.name="StorageVectorsUnknownError",this.originalError=t}};const Bu=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),v0=n=>{if(typeof n!="object"||n===null)return!1;const t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)},_f=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),w0=async(n,t,s)=>{if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!(s!=null&&s.noResolveJson)){const o=n.status||500,l=n;if(typeof l.json=="function")l.json().then(u=>{const d=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";t(new nu(_f(u),o,d))}).catch(()=>{const u=o+"";t(new nu(l.statusText||`HTTP ${o} error`,o,u))});else{const u=o+"";t(new nu(l.statusText||`HTTP ${o} error`,o,u))}}else t(new g0(_f(n),n))},_0=(n,t,s,o)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return o?(v0(o)?(l.headers=se({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(o)):l.body=o,se(se({},l),s)):l};async function S0(n,t,s,o,l,u){return new Promise((d,f)=>{n(s,_0(t,o,l,u)).then(p=>{if(!p.ok)throw p;if(o!=null&&o.noResolveJson)return p;const y=p.headers.get("content-type");return!y||!y.includes("application/json")?{}:p.json()}).then(p=>d(p)).catch(p=>w0(p,f,o))})}async function bt(n,t,s,o,l){return S0(n,"POST",t,o,l,s)}var k0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},Fu),t),this.fetch=Bu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/CreateIndex`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async getIndex(n,t){var s=this;try{return{data:await bt(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}async listIndexes(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/ListIndexes`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async deleteIndex(n,t){var s=this;try{return{data:await bt(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:n,indexName:t},{headers:s.headers})||{},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Et(o))return{data:null,error:o};throw o}}},E0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},Fu),t),this.fetch=Bu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(n){var t=this;try{if(n.vectors.length<1||n.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await bt(t.fetch,`${t.url}/PutVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async getVectors(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/GetVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async listVectors(n){var t=this;try{if(n.segmentCount!==void 0){if(n.segmentCount<1||n.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(n.segmentIndex!==void 0&&(n.segmentIndex<0||n.segmentIndex>=n.segmentCount))throw new Error(`segmentIndex must be between 0 and ${n.segmentCount-1}`)}return{data:await bt(t.fetch,`${t.url}/ListVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async queryVectors(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/QueryVectors`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async deleteVectors(n){var t=this;try{if(n.keys.length<1||n.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await bt(t.fetch,`${t.url}/DeleteVectors`,n,{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}},b0=class{constructor(n,t={},s){this.shouldThrowOnError=!1,this.url=n.replace(/\/$/,""),this.headers=se(se({},Fu),t),this.fetch=Bu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async getBucket(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:n},{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async listBuckets(n={}){var t=this;try{return{data:await bt(t.fetch,`${t.url}/ListVectorBuckets`,n,{headers:t.headers}),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}async deleteBucket(n){var t=this;try{return{data:await bt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:n},{headers:t.headers})||{},error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Et(s))return{data:null,error:s};throw s}}},x0=class extends b0{constructor(n,t={}){super(n,t.headers||{},t.fetch)}from(n){return new T0(this.url,this.headers,n,this.fetch)}async createBucket(n){var t=()=>super.createBucket,s=this;return t().call(s,n)}async getBucket(n){var t=()=>super.getBucket,s=this;return t().call(s,n)}async listBuckets(n={}){var t=()=>super.listBuckets,s=this;return t().call(s,n)}async deleteBucket(n){var t=()=>super.deleteBucket,s=this;return t().call(s,n)}},T0=class extends k0{constructor(n,t,s,o){super(n,t,o),this.vectorBucketName=s}async createIndex(n){var t=()=>super.createIndex,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(n={}){var t=()=>super.listIndexes,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(n){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,n)}async deleteIndex(n){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,n)}index(n){return new C0(this.url,this.headers,this.vectorBucketName,n,this.fetch)}},C0=class extends E0{constructor(n,t,s,o,l){super(n,t,l),this.vectorBucketName=s,this.indexName=o}async putVectors(n){var t=()=>super.putVectors,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(n){var t=()=>super.getVectors,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(n={}){var t=()=>super.listVectors,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(n){var t=()=>super.queryVectors,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(n){var t=()=>super.deleteVectors,s=this;return t().call(s,se(se({},n),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},R0=class extends m0{constructor(n,t={},s,o){super(n,t,s,o)}from(n){return new p0(this.url,this.headers,n,this.fetch)}get vectors(){return new x0(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new y0(this.url+"/iceberg",this.headers,this.fetch)}};const wp="2.90.1",Xn=30*1e3,Cu=3,su=Cu*Xn,O0="http://localhost:9999",P0="supabase.auth.token",A0={"X-Client-Info":`gotrue-js/${wp}`},Ru="X-Supabase-Api-Version",_p={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},j0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,I0=600*1e3;class fi extends Error{constructor(t,s,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=o}}function X(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class N0 extends fi{constructor(t,s,o){super(t,s,o),this.name="AuthApiError",this.status=s,this.code=o}}function L0(n){return X(n)&&n.name==="AuthApiError"}class dn extends fi{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class yr extends fi{constructor(t,s,o,l){super(t,o,l),this.name=s,this.status=o}}class kt extends yr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function U0(n){return X(n)&&n.name==="AuthSessionMissingError"}class Hn extends yr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Uo extends yr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class $o extends yr{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $0(n){return X(n)&&n.name==="AuthImplicitGrantRedirectError"}class Sf extends yr{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class D0 extends yr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ou extends yr{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function iu(n){return X(n)&&n.name==="AuthRetryableFetchError"}class kf extends yr{constructor(t,s,o){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=o}}class Pu extends yr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ef=` 	
\r=`.split(""),M0=(()=>{const n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<Ef.length;t+=1)n[Ef[t].charCodeAt(0)]=-2;for(let t=0;t<Fo.length;t+=1)n[Fo[t].charCodeAt(0)]=t;return n})();function bf(n,t,s){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Fo[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;s(Fo[o]),t.queuedBits-=6}}function Sp(n,t,s){const o=M0[n];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function xf(n){const t=[],s=d=>{t.push(String.fromCodePoint(d))},o={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{B0(d,o,s)};for(let d=0;d<n.length;d+=1)Sp(n.charCodeAt(d),l,u);return t.join("")}function z0(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function F0(n,t){for(let s=0;s<n.length;s+=1){let o=n.charCodeAt(s);if(o>55295&&o<=56319){const l=(o-55296)*1024&65535;o=(n.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}z0(o,t)}}function B0(n,t,s){if(t.utf8seq===0){if(n<=127){s(n);return}for(let o=1;o<6;o+=1)if((n>>7-o&1)===0){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function ts(n){const t=[],s={queue:0,queuedBits:0},o=l=>{t.push(l)};for(let l=0;l<n.length;l+=1)Sp(n.charCodeAt(l),s,o);return new Uint8Array(t)}function q0(n){const t=[];return F0(n,s=>t.push(s)),new Uint8Array(t)}function hn(n){const t=[],s={queue:0,queuedBits:0},o=l=>{t.push(l)};return n.forEach(l=>bf(l,s,o)),bf(null,s,o),t.join("")}function V0(n){return Math.round(Date.now()/1e3)+n}function W0(){return Symbol("auth-callback")}const Xe=()=>typeof window<"u"&&typeof document<"u",an={tested:!1,writable:!1},kp=()=>{if(!Xe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(an.tested)return an.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),an.tested=!0,an.writable=!0}catch{an.tested=!0,an.writable=!1}return an.writable};function H0(n){const t={},s=new URL(n);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{t[u]=l})}catch{}return s.searchParams.forEach((o,l)=>{t[l]=o}),t}const Ep=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),K0=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zn=async(n,t,s)=>{await n.setItem(t,JSON.stringify(s))},ln=async(n,t)=>{const s=await n.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Je=async(n,t)=>{await n.removeItem(t)};class Zo{constructor(){this.promise=new Zo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Zo.promiseConstructor=Promise;function ou(n){const t=n.split(".");if(t.length!==3)throw new Pu("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!j0.test(t[o]))throw new Pu("JWT not in base64url format");return{header:JSON.parse(xf(t[0])),payload:JSON.parse(xf(t[1])),signature:ts(t[2]),raw:{header:t[0],payload:t[1]}}}async function G0(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function Q0(n,t){return new Promise((o,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await n(u);if(!t(u,null,d)){o(d);return}}catch(d){if(!t(u,d)){l(d);return}}})()})}function J0(n){return("0"+n.toString(16)).substr(-2)}function Y0(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*o));return l}return crypto.getRandomValues(t),Array.from(t,J0).join("")}async function X0(n){const s=new TextEncoder().encode(n),o=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(o);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Z0(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const s=await X0(n);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Kn(n,t,s=!1){const o=Y0();let l=o;s&&(l+="/PASSWORD_RECOVERY"),await Zn(n,`${t}-code-verifier`,l);const u=await Z0(o);return[u,o===u?"plain":"s256"]}const ew=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tw(n){const t=n.headers.get(Ru);if(!t||!t.match(ew))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rw(n){if(!n)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function nw(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Gn(n){if(!sw.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function au(){const n={};return new Proxy(n,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const o=s.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function iw(n,t){return new Proxy(n,{get:(s,o,l)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,o,l)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,o,l)}})}function Tf(n){return JSON.parse(JSON.stringify(n))}const un=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),ow=[502,503,504];async function Cf(n){var t;if(!K0(n))throw new Ou(un(n),0);if(ow.includes(n.status))throw new Ou(un(n),n.status);let s;try{s=await n.json()}catch(u){throw new dn(un(u),u)}let o;const l=tw(n);if(l&&l.getTime()>=_p["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?o=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(o=s.error_code),o){if(o==="weak_password")throw new kf(un(s),n.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new kf(un(s),n.status,s.weak_password.reasons);throw new N0(un(s),n.status||500,o)}const aw=(n,t,s,o)=>{const l={method:n,headers:(t==null?void 0:t.headers)||{}};return n==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(o),Object.assign(Object.assign({},l),s))};async function ne(n,t,s,o){var l;const u=Object.assign({},o==null?void 0:o.headers);u[Ru]||(u[Ru]=_p["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const d=(l=o==null?void 0:o.query)!==null&&l!==void 0?l:{};o!=null&&o.redirectTo&&(d.redirect_to=o.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await lw(n,t,s+f,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(p):{data:Object.assign({},p),error:null}}async function lw(n,t,s,o,l,u){const d=aw(t,o,l,u);let f;try{f=await n(s,Object.assign({},d))}catch(p){throw console.error(p),new Ou(un(p),0)}if(f.ok||await Cf(f),o!=null&&o.noResolveJson)return f;try{return await f.json()}catch(p){await Cf(p)}}function Ft(n){var t;let s=null;dw(n)&&(s=Object.assign({},n),n.expires_at||(s.expires_at=V0(n.expires_in)));const o=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:s,user:o},error:null}}function Rf(n){const t=Ft(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Dr(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function uw(n){return{data:n,error:null}}function cw(n){const{action_link:t,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u}=n,d=Yo(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:s,hashed_token:o,redirect_to:l,verification_type:u},p=Object.assign({},d);return{data:{properties:f,user:p},error:null}}function Of(n){return n}function dw(n){return n.access_token&&n.refresh_token&&n.expires_in}const lu=["global","local","others"];class hw{constructor({url:t="",headers:s={},fetch:o}){this.url=t,this.headers=s,this.fetch=Ep(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=lu[0]){if(lu.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lu.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(X(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,s={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Dr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:s}=t,o=Yo(t,["options"]),l=Object.assign(Object.assign({},o),s);return"newEmail"in o&&(l.new_email=o==null?void 0:o.newEmail,delete l.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:cw,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(X(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dr})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,o,l,u,d,f,p;try{const y={nextPage:null,lastPage:0,total:0},g=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Of});if(g.error)throw g.error;const w=await g.json(),S=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(p=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(C.split(";")[1].split("=")[1]);y[`${x}Page`]=R}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(X(y))return{data:{users:[]},error:y};throw y}}async getUserById(t){Gn(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dr})}catch(s){if(X(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Gn(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:Dr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,s=!1){Gn(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:Dr})}catch(o){if(X(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){Gn(t.userId);try{const{data:s,error:o}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:o}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Gn(t.userId),Gn(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,o,l,u,d,f,p;try{const y={nextPage:null,lastPage:0,total:0},g=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:"",per_page:(u=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:Of});if(g.error)throw g.error;const w=await g.json(),S=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,E=(p=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&p!==void 0?p:[];return E.length>0&&(E.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(C.split(";")[1].split("=")[1]);y[`${x}Page`]=R}),y.total=parseInt(S)),{data:Object.assign(Object.assign({},w),y),error:null}}catch(y){if(X(y))return{data:{clients:[]},error:y};throw y}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(X(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(X(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(X(s))return{data:null,error:s};throw s}}}function Pf(n={}){return{getItem:t=>n[t]||null,setItem:(t,s)=>{n[t]=s},removeItem:t=>{delete n[t]}}}const Qn={debug:!!(globalThis&&kp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class bp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fw extends bp{}async function pw(n,t,s){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async l=>{if(l){Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,l.name);try{return await s()}finally{Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,l.name)}}else{if(t===0)throw Qn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new fw(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Qn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function mw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function xp(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function yw(n){return parseInt(n,16)}function gw(n){const t=new TextEncoder().encode(n);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function vw(n){var t;const{chainId:s,domain:o,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:p,resources:y,scheme:g,uri:w,version:S}=n;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(S!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${S}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}const E=xp(n.address),C=g?`${g}://${o}`:o,R=n.statement?`${n.statement}
`:"",x=`${C} wants you to sign in with your Ethereum account:
${E}

${R}`;let j=`URI: ${w}
Version: ${S}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(j+=`
Expiration Time: ${l.toISOString()}`),f&&(j+=`
Not Before: ${f.toISOString()}`),p&&(j+=`
Request ID: ${p}`),y){let U=`
Resources:`;for(const A of y){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);U+=`
- ${A}`}j+=U}return`${x}
${j}`}class ze extends Error{constructor({message:t,code:s,cause:o,name:l}){var u;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=l??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Bo extends ze{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function ww({error:n,options:t}){var s,o,l;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new ze({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new ze({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new ze({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new ze({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new ze({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new ze({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){const d=window.location.hostname;if(Tp(d)){if(u.rp.id!==d)return new ze({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new ze({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function _w({error:n,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ze({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new ze({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){const o=window.location.hostname;if(Tp(o)){if(s.rpId!==o)return new ze({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new ze({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new ze({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new ze({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}class Sw{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const kw=new Sw;function Ew(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);const{challenge:t,user:s,excludeCredentials:o}=n,l=Yo(n,["challenge","user","excludeCredentials"]),u=ts(t).buffer,d=Object.assign(Object.assign({},s),{id:ts(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:d});if(o&&o.length>0){f.excludeCredentials=new Array(o.length);for(let p=0;p<o.length;p++){const y=o[p];f.excludeCredentials[p]=Object.assign(Object.assign({},y),{id:ts(y.id).buffer,type:y.type||"public-key",transports:y.transports})}}return f}function bw(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);const{challenge:t,allowCredentials:s}=n,o=Yo(n,["challenge","allowCredentials"]),l=ts(t).buffer,u=Object.assign(Object.assign({},o),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:ts(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function xw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n;return{id:n.id,rawId:n.id,response:{attestationObject:hn(new Uint8Array(n.response.attestationObject)),clientDataJSON:hn(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Tw(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();const s=n,o=n.getClientExtensionResults(),l=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:hn(new Uint8Array(l.authenticatorData)),clientDataJSON:hn(new Uint8Array(l.clientDataJSON)),signature:hn(new Uint8Array(l.signature)),userHandle:l.userHandle?hn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Tp(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Af(){var n,t;return!!(Xe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cw(n){try{const t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bo("Browser returned unexpected credential type",t)}:{data:null,error:new Bo("Empty credential response",t)}}catch(t){return{data:null,error:ww({error:t,options:n})}}}async function Rw(n){try{const t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Bo("Browser returned unexpected credential type",t)}:{data:null,error:new Bo("Empty credential response",t)}}catch(t){return{data:null,error:_w({error:t,options:n})}}}const Ow={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Pw={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function qo(...n){const t=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),o={};for(const l of n)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))o[u]=d;else if(s(d))o[u]=d;else if(t(d)){const f=o[u];t(f)?o[u]=qo(f,d):o[u]=qo(d)}else o[u]=d}return o}function Aw(n,t){return qo(Ow,n,t||{})}function jw(n,t){return qo(Pw,n,t||{})}class Iw{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:o,signal:l},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!d)return{data:null,error:f};const p=l??kw.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:y}=d.webauthn.credential_options.publicKey;y.name||(y.name=`${y.id}:${o}`),y.displayName||(y.displayName=y.name)}switch(d.webauthn.type){case"create":{const y=Aw(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:g,error:w}=await Cw({publicKey:y,signal:p});return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}case"request":{const y=jw(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:g,error:w}=await Rw(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:y,signal:p}));return g?{data:{factorId:t,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:g}},error:null}:{data:null,error:w}}}}catch(d){return X(d)?{data:null,error:d}:{data:null,error:new dn("Unexpected error in challenge",d)}}}async _verify({challengeId:t,factorId:s,webauthn:o}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new fi("rpId is required for WebAuthn authentication")};try{if(!Af())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:o},signal:l},{request:u});if(!d)return{data:null,error:f};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:o,credential_response:p.credential_response}})}catch(d){return X(d)?{data:null,error:d}:{data:null,error:new dn("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new fi("rpId is required for WebAuthn registration")};try{if(!Af())return{data:null,error:new dn("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(g=>{var w;return(w=g.data)===null||w===void 0?void 0:w.all.find(S=>S.factor_type==="webauthn"&&S.friendly_name===t&&S.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g==null?void 0:g.id}):void 0),{data:null,error:f};const{data:p,error:y}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:o},signal:l},{create:u});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:o,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:y}}catch(d){return X(d)?{data:null,error:d}:{data:null,error:new dn("Unexpected error in register",d)}}}}mw();const Nw={url:O0,storageKey:P0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:A0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jf(n,t,s){return await s()}const Jn={};class pi{get jwks(){var t,s;return(s=(t=Jn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Jn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Jn[this.storageKey]=Object.assign(Object.assign({},Jn[this.storageKey]),{cachedAt:t})}constructor(t){var s,o,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},Nw),t);if(this.storageKey=u.storageKey,this.instanceID=(s=pi.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,pi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Xe()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new hw({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=Ep(u.fetch),this.lock=u.lock||jf,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Xe()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=pw:this.lock=jf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Iw(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:kp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pf(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Pf(this.memoryStorage)),Xe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${wp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},o="none";if(Xe()&&(s=H0(window.location.href),this._isImplicitGrantCallback(s)?o="implicit":await this._isPKCECallback(s)&&(o="pkce")),Xe()&&this.detectSessionInUrl&&o!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),$0(u)){const p=(t=u.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return X(s)?this._returnResult({error:s}):this._returnResult({error:new dn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,o,l;try{const u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ft}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const p=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var s,o,l;try{let u;if("email"in t){const{email:g,password:w,options:S}=t;let E=null,C=null;this.flowType==="pkce"&&([E,C]=await Kn(this.storage,this.storageKey)),u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:S==null?void 0:S.emailRedirectTo,body:{email:g,password:w,data:(s=S==null?void 0:S.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken},code_challenge:E,code_challenge_method:C},xform:Ft})}else if("phone"in t){const{phone:g,password:w,options:S}=t;u=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:w,data:(o=S==null?void 0:S.data)!==null&&o!==void 0?o:{},channel:(l=S==null?void 0:S.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:S==null?void 0:S.captchaToken}},xform:Ft})}else throw new Uo("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await Je(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const p=d.session,y=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let s;if("email"in t){const{email:u,password:d,options:f}=t;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rf})}else if("phone"in t){const{phone:u,password:d,options:f}=t;s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Rf})}else throw new Uo("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o||!o.session||!o.user){const u=new Hn;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:l})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,o,l,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,o,l,u,d,f,p,y,g,w,S;let E,C;if("message"in t)E=t.message,C=t.signature;else{const{chain:R,wallet:x,statement:j,options:U}=t;let A;if(Xe())if(typeof x=="object")A=x;else{const _e=window;if("ethereum"in _e&&typeof _e.ethereum=="object"&&"request"in _e.ethereum&&typeof _e.ethereum.request=="function")A=_e.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(U!=null&&U.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=x}const I=new URL((s=U==null?void 0:U.url)!==null&&s!==void 0?s:window.location.href),Z=await A.request({method:"eth_requestAccounts"}).then(_e=>_e).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Z||Z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=xp(Z[0]);let re=(o=U==null?void 0:U.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!re){const _e=await A.request({method:"eth_chainId"});re=yw(_e)}const ge={domain:I.host,address:G,statement:j,uri:I.href,version:"1",chainId:re,nonce:(l=U==null?void 0:U.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=U==null?void 0:U.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=U==null?void 0:U.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(p=U==null?void 0:U.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(y=U==null?void 0:U.signInWithEthereum)===null||y===void 0?void 0:y.requestId,resources:(g=U==null?void 0:U.signInWithEthereum)===null||g===void 0?void 0:g.resources};E=vw(ge),C=await A.request({method:"personal_sign",params:[gw(E),G]})}try{const{data:R,error:x}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:C},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ft});if(x)throw x;if(!R||!R.session||!R.user){const j=new Hn;return this._returnResult({data:{user:null,session:null},error:j})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:x})}catch(R){if(X(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(t){var s,o,l,u,d,f,p,y,g,w,S,E;let C,R;if("message"in t)C=t.message,R=t.signature;else{const{chain:x,wallet:j,statement:U,options:A}=t;let I;if(Xe())if(typeof j=="object")I=j;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))I=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");I=j}const Z=new URL((s=A==null?void 0:A.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in I&&I.signIn){const G=await I.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:Z.host,uri:Z.href}),U?{statement:U}:null));let re;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")re=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)re=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in re&&"signature"in re&&(typeof re.signedMessage=="string"||re.signedMessage instanceof Uint8Array)&&re.signature instanceof Uint8Array)C=typeof re.signedMessage=="string"?re.signedMessage:new TextDecoder().decode(re.signedMessage),R=re.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in I)||typeof I.signMessage!="function"||!("publicKey"in I)||typeof I!="object"||!I.publicKey||!("toBase58"in I.publicKey)||typeof I.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${Z.host} wants you to sign in with your Solana account:`,I.publicKey.toBase58(),...U?["",U,""]:[""],"Version: 1",`URI: ${Z.href}`,`Issued At: ${(l=(o=A==null?void 0:A.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((d=A==null?void 0:A.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((y=A==null?void 0:A.signInWithSolana)===null||y===void 0)&&y.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(g=A==null?void 0:A.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(re=>`- ${re}`)]:[]].join(`
`);const G=await I.signMessage(new TextEncoder().encode(C),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=G}}try{const{data:x,error:j}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:hn(R)},!((S=t.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(E=t.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ft});if(j)throw j;if(!x||!x.session||!x.user){const U=new Hn;return this._returnResult({data:{user:null,session:null},error:U})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:j})}catch(x){if(X(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const s=await ln(this.storage,`${this.storageKey}-code-verifier`),[o,l]=(s??"").split("/");try{if(!o&&this.flowType==="pkce")throw new D0;const{data:u,error:d}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:Ft});if(await Je(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Hn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:s,provider:o,token:l,access_token:u,nonce:d}=t,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ft}),{data:p,error:y}=f;if(y)return this._returnResult({data:{user:null,session:null},error:y});if(!p||!p.session||!p.user){const g=new Hn;return this._returnResult({data:{user:null,session:null},error:g})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:y})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,o,l,u,d;try{if("email"in t){const{email:f,options:p}=t;let y=null,g=null;this.flowType==="pkce"&&([y,g]=await Kn(this.storage,this.storageKey));const{error:w}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:y,code_challenge_method:g},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in t){const{phone:f,options:p}=t,{data:y,error:g}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=p==null?void 0:p.data)!==null&&l!==void 0?l:{},create_user:(u=p==null?void 0:p.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:y==null?void 0:y.message_id},error:g})}throw new Uo("You must provide either an email or phone number.")}catch(f){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var s,o;try{let l,u;"options"in t&&(l=(s=t.options)===null||s===void 0?void 0:s.redirectTo,u=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:d,error:f}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Ft});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,y=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:y,session:p},error:null})}catch(l){if(X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(t){var s,o,l,u,d;try{let f=null,p=null;this.flowType==="pkce"&&([f,p]=await Kn(this.storage,this.storageKey));const y=await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&o!==void 0?o:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:p}),headers:this.headers,xform:uw});return!((u=y.data)===null||u===void 0)&&u.url&&Xe()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(y.data.url),this._returnResult(y)}catch(f){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;if(o)throw o;if(!s)throw new kt;const{error:l}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(t){if(X(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:o,type:l,options:u}=t,{error:d}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{email:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:o,type:l,options:u}=t,{data:d,error:f}=await ne(this.fetch,"POST",s,{headers:this.headers,body:{phone:o,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:f})}throw new Uo("You must provide either an email or phone number and a type")}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await o,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=s();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await ln(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<su:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const d=await ln(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=au()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=iw(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dr}):await this._useSession(async s=>{var o,l,u;const{data:d,error:f}=s;if(f)throw f;return!(!((o=d.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:Dr})})}catch(s){if(X(s))return U0(s)&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async o=>{const{data:l,error:u}=o;if(u)throw u;if(!l.session)throw new kt;const d=l.session;let f=null,p=null;this.flowType==="pkce"&&t.email!=null&&([f,p]=await Kn(this.storage,this.storageKey));const{data:y,error:g}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:p}),jwt:d.access_token,xform:Dr});if(g)throw g;return d.user=y.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(o){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new kt;const s=Date.now()/1e3;let o=s,l=!0,u=null;const{payload:d}=ou(t.access_token);if(d.exp&&(o=d.exp,l=o<=s),l){const{data:f,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:p}=await this._getUser(t.access_token);if(p)throw p;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:o-s,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(X(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var o;if(!t){const{data:d,error:f}=s;if(f)throw f;t=(o=d.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new kt;const{data:l,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(X(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!Xe())throw new $o("No browser detected.");if(t.error||t.error_description||t.error_code)throw new $o(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Sf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $o("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Sf("No code detected.");const{data:U,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const I=new URL(window.location.href);return I.searchParams.delete("code"),window.history.replaceState(window.history.state,"",I.toString()),{data:{session:U.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:p,token_type:y}=t;if(!u||!f||!d||!y)throw new $o("No session defined in URL");const g=Math.round(Date.now()/1e3),w=parseInt(f);let S=g+w;p&&(S=parseInt(p));const E=S-g;E*1e3<=Xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const C=S-w;g-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,S,g):g-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,S,g);const{data:R,error:x}=await this._getUser(u);if(x)throw x;const j={provider_token:o,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:S,refresh_token:d,token_type:y,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:j,redirectType:t.type},error:null})}catch(o){if(X(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await ln(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({error:u});const d=(o=l.session)===null||o===void 0?void 0:o.access_token;if(d){const{error:f}=await this.admin.signOut(d,t);if(f&&!(L0(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await Je(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=W0(),o={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async s=>{var o,l;try{const{data:{session:u},error:d}=s;if(d)throw d;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,s={}){let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Kn(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:s,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:o,error:l}=await this._useSession(async u=>{var d,f,p,y,g;const{data:w,error:S}=u;if(S)throw S;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",E,{headers:this.headers,jwt:(g=(y=w.session)===null||y===void 0?void 0:y.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return Xe()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:t.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(X(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var o;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:d,provider:f,token:p,access_token:y,nonce:g}=t,w=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:f,id_token:p,access_token:y,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ft}),{data:S,error:E}=w;return E?this._returnResult({data:{user:null,session:null},error:E}):!S||!S.session||!S.user?this._returnResult({data:{user:null,session:null},error:new Hn}):(S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("USER_UPDATED",S.session)),this._returnResult({data:S,error:E}))}catch(l){if(await Je(this.storage,`${this.storageKey}-code-verifier`),X(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var o,l;const{data:u,error:d}=s;if(d)throw d;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const o=Date.now();return await Q0(async l=>(l>0&&await G0(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ft})),(l,u)=>{const d=200*Math.pow(2,l);return u&&iu(u)&&Date.now()+d-o<Xn})}catch(o){if(this._debug(s,"error",o),X(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",o),Xe()&&!s.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,s;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const l=await ln(this.storage,this.storageKey);if(l&&this.userStorage){let d=await ln(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Zn(this.userStorage,this.storageKey+"-user",d)),l.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:au()}else if(l&&!l.user&&!l.user){const d=await ln(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await Je(this.storage,this.storageKey+"-user"),await Zn(this.storage,this.storageKey,l)):l.user=au()}if(this._debug(o,"session from storage",l),!this._isValidSession(l)){this._debug(o,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<su;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${su}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),iu(d)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(o,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(o,"error",l),console.error(l);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var s,o;if(!t)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Zo;const{data:u,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!u.session)throw new kt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),X(u)){const d={data:null,error:u};return iu(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,s,o=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",s,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,s)}catch(p){u.push(p)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Je(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),o=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&s.user&&await Zn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=Tf(l);await Zn(this.storage,this.storageKey,u)}else{const l=Tf(s);await Zn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Je(this.storage,this.storageKey),await Je(this.storage,this.storageKey+"-code-verifier"),await Je(this.storage,this.storageKey+"-user"),this.userStorage&&await Je(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Xe()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:o}}=s;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((o.expires_at*1e3-t)/Xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${Xn}ms, refresh threshold is ${Cu} ticks`),l<=Cu&&await this._callRefreshToken(o.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof bp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Xe()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,o){const l=[`provider=${encodeURIComponent(s)}`];if(o!=null&&o.redirectTo&&l.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&l.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,d]=await Kn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);l.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&l.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var o,l;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:y}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return y?this._returnResult({data:null,error:y}):(t.factorType==="totp"&&p.type==="totp"&&(!((l=p==null?void 0:p.totp)===null||l===void 0)&&l.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?xw(t.webauthn.credential_response):Tw(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:p}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:p}))})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var o;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=l==null?void 0:l.session)===null||o===void 0?void 0:o.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:Ew(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:bw(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:o}=await this.getUser();if(o)return{data:null,error:o};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var t,s;const{data:{session:o},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ou(o.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((s=(t=o.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const y=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:y},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new kt})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new kt});const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Xe()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,s){try{return await this._useSession(async o=>{const{data:{session:l},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new kt});const d=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&Xe()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:o}=t;return o?this._returnResult({data:null,error:o}):s?await ne(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new kt})})}catch(t){if(X(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:o},error:l}=s;return l?this._returnResult({data:null,error:l}):o?(await ne(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new kt})})}catch(s){if(X(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let o=s.keys.find(f=>f.kid===t);if(o)return o;const l=Date.now();if(o=this.jwks.keys.find(f=>f.kid===t),o&&this.jwks_cached_at+I0>l)return o;const{data:u,error:d}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,o=u.keys.find(f=>f.kid===t),!o)?null:o}async getClaims(t,s={}){try{let o=t;if(!o){const{data:E,error:C}=await this.getSession();if(C||!E.session)return this._returnResult({data:null,error:C});o=E.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:p}}=ou(o);s!=null&&s.allowExpired||rw(u.exp);const y=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!y){const{error:E}=await this.getUser(o);if(E)throw E;return{data:{claims:u,header:l,signature:d},error:null}}const g=nw(l.alg),w=await crypto.subtle.importKey("jwk",y,g,!0,["verify"]);if(!await crypto.subtle.verify(g,w,d,q0(`${f}.${p}`)))throw new Pu("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(o){if(X(o))return this._returnResult({data:null,error:o});throw o}}}pi.nextInstanceID={};const Lw=pi,Uw="2.90.1";let ti="";typeof Deno<"u"?ti="deno":typeof document<"u"?ti="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ti="react-native":ti="node";const $w={"X-Client-Info":`supabase-js-${ti}/${Uw}`},Dw={headers:$w},Mw={schema:"public"},zw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Fw={};function mi(n){"@babel/helpers - typeof";return mi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mi(n)}function Bw(n,t){if(mi(n)!="object"||!n)return n;var s=n[Symbol.toPrimitive];if(s!==void 0){var o=s.call(n,t);if(mi(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function qw(n){var t=Bw(n,"string");return mi(t)=="symbol"?t:t+""}function Vw(n,t,s){return(t=qw(t))in n?Object.defineProperty(n,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[t]=s,n}function If(n,t){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);t&&(o=o.filter(function(l){return Object.getOwnPropertyDescriptor(n,l).enumerable})),s.push.apply(s,o)}return s}function Ue(n){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?If(Object(s),!0).forEach(function(o){Vw(n,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):If(Object(s)).forEach(function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(s,o))})}return n}const Ww=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Hw=()=>Headers,Kw=(n,t,s)=>{const o=Ww(s),l=Hw();return async(u,d)=>{var f;const p=(f=await t())!==null&&f!==void 0?f:n;let y=new l(d==null?void 0:d.headers);return y.has("apikey")||y.set("apikey",n),y.has("Authorization")||y.set("Authorization",`Bearer ${p}`),o(u,Ue(Ue({},d),{},{headers:y}))}};function Gw(n){return n.endsWith("/")?n:n+"/"}function Qw(n,t){var s,o;const{db:l,auth:u,realtime:d,global:f}=n,{db:p,auth:y,realtime:g,global:w}=t,S={db:Ue(Ue({},p),l),auth:Ue(Ue({},y),u),realtime:Ue(Ue({},g),d),storage:{},global:Ue(Ue(Ue({},w),f),{},{headers:Ue(Ue({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(o=f==null?void 0:f.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return n.accessToken?S.accessToken=n.accessToken:delete S.accessToken,S}function Jw(n){const t=n==null?void 0:n.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Gw(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Yw=class extends Lw{constructor(n){super(n)}},Xw=class{constructor(n,t,s){var o,l;this.supabaseUrl=n,this.supabaseKey=t;const u=Jw(n);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const d=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:Mw,realtime:Fw,auth:Ue(Ue({},zw),{},{storageKey:d}),global:Dw},p=Qw(s??{},f);if(this.storageKey=(o=p.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(l=p.global.headers)!==null&&l!==void 0?l:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}});else{var y;this.auth=this._initSupabaseAuthClient((y=p.auth)!==null&&y!==void 0?y:{},this.headers,p.global.fetch)}this.fetch=Kw(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Ue({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new Av(new URL("rest/v1",u).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new R0(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new Tv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(n,t,s)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var n=this,t,s;if(n.accessToken)return await n.accessToken();const{data:o}=await n.auth.getSession();return(t=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:n.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:l,storageKey:u,flowType:d,lock:f,debug:p,throwOnError:y},g,w){const S={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Yw({url:this.authUrl.href,headers:Ue(Ue({},S),g),storageKey:u,autoRefreshToken:n,persistSession:t,detectSessionInUrl:s,storage:o,userStorage:l,flowType:d,lock:f,debug:p,throwOnError:y,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(n){return new Gv(this.realtimeUrl.href,Ue(Ue({},n),{},{params:Ue(Ue({},{apikey:this.supabaseKey}),n==null?void 0:n.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,t)=>{this._handleTokenChanged(n,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(n,t,s){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Zw=(n,t,s)=>new Xw(n,t,s);function e_(){if(typeof window<"u")return!1;const n=globalThis.process;if(!n)return!1;const t=n.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}e_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cp=void 0,t_=void 0,Rp=!!Cp,ii=Rp?Zw(Cp,t_,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}):null;function Op(n){var t,s,o="";if(typeof n=="string"||typeof n=="number")o+=n;else if(typeof n=="object")if(Array.isArray(n)){var l=n.length;for(t=0;t<l;t++)n[t]&&(s=Op(n[t]))&&(o&&(o+=" "),o+=s)}else for(s in n)n[s]&&(o&&(o+=" "),o+=s);return o}function r_(){for(var n,t,s=0,o="",l=arguments.length;s<l;s++)(n=arguments[s])&&(t=Op(n))&&(o&&(o+=" "),o+=t);return o}function ds(...n){return r_(n)}function X_(n){return n==null||!Number.isFinite(n)?"":Intl.NumberFormat().format(n)}function Z_(n){if(!n)return"";const t=new Date(n);return Number.isNaN(t.getTime())?n:t.toLocaleString()}function eS(n){if(!n)return"";const t=new Date(n);return Number.isNaN(t.getTime())?n:t.toLocaleDateString()}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pp=(...n)=>n.filter((t,s,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=L.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:u,iconNode:d,...f},p)=>L.createElement("svg",{ref:p,...s_,width:t,height:t,stroke:n,strokeWidth:o?Number(s)*24/Number(t):s,className:Pp("lucide",l),...f},[...d.map(([y,g])=>L.createElement(y,g)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(n,t)=>{const s=L.forwardRef(({className:o,...l},u)=>L.createElement(i_,{ref:u,iconNode:t,className:Pp(`lucide-${n_(n)}`,o),...l}));return s.displayName=`${n}`,s};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o_=jt("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a_=jt("CalendarClock",[["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M17.5 17.5 16 16.3V14",key:"akvzfd"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=jt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l_=jt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u_=jt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c_=jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d_=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h_=jt("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f_=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=jt("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=jt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),g_=[{to:"/",label:"Overview",icon:c_},{to:"/assistant",label:"Assistant",icon:m_},{to:"/recsys",label:"Recsys",icon:uu},{to:"/recsys/experiments",label:"Recsys Experiments",icon:uu},{to:"/recsys/assignments",label:"Recsys Assignments",icon:uu},{to:"/settings",label:"Settings",icon:f_},{to:"/embeddings",label:"Embeddings",icon:l_},{to:"/jobs",label:"Jobs",icon:a_},{to:"/users",label:"Users",icon:y_},{to:"/verification",label:"Verification",icon:o_},{to:"/logs",label:"Logs",icon:h_},{to:"/audit",label:"Audit",icon:p_},{to:"/costs",label:"Costs",icon:u_}];function v_(n){return F.jsxs("div",{className:"flex h-full w-64 flex-col border-r border-zinc-200 bg-white/90 p-4",children:[F.jsxs("div",{className:"mb-4",children:[F.jsx("div",{className:"text-lg font-semibold tracking-tight text-zinc-900",children:n.appName??"Admin"}),F.jsx("div",{className:"text-xs text-zinc-500",children:"MoviNesta control center"})]}),F.jsx("div",{className:"flex-1 space-y-1",children:g_.map(t=>{const s=t.icon;return F.jsxs(gv,{to:t.to,end:t.to==="/",className:({isActive:o})=>ds("flex items-center gap-3 rounded-xl px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100",o&&"bg-zinc-200 text-zinc-900"),children:[F.jsx(s,{size:18}),t.label]},t.to)})}),F.jsxs("button",{onClick:n.onSignOut,className:"mt-3 flex items-center gap-3 rounded-xl px-3 py-2 text-sm text-zinc-700 hover:bg-zinc-100",children:[F.jsx(d_,{size:18}),"Sign out"]})]})}function Vo(n){const{variant:t="primary",className:s,...o}=n;return F.jsx("button",{...o,className:ds("inline-flex items-center justify-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold transition-colors disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-zinc-300",t==="primary"&&"bg-zinc-900 text-white hover:bg-zinc-800",t==="secondary"&&"border border-zinc-200 bg-zinc-100 text-zinc-900 hover:bg-zinc-200",t==="ghost"&&"bg-transparent text-zinc-700 hover:bg-zinc-100",t==="danger"&&"bg-red-600 text-white hover:bg-red-700",s)})}class w_ extends Iu.Component{constructor(){super(...arguments);Zs(this,"state",{})}static getDerivedStateFromError(s){return{error:s}}componentDidCatch(s){console.error("[admin] Uncaught UI error",s)}render(){if(!this.state.error)return this.props.children;const s=this.state.error&&typeof this.state.error=="object"&&"message"in this.state.error?String(this.state.error.message):String(this.state.error);return F.jsx("div",{className:ds("mx-auto w-full max-w-2xl p-6",this.props.className),children:F.jsxs("div",{className:"rounded-2xl border border-rose-200 bg-rose-50 p-5 text-rose-950",children:[F.jsx("div",{className:"text-sm font-semibold",children:"Something went wrong in the dashboard UI"}),F.jsx("div",{className:"mt-2 whitespace-pre-wrap text-sm",children:s}),F.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[F.jsx(Vo,{onClick:()=>window.location.reload(),children:"Reload"}),F.jsx(Vo,{variant:"ghost",onClick:()=>{try{navigator.clipboard.writeText(s)}catch{}},children:"Copy error"})]}),F.jsx("div",{className:"mt-3 text-[11px] text-rose-900/70",children:"Tip: if this repeats, open DevTools Console and check for the first error stack trace."})]})})}}function cu(n){const t=n.label??"Loading";return F.jsxs("div",{className:ds("flex items-center gap-3 rounded-2xl border border-zinc-200 bg-white p-4 text-sm text-zinc-600",n.className),children:[F.jsx("span",{className:"inline-block h-4 w-4 animate-spin rounded-full border-2 border-zinc-300 border-t-zinc-900","aria-hidden":"true"}),F.jsx("span",{children:t})]})}const __=void 0,S_=void 0;throw new Error("Missing VITE_SUPABASE_URL or VITE_SUPABASE_ANON_KEY for admin dashboard API calls.");class ri extends Error{constructor(s,o){super(s);Zs(this,"code");Zs(this,"requestId");Zs(this,"details");this.name="AdminApiError",this.code=o==null?void 0:o.code,this.requestId=o==null?void 0:o.requestId,this.details=o==null?void 0:o.details}}function k_(n){if(!n)return{message:"Unknown error"};if(n instanceof ri)return{message:n.message||"Request failed",code:n.code,requestId:n.requestId,details:n.details};if(n instanceof Error)return{message:n.message||"Request failed"};try{return{message:String(n)}}catch{return{message:"Unknown error"}}}function E_(n){const t=k_(n),s=[];return t.code&&s.push(t.code),t.requestId&&s.push(`req:${t.requestId}`),s.length?`${t.message} (${s.join(" ")})`:t.message}function b_(n){return!!n&&typeof n=="object"&&n.ok===!1}async function W(n,t){var S,E,C,R,x;const s=(t==null?void 0:t.method)??"POST",o=((E=(S=globalThis==null?void 0:globalThis.crypto)==null?void 0:S.randomUUID)==null?void 0:E.call(S))??`req_${Date.now()}_${Math.random().toString(16).slice(2)}`;let{data:l}=await ii.auth.getSession(),u=((C=l==null?void 0:l.session)==null?void 0:C.access_token)??null;if(!u){const j=await ii.auth.refreshSession().catch(()=>null);u=((x=(R=j==null?void 0:j.data)==null?void 0:R.session)==null?void 0:x.access_token)??null}if(!u)throw new ri("Not signed in",{code:"NO_SESSION",requestId:o});const d={apikey:S_,authorization:`Bearer ${u}`,"x-request-id":o};let f;s!=="GET"&&(t==null?void 0:t.body)!==void 0&&(typeof t.body=="string"||t.body instanceof Blob||t.body instanceof FormData?f=t.body:(d["content-type"]="application/json",f=JSON.stringify(t.body)));const p=`${__}/functions/v1/${n}`;let y;try{y=await fetch(p,{method:s,headers:d,body:f})}catch(j){throw new ri((j==null?void 0:j.message)??"Network error",{code:"NETWORK_ERROR",requestId:o})}const g=await y.text();let w=null;try{w=g?JSON.parse(g):null}catch{w=null}if(!y.ok){const j=w&&typeof w=="object"&&(w.message??w.error)||g&&g.trim()||`Request failed (${y.status})`;throw new ri(String(j),{code:w&&typeof w=="object"&&w.code?String(w.code):`HTTP_${y.status}`,requestId:w&&typeof w=="object"&&w.requestId?String(w.requestId):o,details:w??g})}if(b_(w))throw new ri(w.message??"Request failed",{code:w.code,requestId:w.requestId,details:w.details});return w}async function x_(){return W("admin-whoami")}async function tS(){return W("admin-overview")}async function rS(){return W("admin-embeddings",{body:{action:"get"}})}async function nS(n){return W("admin-embeddings",{body:{action:"set_active_profile",...n}})}async function sS(n){return W("admin-embeddings",{body:{action:"set_rerank",...n}})}async function iS(n){return W("admin-verification",{body:{action:"list_requests",status:n.status,search:n.search??"",cursor:n.cursor??0,limit:n.limit??50}})}async function oS(n){return W("admin-verification",{body:{action:"get_request",request_id:n.request_id}})}async function aS(n){return W("admin-verification",{body:{action:"approve_request",request_id:n.request_id,badge_type:n.badge_type,public_label:n.public_label,verifier_org:n.verifier_org}})}async function lS(n){return W("admin-verification",{body:{action:"reject_request",request_id:n.request_id,reason:n.reason}})}async function uS(n){return W("admin-verification",{body:{action:"needs_more_info",request_id:n.request_id,note:n.note}})}async function cS(n){return W("admin-verification",{body:{action:"list_verified",cursor:n.cursor??0,limit:n.limit??50}})}async function dS(n){return W("admin-verification",{body:{action:"revoke_user",user_id:n.user_id,reason:n.reason}})}async function hS(n){return W("admin-verification",{body:{action:"verify_direct",user_id:n.user_id,badge_type:n.badge_type,public_label:n.public_label,verifier_org:n.verifier_org,note:n.note}})}async function fS(){return W("admin-jobs",{body:{action:"get"}})}async function pS(n){return W("admin-jobs",{body:{action:"run_now",jobname:n}})}async function mS(n,t){return W("admin-jobs",{body:{action:"set_cron_active",jobname:n,active:t}})}async function yS(n,t){return W("admin-jobs",{body:{action:"set_cron_schedule",jobname:n,schedule:t}})}async function gS(n,t=null){return W("admin-jobs",{body:{action:"reset_cursor",job_name:n,cursor:t}})}async function vS(n){return W("admin-costs",{body:{...n??{}}})}async function wS(n){return W("admin-costs",{body:{action:"set_budgets",...n}})}async function _S(n){return W("admin-logs",{body:{...n??{}}})}async function SS(n){return W("admin-audit",{body:{...n??{}}})}async function kS(n){return W("admin-openrouter-credits",{method:"GET"})}async function ES(n){return W("admin-openrouter-key",{method:"GET"})}async function bS(n){return W("admin-openrouter-models",{method:"GET"})}async function xS(n){const t=n!=null&&n.base_url?`?base_url=${encodeURIComponent(n.base_url)}`:"";return W(`admin-openrouter-endpoints${t}`,{method:"GET"})}async function TS(n){return W("admin-openrouter-refresh",{body:{...n??{}}})}async function CS(n){return n&&String(n).trim()?W("admin-openrouter-circuit",{body:{action:"reset",model:String(n).trim()}}):W("admin-openrouter-circuit",{body:{action:"reset_all"}})}async function RS(n){return W("admin-openrouter-circuit",{body:{action:"cleanup",...n??{}}})}async function OS(n){const t=[];t.push(`model=${encodeURIComponent(n.model)}`),n.provider&&t.push(`provider=${encodeURIComponent(n.provider)}`),n.base_url&&t.push(`base_url=${encodeURIComponent(n.base_url)}`);const s=t.length?`?${t.join("&")}`:"";return W(`admin-openrouter-parameters${s}`,{method:"GET"})}async function PS(n){const t=[];t.push(`model=${encodeURIComponent(n.model)}`),n.provider&&t.push(`provider=${encodeURIComponent(n.provider)}`),n.base_url&&t.push(`base_url=${encodeURIComponent(n.base_url)}`);const s=t.length?`?${t.join("&")}`:"";return W(`admin-openrouter-parameters-refresh${s}`,{method:"POST"})}async function AS(){return W("admin-assistant-settings",{body:{action:"get"}})}async function jS(n){return W("admin-assistant-settings",{body:{action:"set",settings:n}})}async function IS(n){return W("admin-assistant-settings",{body:{action:"test_provider",test:n??{}}})}async function NS(n){return W("admin-assistant-settings",{body:{action:"test_routing",routing_test:n??{}}})}async function LS(n){return W("admin-users",{body:{action:"list",...n??{}}})}async function US(n,t){return W("admin-users",{body:{action:t?"ban":"unban",user_id:n}})}async function $S(n){return W("admin-users",{body:{action:"reset_vectors",user_id:n}})}async function DS(n){return W("admin-assistant-metrics",{body:{...n??{}}})}async function MS(){return W("admin-assistant-health",{body:{}})}async function zS(n){return W("admin-openrouter-requests",{body:{...n??{}}})}async function FS(){return W("admin-app-settings",{body:{action:"get"}})}async function BS(n){return W("admin-app-settings",{body:{action:"favorites_set",favorites:n.favorites}})}async function qS(n){return W("admin-app-settings",{body:{action:"update",expected_version:n.expected_version,updates:n.updates,reason:n.reason}})}async function VS(n){return W("admin-app-settings",{body:{action:"history",...n??{}}})}async function WS(n){return W("admin-app-settings",{body:{action:"export",...n??{}}})}async function HS(n){return W("admin-app-settings",{body:{action:"import",...n??{}}})}async function KS(){return W("admin-app-settings",{body:{action:"presets_list"}})}async function GS(n){return W("admin-app-settings",{body:{action:"presets_preview",...n}})}async function QS(n){return W("admin-app-settings",{body:{action:"presets_apply",...n}})}async function JS(n,t){return W("admin-ops-alerts",{body:{action:"resolve",id:n,reason:t??null}})}async function YS(n){return W("admin-ops-alerts",{body:{action:"resolve_all",reason:n??null}})}async function XS(n){return W("admin-rec-variant-metrics",{body:n??{}})}async function ZS(n){return W("admin-rec-composition-metrics",{body:n??{}})}async function ek(n){return W("admin-rec-genre-metrics",{body:n??{}})}async function tk(n){return W("admin-rec-health-metrics",{body:n??{}})}async function rk(n){return W("admin-rec-position-metrics",{body:{days:n.days,max_position:n.max_position}})}async function nk(n={}){return W("admin-rec-alerts-metrics",{body:{days:n.days}})}async function sk(){return W("admin-recsys-diagnostics",{body:{}})}async function ik(){return W("admin-recsys-experiments-metrics",{body:{}})}async function ok(){return W("admin-recsys-experiments-list",{body:{}})}async function ak(n){return W("admin-recsys-experiments-upsert",{body:n})}async function lk(n){return W("admin-recsys-experiments-activate",{body:n})}async function uk(n){return W("admin-recsys-experiments-end",{body:n})}async function ck(n){return W("admin-recsys-assignments-get",{body:n})}async function dk(n){return W("admin-recsys-assignments-set",{body:n})}async function hk(n){return W("admin-recsys-assignments-reset",{body:n})}const Ap=L.createContext(null);function T_(){return Math.random().toString(36).slice(2)+Date.now().toString(36)}function C_(n){const[t,s]=L.useState([]),o=L.useCallback(d=>{s(f=>f.filter(p=>p.id!==d))},[]),l=L.useCallback(d=>{const f={id:T_(),title:d.title,message:d.message,variant:d.variant??"info",createdAt:Date.now(),durationMs:Number.isFinite(d.durationMs)?Math.max(800,Number(d.durationMs)):3e3};s(p=>[f,...p].slice(0,4)),window.setTimeout(()=>o(f.id),f.durationMs)},[o]),u=L.useMemo(()=>({push:l,dismiss:o}),[l,o]);return F.jsxs(Ap.Provider,{value:u,children:[n.children,F.jsx("div",{className:"pointer-events-none fixed bottom-4 right-4 z-50 flex w-[min(420px,calc(100vw-2rem))] flex-col gap-2",children:t.map(d=>F.jsx("div",{className:ds("pointer-events-auto rounded-2xl border bg-white p-3 shadow-sm",d.variant==="info"&&"border-zinc-200",d.variant==="success"&&"border-emerald-200",d.variant==="error"&&"border-red-200"),children:F.jsxs("div",{className:"flex items-start justify-between gap-3",children:[F.jsxs("div",{className:"min-w-0",children:[d.title?F.jsx("div",{className:"text-sm font-semibold text-zinc-900",children:d.title}):null,F.jsx("div",{className:ds("text-sm text-zinc-800",d.title?"mt-0.5":""),children:d.message})]}),F.jsx("button",{type:"button",onClick:()=>o(d.id),className:"rounded-lg px-2 py-1 text-xs font-semibold text-zinc-600 hover:bg-zinc-100",children:"Close"})]})},d.id))})]})}function R_(){const n=L.useContext(Ap);if(!n)throw new Error("ToastProvider missing");return n}const O_=L.lazy(()=>st(()=>import("./SignIn-BBp2Zn8j.js"),__vite__mapDeps([0,1]))),P_=L.lazy(()=>st(()=>import("./NotConfigured-BKFiPWft.js"),__vite__mapDeps([2,3]))),A_=L.lazy(()=>st(()=>import("./Overview-Czd6_kWU.js"),__vite__mapDeps([4,5,6,7,3,8,9,10,11]))),j_=L.lazy(()=>st(()=>import("./Embeddings-CexbCvJ1.js"),__vite__mapDeps([12,5,6,3,1,8,13]))),I_=L.lazy(()=>st(()=>import("./Jobs-CP1Nu6cw.js"),__vite__mapDeps([14,5,6,3,8,1,13,15]))),N_=L.lazy(()=>st(()=>import("./Users-Cw-5A8CY.js"),__vite__mapDeps([16,5,6,3,8,1,9,13,15]))),L_=L.lazy(()=>st(()=>import("./Logs-DEs30OBL.js"),__vite__mapDeps([17,5,3,8,1,13,15]))),U_=L.lazy(()=>st(()=>import("./Costs-CMBrrxjH.js"),__vite__mapDeps([18,5,6,3,1,7,8,13,15,10,19]))),$_=L.lazy(()=>st(()=>import("./Audit-DDoQYCKp.js"),__vite__mapDeps([20,5,3,8,1,13,15]))),D_=L.lazy(()=>st(()=>import("./Assistant-DLPoEh1Y.js"),__vite__mapDeps([21,5,6,7,3,15,22,1,8,13,10,11,19]))),Nf=L.lazy(()=>st(()=>import("./Settings-DjVfIJib.js"),__vite__mapDeps([23,5,6,3,22,1]))),M_=L.lazy(()=>st(()=>import("./Verification-CZKV2-Uk.js"),__vite__mapDeps([24,5,6,3,8,1,9,13]))),z_=L.lazy(()=>st(()=>import("./Recsys-C8m8vXTz.js"),__vite__mapDeps([25,5,3,8,6,1,7,10,19,26]))),F_=L.lazy(()=>st(()=>import("./RecsysExperiments-DzvmVJm1.js"),__vite__mapDeps([27,5,6,3,1,8,13]))),B_=L.lazy(()=>st(()=>import("./RecsysExperimentDetail-C67F7yXX.js"),__vite__mapDeps([28,5,3,8,13,10,19,26]))),q_=L.lazy(()=>st(()=>import("./RecsysAssignments-CPmtaqUm.js"),__vite__mapDeps([29,5,6,3,1,8,13])));function du(n){return F.jsx("div",{className:"min-h-screen bg-zinc-50 text-zinc-900",children:F.jsx("div",{className:"mx-auto flex min-h-screen max-w-xl items-center px-4",children:F.jsxs("div",{className:"w-full rounded-2xl border border-zinc-200 bg-white p-6",children:[F.jsx("div",{className:"text-xl font-semibold tracking-tight",children:n.title}),n.body?F.jsx("div",{className:"mt-2 text-sm text-zinc-600",children:n.body}):null,n.action?F.jsx("div",{className:"mt-5",children:n.action}):null]})})})}function V_(){const n=L.useMemo(()=>"MoviNesta Admin",[]),t=Rp,[s,o]=L.useState(null),[l,u]=L.useState(!0),[d,f]=L.useState(null),[p,y]=L.useState(null),[g,w]=L.useState(!1),[S,E]=L.useState(!1),C=L.useRef(!1),R=R_();L.useEffect(()=>{if(!t){u(!1);return}ii.auth.getSession().then(({data:U})=>o(U.session));const{data:j}=ii.auth.onAuthStateChange((U,A)=>o(A));return()=>j.subscription.unsubscribe()},[t]),L.useEffect(()=>{let j=!1;async function U(){if(!C.current?(u(!0),f(null)):E(!0),y(null),!t){u(!1),E(!1);return}try{if(!s){u(!1),w(!1),C.current=!1,E(!1);return}const I=await x_();if(j)return;f(!!I.is_admin),w(!0),C.current=!0}catch(I){const Z=E_(I);if(j)return;C.current?R.push({variant:"error",title:"Admin check failed",message:Z,durationMs:5e3}):y(Z)}finally{if(j)return;u(!1),E(!1)}}return U(),()=>{j=!0}},[s,t]);async function x(){await ii.auth.signOut(),f(null),y(null),w(!1),C.current=!1}return t?s?l&&!g?F.jsx(du,{title:"Checking permissions",body:"Verifying admin access."}):p?F.jsx(du,{title:"Something went wrong",body:p,action:F.jsx(Vo,{onClick:x,children:"Sign out"})}):d?F.jsxs("div",{className:"flex h-screen bg-zinc-50 text-zinc-900",children:[F.jsx(v_,{appName:n,onSignOut:x}),F.jsx("div",{className:"flex-1 overflow-y-auto",children:F.jsxs("div",{className:"mx-auto max-w-6xl p-6",children:[S?F.jsxs("div",{className:"mb-3 flex items-center gap-2 text-xs text-zinc-500",children:[F.jsx("span",{className:"inline-block h-2 w-2 animate-pulse rounded-full bg-zinc-400"}),F.jsx("span",{children:"Revalidating admin access"})]}):null,F.jsx(w_,{children:F.jsx(L.Suspense,{fallback:F.jsx(cu,{}),children:F.jsxs(iv,{children:[F.jsx(Ye,{path:"/",element:F.jsx(A_,{})}),F.jsx(Ye,{path:"/settings",element:F.jsx(Nf,{})}),F.jsx(Ye,{path:"/settings/:category",element:F.jsx(Nf,{})}),F.jsx(Ye,{path:"/embeddings",element:F.jsx(j_,{})}),F.jsx(Ye,{path:"/jobs",element:F.jsx(I_,{})}),F.jsx(Ye,{path:"/users",element:F.jsx(N_,{})}),F.jsx(Ye,{path:"/logs",element:F.jsx(L_,{})}),F.jsx(Ye,{path:"/audit",element:F.jsx($_,{})}),F.jsx(Ye,{path:"/costs",element:F.jsx(U_,{})}),F.jsx(Ye,{path:"/assistant",element:F.jsx(D_,{})}),F.jsx(Ye,{path:"/verification",element:F.jsx(M_,{})}),F.jsx(Ye,{path:"/recsys",element:F.jsx(z_,{})}),F.jsx(Ye,{path:"/recsys/experiments",element:F.jsx(F_,{})}),F.jsx(Ye,{path:"/recsys/experiments/:key",element:F.jsx(B_,{})}),F.jsx(Ye,{path:"/recsys/assignments",element:F.jsx(q_,{})}),F.jsx(Ye,{path:"*",element:F.jsx(nv,{to:"/",replace:!0})})]})})})]})})]}):F.jsx(du,{title:"Not authorized",body:"Your account is not in app_admins. Ask an existing admin to add your user id.",action:F.jsx(Vo,{onClick:x,children:"Sign out"})}):F.jsx(L.Suspense,{fallback:F.jsx(cu,{}),children:F.jsx(O_,{})}):F.jsx(L.Suspense,{fallback:F.jsx(cu,{}),children:F.jsx(P_,{})})}const W_=new fg({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1,staleTime:1e4}}});zy.createRoot(document.getElementById("root")).render(F.jsx(Iu.StrictMode,{children:F.jsx(pg,{client:W_,children:F.jsx(C_,{children:F.jsx(fv,{children:F.jsx(V_,{})})})})}));export{VS as $,vS as A,Vo as B,kS as C,ES as D,AS as E,bS as F,xS as G,OS as H,SS as I,jS as J,IS as K,cu as L,NS as M,CS as N,RS as O,DS as P,MS as Q,zS as R,ip as S,Y_ as T,E_ as U,BS as V,GS as W,QS as X,WS as Y,HS as Z,qS as _,Z_ as a,FS as a0,KS as a1,aS as a2,lS as a3,uS as a4,dS as a5,hS as a6,iS as a7,cS as a8,oS as a9,Bt as aA,Q_ as aB,tg as aC,Ky as aD,fu as aE,Ho as aF,Wy as aG,Hy as aH,hu as aI,Gf as aJ,ag as aK,Jy as aL,k_ as aM,yv as aa,eS as ab,XS as ac,ZS as ad,ek as ae,tk as af,sk as ag,rk as ah,nk as ai,ak as aj,lk as ak,uk as al,ok as am,ik as an,Iu as ao,r_ as ap,K_ as aq,Vf as ar,dk as as,hk as at,ck as au,Wo as av,G_ as aw,oi as ax,cg as ay,lt as az,YS as b,JS as c,nS as d,sS as e,X_ as f,tS as g,rS as h,ds as i,F as j,gS as k,mS as l,yS as m,pS as n,fS as o,R_ as p,US as q,L as r,ii as s,$S as t,J_ as u,LS as v,_S as w,PS as x,wS as y,TS as z};
