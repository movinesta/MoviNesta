import{r as t,j as e,B as c,s as x}from"./index-CGWJK-B7.js";import{I as p}from"./Input-5czXp4bm.js";function y(){const h=t.useMemo(()=>"MoviNesta Admin",[]),[o,g]=t.useState(""),[l,f]=t.useState(""),[a,d]=t.useState("password"),[m,r]=t.useState(!1),[u,n]=t.useState(null);async function v(s){s.preventDefault(),r(!0),n(null);const{error:i}=await x.auth.signInWithPassword({email:o,password:l});r(!1),i&&n(i.message)}async function w(s){s.preventDefault(),r(!0),n(null);const{error:i}=await x.auth.signInWithOtp({email:o,options:{emailRedirectTo:window.location.href}});r(!1),n(i?i.message:"Check your email for the sign-in link.")}return e.jsx("div",{className:"min-h-screen bg-zinc-50 text-zinc-900",children:e.jsx("div",{className:"mx-auto flex min-h-screen max-w-md items-center px-4",children:e.jsxs("div",{className:"w-full rounded-2xl border border-zinc-200 bg-white p-6 shadow-sm",children:[e.jsx("div",{className:"text-xl font-semibold tracking-tight",children:h}),e.jsx("div",{className:"mt-1 text-sm text-zinc-600",children:"Sign in to manage MoviNesta"}),e.jsxs("div",{className:"mt-5 flex gap-2",children:[e.jsx(c,{type:"button",variant:a==="password"?"primary":"secondary",onClick:()=>d("password"),children:"Password"}),e.jsx(c,{type:"button",variant:a==="magic"?"primary":"secondary",onClick:()=>d("magic"),children:"Magic link"})]}),e.jsxs("form",{className:"mt-5 space-y-3",onSubmit:a==="password"?v:w,children:[e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-xs font-medium text-zinc-600",children:"Email"}),e.jsx(p,{value:o,onChange:s=>g(s.target.value),placeholder:"you@company.com",type:"email",required:!0})]}),a==="password"?e.jsxs("div",{children:[e.jsx("div",{className:"mb-1 text-xs font-medium text-zinc-600",children:"Password"}),e.jsx(p,{value:l,onChange:s=>f(s.target.value),placeholder:"••••••••",type:"password",required:!0})]}):null,u?e.jsx("div",{className:"rounded-xl border border-zinc-200 bg-zinc-50 p-3 text-sm text-zinc-700",children:u}):null,e.jsx(c,{type:"submit",disabled:m,children:m?"Please wait…":a==="password"?"Sign in":"Send magic link"})]}),e.jsxs("div",{className:"mt-5 text-xs text-zinc-500",children:["Tip: add your user id to ",e.jsx("span",{className:"font-mono",children:"public.app_admins"})," to grant access."]})]})})})}export{y as default};
