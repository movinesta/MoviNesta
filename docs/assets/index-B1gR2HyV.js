const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SignInPage-nmTDNW84.js","assets/useDocumentTitle-toJCzFtD.js","assets/material-icon-D-BoV6fd.js","assets/SignUpPage-fx2nTOy-.js","assets/ForgotPasswordPage-DzQVf9tD.js","assets/AuthLayout-DmfschUo.js","assets/brand-De0MFtS0.js","assets/sparkles-AwSgpI9b.js","assets/film-VrgKMeet.js","assets/appUrl-BIFKGN0O.js","assets/ResetPasswordPage-p9EvdGZn.js","assets/HomePage-DH6iRkAF.js","assets/dialog-JvJB_ZLZ.js","assets/plus-0vXhlSCG.js","assets/star-Dyqkwj3I.js","assets/dropdown-menu-CIbpKjHb.js","assets/index-C4Lj_15j.js","assets/useDiaryLibrary-vm6dUUrE.js","assets/SwipePage-B381YocA.js","assets/scroll-area-C73h5lOF.js","assets/conversationsCache-CVhhJqhn.js","assets/format-BXv9LLlt.js","assets/x-KxSQUesR.js","assets/copy-CEOjqdt5.js","assets/circle-alert-DSoZrRVH.js","assets/textarea-BL7WUtYQ.js","assets/FriendAvatarStack-D86u81cP.js","assets/SearchPage-YxdRw3Mm.js","assets/input-CxcVDShz.js","assets/useSearchTitles-YPnEBlW_.js","assets/useSearchPeople-BSMniJGa.js","assets/index-CLprw0ja.js","assets/catalogSync-i5cCA8pA.js","assets/useToggleFollow-B7cowu9k.js","assets/user-plus-BprlTVwP.js","assets/user-4LgnbUbq.js","assets/users-DGPL4m1z.js","assets/useSuggestedPeople-mRUtYEza.js","assets/DiaryPage-mpmKC22m.js","assets/TopBar-C50ghZjl.js","assets/arrow-left-DqFAYAY8.js","assets/clock-7VgTcbXE.js","assets/ProfilePage-bM_0_xRT.js","assets/useUserLastActive-B5eqoNK5.js","assets/share-2-CCb3-tyE.js","assets/MePage-DQp0S8wk.js","assets/SuggestedPeoplePage-ClRE0Xft.js","assets/ListDetailPage-Ct1NA4PK.js","assets/FollowersPage-CeZlwEVi.js","assets/ConnectionsPage-ykUxwXnN.js","assets/FollowingPage-Cd7frq1x.js","assets/SettingsOverviewPage-CNLUAV6g.js","assets/PageChrome-Bu9zcz_j.js","assets/chevron-right-DmR9gAKK.js","assets/mail-C-x7Zn40.js","assets/bell-BWLPvCrT.js","assets/monitor-DremQbvZ.js","assets/SettingsProfilePage-CXp870r4.js","assets/circle-check-JR3zOGM7.js","assets/SettingsAccountPage-D36quone.js","assets/SettingsNotificationsPage-D-KCxHQR.js","assets/SettingsAppPage-BQdQfCKY.js","assets/NotFoundPage-BHl0UqNd.js","assets/OnboardingPage-l0uJb1Ai.js","assets/TasteOnboardingPage-DkF4-dcT.js","assets/MessagesPage-BLBk3ZXd.js","assets/useAssistantCache-CvOs5MbJ.js","assets/NewMessagePage-DQKtVpmg.js","assets/ConversationPage-C_3dDGD7.js","assets/TitleDetailPageV2-BINaSl8p.js","assets/skeleton-BV9qMmNQ.js","assets/TitleReviewsPageV2-DqClnNSr.js","assets/ActivityPage-DqWXI1Ad.js","assets/FollowRequestsPage-OTTgbp8G.js"])))=>i.map(i=>d[i]);
function BE(e,t){for(var a=0;a<t.length;a++){const i=t[a];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(i,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=a(o);fetch(o.href,u)}})();function Wd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Mf={exports:{}},ks={};var Py;function qE(){if(Py)return ks;Py=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(i,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:e,type:i,key:c,ref:o!==void 0?o:null,props:u}}return ks.Fragment=t,ks.jsx=a,ks.jsxs=a,ks}var zy;function $E(){return zy||(zy=1,Mf.exports=qE()),Mf.exports}var k=$E(),Uf={exports:{}},pe={};var By;function IE(){if(By)return pe;By=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),w=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function T(D,K,X){this.props=D,this.context=K,this.refs=A,this.updater=X||x}T.prototype.isReactComponent={},T.prototype.setState=function(D,K){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,K,"setState")},T.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function R(){}R.prototype=T.prototype;function C(D,K,X){this.props=D,this.context=K,this.refs=A,this.updater=X||x}var P=C.prototype=new R;P.constructor=C,S(P,T.prototype),P.isPureReactComponent=!0;var $=Array.isArray;function F(){}var M={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Z(D,K,X){var W=X.ref;return{$$typeof:e,type:D,key:K,ref:W!==void 0?W:null,props:X}}function J(D,K){return Z(D.type,K,D.props)}function ee(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function ie(D){var K={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(X){return K[X]})}var ue=/\/+/g;function ve(D,K){return typeof D=="object"&&D!==null&&D.key!=null?ie(""+D.key):K.toString(36)}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(F,F):(D.status="pending",D.then(function(K){D.status==="pending"&&(D.status="fulfilled",D.value=K)},function(K){D.status==="pending"&&(D.status="rejected",D.reason=K)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,K,X,W,he){var ge=typeof D;(ge==="undefined"||ge==="boolean")&&(D=null);var oe=!1;if(D===null)oe=!0;else switch(ge){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(D.$$typeof){case e:case t:oe=!0;break;case g:return oe=D._init,z(oe(D._payload),K,X,W,he)}}if(oe)return he=he(D),oe=W===""?"."+ve(D,0):W,$(he)?(X="",oe!=null&&(X=oe.replace(ue,"$&/")+"/"),z(he,K,X,"",function(Kt){return Kt})):he!=null&&(ee(he)&&(he=J(he,X+(he.key==null||D&&D.key===he.key?"":(""+he.key).replace(ue,"$&/")+"/")+oe)),K.push(he)),1;oe=0;var Je=W===""?".":W+":";if($(D))for(var Pe=0;Pe<D.length;Pe++)W=D[Pe],ge=Je+ve(W,Pe),oe+=z(W,K,X,ge,he);else if(Pe=_(D),typeof Pe=="function")for(D=Pe.call(D),Pe=0;!(W=D.next()).done;)W=W.value,ge=Je+ve(W,Pe++),oe+=z(W,K,X,ge,he);else if(ge==="object"){if(typeof D.then=="function")return z(Oe(D),K,X,W,he);throw K=String(D),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Y(D,K,X){if(D==null)return D;var W=[],he=0;return z(D,W,"","",function(ge){return K.call(X,ge,he++)}),W}function I(D){if(D._status===-1){var K=D._result;K=K(),K.then(function(X){(D._status===0||D._status===-1)&&(D._status=1,D._result=X)},function(X){(D._status===0||D._status===-1)&&(D._status=2,D._result=X)}),D._status===-1&&(D._status=0,D._result=K)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},be={map:Y,forEach:function(D,K,X){Y(D,function(){K.apply(this,arguments)},X)},count:function(D){var K=0;return Y(D,function(){K++}),K},toArray:function(D){return Y(D,function(K){return K})||[]},only:function(D){if(!ee(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return pe.Activity=v,pe.Children=be,pe.Component=T,pe.Fragment=a,pe.Profiler=o,pe.PureComponent=C,pe.StrictMode=i,pe.Suspense=m,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,pe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return M.H.useMemoCache(D)}},pe.cache=function(D){return function(){return D.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(D,K,X){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=S({},D.props),he=D.key;if(K!=null)for(ge in K.key!==void 0&&(he=""+K.key),K)!H.call(K,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&K.ref===void 0||(W[ge]=K[ge]);var ge=arguments.length-2;if(ge===1)W.children=X;else if(1<ge){for(var oe=Array(ge),Je=0;Je<ge;Je++)oe[Je]=arguments[Je+2];W.children=oe}return Z(D.type,he,W)},pe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},pe.createElement=function(D,K,X){var W,he={},ge=null;if(K!=null)for(W in K.key!==void 0&&(ge=""+K.key),K)H.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=K[W]);var oe=arguments.length-2;if(oe===1)he.children=X;else if(1<oe){for(var Je=Array(oe),Pe=0;Pe<oe;Pe++)Je[Pe]=arguments[Pe+2];he.children=Je}if(D&&D.defaultProps)for(W in oe=D.defaultProps,oe)he[W]===void 0&&(he[W]=oe[W]);return Z(D,ge,he)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(D){return{$$typeof:d,render:D}},pe.isValidElement=ee,pe.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:I}},pe.memo=function(D,K){return{$$typeof:p,type:D,compare:K===void 0?null:K}},pe.startTransition=function(D){var K=M.T,X={};M.T=X;try{var W=D(),he=M.S;he!==null&&he(X,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(F,me)}catch(ge){me(ge)}finally{K!==null&&X.types!==null&&(K.types=X.types),M.T=K}},pe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},pe.use=function(D){return M.H.use(D)},pe.useActionState=function(D,K,X){return M.H.useActionState(D,K,X)},pe.useCallback=function(D,K){return M.H.useCallback(D,K)},pe.useContext=function(D){return M.H.useContext(D)},pe.useDebugValue=function(){},pe.useDeferredValue=function(D,K){return M.H.useDeferredValue(D,K)},pe.useEffect=function(D,K){return M.H.useEffect(D,K)},pe.useEffectEvent=function(D){return M.H.useEffectEvent(D)},pe.useId=function(){return M.H.useId()},pe.useImperativeHandle=function(D,K,X){return M.H.useImperativeHandle(D,K,X)},pe.useInsertionEffect=function(D,K){return M.H.useInsertionEffect(D,K)},pe.useLayoutEffect=function(D,K){return M.H.useLayoutEffect(D,K)},pe.useMemo=function(D,K){return M.H.useMemo(D,K)},pe.useOptimistic=function(D,K){return M.H.useOptimistic(D,K)},pe.useReducer=function(D,K,X){return M.H.useReducer(D,K,X)},pe.useRef=function(D){return M.H.useRef(D)},pe.useState=function(D){return M.H.useState(D)},pe.useSyncExternalStore=function(D,K,X){return M.H.useSyncExternalStore(D,K,X)},pe.useTransition=function(){return M.H.useTransition()},pe.version="19.2.3",pe}var qy;function Zd(){return qy||(qy=1,Uf.exports=IE()),Uf.exports}var b=Zd();const Ot=Wd(b),eh=BE({__proto__:null,default:Ot},[b]);var Lf={exports:{}},Ns={},Pf={exports:{}},zf={};var $y;function HE(){return $y||($y=1,(function(e){function t(z,Y){var I=z.length;z.push(Y);e:for(;0<I;){var me=I-1>>>1,be=z[me];if(0<o(be,Y))z[me]=Y,z[I]=be,I=me;else break e}}function a(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Y=z[0],I=z.pop();if(I!==Y){z[0]=I;e:for(var me=0,be=z.length,D=be>>>1;me<D;){var K=2*(me+1)-1,X=z[K],W=K+1,he=z[W];if(0>o(X,I))W<be&&0>o(he,X)?(z[me]=he,z[W]=I,me=W):(z[me]=X,z[K]=I,me=K);else if(W<be&&0>o(he,I))z[me]=he,z[W]=I,me=W;else break e}}return Y}function o(z,Y){var I=z.sortIndex-Y.sortIndex;return I!==0?I:z.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var m=[],p=[],g=1,v=null,w=3,_=!1,x=!1,S=!1,A=!1,T=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var Y=a(p);Y!==null;){if(Y.callback===null)i(p);else if(Y.startTime<=z)i(p),Y.sortIndex=Y.expirationTime,t(m,Y);else break;Y=a(p)}}function $(z){if(S=!1,P(z),!x)if(a(m)!==null)x=!0,F||(F=!0,ie());else{var Y=a(p);Y!==null&&Oe($,Y.startTime-z)}}var F=!1,M=-1,H=5,Z=-1;function J(){return A?!0:!(e.unstable_now()-Z<H)}function ee(){if(A=!1,F){var z=e.unstable_now();Z=z;var Y=!0;try{e:{x=!1,S&&(S=!1,R(M),M=-1),_=!0;var I=w;try{t:{for(P(z),v=a(m);v!==null&&!(v.expirationTime>z&&J());){var me=v.callback;if(typeof me=="function"){v.callback=null,w=v.priorityLevel;var be=me(v.expirationTime<=z);if(z=e.unstable_now(),typeof be=="function"){v.callback=be,P(z),Y=!0;break t}v===a(m)&&i(m),P(z)}else i(m);v=a(m)}if(v!==null)Y=!0;else{var D=a(p);D!==null&&Oe($,D.startTime-z),Y=!1}}break e}finally{v=null,w=I,_=!1}Y=void 0}}finally{Y?ie():F=!1}}}var ie;if(typeof C=="function")ie=function(){C(ee)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ve=ue.port2;ue.port1.onmessage=ee,ie=function(){ve.postMessage(null)}}else ie=function(){T(ee,0)};function Oe(z,Y){M=T(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return w},e.unstable_next=function(z){switch(w){case 1:case 2:case 3:var Y=3;break;default:Y=w}var I=w;w=Y;try{return z()}finally{w=I}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var I=w;w=z;try{return Y()}finally{w=I}},e.unstable_scheduleCallback=function(z,Y,I){var me=e.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?me+I:me):I=me,z){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=I+be,z={id:g++,callback:Y,priorityLevel:z,startTime:I,expirationTime:be,sortIndex:-1},I>me?(z.sortIndex=I,t(p,z),a(m)===null&&z===a(p)&&(S?(R(M),M=-1):S=!0,Oe($,I-me))):(z.sortIndex=be,t(m,z),x||_||(x=!0,F||(F=!0,ie()))),z},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(z){var Y=w;return function(){var I=w;w=Y;try{return z.apply(this,arguments)}finally{w=I}}}})(zf)),zf}var Iy;function VE(){return Iy||(Iy=1,Pf.exports=HE()),Pf.exports}var Bf={exports:{}},vt={};var Hy;function GE(){if(Hy)return vt;Hy=1;var e=Zd();function t(m){var p="https://react.dev/errors/"+m;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+m+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var i={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(m,p,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:m,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,p){if(m==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,vt.createPortal=function(m,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(m,p,null,g)},vt.flushSync=function(m){var p=c.T,g=i.p;try{if(c.T=null,i.p=2,m)return m()}finally{c.T=p,i.p=g,i.d.f()}},vt.preconnect=function(m,p){typeof m=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(m,p))},vt.prefetchDNS=function(m){typeof m=="string"&&i.d.D(m)},vt.preinit=function(m,p){if(typeof m=="string"&&p&&typeof p.as=="string"){var g=p.as,v=d(g,p.crossOrigin),w=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?i.d.S(m,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:_}):g==="script"&&i.d.X(m,{crossOrigin:v,integrity:w,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(m,p){if(typeof m=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);i.d.M(m,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(m)},vt.preload=function(m,p){if(typeof m=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,v=d(g,p.crossOrigin);i.d.L(m,g,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(m,p){if(typeof m=="string")if(p){var g=d(p.as,p.crossOrigin);i.d.m(m,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(m)},vt.requestFormReset=function(m){i.d.r(m)},vt.unstable_batchedUpdates=function(m,p){return m(p)},vt.useFormState=function(m,p,g){return c.H.useFormState(m,p,g)},vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},vt.version="19.2.3",vt}var Vy;function Sb(){if(Vy)return Bf.exports;Vy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Bf.exports=GE(),Bf.exports}var Gy;function KE(){if(Gy)return Ns;Gy=1;var e=VE(),t=Zd(),a=Sb();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function d(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(i(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(i(188));return r!==n?null:n}for(var s=n,l=r;;){var f=s.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){s=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===s)return m(f),n;if(h===l)return m(f),r;h=h.sibling}throw Error(i(188))}if(s.return!==l.return)s=f,l=h;else{for(var y=!1,E=f.child;E;){if(E===s){y=!0,s=f,l=h;break}if(E===l){y=!0,l=f,s=h;break}E=E.sibling}if(!y){for(E=h.child;E;){if(E===s){y=!0,s=h,l=f;break}if(E===l){y=!0,l=h,s=f;break}E=E.sibling}if(!y)throw Error(i(189))}}if(s.alternate!==l)throw Error(i(190))}if(s.tag!==3)throw Error(i(188));return s.stateNode.current===s?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var v=Object.assign,w=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),ee=Symbol.iterator;function ie(n){return n===null||typeof n!="object"?null:(n=ee&&n[ee]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Symbol.for("react.client.reference");function ve(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ue?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case T:return"Profiler";case A:return"StrictMode";case $:return"Suspense";case F:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case C:return n.displayName||"Context";case R:return(n._context.displayName||"Context")+".Consumer";case P:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:ve(n.type)||"Memo";case H:r=n._payload,n=n._init;try{return ve(n(r))}catch{}}return null}var Oe=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},me=[],be=-1;function D(n){return{current:n}}function K(n){0>be||(n.current=me[be],me[be]=null,be--)}function X(n,r){be++,me[be]=n.current,n.current=r}var W=D(null),he=D(null),ge=D(null),oe=D(null);function Je(n,r){switch(X(ge,r),X(he,n),X(W,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?sy(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=sy(r),n=oy(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(W),X(W,n)}function Pe(){K(W),K(he),K(ge)}function Kt(n){n.memoizedState!==null&&X(oe,n);var r=W.current,s=oy(r,n.type);r!==s&&(X(he,n),X(W,s))}function vn(n){he.current===n&&(K(W),K(he)),oe.current===n&&(K(oe),Rs._currentValue=I)}var bn,zr;function Br(n){if(bn===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);bn=r&&r[1]||"",zr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bn+n+zr}var gu=!1;function yu(n,r){if(!n||gu)return"";gu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(q){B=q}n.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],E=h[1];if(y&&E){var O=y.split(`
`),L=E.split(`
`);for(f=l=0;l<O.length&&!O[l].includes("DetermineComponentFrameRoot");)l++;for(;f<L.length&&!L[f].includes("DetermineComponentFrameRoot");)f++;if(l===O.length||f===L.length)for(l=O.length-1,f=L.length-1;1<=l&&0<=f&&O[l]!==L[f];)f--;for(;1<=l&&0<=f;l--,f--)if(O[l]!==L[f]){if(l!==1||f!==1)do if(l--,f--,0>f||O[l]!==L[f]){var V=`
`+O[l].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=l&&0<=f);break}}}finally{gu=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Br(s):""}function g_(n,r){switch(n.tag){case 26:case 27:case 5:return Br(n.type);case 16:return Br("Lazy");case 13:return n.child!==r&&r!==null?Br("Suspense Fallback"):Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return yu(n.type,!1);case 11:return yu(n.type.render,!1);case 1:return yu(n.type,!0);case 31:return Br("Activity");default:return""}}function Ph(n){try{var r="",s=null;do r+=g_(n,s),s=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var vu=Object.prototype.hasOwnProperty,bu=e.unstable_scheduleCallback,wu=e.unstable_cancelCallback,y_=e.unstable_shouldYield,v_=e.unstable_requestPaint,kt=e.unstable_now,b_=e.unstable_getCurrentPriorityLevel,zh=e.unstable_ImmediatePriority,Bh=e.unstable_UserBlockingPriority,ro=e.unstable_NormalPriority,w_=e.unstable_LowPriority,qh=e.unstable_IdlePriority,__=e.log,S_=e.unstable_setDisableYieldValue,zi=null,Nt=null;function tr(n){if(typeof __=="function"&&S_(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode(zi,n)}catch{}}var Dt=Math.clz32?Math.clz32:A_,E_=Math.log,x_=Math.LN2;function A_(n){return n>>>=0,n===0?32:31-(E_(n)/x_|0)|0}var ao=256,io=262144,so=4194304;function qr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function oo(n,r,s){var l=n.pendingLanes;if(l===0)return 0;var f=0,h=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~h,l!==0?f=qr(l):(y&=E,y!==0?f=qr(y):s||(s=E&~n,s!==0&&(f=qr(s))))):(E=l&~h,E!==0?f=qr(E):y!==0?f=qr(y):s||(s=l&~n,s!==0&&(f=qr(s)))),f===0?0:r!==0&&r!==f&&(r&h)===0&&(h=f&-f,s=r&-r,h>=s||h===32&&(s&4194048)!==0)?r:f}function Bi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function R_(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $h(){var n=so;return so<<=1,(so&62914560)===0&&(so=4194304),n}function _u(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function qi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function T_(n,r,s,l,f,h){var y=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var E=n.entanglements,O=n.expirationTimes,L=n.hiddenUpdates;for(s=y&~s;0<s;){var V=31-Dt(s),Q=1<<V;E[V]=0,O[V]=-1;var B=L[V];if(B!==null)for(L[V]=null,V=0;V<B.length;V++){var q=B[V];q!==null&&(q.lane&=-536870913)}s&=~Q}l!==0&&Ih(n,l,0),h!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=h&~(y&~r))}function Ih(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Dt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function Hh(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var l=31-Dt(s),f=1<<l;f&r|n[l]&r&&(n[l]|=r),s&=~f}}function Vh(n,r){var s=r&-r;return s=(s&42)!==0?1:Su(s),(s&(n.suspendedLanes|r))!==0?0:s}function Su(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Eu(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Gh(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:ky(n.type))}function Kh(n,r){var s=Y.p;try{return Y.p=n,r()}finally{Y.p=s}}var nr=Math.random().toString(36).slice(2),ft="__reactFiber$"+nr,_t="__reactProps$"+nr,va="__reactContainer$"+nr,xu="__reactEvents$"+nr,O_="__reactListeners$"+nr,C_="__reactHandles$"+nr,Fh="__reactResources$"+nr,$i="__reactMarker$"+nr;function Au(n){delete n[ft],delete n[_t],delete n[xu],delete n[O_],delete n[C_]}function ba(n){var r=n[ft];if(r)return r;for(var s=n.parentNode;s;){if(r=s[va]||s[ft]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=my(n);n!==null;){if(s=n[ft])return s;n=my(n)}return r}n=s,s=n.parentNode}return null}function wa(n){if(n=n[ft]||n[va]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ii(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function _a(n){var r=n[Fh];return r||(r=n[Fh]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(n){n[$i]=!0}var Qh=new Set,Yh={};function $r(n,r){Sa(n,r),Sa(n+"Capture",r)}function Sa(n,r){for(Yh[n]=r,n=0;n<r.length;n++)Qh.add(r[n])}var k_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xh={},Jh={};function N_(n){return vu.call(Jh,n)?!0:vu.call(Xh,n)?!1:k_.test(n)?Jh[n]=!0:(Xh[n]=!0,!1)}function lo(n,r,s){if(N_(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function uo(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function Cn(n,r,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+l)}}function Ft(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wh(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function D_(n,r,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,h=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(y){s=""+y,h.call(this,y)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(y){s=""+y},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ru(n){if(!n._valueTracker){var r=Wh(n)?"checked":"value";n._valueTracker=D_(n,r,""+n[r])}}function Zh(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return n&&(l=Wh(n)?n.checked?"true":"false":n.value),n=l,n!==s?(r.setValue(n),!0):!1}function co(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var j_=/[\n"\\]/g;function Qt(n){return n.replace(j_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tu(n,r,s,l,f,h,y,E){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),r!=null?y==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ft(r)):n.value!==""+Ft(r)&&(n.value=""+Ft(r)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),r!=null?Ou(n,y,Ft(r)):s!=null?Ou(n,y,Ft(s)):l!=null&&n.removeAttribute("value"),f==null&&h!=null&&(n.defaultChecked=!!h),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+Ft(E):n.removeAttribute("name")}function em(n,r,s,l,f,h,y,E){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(n.type=h),r!=null||s!=null){if(!(h!=="submit"&&h!=="reset"||r!=null)){Ru(n);return}s=s!=null?""+Ft(s):"",r=r!=null?""+Ft(r):s,E||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y),Ru(n)}function Ou(n,r,s){r==="number"&&co(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ea(n,r,s,l){if(n=n.options,r){r={};for(var f=0;f<s.length;f++)r["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=r.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Ft(s),r=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function tm(n,r,s){if(r!=null&&(r=""+Ft(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Ft(s):""}function nm(n,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(i(92));if(Oe(l)){if(1<l.length)throw Error(i(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Ft(r),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),Ru(n)}function xa(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var M_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rm(n,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,s):typeof s!="number"||s===0||M_.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function am(n,r,s){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&s[f]!==l&&rm(n,f,l)}else for(var h in r)r.hasOwnProperty(h)&&rm(n,h,r[h])}function Cu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var U_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),L_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(n){return L_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function kn(){}var ku=null;function Nu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Aa=null,Ra=null;function im(n){var r=wa(n);if(r&&(n=r.stateNode)){var s=n[_t]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tu(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==n&&l.form===n.form){var f=l[_t]||null;if(!f)throw Error(i(90));Tu(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===n.form&&Zh(l)}break e;case"textarea":tm(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ea(n,!!s.multiple,r,!1)}}}var Du=!1;function sm(n,r,s){if(Du)return n(r,s);Du=!0;try{var l=n(r);return l}finally{if(Du=!1,(Aa!==null||Ra!==null)&&(Zo(),Aa&&(r=Aa,n=Ra,Ra=Aa=null,im(r),n)))for(r=0;r<n.length;r++)im(n[r])}}function Hi(n,r){var s=n.stateNode;if(s===null)return null;var l=s[_t]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(i(231,r,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ju=!1;if(Nn)try{var Vi={};Object.defineProperty(Vi,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Vi,Vi),window.removeEventListener("test",Vi,Vi)}catch{ju=!1}var rr=null,Mu=null,ho=null;function om(){if(ho)return ho;var n,r=Mu,s=r.length,l,f="value"in rr?rr.value:rr.textContent,h=f.length;for(n=0;n<s&&r[n]===f[n];n++);var y=s-n;for(l=1;l<=y&&r[s-l]===f[h-l];l++);return ho=f.slice(n,1<l?1-l:void 0)}function mo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function po(){return!0}function lm(){return!1}function St(n){function r(s,l,f,h,y){this._reactName=s,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(s=n[E],this[E]=s?s(h):h[E]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?po:lm,this.isPropagationStopped=lm,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=po)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=po)},persist:function(){},isPersistent:po}),r}var Ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=St(Ir),Gi=v({},Ir,{view:0,detail:0}),P_=St(Gi),Uu,Lu,Ki,yo=v({},Gi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ki&&(Ki&&n.type==="mousemove"?(Uu=n.screenX-Ki.screenX,Lu=n.screenY-Ki.screenY):Lu=Uu=0,Ki=n),Uu)},movementY:function(n){return"movementY"in n?n.movementY:Lu}}),um=St(yo),z_=v({},yo,{dataTransfer:0}),B_=St(z_),q_=v({},Gi,{relatedTarget:0}),Pu=St(q_),$_=v({},Ir,{animationName:0,elapsedTime:0,pseudoElement:0}),I_=St($_),H_=v({},Ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),V_=St(H_),G_=v({},Ir,{data:0}),cm=St(G_),K_={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F_={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q_={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Y_(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Q_[n])?!!r[n]:!1}function zu(){return Y_}var X_=v({},Gi,{key:function(n){if(n.key){var r=K_[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=mo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?F_[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zu,charCode:function(n){return n.type==="keypress"?mo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),J_=St(X_),W_=v({},yo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fm=St(W_),Z_=v({},Gi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zu}),eS=St(Z_),tS=v({},Ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),nS=St(tS),rS=v({},yo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),aS=St(rS),iS=v({},Ir,{newState:0,oldState:0}),sS=St(iS),oS=[9,13,27,32],Bu=Nn&&"CompositionEvent"in window,Fi=null;Nn&&"documentMode"in document&&(Fi=document.documentMode);var lS=Nn&&"TextEvent"in window&&!Fi,dm=Nn&&(!Bu||Fi&&8<Fi&&11>=Fi),hm=" ",mm=!1;function pm(n,r){switch(n){case"keyup":return oS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ta=!1;function uS(n,r){switch(n){case"compositionend":return gm(r);case"keypress":return r.which!==32?null:(mm=!0,hm);case"textInput":return n=r.data,n===hm&&mm?null:n;default:return null}}function cS(n,r){if(Ta)return n==="compositionend"||!Bu&&pm(n,r)?(n=om(),ho=Mu=rr=null,Ta=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return dm&&r.locale!=="ko"?null:r.data;default:return null}}var fS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!fS[n.type]:r==="textarea"}function vm(n,r,s,l){Aa?Ra?Ra.push(l):Ra=[l]:Aa=l,r=sl(r,"onChange"),0<r.length&&(s=new go("onChange","change",null,s,l),n.push({event:s,listeners:r}))}var Qi=null,Yi=null;function dS(n){ey(n,0)}function vo(n){var r=Ii(n);if(Zh(r))return n}function bm(n,r){if(n==="change")return r}var wm=!1;if(Nn){var qu;if(Nn){var $u="oninput"in document;if(!$u){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),$u=typeof _m.oninput=="function"}qu=$u}else qu=!1;wm=qu&&(!document.documentMode||9<document.documentMode)}function Sm(){Qi&&(Qi.detachEvent("onpropertychange",Em),Yi=Qi=null)}function Em(n){if(n.propertyName==="value"&&vo(Yi)){var r=[];vm(r,Yi,n,Nu(n)),sm(dS,r)}}function hS(n,r,s){n==="focusin"?(Sm(),Qi=r,Yi=s,Qi.attachEvent("onpropertychange",Em)):n==="focusout"&&Sm()}function mS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return vo(Yi)}function pS(n,r){if(n==="click")return vo(r)}function gS(n,r){if(n==="input"||n==="change")return vo(r)}function yS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var jt=typeof Object.is=="function"?Object.is:yS;function Xi(n,r){if(jt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var f=s[l];if(!vu.call(r,f)||!jt(n[f],r[f]))return!1}return!0}function xm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Am(n,r){var s=xm(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=r&&l>=r)return{node:s,offset:r-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=xm(s)}}function Rm(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Rm(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Tm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=co(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=co(n.document)}return r}function Iu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var vS=Nn&&"documentMode"in document&&11>=document.documentMode,Oa=null,Hu=null,Ji=null,Vu=!1;function Om(n,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Vu||Oa==null||Oa!==co(l)||(l=Oa,"selectionStart"in l&&Iu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ji&&Xi(Ji,l)||(Ji=l,l=sl(Hu,"onSelect"),0<l.length&&(r=new go("onSelect","select",null,r,s),n.push({event:r,listeners:l}),r.target=Oa)))}function Hr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var Ca={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Gu={},Cm={};Nn&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Vr(n){if(Gu[n])return Gu[n];if(!Ca[n])return n;var r=Ca[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in Cm)return Gu[n]=r[s];return n}var km=Vr("animationend"),Nm=Vr("animationiteration"),Dm=Vr("animationstart"),bS=Vr("transitionrun"),wS=Vr("transitionstart"),_S=Vr("transitioncancel"),jm=Vr("transitionend"),Mm=new Map,Ku="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ku.push("scrollEnd");function cn(n,r){Mm.set(n,r),$r(r,[n])}var bo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Yt=[],ka=0,Fu=0;function wo(){for(var n=ka,r=Fu=ka=0;r<n;){var s=Yt[r];Yt[r++]=null;var l=Yt[r];Yt[r++]=null;var f=Yt[r];Yt[r++]=null;var h=Yt[r];if(Yt[r++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}h!==0&&Um(s,f,h)}}function _o(n,r,s,l){Yt[ka++]=n,Yt[ka++]=r,Yt[ka++]=s,Yt[ka++]=l,Fu|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Qu(n,r,s,l){return _o(n,r,s,l),So(n)}function Gr(n,r){return _o(n,null,null,r),So(n)}function Um(n,r,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var f=!1,h=n.return;h!==null;)h.childLanes|=s,l=h.alternate,l!==null&&(l.childLanes|=s),h.tag===22&&(n=h.stateNode,n===null||n._visibility&1||(f=!0)),n=h,h=h.return;return n.tag===3?(h=n.stateNode,f&&r!==null&&(f=31-Dt(s),n=h.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=s|536870912),h):null}function So(n){if(50<bs)throw bs=0,rf=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Na={};function SS(n,r,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(n,r,s,l){return new SS(n,r,s,l)}function Yu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Dn(n,r){var s=n.alternate;return s===null?(s=Mt(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Lm(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Eo(n,r,s,l,f,h){var y=0;if(l=n,typeof n=="function")Yu(n)&&(y=1);else if(typeof n=="string")y=TE(n,s,W.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Mt(31,s,r,f),n.elementType=Z,n.lanes=h,n;case S:return Kr(s.children,f,h,r);case A:y=8,f|=24;break;case T:return n=Mt(12,s,r,f|2),n.elementType=T,n.lanes=h,n;case $:return n=Mt(13,s,r,f),n.elementType=$,n.lanes=h,n;case F:return n=Mt(19,s,r,f),n.elementType=F,n.lanes=h,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case C:y=10;break e;case R:y=9;break e;case P:y=11;break e;case M:y=14;break e;case H:y=16,l=null;break e}y=29,s=Error(i(130,n===null?"null":typeof n,"")),l=null}return r=Mt(y,s,r,f),r.elementType=n,r.type=l,r.lanes=h,r}function Kr(n,r,s,l){return n=Mt(7,n,l,r),n.lanes=s,n}function Xu(n,r,s){return n=Mt(6,n,null,r),n.lanes=s,n}function Pm(n){var r=Mt(18,null,null,0);return r.stateNode=n,r}function Ju(n,r,s){return r=Mt(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var zm=new WeakMap;function Xt(n,r){if(typeof n=="object"&&n!==null){var s=zm.get(n);return s!==void 0?s:(r={value:n,source:r,stack:Ph(r)},zm.set(n,r),r)}return{value:n,source:r,stack:Ph(r)}}var Da=[],ja=0,xo=null,Wi=0,Jt=[],Wt=0,ar=null,wn=1,_n="";function jn(n,r){Da[ja++]=Wi,Da[ja++]=xo,xo=n,Wi=r}function Bm(n,r,s){Jt[Wt++]=wn,Jt[Wt++]=_n,Jt[Wt++]=ar,ar=n;var l=wn;n=_n;var f=32-Dt(l)-1;l&=~(1<<f),s+=1;var h=32-Dt(r)+f;if(30<h){var y=f-f%5;h=(l&(1<<y)-1).toString(32),l>>=y,f-=y,wn=1<<32-Dt(r)+f|s<<f|l,_n=h+n}else wn=1<<h|s<<f|l,_n=n}function Wu(n){n.return!==null&&(jn(n,1),Bm(n,1,0))}function Zu(n){for(;n===xo;)xo=Da[--ja],Da[ja]=null,Wi=Da[--ja],Da[ja]=null;for(;n===ar;)ar=Jt[--Wt],Jt[Wt]=null,_n=Jt[--Wt],Jt[Wt]=null,wn=Jt[--Wt],Jt[Wt]=null}function qm(n,r){Jt[Wt++]=wn,Jt[Wt++]=_n,Jt[Wt++]=ar,wn=r.id,_n=r.overflow,ar=n}var dt=null,He=null,Re=!1,ir=null,Zt=!1,ec=Error(i(519));function sr(n){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zi(Xt(r,n)),ec}function $m(n){var r=n.stateNode,s=n.type,l=n.memoizedProps;switch(r[ft]=n,r[_t]=l,s){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<_s.length;s++)Ee(_s[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ee("invalid",r),em(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",r);break;case"textarea":Ee("invalid",r),nm(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||ay(r.textContent,s)?(l.popover!=null&&(Ee("beforetoggle",r),Ee("toggle",r)),l.onScroll!=null&&Ee("scroll",r),l.onScrollEnd!=null&&Ee("scrollend",r),l.onClick!=null&&(r.onclick=kn),r=!0):r=!1,r||sr(n,!0)}function Im(n){for(dt=n.return;dt;)switch(dt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:dt=dt.return}}function Ma(n){if(n!==dt)return!1;if(!Re)return Im(n),Re=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||bf(n.type,n.memoizedProps)),s=!s),s&&He&&sr(n),Im(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));He=hy(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));He=hy(n)}else r===27?(r=He,wr(n.type)?(n=xf,xf=null,He=n):He=r):He=dt?tn(n.stateNode.nextSibling):null;return!0}function Fr(){He=dt=null,Re=!1}function tc(){var n=ir;return n!==null&&(Rt===null?Rt=n:Rt.push.apply(Rt,n),ir=null),n}function Zi(n){ir===null?ir=[n]:ir.push(n)}var nc=D(null),Qr=null,Mn=null;function or(n,r,s){X(nc,r._currentValue),r._currentValue=s}function Un(n){n._currentValue=nc.current,K(nc)}function rc(n,r,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===s)break;n=n.return}}function ac(n,r,s,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var h=f.dependencies;if(h!==null){var y=f.child;h=h.firstContext;e:for(;h!==null;){var E=h;h=f;for(var O=0;O<r.length;O++)if(E.context===r[O]){h.lanes|=s,E=h.alternate,E!==null&&(E.lanes|=s),rc(h.return,s,n),l||(y=null);break e}h=E.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(i(341));y.lanes|=s,h=y.alternate,h!==null&&(h.lanes|=s),rc(y,s,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ua(n,r,s,l){n=null;for(var f=r,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var E=f.type;jt(f.pendingProps.value,y.value)||(n!==null?n.push(E):n=[E])}}else if(f===oe.current){if(y=f.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Rs):n=[Rs])}f=f.return}n!==null&&ac(r,n,s,l),r.flags|=262144}function Ao(n){for(n=n.firstContext;n!==null;){if(!jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Yr(n){Qr=n,Mn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ht(n){return Hm(Qr,n)}function Ro(n,r){return Qr===null&&Yr(n),Hm(n,r)}function Hm(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Mn===null){if(n===null)throw Error(i(308));Mn=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Mn=Mn.next=r;return s}var ES=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},xS=e.unstable_scheduleCallback,AS=e.unstable_NormalPriority,et={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ic(){return{controller:new ES,data:new Map,refCount:0}}function es(n){n.refCount--,n.refCount===0&&xS(AS,function(){n.controller.abort()})}var ts=null,sc=0,La=0,Pa=null;function RS(n,r){if(ts===null){var s=ts=[];sc=0,La=cf(),Pa={status:"pending",value:void 0,then:function(l){s.push(l)}}}return sc++,r.then(Vm,Vm),r}function Vm(){if(--sc===0&&ts!==null){Pa!==null&&(Pa.status="fulfilled");var n=ts;ts=null,La=0,Pa=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function TS(n,r){var s=[],l={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<s.length;f++)(0,s[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),l}var Gm=z.S;z.S=function(n,r){Og=kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&RS(n,r),Gm!==null&&Gm(n,r)};var Xr=D(null);function oc(){var n=Xr.current;return n!==null?n:$e.pooledCache}function To(n,r){r===null?X(Xr,Xr.current):X(Xr,r.pool)}function Km(){var n=oc();return n===null?null:{parent:et._currentValue,pool:n}}var za=Error(i(460)),lc=Error(i(474)),Oo=Error(i(542)),Co={then:function(){}};function Fm(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Qm(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(kn,kn),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Xm(n),n;default:if(typeof r.status=="string")r.then(kn,kn);else{if(n=$e,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,Xm(n),n}throw Wr=r,za}}function Jr(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Wr=s,za):s}}var Wr=null;function Ym(){if(Wr===null)throw Error(i(459));var n=Wr;return Wr=null,n}function Xm(n){if(n===za||n===Oo)throw Error(i(483))}var Ba=null,ns=0;function ko(n){var r=ns;return ns+=1,Ba===null&&(Ba=[]),Qm(Ba,n,r)}function rs(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function No(n,r){throw r.$$typeof===w?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Jm(n){function r(j,N){if(n){var U=j.deletions;U===null?(j.deletions=[N],j.flags|=16):U.push(N)}}function s(j,N){if(!n)return null;for(;N!==null;)r(j,N),N=N.sibling;return null}function l(j){for(var N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function f(j,N){return j=Dn(j,N),j.index=0,j.sibling=null,j}function h(j,N,U){return j.index=U,n?(U=j.alternate,U!==null?(U=U.index,U<N?(j.flags|=67108866,N):U):(j.flags|=67108866,N)):(j.flags|=1048576,N)}function y(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function E(j,N,U,G){return N===null||N.tag!==6?(N=Xu(U,j.mode,G),N.return=j,N):(N=f(N,U),N.return=j,N)}function O(j,N,U,G){var le=U.type;return le===S?V(j,N,U.props.children,G,U.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===H&&Jr(le)===N.type)?(N=f(N,U.props),rs(N,U),N.return=j,N):(N=Eo(U.type,U.key,U.props,null,j.mode,G),rs(N,U),N.return=j,N)}function L(j,N,U,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=Ju(U,j.mode,G),N.return=j,N):(N=f(N,U.children||[]),N.return=j,N)}function V(j,N,U,G,le){return N===null||N.tag!==7?(N=Kr(U,j.mode,G,le),N.return=j,N):(N=f(N,U),N.return=j,N)}function Q(j,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Xu(""+N,j.mode,U),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return U=Eo(N.type,N.key,N.props,null,j.mode,U),rs(U,N),U.return=j,U;case x:return N=Ju(N,j.mode,U),N.return=j,N;case H:return N=Jr(N),Q(j,N,U)}if(Oe(N)||ie(N))return N=Kr(N,j.mode,U,null),N.return=j,N;if(typeof N.then=="function")return Q(j,ko(N),U);if(N.$$typeof===C)return Q(j,Ro(j,N),U);No(j,N)}return null}function B(j,N,U,G){var le=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return le!==null?null:E(j,N,""+U,G);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case _:return U.key===le?O(j,N,U,G):null;case x:return U.key===le?L(j,N,U,G):null;case H:return U=Jr(U),B(j,N,U,G)}if(Oe(U)||ie(U))return le!==null?null:V(j,N,U,G,null);if(typeof U.then=="function")return B(j,N,ko(U),G);if(U.$$typeof===C)return B(j,N,Ro(j,U),G);No(j,U)}return null}function q(j,N,U,G,le){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return j=j.get(U)||null,E(N,j,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return j=j.get(G.key===null?U:G.key)||null,O(N,j,G,le);case x:return j=j.get(G.key===null?U:G.key)||null,L(N,j,G,le);case H:return G=Jr(G),q(j,N,U,G,le)}if(Oe(G)||ie(G))return j=j.get(U)||null,V(N,j,G,le,null);if(typeof G.then=="function")return q(j,N,U,ko(G),le);if(G.$$typeof===C)return q(j,N,U,Ro(N,G),le);No(N,G)}return null}function te(j,N,U,G){for(var le=null,Ce=null,ae=N,we=N=0,Ae=null;ae!==null&&we<U.length;we++){ae.index>we?(Ae=ae,ae=null):Ae=ae.sibling;var ke=B(j,ae,U[we],G);if(ke===null){ae===null&&(ae=Ae);break}n&&ae&&ke.alternate===null&&r(j,ae),N=h(ke,N,we),Ce===null?le=ke:Ce.sibling=ke,Ce=ke,ae=Ae}if(we===U.length)return s(j,ae),Re&&jn(j,we),le;if(ae===null){for(;we<U.length;we++)ae=Q(j,U[we],G),ae!==null&&(N=h(ae,N,we),Ce===null?le=ae:Ce.sibling=ae,Ce=ae);return Re&&jn(j,we),le}for(ae=l(ae);we<U.length;we++)Ae=q(ae,j,we,U[we],G),Ae!==null&&(n&&Ae.alternate!==null&&ae.delete(Ae.key===null?we:Ae.key),N=h(Ae,N,we),Ce===null?le=Ae:Ce.sibling=Ae,Ce=Ae);return n&&ae.forEach(function(Ar){return r(j,Ar)}),Re&&jn(j,we),le}function ce(j,N,U,G){if(U==null)throw Error(i(151));for(var le=null,Ce=null,ae=N,we=N=0,Ae=null,ke=U.next();ae!==null&&!ke.done;we++,ke=U.next()){ae.index>we?(Ae=ae,ae=null):Ae=ae.sibling;var Ar=B(j,ae,ke.value,G);if(Ar===null){ae===null&&(ae=Ae);break}n&&ae&&Ar.alternate===null&&r(j,ae),N=h(Ar,N,we),Ce===null?le=Ar:Ce.sibling=Ar,Ce=Ar,ae=Ae}if(ke.done)return s(j,ae),Re&&jn(j,we),le;if(ae===null){for(;!ke.done;we++,ke=U.next())ke=Q(j,ke.value,G),ke!==null&&(N=h(ke,N,we),Ce===null?le=ke:Ce.sibling=ke,Ce=ke);return Re&&jn(j,we),le}for(ae=l(ae);!ke.done;we++,ke=U.next())ke=q(ae,j,we,ke.value,G),ke!==null&&(n&&ke.alternate!==null&&ae.delete(ke.key===null?we:ke.key),N=h(ke,N,we),Ce===null?le=ke:Ce.sibling=ke,Ce=ke);return n&&ae.forEach(function(zE){return r(j,zE)}),Re&&jn(j,we),le}function qe(j,N,U,G){if(typeof U=="object"&&U!==null&&U.type===S&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case _:e:{for(var le=U.key;N!==null;){if(N.key===le){if(le=U.type,le===S){if(N.tag===7){s(j,N.sibling),G=f(N,U.props.children),G.return=j,j=G;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===H&&Jr(le)===N.type){s(j,N.sibling),G=f(N,U.props),rs(G,U),G.return=j,j=G;break e}s(j,N);break}else r(j,N);N=N.sibling}U.type===S?(G=Kr(U.props.children,j.mode,G,U.key),G.return=j,j=G):(G=Eo(U.type,U.key,U.props,null,j.mode,G),rs(G,U),G.return=j,j=G)}return y(j);case x:e:{for(le=U.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){s(j,N.sibling),G=f(N,U.children||[]),G.return=j,j=G;break e}else{s(j,N);break}else r(j,N);N=N.sibling}G=Ju(U,j.mode,G),G.return=j,j=G}return y(j);case H:return U=Jr(U),qe(j,N,U,G)}if(Oe(U))return te(j,N,U,G);if(ie(U)){if(le=ie(U),typeof le!="function")throw Error(i(150));return U=le.call(U),ce(j,N,U,G)}if(typeof U.then=="function")return qe(j,N,ko(U),G);if(U.$$typeof===C)return qe(j,N,Ro(j,U),G);No(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(s(j,N.sibling),G=f(N,U),G.return=j,j=G):(s(j,N),G=Xu(U,j.mode,G),G.return=j,j=G),y(j)):s(j,N)}return function(j,N,U,G){try{ns=0;var le=qe(j,N,U,G);return Ba=null,le}catch(ae){if(ae===za||ae===Oo)throw ae;var Ce=Mt(29,ae,null,j.mode);return Ce.lanes=G,Ce.return=j,Ce}}}var Zr=Jm(!0),Wm=Jm(!1),lr=!1;function uc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function ur(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function cr(n,r,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ne&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=So(n),Um(n,null,s),r}return _o(n,l,r,s),So(n)}function as(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Hh(n,s)}}function fc(n,r){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var f=null,h=null;if(s=s.firstBaseUpdate,s!==null){do{var y={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};h===null?f=h=y:h=h.next=y,s=s.next}while(s!==null);h===null?f=h=r:h=h.next=r}else f=h=r;s={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var dc=!1;function is(){if(dc){var n=Pa;if(n!==null)throw n}}function ss(n,r,s,l){dc=!1;var f=n.updateQueue;lr=!1;var h=f.firstBaseUpdate,y=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var O=E,L=O.next;O.next=null,y===null?h=L:y.next=L,y=O;var V=n.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==y&&(E===null?V.firstBaseUpdate=L:E.next=L,V.lastBaseUpdate=O))}if(h!==null){var Q=f.baseState;y=0,V=L=O=null,E=h;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(xe&B)===B:(l&B)===B){B!==0&&B===La&&(dc=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var te=n,ce=E;B=r;var qe=s;switch(ce.tag){case 1:if(te=ce.payload,typeof te=="function"){Q=te.call(qe,Q,B);break e}Q=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ce.payload,B=typeof te=="function"?te.call(qe,Q,B):te,B==null)break e;Q=v({},Q,B);break e;case 2:lr=!0}}B=E.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=f.callbacks,q===null?f.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(L=V=q,O=Q):V=V.next=q,y|=B;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;q=E,E=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);V===null&&(O=Q),f.baseState=O,f.firstBaseUpdate=L,f.lastBaseUpdate=V,h===null&&(f.shared.lanes=0),pr|=y,n.lanes=y,n.memoizedState=Q}}function Zm(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function ep(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)Zm(s[n],r)}var qa=D(null),Do=D(0);function tp(n,r){n=Vn,X(Do,n),X(qa,r),Vn=n|r.baseLanes}function hc(){X(Do,Vn),X(qa,qa.current)}function mc(){Vn=Do.current,K(qa),K(Do)}var Ut=D(null),en=null;function fr(n){var r=n.alternate;X(We,We.current&1),X(Ut,n),en===null&&(r===null||qa.current!==null||r.memoizedState!==null)&&(en=n)}function pc(n){X(We,We.current),X(Ut,n),en===null&&(en=n)}function np(n){n.tag===22?(X(We,We.current),X(Ut,n),en===null&&(en=n)):dr()}function dr(){X(We,We.current),X(Ut,Ut.current)}function Lt(n){K(Ut),en===n&&(en=null),K(We)}var We=D(0);function jo(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sf(s)||Ef(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ln=0,ye=null,ze=null,tt=null,Mo=!1,$a=!1,ea=!1,Uo=0,os=0,Ia=null,OS=0;function Qe(){throw Error(i(321))}function gc(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!jt(n[s],r[s]))return!1;return!0}function yc(n,r,s,l,f,h){return Ln=h,ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=n===null||n.memoizedState===null?Bp:Dc,ea=!1,h=s(l,f),ea=!1,$a&&(h=ap(r,s,l,f)),rp(n),h}function rp(n){z.H=cs;var r=ze!==null&&ze.next!==null;if(Ln=0,tt=ze=ye=null,Mo=!1,os=0,Ia=null,r)throw Error(i(300));n===null||nt||(n=n.dependencies,n!==null&&Ao(n)&&(nt=!0))}function ap(n,r,s,l){ye=n;var f=0;do{if($a&&(Ia=null),os=0,$a=!1,25<=f)throw Error(i(301));if(f+=1,tt=ze=null,n.updateQueue!=null){var h=n.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}z.H=qp,h=r(s,l)}while($a);return h}function CS(){var n=z.H,r=n.useState()[0];return r=typeof r.then=="function"?ls(r):r,n=n.useState()[0],(ze!==null?ze.memoizedState:null)!==n&&(ye.flags|=1024),r}function vc(){var n=Uo!==0;return Uo=0,n}function bc(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function wc(n){if(Mo){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Mo=!1}Ln=0,tt=ze=ye=null,$a=!1,os=Uo=0,Ia=null}function bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ye.memoizedState=tt=n:tt=tt.next=n,tt}function Ze(){if(ze===null){var n=ye.alternate;n=n!==null?n.memoizedState:null}else n=ze.next;var r=tt===null?ye.memoizedState:tt.next;if(r!==null)tt=r,ze=n;else{if(n===null)throw ye.alternate===null?Error(i(467)):Error(i(310));ze=n,n={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},tt===null?ye.memoizedState=tt=n:tt=tt.next=n}return tt}function Lo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ls(n){var r=os;return os+=1,Ia===null&&(Ia=[]),n=Qm(Ia,n,r),r=ye,(tt===null?r.memoizedState:tt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Bp:Dc),n}function Po(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ls(n);if(n.$$typeof===C)return ht(n)}throw Error(i(438,String(n)))}function _c(n){var r=null,s=ye.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=Lo(),ye.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),l=0;l<n;l++)s[l]=J;return r.index++,s}function Pn(n,r){return typeof r=="function"?r(n):r}function zo(n){var r=Ze();return Sc(r,ze,n)}function Sc(n,r,s){var l=n.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var f=n.baseQueue,h=l.pending;if(h!==null){if(f!==null){var y=f.next;f.next=h.next,h.next=y}r.baseQueue=f=h,l.pending=null}if(h=n.baseState,f===null)n.memoizedState=h;else{r=f.next;var E=y=null,O=null,L=r,V=!1;do{var Q=L.lane&-536870913;if(Q!==L.lane?(xe&Q)===Q:(Ln&Q)===Q){var B=L.revertLane;if(B===0)O!==null&&(O=O.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Q===La&&(V=!0);else if((Ln&B)===B){L=L.next,B===La&&(V=!0);continue}else Q={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},O===null?(E=O=Q,y=h):O=O.next=Q,ye.lanes|=B,pr|=B;Q=L.action,ea&&s(h,Q),h=L.hasEagerState?L.eagerState:s(h,Q)}else B={lane:Q,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},O===null?(E=O=B,y=h):O=O.next=B,ye.lanes|=Q,pr|=Q;L=L.next}while(L!==null&&L!==r);if(O===null?y=h:O.next=E,!jt(h,n.memoizedState)&&(nt=!0,V&&(s=Pa,s!==null)))throw s;n.memoizedState=h,n.baseState=y,n.baseQueue=O,l.lastRenderedState=h}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Ec(n){var r=Ze(),s=r.queue;if(s===null)throw Error(i(311));s.lastRenderedReducer=n;var l=s.dispatch,f=s.pending,h=r.memoizedState;if(f!==null){s.pending=null;var y=f=f.next;do h=n(h,y.action),y=y.next;while(y!==f);jt(h,r.memoizedState)||(nt=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),s.lastRenderedState=h}return[h,l]}function ip(n,r,s){var l=ye,f=Ze(),h=Re;if(h){if(s===void 0)throw Error(i(407));s=s()}else s=r();var y=!jt((ze||f).memoizedState,s);if(y&&(f.memoizedState=s,nt=!0),f=f.queue,Rc(lp.bind(null,l,f,n),[n]),f.getSnapshot!==r||y||tt!==null&&tt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},op.bind(null,l,f,s,r),null),$e===null)throw Error(i(349));h||(Ln&127)!==0||sp(l,r,s)}return s}function sp(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=ye.updateQueue,r===null?(r=Lo(),ye.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function op(n,r,s,l){r.value=s,r.getSnapshot=l,up(r)&&cp(n)}function lp(n,r,s){return s(function(){up(r)&&cp(n)})}function up(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!jt(n,s)}catch{return!0}}function cp(n){var r=Gr(n,2);r!==null&&Tt(r,n,2)}function xc(n){var r=bt();if(typeof n=="function"){var s=n;if(n=s(),ea){tr(!0);try{s()}finally{tr(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:n},r}function fp(n,r,s,l){return n.baseState=s,Sc(n,ze,typeof l=="function"?l:Pn)}function kS(n,r,s,l,f){if($o(n))throw Error(i(485));if(n=r.action,n!==null){var h={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};z.T!==null?s(!0):h.isTransition=!1,l(h),s=r.pending,s===null?(h.next=r.pending=h,dp(r,h)):(h.next=s.next,r.pending=s.next=h)}}function dp(n,r){var s=r.action,l=r.payload,f=n.state;if(r.isTransition){var h=z.T,y={};z.T=y;try{var E=s(f,l),O=z.S;O!==null&&O(y,E),hp(n,r,E)}catch(L){Ac(n,r,L)}finally{h!==null&&y.types!==null&&(h.types=y.types),z.T=h}}else try{h=s(f,l),hp(n,r,h)}catch(L){Ac(n,r,L)}}function hp(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){mp(n,r,l)},function(l){return Ac(n,r,l)}):mp(n,r,s)}function mp(n,r,s){r.status="fulfilled",r.value=s,pp(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,dp(n,s)))}function Ac(n,r,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,pp(r),r=r.next;while(r!==l)}n.action=null}function pp(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function gp(n,r){return r}function yp(n,r){if(Re){var s=$e.formState;if(s!==null){e:{var l=ye;if(Re){if(He){t:{for(var f=He,h=Zt;f.nodeType!==8;){if(!h){f=null;break t}if(f=tn(f.nextSibling),f===null){f=null;break t}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){He=tn(f.nextSibling),l=f.data==="F!";break e}}sr(l)}l=!1}l&&(r=s[0])}}return s=bt(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gp,lastRenderedState:r},s.queue=l,s=Lp.bind(null,ye,l),l.dispatch=s,l=xc(!1),h=Nc.bind(null,ye,!1,l.queue),l=bt(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,s=kS.bind(null,ye,f,h,s),f.dispatch=s,l.memoizedState=n,[r,s,!1]}function vp(n){var r=Ze();return bp(r,ze,n)}function bp(n,r,s){if(r=Sc(n,r,gp)[0],n=zo(Pn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ls(r)}catch(y){throw y===za?Oo:y}else l=r;r=Ze();var f=r.queue,h=f.dispatch;return s!==r.memoizedState&&(ye.flags|=2048,Ha(9,{destroy:void 0},NS.bind(null,f,s),null)),[l,h,n]}function NS(n,r){n.action=r}function wp(n){var r=Ze(),s=ze;if(s!==null)return bp(r,s,n);Ze(),r=r.memoizedState,s=Ze();var l=s.queue.dispatch;return s.memoizedState=n,[r,l,!1]}function Ha(n,r,s,l){return n={tag:n,create:s,deps:l,inst:r,next:null},r=ye.updateQueue,r===null&&(r=Lo(),ye.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,r.lastEffect=n),n}function _p(){return Ze().memoizedState}function Bo(n,r,s,l){var f=bt();ye.flags|=n,f.memoizedState=Ha(1|r,{destroy:void 0},s,l===void 0?null:l)}function qo(n,r,s,l){var f=Ze();l=l===void 0?null:l;var h=f.memoizedState.inst;ze!==null&&l!==null&&gc(l,ze.memoizedState.deps)?f.memoizedState=Ha(r,h,s,l):(ye.flags|=n,f.memoizedState=Ha(1|r,h,s,l))}function Sp(n,r){Bo(8390656,8,n,r)}function Rc(n,r){qo(2048,8,n,r)}function DS(n){ye.flags|=4;var r=ye.updateQueue;if(r===null)r=Lo(),ye.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function Ep(n){var r=Ze().memoizedState;return DS({ref:r,nextImpl:n}),function(){if((Ne&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function xp(n,r){return qo(4,2,n,r)}function Ap(n,r){return qo(4,4,n,r)}function Rp(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Tp(n,r,s){s=s!=null?s.concat([n]):null,qo(4,4,Rp.bind(null,r,n),s)}function Tc(){}function Op(n,r){var s=Ze();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&gc(r,l[1])?l[0]:(s.memoizedState=[n,r],n)}function Cp(n,r){var s=Ze();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&gc(r,l[1]))return l[0];if(l=n(),ea){tr(!0);try{n()}finally{tr(!1)}}return s.memoizedState=[l,r],l}function Oc(n,r,s){return s===void 0||(Ln&1073741824)!==0&&(xe&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=kg(),ye.lanes|=n,pr|=n,s)}function kp(n,r,s,l){return jt(s,r)?s:qa.current!==null?(n=Oc(n,s,l),jt(n,r)||(nt=!0),n):(Ln&42)===0||(Ln&1073741824)!==0&&(xe&261930)===0?(nt=!0,n.memoizedState=s):(n=kg(),ye.lanes|=n,pr|=n,r)}function Np(n,r,s,l,f){var h=Y.p;Y.p=h!==0&&8>h?h:8;var y=z.T,E={};z.T=E,Nc(n,!1,r,s);try{var O=f(),L=z.S;if(L!==null&&L(E,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var V=TS(O,l);us(n,r,V,Bt(n))}else us(n,r,l,Bt(n))}catch(Q){us(n,r,{then:function(){},status:"rejected",reason:Q},Bt())}finally{Y.p=h,y!==null&&E.types!==null&&(y.types=E.types),z.T=y}}function jS(){}function Cc(n,r,s,l){if(n.tag!==5)throw Error(i(476));var f=Dp(n).queue;Np(n,f,r,I,s===null?jS:function(){return jp(n),s(l)})}function Dp(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:I},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pn,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function jp(n){var r=Dp(n);r.next===null&&(r=n.alternate.memoizedState),us(n,r.next.queue,{},Bt())}function kc(){return ht(Rs)}function Mp(){return Ze().memoizedState}function Up(){return Ze().memoizedState}function MS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Bt();n=ur(s);var l=cr(r,n,s);l!==null&&(Tt(l,r,s),as(l,r,s)),r={cache:ic()},n.payload=r;return}r=r.return}}function US(n,r,s){var l=Bt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$o(n)?Pp(r,s):(s=Qu(n,r,s,l),s!==null&&(Tt(s,n,l),zp(s,r,l)))}function Lp(n,r,s){var l=Bt();us(n,r,s,l)}function us(n,r,s,l){var f={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($o(n))Pp(r,f);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var y=r.lastRenderedState,E=h(y,s);if(f.hasEagerState=!0,f.eagerState=E,jt(E,y))return _o(n,r,f,0),$e===null&&wo(),!1}catch{}if(s=Qu(n,r,f,l),s!==null)return Tt(s,n,l),zp(s,r,l),!0}return!1}function Nc(n,r,s,l){if(l={lane:2,revertLane:cf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$o(n)){if(r)throw Error(i(479))}else r=Qu(n,s,l,2),r!==null&&Tt(r,n,2)}function $o(n){var r=n.alternate;return n===ye||r!==null&&r===ye}function Pp(n,r){$a=Mo=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function zp(n,r,s){if((s&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Hh(n,s)}}var cs={readContext:ht,use:Po,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};cs.useEffectEvent=Qe;var Bp={readContext:ht,use:Po,useCallback:function(n,r){return bt().memoizedState=[n,r===void 0?null:r],n},useContext:ht,useEffect:Sp,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Bo(4194308,4,Rp.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Bo(4194308,4,n,r)},useInsertionEffect:function(n,r){Bo(4,2,n,r)},useMemo:function(n,r){var s=bt();r=r===void 0?null:r;var l=n();if(ea){tr(!0);try{n()}finally{tr(!1)}}return s.memoizedState=[l,r],l},useReducer:function(n,r,s){var l=bt();if(s!==void 0){var f=s(r);if(ea){tr(!0);try{s(r)}finally{tr(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=US.bind(null,ye,n),[l.memoizedState,n]},useRef:function(n){var r=bt();return n={current:n},r.memoizedState=n},useState:function(n){n=xc(n);var r=n.queue,s=Lp.bind(null,ye,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:Tc,useDeferredValue:function(n,r){var s=bt();return Oc(s,n,r)},useTransition:function(){var n=xc(!1);return n=Np.bind(null,ye,n.queue,!0,!1),bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var l=ye,f=bt();if(Re){if(s===void 0)throw Error(i(407));s=s()}else{if(s=r(),$e===null)throw Error(i(349));(xe&127)!==0||sp(l,r,s)}f.memoizedState=s;var h={value:s,getSnapshot:r};return f.queue=h,Sp(lp.bind(null,l,h,n),[n]),l.flags|=2048,Ha(9,{destroy:void 0},op.bind(null,l,h,s,r),null),s},useId:function(){var n=bt(),r=$e.identifierPrefix;if(Re){var s=_n,l=wn;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Uo++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=OS++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:kc,useFormState:yp,useActionState:yp,useOptimistic:function(n){var r=bt();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=Nc.bind(null,ye,!0,s),s.dispatch=r,[n,r]},useMemoCache:_c,useCacheRefresh:function(){return bt().memoizedState=MS.bind(null,ye)},useEffectEvent:function(n){var r=bt(),s={impl:n};return r.memoizedState=s,function(){if((Ne&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}},Dc={readContext:ht,use:Po,useCallback:Op,useContext:ht,useEffect:Rc,useImperativeHandle:Tp,useInsertionEffect:xp,useLayoutEffect:Ap,useMemo:Cp,useReducer:zo,useRef:_p,useState:function(){return zo(Pn)},useDebugValue:Tc,useDeferredValue:function(n,r){var s=Ze();return kp(s,ze.memoizedState,n,r)},useTransition:function(){var n=zo(Pn)[0],r=Ze().memoizedState;return[typeof n=="boolean"?n:ls(n),r]},useSyncExternalStore:ip,useId:Mp,useHostTransitionStatus:kc,useFormState:vp,useActionState:vp,useOptimistic:function(n,r){var s=Ze();return fp(s,ze,n,r)},useMemoCache:_c,useCacheRefresh:Up};Dc.useEffectEvent=Ep;var qp={readContext:ht,use:Po,useCallback:Op,useContext:ht,useEffect:Rc,useImperativeHandle:Tp,useInsertionEffect:xp,useLayoutEffect:Ap,useMemo:Cp,useReducer:Ec,useRef:_p,useState:function(){return Ec(Pn)},useDebugValue:Tc,useDeferredValue:function(n,r){var s=Ze();return ze===null?Oc(s,n,r):kp(s,ze.memoizedState,n,r)},useTransition:function(){var n=Ec(Pn)[0],r=Ze().memoizedState;return[typeof n=="boolean"?n:ls(n),r]},useSyncExternalStore:ip,useId:Mp,useHostTransitionStatus:kc,useFormState:wp,useActionState:wp,useOptimistic:function(n,r){var s=Ze();return ze!==null?fp(s,ze,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:_c,useCacheRefresh:Up};qp.useEffectEvent=Ep;function jc(n,r,s,l){r=n.memoizedState,s=s(l,r),s=s==null?r:v({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var Mc={enqueueSetState:function(n,r,s){n=n._reactInternals;var l=Bt(),f=ur(l);f.payload=r,s!=null&&(f.callback=s),r=cr(n,f,l),r!==null&&(Tt(r,n,l),as(r,n,l))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var l=Bt(),f=ur(l);f.tag=1,f.payload=r,s!=null&&(f.callback=s),r=cr(n,f,l),r!==null&&(Tt(r,n,l),as(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Bt(),l=ur(s);l.tag=2,r!=null&&(l.callback=r),r=cr(n,l,s),r!==null&&(Tt(r,n,s),as(r,n,s))}};function $p(n,r,s,l,f,h,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,h,y):r.prototype&&r.prototype.isPureReactComponent?!Xi(s,l)||!Xi(f,h):!0}function Ip(n,r,s,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==n&&Mc.enqueueReplaceState(r,r.state,null)}function ta(n,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(n=n.defaultProps){s===r&&(s=v({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}function Hp(n){bo(n)}function Vp(n){console.error(n)}function Gp(n){bo(n)}function Io(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Kp(n,r,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Uc(n,r,s){return s=ur(s),s.tag=3,s.payload={element:null},s.callback=function(){Io(n,r)},s}function Fp(n){return n=ur(n),n.tag=3,n}function Qp(n,r,s,l){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;n.payload=function(){return f(h)},n.callback=function(){Kp(r,s,l)}}var y=s.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){Kp(r,s,l),typeof f!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function LS(n,r,s,l,f){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Ua(r,s,f,!0),s=Ut.current,s!==null){switch(s.tag){case 31:case 13:return en===null?el():s.alternate===null&&Ye===0&&(Ye=3),s.flags&=-257,s.flags|=65536,s.lanes=f,l===Co?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),of(n,l,f)),!1;case 22:return s.flags|=65536,l===Co?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),of(n,l,f)),!1}throw Error(i(435,s.tag))}return of(n,l,f),el(),!1}if(Re)return r=Ut.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==ec&&(n=Error(i(422),{cause:l}),Zi(Xt(n,s)))):(l!==ec&&(r=Error(i(423),{cause:l}),Zi(Xt(r,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Xt(l,s),f=Uc(n.stateNode,l,f),fc(n,f),Ye!==4&&(Ye=2)),!1;var h=Error(i(520),{cause:l});if(h=Xt(h,s),vs===null?vs=[h]:vs.push(h),Ye!==4&&(Ye=2),r===null)return!0;l=Xt(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Uc(s.stateNode,l,n),fc(s,n),!1;case 1:if(r=s.type,h=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(gr===null||!gr.has(h))))return s.flags|=65536,f&=-f,s.lanes|=f,f=Fp(f),Qp(f,n,s,l),fc(s,f),!1}s=s.return}while(s!==null);return!1}var Lc=Error(i(461)),nt=!1;function mt(n,r,s,l){r.child=n===null?Wm(r,null,s,l):Zr(r,n.child,s,l)}function Yp(n,r,s,l,f){s=s.render;var h=r.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return Yr(r),l=yc(n,r,s,y,h,f),E=vc(),n!==null&&!nt?(bc(n,r,f),zn(n,r,f)):(Re&&E&&Wu(r),r.flags|=1,mt(n,r,l,f),r.child)}function Xp(n,r,s,l,f){if(n===null){var h=s.type;return typeof h=="function"&&!Yu(h)&&h.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=h,Jp(n,r,h,l,f)):(n=Eo(s.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(h=n.child,!Vc(n,f)){var y=h.memoizedProps;if(s=s.compare,s=s!==null?s:Xi,s(y,l)&&n.ref===r.ref)return zn(n,r,f)}return r.flags|=1,n=Dn(h,l),n.ref=r.ref,n.return=r,r.child=n}function Jp(n,r,s,l,f){if(n!==null){var h=n.memoizedProps;if(Xi(h,l)&&n.ref===r.ref)if(nt=!1,r.pendingProps=l=h,Vc(n,f))(n.flags&131072)!==0&&(nt=!0);else return r.lanes=n.lanes,zn(n,r,f)}return Pc(n,r,s,l,f)}function Wp(n,r,s,l){var f=l.children,h=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(h=h!==null?h.baseLanes|s:s,n!==null){for(l=r.child=n.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~h}else l=0,r.child=null;return Zp(n,r,h,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&To(r,h!==null?h.cachePool:null),h!==null?tp(r,h):hc(),np(r);else return l=r.lanes=536870912,Zp(n,r,h!==null?h.baseLanes|s:s,s,l)}else h!==null?(To(r,h.cachePool),tp(r,h),dr(),r.memoizedState=null):(n!==null&&To(r,null),hc(),dr());return mt(n,r,f,s),r.child}function fs(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function Zp(n,r,s,l,f){var h=oc();return h=h===null?null:{parent:et._currentValue,pool:h},r.memoizedState={baseLanes:s,cachePool:h},n!==null&&To(r,null),hc(),np(r),n!==null&&Ua(n,r,l,!0),r.childLanes=f,null}function Ho(n,r){return r=Go({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function eg(n,r,s){return Zr(r,n.child,null,s),n=Ho(r,r.pendingProps),n.flags|=2,Lt(r),r.memoizedState=null,n}function PS(n,r,s){var l=r.pendingProps,f=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Re){if(l.mode==="hidden")return n=Ho(r,l),r.lanes=536870912,fs(null,n);if(pc(r),(n=He)?(n=dy(n,Zt),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ar!==null?{id:wn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},s=Pm(n),s.return=r,r.child=s,dt=r,He=null)):n=null,n===null)throw sr(r);return r.lanes=536870912,null}return Ho(r,l)}var h=n.memoizedState;if(h!==null){var y=h.dehydrated;if(pc(r),f)if(r.flags&256)r.flags&=-257,r=eg(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(i(558));else if(nt||Ua(n,r,s,!1),f=(s&n.childLanes)!==0,nt||f){if(l=$e,l!==null&&(y=Vh(l,s),y!==0&&y!==h.retryLane))throw h.retryLane=y,Gr(n,y),Tt(l,n,y),Lc;el(),r=eg(n,r,s)}else n=h.treeContext,He=tn(y.nextSibling),dt=r,Re=!0,ir=null,Zt=!1,n!==null&&qm(r,n),r=Ho(r,l),r.flags|=4096;return r}return n=Dn(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Vo(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(i(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Pc(n,r,s,l,f){return Yr(r),s=yc(n,r,s,l,void 0,f),l=vc(),n!==null&&!nt?(bc(n,r,f),zn(n,r,f)):(Re&&l&&Wu(r),r.flags|=1,mt(n,r,s,f),r.child)}function tg(n,r,s,l,f,h){return Yr(r),r.updateQueue=null,s=ap(r,l,s,f),rp(n),l=vc(),n!==null&&!nt?(bc(n,r,h),zn(n,r,h)):(Re&&l&&Wu(r),r.flags|=1,mt(n,r,s,h),r.child)}function ng(n,r,s,l,f){if(Yr(r),r.stateNode===null){var h=Na,y=s.contextType;typeof y=="object"&&y!==null&&(h=ht(y)),h=new s(l,h),r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Mc,r.stateNode=h,h._reactInternals=r,h=r.stateNode,h.props=l,h.state=r.memoizedState,h.refs={},uc(r),y=s.contextType,h.context=typeof y=="object"&&y!==null?ht(y):Na,h.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(jc(r,s,y,l),h.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&Mc.enqueueReplaceState(h,h.state,null),ss(r,l,h,f),is(),h.state=r.memoizedState),typeof h.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){h=r.stateNode;var E=r.memoizedProps,O=ta(s,E);h.props=O;var L=h.context,V=s.contextType;y=Na,typeof V=="object"&&V!==null&&(y=ht(V));var Q=s.getDerivedStateFromProps;V=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,V||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(E||L!==y)&&Ip(r,h,l,y),lr=!1;var B=r.memoizedState;h.state=B,ss(r,l,h,f),is(),L=r.memoizedState,E||B!==L||lr?(typeof Q=="function"&&(jc(r,s,Q,l),L=r.memoizedState),(O=lr||$p(r,s,O,l,B,L,y))?(V||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(r.flags|=4194308)):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=L),h.props=l,h.state=L,h.context=y,l=O):(typeof h.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{h=r.stateNode,cc(n,r),y=r.memoizedProps,V=ta(s,y),h.props=V,Q=r.pendingProps,B=h.context,L=s.contextType,O=Na,typeof L=="object"&&L!==null&&(O=ht(L)),E=s.getDerivedStateFromProps,(L=typeof E=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==Q||B!==O)&&Ip(r,h,l,O),lr=!1,B=r.memoizedState,h.state=B,ss(r,l,h,f),is();var q=r.memoizedState;y!==Q||B!==q||lr||n!==null&&n.dependencies!==null&&Ao(n.dependencies)?(typeof E=="function"&&(jc(r,s,E,l),q=r.memoizedState),(V=lr||$p(r,s,V,l,B,q,O)||n!==null&&n.dependencies!==null&&Ao(n.dependencies))?(L||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,O),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,O)),typeof h.componentDidUpdate=="function"&&(r.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),h.props=l,h.state=q,h.context=O,l=V):(typeof h.componentDidUpdate!="function"||y===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),l=!1)}return h=l,Vo(n,r),l=(r.flags&128)!==0,h||l?(h=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:h.render(),r.flags|=1,n!==null&&l?(r.child=Zr(r,n.child,null,f),r.child=Zr(r,null,s,f)):mt(n,r,s,f),r.memoizedState=h.state,n=r.child):n=zn(n,r,f),n}function rg(n,r,s,l){return Fr(),r.flags|=256,mt(n,r,s,l),r.child}var zc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bc(n){return{baseLanes:n,cachePool:Km()}}function qc(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=zt),n}function ag(n,r,s){var l=r.pendingProps,f=!1,h=(r.flags&128)!==0,y;if((y=h)||(y=n!==null&&n.memoizedState===null?!1:(We.current&2)!==0),y&&(f=!0,r.flags&=-129),y=(r.flags&32)!==0,r.flags&=-33,n===null){if(Re){if(f?fr(r):dr(),(n=He)?(n=dy(n,Zt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:ar!==null?{id:wn,overflow:_n}:null,retryLane:536870912,hydrationErrors:null},s=Pm(n),s.return=r,r.child=s,dt=r,He=null)):n=null,n===null)throw sr(r);return Ef(n)?r.lanes=32:r.lanes=536870912,null}var E=l.children;return l=l.fallback,f?(dr(),f=r.mode,E=Go({mode:"hidden",children:E},f),l=Kr(l,f,s,null),E.return=r,l.return=r,E.sibling=l,r.child=E,l=r.child,l.memoizedState=Bc(s),l.childLanes=qc(n,y,s),r.memoizedState=zc,fs(null,l)):(fr(r),$c(r,E))}var O=n.memoizedState;if(O!==null&&(E=O.dehydrated,E!==null)){if(h)r.flags&256?(fr(r),r.flags&=-257,r=Ic(n,r,s)):r.memoizedState!==null?(dr(),r.child=n.child,r.flags|=128,r=null):(dr(),E=l.fallback,f=r.mode,l=Go({mode:"visible",children:l.children},f),E=Kr(E,f,s,null),E.flags|=2,l.return=r,E.return=r,l.sibling=E,r.child=l,Zr(r,n.child,null,s),l=r.child,l.memoizedState=Bc(s),l.childLanes=qc(n,y,s),r.memoizedState=zc,r=fs(null,l));else if(fr(r),Ef(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(i(419)),l.stack="",l.digest=y,Zi({value:l,source:null,stack:null}),r=Ic(n,r,s)}else if(nt||Ua(n,r,s,!1),y=(s&n.childLanes)!==0,nt||y){if(y=$e,y!==null&&(l=Vh(y,s),l!==0&&l!==O.retryLane))throw O.retryLane=l,Gr(n,l),Tt(y,n,l),Lc;Sf(E)||el(),r=Ic(n,r,s)}else Sf(E)?(r.flags|=192,r.child=n.child,r=null):(n=O.treeContext,He=tn(E.nextSibling),dt=r,Re=!0,ir=null,Zt=!1,n!==null&&qm(r,n),r=$c(r,l.children),r.flags|=4096);return r}return f?(dr(),E=l.fallback,f=r.mode,O=n.child,L=O.sibling,l=Dn(O,{mode:"hidden",children:l.children}),l.subtreeFlags=O.subtreeFlags&65011712,L!==null?E=Dn(L,E):(E=Kr(E,f,s,null),E.flags|=2),E.return=r,l.return=r,l.sibling=E,r.child=l,fs(null,l),l=r.child,E=n.child.memoizedState,E===null?E=Bc(s):(f=E.cachePool,f!==null?(O=et._currentValue,f=f.parent!==O?{parent:O,pool:O}:f):f=Km(),E={baseLanes:E.baseLanes|s,cachePool:f}),l.memoizedState=E,l.childLanes=qc(n,y,s),r.memoizedState=zc,fs(n.child,l)):(fr(r),s=n.child,n=s.sibling,s=Dn(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,n!==null&&(y=r.deletions,y===null?(r.deletions=[n],r.flags|=16):y.push(n)),r.child=s,r.memoizedState=null,s)}function $c(n,r){return r=Go({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Go(n,r){return n=Mt(22,n,null,r),n.lanes=0,n}function Ic(n,r,s){return Zr(r,n.child,null,s),n=$c(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function ig(n,r,s){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),rc(n.return,r,s)}function Hc(n,r,s,l,f,h){var y=n.memoizedState;y===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:f,treeForkCount:h}:(y.isBackwards=r,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=s,y.tailMode=f,y.treeForkCount=h)}function sg(n,r,s){var l=r.pendingProps,f=l.revealOrder,h=l.tail;l=l.children;var y=We.current,E=(y&2)!==0;if(E?(y=y&1|2,r.flags|=128):y&=1,X(We,y),mt(n,r,l,s),l=Re?Wi:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ig(n,s,r);else if(n.tag===19)ig(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(s=r.child,f=null;s!==null;)n=s.alternate,n!==null&&jo(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=r.child,r.child=null):(f=s.sibling,s.sibling=null),Hc(r,!1,f,s,h,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&jo(n)===null){r.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}Hc(r,!0,s,null,h,l);break;case"together":Hc(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function zn(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),pr|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(Ua(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,s=Dn(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=Dn(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Vc(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Ao(n)))}function zS(n,r,s){switch(r.tag){case 3:Je(r,r.stateNode.containerInfo),or(r,et,n.memoizedState.cache),Fr();break;case 27:case 5:Kt(r);break;case 4:Je(r,r.stateNode.containerInfo);break;case 10:or(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,pc(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(fr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?ag(n,r,s):(fr(r),n=zn(n,r,s),n!==null?n.sibling:null);fr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Ua(n,r,s,!1),l=(s&r.childLanes)!==0),f){if(l)return sg(n,r,s);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),X(We,We.current),l)break;return null;case 22:return r.lanes=0,Wp(n,r,s,r.pendingProps);case 24:or(r,et,n.memoizedState.cache)}return zn(n,r,s)}function og(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)nt=!0;else{if(!Vc(n,s)&&(r.flags&128)===0)return nt=!1,zS(n,r,s);nt=(n.flags&131072)!==0}else nt=!1,Re&&(r.flags&1048576)!==0&&Bm(r,Wi,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=Jr(r.elementType),r.type=n,typeof n=="function")Yu(n)?(l=ta(n,l),r.tag=1,r=ng(null,r,n,l,s)):(r.tag=0,r=Pc(null,r,n,l,s));else{if(n!=null){var f=n.$$typeof;if(f===P){r.tag=11,r=Yp(null,r,n,l,s);break e}else if(f===M){r.tag=14,r=Xp(null,r,n,l,s);break e}}throw r=ve(n)||n,Error(i(306,r,""))}}return r;case 0:return Pc(n,r,r.type,r.pendingProps,s);case 1:return l=r.type,f=ta(l,r.pendingProps),ng(n,r,l,f,s);case 3:e:{if(Je(r,r.stateNode.containerInfo),n===null)throw Error(i(387));l=r.pendingProps;var h=r.memoizedState;f=h.element,cc(n,r),ss(r,l,null,s);var y=r.memoizedState;if(l=y.cache,or(r,et,l),l!==h.cache&&ac(r,[et],s,!0),is(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){r=rg(n,r,l,s);break e}else if(l!==f){f=Xt(Error(i(424)),r),Zi(f),r=rg(n,r,l,s);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,He=tn(n.firstChild),dt=r,Re=!0,ir=null,Zt=!0,s=Wm(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Fr(),l===f){r=zn(n,r,s);break e}mt(n,r,l,s)}r=r.child}return r;case 26:return Vo(n,r),n===null?(s=vy(r.type,null,r.pendingProps,null))?r.memoizedState=s:Re||(s=r.type,n=r.pendingProps,l=ol(ge.current).createElement(s),l[ft]=r,l[_t]=n,pt(l,s,n),ut(l),r.stateNode=l):r.memoizedState=vy(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Kt(r),n===null&&Re&&(l=r.stateNode=py(r.type,r.pendingProps,ge.current),dt=r,Zt=!0,f=He,wr(r.type)?(xf=f,He=tn(l.firstChild)):He=f),mt(n,r,r.pendingProps.children,s),Vo(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Re&&((f=l=He)&&(l=mE(l,r.type,r.pendingProps,Zt),l!==null?(r.stateNode=l,dt=r,He=tn(l.firstChild),Zt=!1,f=!0):f=!1),f||sr(r)),Kt(r),f=r.type,h=r.pendingProps,y=n!==null?n.memoizedProps:null,l=h.children,bf(f,h)?l=null:y!==null&&bf(f,y)&&(r.flags|=32),r.memoizedState!==null&&(f=yc(n,r,CS,null,null,s),Rs._currentValue=f),Vo(n,r),mt(n,r,l,s),r.child;case 6:return n===null&&Re&&((n=s=He)&&(s=pE(s,r.pendingProps,Zt),s!==null?(r.stateNode=s,dt=r,He=null,n=!0):n=!1),n||sr(r)),null;case 13:return ag(n,r,s);case 4:return Je(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Zr(r,null,l,s):mt(n,r,l,s),r.child;case 11:return Yp(n,r,r.type,r.pendingProps,s);case 7:return mt(n,r,r.pendingProps,s),r.child;case 8:return mt(n,r,r.pendingProps.children,s),r.child;case 12:return mt(n,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,or(r,r.type,l.value),mt(n,r,l.children,s),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Yr(r),f=ht(f),l=l(f),r.flags|=1,mt(n,r,l,s),r.child;case 14:return Xp(n,r,r.type,r.pendingProps,s);case 15:return Jp(n,r,r.type,r.pendingProps,s);case 19:return sg(n,r,s);case 31:return PS(n,r,s);case 22:return Wp(n,r,s,r.pendingProps);case 24:return Yr(r),l=ht(et),n===null?(f=oc(),f===null&&(f=$e,h=ic(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=s),f=h),r.memoizedState={parent:l,cache:f},uc(r),or(r,et,f)):((n.lanes&s)!==0&&(cc(n,r),ss(r,null,null,s),is()),f=n.memoizedState,h=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),or(r,et,l)):(l=h.cache,or(r,et,l),l!==f.cache&&ac(r,[et],s,!0))),mt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Bn(n){n.flags|=4}function Gc(n,r,s,l,f){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(Mg())n.flags|=8192;else throw Wr=Co,lc}else n.flags&=-16777217}function lg(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ey(r))if(Mg())n.flags|=8192;else throw Wr=Co,lc}function Ko(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?$h():536870912,n.lanes|=r,Fa|=r)}function ds(n,r){if(!Re)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ve(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(r)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=s,r}function BS(n,r,s){var l=r.pendingProps;switch(Zu(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(r),null;case 1:return Ve(r),null;case 3:return s=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Un(et),Pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Ma(r)?Bn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,tc())),Ve(r),null;case 26:var f=r.type,h=r.memoizedState;return n===null?(Bn(r),h!==null?(Ve(r),lg(r,h)):(Ve(r),Gc(r,f,null,l,s))):h?h!==n.memoizedState?(Bn(r),Ve(r),lg(r,h)):(Ve(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&Bn(r),Ve(r),Gc(r,f,n,l,s)),null;case 27:if(vn(r),s=ge.current,f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Bn(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Ve(r),null}n=W.current,Ma(r)?$m(r):(n=py(f,l,s),r.stateNode=n,Bn(r))}return Ve(r),null;case 5:if(vn(r),f=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Bn(r);else{if(!l){if(r.stateNode===null)throw Error(i(166));return Ve(r),null}if(h=W.current,Ma(r))$m(r);else{var y=ol(ge.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}h[ft]=r,h[_t]=l;e:for(y=r.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===r)break e;for(;y.sibling===null;){if(y.return===null||y.return===r)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}r.stateNode=h;e:switch(pt(h,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Bn(r)}}return Ve(r),Gc(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Bn(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(i(166));if(n=ge.current,Ma(r)){if(n=r.stateNode,s=r.memoizedProps,l=null,f=dt,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[ft]=r,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||ay(n.nodeValue,s)),n||sr(r,!0)}else n=ol(n).createTextNode(l),n[ft]=r,r.stateNode=n}return Ve(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(l=Ma(r),s!==null){if(n===null){if(!l)throw Error(i(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[ft]=r}else Fr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),n=!1}else s=tc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(Lt(r),r):(Lt(r),null);if((r.flags&128)!==0)throw Error(i(558))}return Ve(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ma(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[ft]=r}else Fr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),f=!1}else f=tc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Lt(r),r):(Lt(r),null)}return Lt(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),Ko(r,r.updateQueue),Ve(r),null);case 4:return Pe(),n===null&&mf(r.stateNode.containerInfo),Ve(r),null;case 10:return Un(r.type),Ve(r),null;case 19:if(K(We),l=r.memoizedState,l===null)return Ve(r),null;if(f=(r.flags&128)!==0,h=l.rendering,h===null)if(f)ds(l,!1);else{if(Ye!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(h=jo(n),h!==null){for(r.flags|=128,ds(l,!1),n=h.updateQueue,r.updateQueue=n,Ko(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Lm(s,n),s=s.sibling;return X(We,We.current&1|2),Re&&jn(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&kt()>Jo&&(r.flags|=128,f=!0,ds(l,!1),r.lanes=4194304)}else{if(!f)if(n=jo(h),n!==null){if(r.flags|=128,f=!0,n=n.updateQueue,r.updateQueue=n,Ko(r,n),ds(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!Re)return Ve(r),null}else 2*kt()-l.renderingStartTime>Jo&&s!==536870912&&(r.flags|=128,f=!0,ds(l,!1),r.lanes=4194304);l.isBackwards?(h.sibling=r.child,r.child=h):(n=l.last,n!==null?n.sibling=h:r.child=h,l.last=h)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=kt(),n.sibling=null,s=We.current,X(We,f?s&1|2:s&1),Re&&jn(r,l.treeForkCount),n):(Ve(r),null);case 22:case 23:return Lt(r),mc(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Ve(r),r.subtreeFlags&6&&(r.flags|=8192)):Ve(r),s=r.updateQueue,s!==null&&Ko(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),n!==null&&K(Xr),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Un(et),Ve(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function qS(n,r){switch(Zu(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Un(et),Pe(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return vn(r),null;case 31:if(r.memoizedState!==null){if(Lt(r),r.alternate===null)throw Error(i(340));Fr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Lt(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Fr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return K(We),null;case 4:return Pe(),null;case 10:return Un(r.type),null;case 22:case 23:return Lt(r),mc(),n!==null&&K(Xr),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Un(et),null;case 25:return null;default:return null}}function ug(n,r){switch(Zu(r),r.tag){case 3:Un(et),Pe();break;case 26:case 27:case 5:vn(r);break;case 4:Pe();break;case 31:r.memoizedState!==null&&Lt(r);break;case 13:Lt(r);break;case 19:K(We);break;case 10:Un(r.type);break;case 22:case 23:Lt(r),mc(),n!==null&&K(Xr);break;case 24:Un(et)}}function hs(n,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var f=l.next;s=f;do{if((s.tag&n)===n){l=void 0;var h=s.create,y=s.inst;l=h(),y.destroy=l}s=s.next}while(s!==f)}}catch(E){Ue(r,r.return,E)}}function hr(n,r,s){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&n)===n){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,f=r;var O=s,L=E;try{L()}catch(V){Ue(f,O,V)}}}l=l.next}while(l!==h)}}catch(V){Ue(r,r.return,V)}}function cg(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{ep(r,s)}catch(l){Ue(n,n.return,l)}}}function fg(n,r,s){s.props=ta(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){Ue(n,r,l)}}function ms(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(f){Ue(n,r,f)}}function Sn(n,r){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(f){Ue(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){Ue(n,r,f)}else s.current=null}function dg(n){var r=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(f){Ue(n,n.return,f)}}function Kc(n,r,s){try{var l=n.stateNode;lE(l,n.type,s,r),l[_t]=r}catch(f){Ue(n,n.return,f)}}function hg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&wr(n.type)||n.tag===4}function Fc(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||hg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&wr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Qc(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=kn));else if(l!==4&&(l===27&&wr(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(Qc(n,r,s),n=n.sibling;n!==null;)Qc(n,r,s),n=n.sibling}function Fo(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(l!==4&&(l===27&&wr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Fo(n,r,s),n=n.sibling;n!==null;)Fo(n,r,s),n=n.sibling}function mg(n){var r=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);pt(r,l,s),r[ft]=n,r[_t]=s}catch(h){Ue(n,n.return,h)}}var qn=!1,rt=!1,Yc=!1,pg=typeof WeakSet=="function"?WeakSet:Set,ct=null;function $S(n,r){if(n=n.containerInfo,yf=ml,n=Tm(n),Iu(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{s.nodeType,h.nodeType}catch{s=null;break e}var y=0,E=-1,O=-1,L=0,V=0,Q=n,B=null;t:for(;;){for(var q;Q!==s||f!==0&&Q.nodeType!==3||(E=y+f),Q!==h||l!==0&&Q.nodeType!==3||(O=y+l),Q.nodeType===3&&(y+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===n)break t;if(B===s&&++L===f&&(E=y),B===h&&++V===l&&(O=y),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}s=E===-1||O===-1?null:{start:E,end:O}}else s=null}s=s||{start:0,end:0}}else s=null;for(vf={focusedElem:n,selectionRange:s},ml=!1,ct=r;ct!==null;)if(r=ct,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ct=n;else for(;ct!==null;){switch(r=ct,h=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)f=n[s],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&h!==null){n=void 0,s=r,f=h.memoizedProps,h=h.memoizedState,l=s.stateNode;try{var te=ta(s.type,f);n=l.getSnapshotBeforeUpdate(te,h),l.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Ue(s,s.return,ce)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)_f(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":_f(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,ct=n;break}ct=r.return}}function gg(n,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:In(n,s),l&4&&hs(5,s);break;case 1:if(In(n,s),l&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(y){Ue(s,s.return,y)}else{var f=ta(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Ue(s,s.return,y)}}l&64&&cg(s),l&512&&ms(s,s.return);break;case 3:if(In(n,s),l&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{ep(n,r)}catch(y){Ue(s,s.return,y)}}break;case 27:r===null&&l&4&&mg(s);case 26:case 5:In(n,s),r===null&&l&4&&dg(s),l&512&&ms(s,s.return);break;case 12:In(n,s);break;case 31:In(n,s),l&4&&bg(n,s);break;case 13:In(n,s),l&4&&wg(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=XS.bind(null,s),gE(n,s))));break;case 22:if(l=s.memoizedState!==null||qn,!l){r=r!==null&&r.memoizedState!==null||rt,f=qn;var h=rt;qn=l,(rt=r)&&!h?Hn(n,s,(s.subtreeFlags&8772)!==0):In(n,s),qn=f,rt=h}break;case 30:break;default:In(n,s)}}function yg(n){var r=n.alternate;r!==null&&(n.alternate=null,yg(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Au(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ge=null,Et=!1;function $n(n,r,s){for(s=s.child;s!==null;)vg(n,r,s),s=s.sibling}function vg(n,r,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount(zi,s)}catch{}switch(s.tag){case 26:rt||Sn(s,r),$n(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rt||Sn(s,r);var l=Ge,f=Et;wr(s.type)&&(Ge=s.stateNode,Et=!1),$n(n,r,s),Es(s.stateNode),Ge=l,Et=f;break;case 5:rt||Sn(s,r);case 6:if(l=Ge,f=Et,Ge=null,$n(n,r,s),Ge=l,Et=f,Ge!==null)if(Et)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(s.stateNode)}catch(h){Ue(s,r,h)}else try{Ge.removeChild(s.stateNode)}catch(h){Ue(s,r,h)}break;case 18:Ge!==null&&(Et?(n=Ge,cy(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),ti(n)):cy(Ge,s.stateNode));break;case 4:l=Ge,f=Et,Ge=s.stateNode.containerInfo,Et=!0,$n(n,r,s),Ge=l,Et=f;break;case 0:case 11:case 14:case 15:hr(2,s,r),rt||hr(4,s,r),$n(n,r,s);break;case 1:rt||(Sn(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&fg(s,r,l)),$n(n,r,s);break;case 21:$n(n,r,s);break;case 22:rt=(l=rt)||s.memoizedState!==null,$n(n,r,s),rt=l;break;default:$n(n,r,s)}}function bg(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{ti(n)}catch(s){Ue(r,r.return,s)}}}function wg(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ti(n)}catch(s){Ue(r,r.return,s)}}function IS(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new pg),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new pg),r;default:throw Error(i(435,n.tag))}}function Qo(n,r){var s=IS(n);r.forEach(function(l){if(!s.has(l)){s.add(l);var f=JS.bind(null,n,l);l.then(f,f)}})}function xt(n,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var f=s[l],h=n,y=r,E=y;e:for(;E!==null;){switch(E.tag){case 27:if(wr(E.type)){Ge=E.stateNode,Et=!1;break e}break;case 5:Ge=E.stateNode,Et=!1;break e;case 3:case 4:Ge=E.stateNode.containerInfo,Et=!0;break e}E=E.return}if(Ge===null)throw Error(i(160));vg(h,y,f),Ge=null,Et=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)_g(r,n),r=r.sibling}var fn=null;function _g(n,r){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xt(r,n),At(n),l&4&&(hr(3,n,n.return),hs(3,n),hr(5,n,n.return));break;case 1:xt(r,n),At(n),l&512&&(rt||s===null||Sn(s,s.return)),l&64&&qn&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var f=fn;if(xt(r,n),At(n),l&512&&(rt||s===null||Sn(s,s.return)),l&4){var h=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[$i]||h[ft]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),pt(h,l,s),h[ft]=n,ut(h),l=h;break e;case"link":var y=_y("link","href",f).get(l+(s.href||""));if(y){for(var E=0;E<y.length;E++)if(h=y[E],h.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&h.getAttribute("rel")===(s.rel==null?null:s.rel)&&h.getAttribute("title")===(s.title==null?null:s.title)&&h.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){y.splice(E,1);break t}}h=f.createElement(l),pt(h,l,s),f.head.appendChild(h);break;case"meta":if(y=_y("meta","content",f).get(l+(s.content||""))){for(E=0;E<y.length;E++)if(h=y[E],h.getAttribute("content")===(s.content==null?null:""+s.content)&&h.getAttribute("name")===(s.name==null?null:s.name)&&h.getAttribute("property")===(s.property==null?null:s.property)&&h.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&h.getAttribute("charset")===(s.charSet==null?null:s.charSet)){y.splice(E,1);break t}}h=f.createElement(l),pt(h,l,s),f.head.appendChild(h);break;default:throw Error(i(468,l))}h[ft]=n,ut(h),l=h}n.stateNode=l}else Sy(f,n.type,n.stateNode);else n.stateNode=wy(f,l,n.memoizedProps);else h!==l?(h===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):h.count--,l===null?Sy(f,n.type,n.stateNode):wy(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Kc(n,n.memoizedProps,s.memoizedProps)}break;case 27:xt(r,n),At(n),l&512&&(rt||s===null||Sn(s,s.return)),s!==null&&l&4&&Kc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(xt(r,n),At(n),l&512&&(rt||s===null||Sn(s,s.return)),n.flags&32){f=n.stateNode;try{xa(f,"")}catch(te){Ue(n,n.return,te)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Kc(n,f,s!==null?s.memoizedProps:f)),l&1024&&(Yc=!0);break;case 6:if(xt(r,n),At(n),l&4){if(n.stateNode===null)throw Error(i(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(te){Ue(n,n.return,te)}}break;case 3:if(cl=null,f=fn,fn=ll(r.containerInfo),xt(r,n),fn=f,At(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{ti(r.containerInfo)}catch(te){Ue(n,n.return,te)}Yc&&(Yc=!1,Sg(n));break;case 4:l=fn,fn=ll(n.stateNode.containerInfo),xt(r,n),At(n),fn=l;break;case 12:xt(r,n),At(n);break;case 31:xt(r,n),At(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qo(n,l)));break;case 13:xt(r,n),At(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xo=kt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qo(n,l)));break;case 22:f=n.memoizedState!==null;var O=s!==null&&s.memoizedState!==null,L=qn,V=rt;if(qn=L||f,rt=V||O,xt(r,n),rt=V,qn=L,At(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(s===null||O||qn||rt||na(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){O=s=r;try{if(h=O.stateNode,f)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=O.stateNode;var Q=O.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(te){Ue(O,O.return,te)}}}else if(r.tag===6){if(s===null){O=r;try{O.stateNode.nodeValue=f?"":O.memoizedProps}catch(te){Ue(O,O.return,te)}}}else if(r.tag===18){if(s===null){O=r;try{var q=O.stateNode;f?fy(q,!0):fy(O.stateNode,!1)}catch(te){Ue(O,O.return,te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Qo(n,s))));break;case 19:xt(r,n),At(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Qo(n,l)));break;case 30:break;case 21:break;default:xt(r,n),At(n)}}function At(n){var r=n.flags;if(r&2){try{for(var s,l=n.return;l!==null;){if(hg(l)){s=l;break}l=l.return}if(s==null)throw Error(i(160));switch(s.tag){case 27:var f=s.stateNode,h=Fc(n);Fo(n,h,f);break;case 5:var y=s.stateNode;s.flags&32&&(xa(y,""),s.flags&=-33);var E=Fc(n);Fo(n,E,y);break;case 3:case 4:var O=s.stateNode.containerInfo,L=Fc(n);Qc(n,L,O);break;default:throw Error(i(161))}}catch(V){Ue(n,n.return,V)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Sg(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Sg(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function In(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)gg(n,r.alternate,r),r=r.sibling}function na(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:hr(4,r,r.return),na(r);break;case 1:Sn(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&fg(r,r.return,s),na(r);break;case 27:Es(r.stateNode);case 26:case 5:Sn(r,r.return),na(r);break;case 22:r.memoizedState===null&&na(r);break;case 30:na(r);break;default:na(r)}n=n.sibling}}function Hn(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,h=r,y=h.flags;switch(h.tag){case 0:case 11:case 15:Hn(f,h,s),hs(4,h);break;case 1:if(Hn(f,h,s),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(L){Ue(l,l.return,L)}if(l=h,f=l.updateQueue,f!==null){var E=l.stateNode;try{var O=f.shared.hiddenCallbacks;if(O!==null)for(f.shared.hiddenCallbacks=null,f=0;f<O.length;f++)Zm(O[f],E)}catch(L){Ue(l,l.return,L)}}s&&y&64&&cg(h),ms(h,h.return);break;case 27:mg(h);case 26:case 5:Hn(f,h,s),s&&l===null&&y&4&&dg(h),ms(h,h.return);break;case 12:Hn(f,h,s);break;case 31:Hn(f,h,s),s&&y&4&&bg(f,h);break;case 13:Hn(f,h,s),s&&y&4&&wg(f,h);break;case 22:h.memoizedState===null&&Hn(f,h,s),ms(h,h.return);break;case 30:break;default:Hn(f,h,s)}r=r.sibling}}function Xc(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&es(s))}function Jc(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&es(n))}function dn(n,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Eg(n,r,s,l),r=r.sibling}function Eg(n,r,s,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:dn(n,r,s,l),f&2048&&hs(9,r);break;case 1:dn(n,r,s,l);break;case 3:dn(n,r,s,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&es(n)));break;case 12:if(f&2048){dn(n,r,s,l),n=r.stateNode;try{var h=r.memoizedProps,y=h.id,E=h.onPostCommit;typeof E=="function"&&E(y,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(O){Ue(r,r.return,O)}}else dn(n,r,s,l);break;case 31:dn(n,r,s,l);break;case 13:dn(n,r,s,l);break;case 23:break;case 22:h=r.stateNode,y=r.alternate,r.memoizedState!==null?h._visibility&2?dn(n,r,s,l):ps(n,r):h._visibility&2?dn(n,r,s,l):(h._visibility|=2,Va(n,r,s,l,(r.subtreeFlags&10256)!==0||!1)),f&2048&&Xc(y,r);break;case 24:dn(n,r,s,l),f&2048&&Jc(r.alternate,r);break;default:dn(n,r,s,l)}}function Va(n,r,s,l,f){for(f=f&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var h=n,y=r,E=s,O=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Va(h,y,E,O,f),hs(8,y);break;case 23:break;case 22:var V=y.stateNode;y.memoizedState!==null?V._visibility&2?Va(h,y,E,O,f):ps(h,y):(V._visibility|=2,Va(h,y,E,O,f)),f&&L&2048&&Xc(y.alternate,y);break;case 24:Va(h,y,E,O,f),f&&L&2048&&Jc(y.alternate,y);break;default:Va(h,y,E,O,f)}r=r.sibling}}function ps(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,l=r,f=l.flags;switch(l.tag){case 22:ps(s,l),f&2048&&Xc(l.alternate,l);break;case 24:ps(s,l),f&2048&&Jc(l.alternate,l);break;default:ps(s,l)}r=r.sibling}}var gs=8192;function Ga(n,r,s){if(n.subtreeFlags&gs)for(n=n.child;n!==null;)xg(n,r,s),n=n.sibling}function xg(n,r,s){switch(n.tag){case 26:Ga(n,r,s),n.flags&gs&&n.memoizedState!==null&&OE(s,fn,n.memoizedState,n.memoizedProps);break;case 5:Ga(n,r,s);break;case 3:case 4:var l=fn;fn=ll(n.stateNode.containerInfo),Ga(n,r,s),fn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=gs,gs=16777216,Ga(n,r,s),gs=l):Ga(n,r,s));break;default:Ga(n,r,s)}}function Ag(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ys(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];ct=l,Tg(l,n)}Ag(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Rg(n),n=n.sibling}function Rg(n){switch(n.tag){case 0:case 11:case 15:ys(n),n.flags&2048&&hr(9,n,n.return);break;case 3:ys(n);break;case 12:ys(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Yo(n)):ys(n);break;default:ys(n)}}function Yo(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];ct=l,Tg(l,n)}Ag(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:hr(8,r,r.return),Yo(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,Yo(r));break;default:Yo(r)}n=n.sibling}}function Tg(n,r){for(;ct!==null;){var s=ct;switch(s.tag){case 0:case 11:case 15:hr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:es(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ct=l;else e:for(s=n;ct!==null;){l=ct;var f=l.sibling,h=l.return;if(yg(l),l===s){ct=null;break e}if(f!==null){f.return=h,ct=f;break e}ct=h}}}var HS={getCacheForType:function(n){var r=ht(et),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return ht(et).controller.signal}},VS=typeof WeakMap=="function"?WeakMap:Map,Ne=0,$e=null,Se=null,xe=0,Me=0,Pt=null,mr=!1,Ka=!1,Wc=!1,Vn=0,Ye=0,pr=0,ra=0,Zc=0,zt=0,Fa=0,vs=null,Rt=null,ef=!1,Xo=0,Og=0,Jo=1/0,Wo=null,gr=null,it=0,yr=null,Qa=null,Gn=0,tf=0,nf=null,Cg=null,bs=0,rf=null;function Bt(){return(Ne&2)!==0&&xe!==0?xe&-xe:z.T!==null?cf():Gh()}function kg(){if(zt===0)if((xe&536870912)===0||Re){var n=io;io<<=1,(io&3932160)===0&&(io=262144),zt=n}else zt=536870912;return n=Ut.current,n!==null&&(n.flags|=32),zt}function Tt(n,r,s){(n===$e&&(Me===2||Me===9)||n.cancelPendingCommit!==null)&&(Ya(n,0),vr(n,xe,zt,!1)),qi(n,s),((Ne&2)===0||n!==$e)&&(n===$e&&((Ne&2)===0&&(ra|=s),Ye===4&&vr(n,xe,zt,!1)),En(n))}function Ng(n,r,s){if((Ne&6)!==0)throw Error(i(327));var l=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Bi(n,r),f=l?FS(n,r):sf(n,r,!0),h=l;do{if(f===0){Ka&&!l&&vr(n,r,0,!1);break}else{if(s=n.current.alternate,h&&!GS(s)){f=sf(n,r,!1),h=!1;continue}if(f===2){if(h=r,n.errorRecoveryDisabledLanes&h)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){r=y;e:{var E=n;f=vs;var O=E.current.memoizedState.isDehydrated;if(O&&(Ya(E,y).flags|=256),y=sf(E,y,!1),y!==2){if(Wc&&!O){E.errorRecoveryDisabledLanes|=h,ra|=h,f=4;break e}h=Rt,Rt=f,h!==null&&(Rt===null?Rt=h:Rt.push.apply(Rt,h))}f=y}if(h=!1,f!==2)continue}}if(f===1){Ya(n,0),vr(n,r,0,!0);break}e:{switch(l=n,h=f,h){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:vr(l,r,zt,!mr);break e;case 2:Rt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(f=Xo+300-kt(),10<f)){if(vr(l,r,zt,!mr),oo(l,0,!0)!==0)break e;Gn=r,l.timeoutHandle=ly(Dg.bind(null,l,s,Rt,Wo,ef,r,zt,ra,Fa,mr,h,"Throttled",-0,0),f);break e}Dg(l,s,Rt,Wo,ef,r,zt,ra,Fa,mr,h,null,-0,0)}}break}while(!0);En(n)}function Dg(n,r,s,l,f,h,y,E,O,L,V,Q,B,q){if(n.timeoutHandle=-1,Q=r.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:kn},xg(r,h,Q);var te=(h&62914560)===h?Xo-kt():(h&4194048)===h?Og-kt():0;if(te=CE(Q,te),te!==null){Gn=h,n.cancelPendingCommit=te(qg.bind(null,n,r,h,s,l,f,y,E,O,V,Q,null,B,q)),vr(n,h,y,!L);return}}qg(n,r,h,s,l,f,y,E,O)}function GS(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var f=s[l],h=f.getSnapshot;f=f.value;try{if(!jt(h(),f))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function vr(n,r,s,l){r&=~Zc,r&=~ra,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var h=31-Dt(f),y=1<<h;l[h]=-1,f&=~y}s!==0&&Ih(n,s,r)}function Zo(){return(Ne&6)===0?(ws(0),!1):!0}function af(){if(Se!==null){if(Me===0)var n=Se.return;else n=Se,Mn=Qr=null,wc(n),Ba=null,ns=0,n=Se;for(;n!==null;)ug(n.alternate,n),n=n.return;Se=null}}function Ya(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,fE(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Gn=0,af(),$e=n,Se=s=Dn(n.current,null),xe=r,Me=0,Pt=null,mr=!1,Ka=Bi(n,r),Wc=!1,Fa=zt=Zc=ra=pr=Ye=0,Rt=vs=null,ef=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-Dt(l),h=1<<f;r|=n[f],l&=~h}return Vn=r,wo(),s}function jg(n,r){ye=null,z.H=cs,r===za||r===Oo?(r=Ym(),Me=3):r===lc?(r=Ym(),Me=4):Me=r===Lc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pt=r,Se===null&&(Ye=1,Io(n,Xt(r,n.current)))}function Mg(){var n=Ut.current;return n===null?!0:(xe&4194048)===xe?en===null:(xe&62914560)===xe||(xe&536870912)!==0?n===en:!1}function Ug(){var n=z.H;return z.H=cs,n===null?cs:n}function Lg(){var n=z.A;return z.A=HS,n}function el(){Ye=4,mr||(xe&4194048)!==xe&&Ut.current!==null||(Ka=!0),(pr&134217727)===0&&(ra&134217727)===0||$e===null||vr($e,xe,zt,!1)}function sf(n,r,s){var l=Ne;Ne|=2;var f=Ug(),h=Lg();($e!==n||xe!==r)&&(Wo=null,Ya(n,r)),r=!1;var y=Ye;e:do try{if(Me!==0&&Se!==null){var E=Se,O=Pt;switch(Me){case 8:af(),y=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(r=!0);var L=Me;if(Me=0,Pt=null,Xa(n,E,O,L),s&&Ka){y=0;break e}break;default:L=Me,Me=0,Pt=null,Xa(n,E,O,L)}}KS(),y=Ye;break}catch(V){jg(n,V)}while(!0);return r&&n.shellSuspendCounter++,Mn=Qr=null,Ne=l,z.H=f,z.A=h,Se===null&&($e=null,xe=0,wo()),y}function KS(){for(;Se!==null;)Pg(Se)}function FS(n,r){var s=Ne;Ne|=2;var l=Ug(),f=Lg();$e!==n||xe!==r?(Wo=null,Jo=kt()+500,Ya(n,r)):Ka=Bi(n,r);e:do try{if(Me!==0&&Se!==null){r=Se;var h=Pt;t:switch(Me){case 1:Me=0,Pt=null,Xa(n,r,h,1);break;case 2:case 9:if(Fm(h)){Me=0,Pt=null,zg(r);break}r=function(){Me!==2&&Me!==9||$e!==n||(Me=7),En(n)},h.then(r,r);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Fm(h)?(Me=0,Pt=null,zg(r)):(Me=0,Pt=null,Xa(n,r,h,7));break;case 5:var y=null;switch(Se.tag){case 26:y=Se.memoizedState;case 5:case 27:var E=Se;if(y?Ey(y):E.stateNode.complete){Me=0,Pt=null;var O=E.sibling;if(O!==null)Se=O;else{var L=E.return;L!==null?(Se=L,tl(L)):Se=null}break t}}Me=0,Pt=null,Xa(n,r,h,5);break;case 6:Me=0,Pt=null,Xa(n,r,h,6);break;case 8:af(),Ye=6;break e;default:throw Error(i(462))}}QS();break}catch(V){jg(n,V)}while(!0);return Mn=Qr=null,z.H=l,z.A=f,Ne=s,Se!==null?0:($e=null,xe=0,wo(),Ye)}function QS(){for(;Se!==null&&!y_();)Pg(Se)}function Pg(n){var r=og(n.alternate,n,Vn);n.memoizedProps=n.pendingProps,r===null?tl(n):Se=r}function zg(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=tg(s,r,r.pendingProps,r.type,void 0,xe);break;case 11:r=tg(s,r,r.pendingProps,r.type.render,r.ref,xe);break;case 5:wc(r);default:ug(s,r),r=Se=Lm(r,Vn),r=og(s,r,Vn)}n.memoizedProps=n.pendingProps,r===null?tl(n):Se=r}function Xa(n,r,s,l){Mn=Qr=null,wc(r),Ba=null,ns=0;var f=r.return;try{if(LS(n,f,r,s,xe)){Ye=1,Io(n,Xt(s,n.current)),Se=null;return}}catch(h){if(f!==null)throw Se=f,h;Ye=1,Io(n,Xt(s,n.current)),Se=null;return}r.flags&32768?(Re||l===1?n=!0:Ka||(xe&536870912)!==0?n=!1:(mr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),Bg(r,n)):tl(r)}function tl(n){var r=n;do{if((r.flags&32768)!==0){Bg(r,mr);return}n=r.return;var s=BS(r.alternate,r,Vn);if(s!==null){Se=s;return}if(r=r.sibling,r!==null){Se=r;return}Se=r=n}while(r!==null);Ye===0&&(Ye=5)}function Bg(n,r){do{var s=qS(n.alternate,n);if(s!==null){s.flags&=32767,Se=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Se=n;return}Se=n=s}while(n!==null);Ye=6,Se=null}function qg(n,r,s,l,f,h,y,E,O){n.cancelPendingCommit=null;do nl();while(it!==0);if((Ne&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(h=r.lanes|r.childLanes,h|=Fu,T_(n,s,h,y,E,O),n===$e&&(Se=$e=null,xe=0),Qa=r,yr=n,Gn=s,tf=h,nf=f,Cg=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,WS(ro,function(){return Gg(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,f=Y.p,Y.p=2,y=Ne,Ne|=4;try{$S(n,r,s)}finally{Ne=y,Y.p=f,z.T=l}}it=1,$g(),Ig(),Hg()}}function $g(){if(it===1){it=0;var n=yr,r=Qa,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=Y.p;Y.p=2;var f=Ne;Ne|=4;try{_g(r,n);var h=vf,y=Tm(n.containerInfo),E=h.focusedElem,O=h.selectionRange;if(y!==E&&E&&E.ownerDocument&&Rm(E.ownerDocument.documentElement,E)){if(O!==null&&Iu(E)){var L=O.start,V=O.end;if(V===void 0&&(V=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(V,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),te=E.textContent.length,ce=Math.min(O.start,te),qe=O.end===void 0?ce:Math.min(O.end,te);!q.extend&&ce>qe&&(y=qe,qe=ce,ce=y);var j=Am(E,ce),N=Am(E,qe);if(j&&N&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var U=Q.createRange();U.setStart(j.node,j.offset),q.removeAllRanges(),ce>qe?(q.addRange(U),q.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),q.addRange(U))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}ml=!!yf,vf=yf=null}finally{Ne=f,Y.p=l,z.T=s}}n.current=r,it=2}}function Ig(){if(it===2){it=0;var n=yr,r=Qa,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=Y.p;Y.p=2;var f=Ne;Ne|=4;try{gg(n,r.alternate,r)}finally{Ne=f,Y.p=l,z.T=s}}it=3}}function Hg(){if(it===4||it===3){it=0,v_();var n=yr,r=Qa,s=Gn,l=Cg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?it=5:(it=0,Qa=yr=null,Vg(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(gr=null),Eu(s),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot(zi,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=z.T,f=Y.p,Y.p=2,z.T=null;try{for(var h=n.onRecoverableError,y=0;y<l.length;y++){var E=l[y];h(E.value,{componentStack:E.stack})}}finally{z.T=r,Y.p=f}}(Gn&3)!==0&&nl(),En(n),f=n.pendingLanes,(s&261930)!==0&&(f&42)!==0?n===rf?bs++:(bs=0,rf=n):bs=0,ws(0)}}function Vg(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,es(r)))}function nl(){return $g(),Ig(),Hg(),Gg()}function Gg(){if(it!==5)return!1;var n=yr,r=tf;tf=0;var s=Eu(Gn),l=z.T,f=Y.p;try{Y.p=32>s?32:s,z.T=null,s=nf,nf=null;var h=yr,y=Gn;if(it=0,Qa=yr=null,Gn=0,(Ne&6)!==0)throw Error(i(331));var E=Ne;if(Ne|=4,Rg(h.current),Eg(h,h.current,y,s),Ne=E,ws(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot(zi,h)}catch{}return!0}finally{Y.p=f,z.T=l,Vg(n,r)}}function Kg(n,r,s){r=Xt(s,r),r=Uc(n.stateNode,r,2),n=cr(n,r,2),n!==null&&(qi(n,2),En(n))}function Ue(n,r,s){if(n.tag===3)Kg(n,n,s);else for(;r!==null;){if(r.tag===3){Kg(r,n,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(gr===null||!gr.has(l))){n=Xt(s,n),s=Fp(2),l=cr(r,s,2),l!==null&&(Qp(s,l,r,n),qi(l,2),En(l));break}}r=r.return}}function of(n,r,s){var l=n.pingCache;if(l===null){l=n.pingCache=new VS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(s)||(Wc=!0,f.add(s),n=YS.bind(null,n,r,s),r.then(n,n))}function YS(n,r,s){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,$e===n&&(xe&s)===s&&(Ye===4||Ye===3&&(xe&62914560)===xe&&300>kt()-Xo?(Ne&2)===0&&Ya(n,0):Zc|=s,Fa===xe&&(Fa=0)),En(n)}function Fg(n,r){r===0&&(r=$h()),n=Gr(n,r),n!==null&&(qi(n,r),En(n))}function XS(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),Fg(n,s)}function JS(n,r){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(i(314))}l!==null&&l.delete(r),Fg(n,s)}function WS(n,r){return bu(n,r)}var rl=null,Ja=null,lf=!1,al=!1,uf=!1,br=0;function En(n){n!==Ja&&n.next===null&&(Ja===null?rl=Ja=n:Ja=Ja.next=n),al=!0,lf||(lf=!0,eE())}function ws(n,r){if(!uf&&al){uf=!0;do for(var s=!1,l=rl;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var y=l.suspendedLanes,E=l.pingedLanes;h=(1<<31-Dt(42|n)+1)-1,h&=f&~(y&~E),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(s=!0,Jg(l,h))}else h=xe,h=oo(l,l===$e?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Bi(l,h)||(s=!0,Jg(l,h));l=l.next}while(s);uf=!1}}function ZS(){Qg()}function Qg(){al=lf=!1;var n=0;br!==0&&cE()&&(n=br);for(var r=kt(),s=null,l=rl;l!==null;){var f=l.next,h=Yg(l,r);h===0?(l.next=null,s===null?rl=f:s.next=f,f===null&&(Ja=s)):(s=l,(n!==0||(h&3)!==0)&&(al=!0)),l=f}it!==0&&it!==5||ws(n),br!==0&&(br=0)}function Yg(n,r){for(var s=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,h=n.pendingLanes&-62914561;0<h;){var y=31-Dt(h),E=1<<y,O=f[y];O===-1?((E&s)===0||(E&l)!==0)&&(f[y]=R_(E,r)):O<=r&&(n.expiredLanes|=E),h&=~E}if(r=$e,s=xe,s=oo(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===r&&(Me===2||Me===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&wu(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Bi(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(l!==null&&wu(l),Eu(s)){case 2:case 8:s=Bh;break;case 32:s=ro;break;case 268435456:s=qh;break;default:s=ro}return l=Xg.bind(null,n),s=bu(s,l),n.callbackPriority=r,n.callbackNode=s,r}return l!==null&&l!==null&&wu(l),n.callbackPriority=2,n.callbackNode=null,2}function Xg(n,r){if(it!==0&&it!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(nl()&&n.callbackNode!==s)return null;var l=xe;return l=oo(n,n===$e?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Ng(n,l,r),Yg(n,kt()),n.callbackNode!=null&&n.callbackNode===s?Xg.bind(null,n):null)}function Jg(n,r){if(nl())return null;Ng(n,r,!0)}function eE(){dE(function(){(Ne&6)!==0?bu(zh,ZS):Qg()})}function cf(){if(br===0){var n=La;n===0&&(n=ao,ao<<=1,(ao&261888)===0&&(ao=256)),br=n}return br}function Wg(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:fo(""+n)}function Zg(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function tE(n,r,s,l,f){if(r==="submit"&&s&&s.stateNode===f){var h=Wg((f[_t]||null).action),y=l.submitter;y&&(r=(r=y[_t]||null)?Wg(r.formAction):y.getAttribute("formAction"),r!==null&&(h=r,y=null));var E=new go("action","action",null,l,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(br!==0){var O=y?Zg(f,y):new FormData(f);Cc(s,{pending:!0,data:O,method:f.method,action:h},null,O)}}else typeof h=="function"&&(E.preventDefault(),O=y?Zg(f,y):new FormData(f),Cc(s,{pending:!0,data:O,method:f.method,action:h},h,O))},currentTarget:f}]})}}for(var ff=0;ff<Ku.length;ff++){var df=Ku[ff],nE=df.toLowerCase(),rE=df[0].toUpperCase()+df.slice(1);cn(nE,"on"+rE)}cn(km,"onAnimationEnd"),cn(Nm,"onAnimationIteration"),cn(Dm,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(bS,"onTransitionRun"),cn(wS,"onTransitionStart"),cn(_S,"onTransitionCancel"),cn(jm,"onTransitionEnd"),Sa("onMouseEnter",["mouseout","mouseover"]),Sa("onMouseLeave",["mouseout","mouseover"]),Sa("onPointerEnter",["pointerout","pointerover"]),Sa("onPointerLeave",["pointerout","pointerover"]),$r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$r("onBeforeInput",["compositionend","keypress","textInput","paste"]),$r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _s="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_s));function ey(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],f=l.event;l=l.listeners;e:{var h=void 0;if(r)for(var y=l.length-1;0<=y;y--){var E=l[y],O=E.instance,L=E.currentTarget;if(E=E.listener,O!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=L;try{h(f)}catch(V){bo(V)}f.currentTarget=null,h=O}else for(y=0;y<l.length;y++){if(E=l[y],O=E.instance,L=E.currentTarget,E=E.listener,O!==h&&f.isPropagationStopped())break e;h=E,f.currentTarget=L;try{h(f)}catch(V){bo(V)}f.currentTarget=null,h=O}}}}function Ee(n,r){var s=r[xu];s===void 0&&(s=r[xu]=new Set);var l=n+"__bubble";s.has(l)||(ty(r,n,2,!1),s.add(l))}function hf(n,r,s){var l=0;r&&(l|=4),ty(s,n,l,r)}var il="_reactListening"+Math.random().toString(36).slice(2);function mf(n){if(!n[il]){n[il]=!0,Qh.forEach(function(s){s!=="selectionchange"&&(aE.has(s)||hf(s,!1,n),hf(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[il]||(r[il]=!0,hf("selectionchange",!1,r))}}function ty(n,r,s,l){switch(ky(r)){case 2:var f=DE;break;case 8:f=jE;break;default:f=Cf}s=f.bind(null,r,s,n),f=void 0,!ju||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,s,{capture:!0,passive:f}):n.addEventListener(r,s,!0):f!==void 0?n.addEventListener(r,s,{passive:f}):n.addEventListener(r,s,!1)}function pf(n,r,s,l,f){var h=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===f)break;if(y===4)for(y=l.return;y!==null;){var O=y.tag;if((O===3||O===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;E!==null;){if(y=ba(E),y===null)return;if(O=y.tag,O===5||O===6||O===26||O===27){l=h=y;continue e}E=E.parentNode}}l=l.return}sm(function(){var L=h,V=Nu(s),Q=[];e:{var B=Mm.get(n);if(B!==void 0){var q=go,te=n;switch(n){case"keypress":if(mo(s)===0)break e;case"keydown":case"keyup":q=J_;break;case"focusin":te="focus",q=Pu;break;case"focusout":te="blur",q=Pu;break;case"beforeblur":case"afterblur":q=Pu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=B_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=eS;break;case km:case Nm:case Dm:q=I_;break;case jm:q=nS;break;case"scroll":case"scrollend":q=P_;break;case"wheel":q=aS;break;case"copy":case"cut":case"paste":q=V_;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=fm;break;case"toggle":case"beforetoggle":q=sS}var ce=(r&4)!==0,qe=!ce&&(n==="scroll"||n==="scrollend"),j=ce?B!==null?B+"Capture":null:B;ce=[];for(var N=L,U;N!==null;){var G=N;if(U=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||U===null||j===null||(G=Hi(N,j),G!=null&&ce.push(Ss(N,G,U))),qe)break;N=N.return}0<ce.length&&(B=new q(B,te,null,s,V),Q.push({event:B,listeners:ce}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&s!==ku&&(te=s.relatedTarget||s.fromElement)&&(ba(te)||te[va]))break e;if((q||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,q?(te=s.relatedTarget||s.toElement,q=L,te=te?ba(te):null,te!==null&&(qe=u(te),ce=te.tag,te!==qe||ce!==5&&ce!==27&&ce!==6)&&(te=null)):(q=null,te=L),q!==te)){if(ce=um,G="onMouseLeave",j="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ce=fm,G="onPointerLeave",j="onPointerEnter",N="pointer"),qe=q==null?B:Ii(q),U=te==null?B:Ii(te),B=new ce(G,N+"leave",q,s,V),B.target=qe,B.relatedTarget=U,G=null,ba(V)===L&&(ce=new ce(j,N+"enter",te,s,V),ce.target=U,ce.relatedTarget=qe,G=ce),qe=G,q&&te)t:{for(ce=iE,j=q,N=te,U=0,G=j;G;G=ce(G))U++;G=0;for(var le=N;le;le=ce(le))G++;for(;0<U-G;)j=ce(j),U--;for(;0<G-U;)N=ce(N),G--;for(;U--;){if(j===N||N!==null&&j===N.alternate){ce=j;break t}j=ce(j),N=ce(N)}ce=null}else ce=null;q!==null&&ny(Q,B,q,ce,!1),te!==null&&qe!==null&&ny(Q,qe,te,ce,!0)}}e:{if(B=L?Ii(L):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var Ce=bm;else if(ym(B))if(wm)Ce=gS;else{Ce=mS;var ae=hS}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&Cu(L.elementType)&&(Ce=bm):Ce=pS;if(Ce&&(Ce=Ce(n,L))){vm(Q,Ce,s,V);break e}ae&&ae(n,B,L),n==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Ou(B,"number",B.value)}switch(ae=L?Ii(L):window,n){case"focusin":(ym(ae)||ae.contentEditable==="true")&&(Oa=ae,Hu=L,Ji=null);break;case"focusout":Ji=Hu=Oa=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,Om(Q,s,V);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":Om(Q,s,V)}var we;if(Bu)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ta?pm(n,s)&&(Ae="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(dm&&s.locale!=="ko"&&(Ta||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ta&&(we=om()):(rr=V,Mu="value"in rr?rr.value:rr.textContent,Ta=!0)),ae=sl(L,Ae),0<ae.length&&(Ae=new cm(Ae,n,null,s,V),Q.push({event:Ae,listeners:ae}),we?Ae.data=we:(we=gm(s),we!==null&&(Ae.data=we)))),(we=lS?uS(n,s):cS(n,s))&&(Ae=sl(L,"onBeforeInput"),0<Ae.length&&(ae=new cm("onBeforeInput","beforeinput",null,s,V),Q.push({event:ae,listeners:Ae}),ae.data=we)),tE(Q,n,L,s,V)}ey(Q,r)})}function Ss(n,r,s){return{instance:n,listener:r,currentTarget:s}}function sl(n,r){for(var s=r+"Capture",l=[];n!==null;){var f=n,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Hi(n,s),f!=null&&l.unshift(Ss(n,f,h)),f=Hi(n,r),f!=null&&l.push(Ss(n,f,h))),n.tag===3)return l;n=n.return}return[]}function iE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function ny(n,r,s,l,f){for(var h=r._reactName,y=[];s!==null&&s!==l;){var E=s,O=E.alternate,L=E.stateNode;if(E=E.tag,O!==null&&O===l)break;E!==5&&E!==26&&E!==27||L===null||(O=L,f?(L=Hi(s,h),L!=null&&y.unshift(Ss(s,L,O))):f||(L=Hi(s,h),L!=null&&y.push(Ss(s,L,O)))),s=s.return}y.length!==0&&n.push({event:r,listeners:y})}var sE=/\r\n?/g,oE=/\u0000|\uFFFD/g;function ry(n){return(typeof n=="string"?n:""+n).replace(sE,`
`).replace(oE,"")}function ay(n,r){return r=ry(r),ry(n)===r}function Be(n,r,s,l,f,h){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||xa(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&xa(n,""+l);break;case"className":uo(n,"class",l);break;case"tabIndex":uo(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":uo(n,s,l);break;case"style":am(n,l,h);break;case"data":if(r!=="object"){uo(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=fo(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(s==="formAction"?(r!=="input"&&Be(n,r,"name",f.name,f,null),Be(n,r,"formEncType",f.formEncType,f,null),Be(n,r,"formMethod",f.formMethod,f,null),Be(n,r,"formTarget",f.formTarget,f,null)):(Be(n,r,"encType",f.encType,f,null),Be(n,r,"method",f.method,f,null),Be(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=fo(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=kn);break;case"onScroll":l!=null&&Ee("scroll",n);break;case"onScrollEnd":l!=null&&Ee("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=fo(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Ee("beforetoggle",n),Ee("toggle",n),lo(n,"popover",l);break;case"xlinkActuate":Cn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Cn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Cn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Cn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Cn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Cn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Cn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=U_.get(s)||s,lo(n,s,l))}}function gf(n,r,s,l,f,h){switch(s){case"style":am(n,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(i(61));if(s=l.__html,s!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=s}}break;case"children":typeof l=="string"?xa(n,l):(typeof l=="number"||typeof l=="bigint")&&xa(n,""+l);break;case"onScroll":l!=null&&Ee("scroll",n);break;case"onScrollEnd":l!=null&&Ee("scrollend",n);break;case"onClick":l!=null&&(n.onclick=kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Yh.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),r=s.slice(2,f?s.length-7:void 0),h=n[_t]||null,h=h!=null?h[s]:null,typeof h=="function"&&n.removeEventListener(r,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,l,f);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):lo(n,s,l)}}}function pt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",n),Ee("load",n);var l=!1,f=!1,h;for(h in s)if(s.hasOwnProperty(h)){var y=s[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Be(n,r,h,y,s,null)}}f&&Be(n,r,"srcSet",s.srcSet,s,null),l&&Be(n,r,"src",s.src,s,null);return;case"input":Ee("invalid",n);var E=h=y=f=null,O=null,L=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":f=V;break;case"type":y=V;break;case"checked":O=V;break;case"defaultChecked":L=V;break;case"value":h=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(i(137,r));break;default:Be(n,r,l,V,s,null)}}em(n,h,E,O,L,y,f,!1);return;case"select":Ee("invalid",n),l=y=h=null;for(f in s)if(s.hasOwnProperty(f)&&(E=s[f],E!=null))switch(f){case"value":h=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Be(n,r,f,E,s,null)}r=h,s=y,n.multiple=!!l,r!=null?Ea(n,!!l,r,!1):s!=null&&Ea(n,!!l,s,!0);return;case"textarea":Ee("invalid",n),h=f=l=null;for(y in s)if(s.hasOwnProperty(y)&&(E=s[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":f=E;break;case"children":h=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:Be(n,r,y,E,s,null)}nm(n,l,f,h);return;case"option":for(O in s)s.hasOwnProperty(O)&&(l=s[O],l!=null)&&(O==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Be(n,r,O,l,s,null));return;case"dialog":Ee("beforetoggle",n),Ee("toggle",n),Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":Ee("load",n);break;case"video":case"audio":for(l=0;l<_s.length;l++)Ee(_s[l],n);break;case"image":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"embed":case"source":case"link":Ee("error",n),Ee("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in s)if(s.hasOwnProperty(L)&&(l=s[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:Be(n,r,L,l,s,null)}return;default:if(Cu(r)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&gf(n,r,V,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Be(n,r,E,l,s,null))}function lE(n,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,y=null,E=null,O=null,L=null,V=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":O=Q;default:l.hasOwnProperty(q)||Be(n,r,q,null,l,Q)}}for(var B in l){var q=l[B];if(Q=s[B],l.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":h=q;break;case"name":f=q;break;case"checked":L=q;break;case"defaultChecked":V=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:q!==Q&&Be(n,r,B,q,l,Q)}}Tu(n,y,E,O,L,V,h,f);return;case"select":q=y=E=B=null;for(h in s)if(O=s[h],s.hasOwnProperty(h)&&O!=null)switch(h){case"value":break;case"multiple":q=O;default:l.hasOwnProperty(h)||Be(n,r,h,null,l,O)}for(f in l)if(h=l[f],O=s[f],l.hasOwnProperty(f)&&(h!=null||O!=null))switch(f){case"value":B=h;break;case"defaultValue":E=h;break;case"multiple":y=h;default:h!==O&&Be(n,r,f,h,l,O)}r=E,s=y,l=q,B!=null?Ea(n,!!s,B,!1):!!l!=!!s&&(r!=null?Ea(n,!!s,r,!0):Ea(n,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(f=s[E],s.hasOwnProperty(E)&&f!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Be(n,r,E,null,l,f)}for(y in l)if(f=l[y],h=s[y],l.hasOwnProperty(y)&&(f!=null||h!=null))switch(y){case"value":B=f;break;case"defaultValue":q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==h&&Be(n,r,y,f,l,h)}tm(n,B,q);return;case"option":for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!=null&&!l.hasOwnProperty(te)&&(te==="selected"?n.selected=!1:Be(n,r,te,null,l,B));for(O in l)B=l[O],q=s[O],l.hasOwnProperty(O)&&B!==q&&(B!=null||q!=null)&&(O==="selected"?n.selected=B&&typeof B!="function"&&typeof B!="symbol":Be(n,r,O,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in s)B=s[ce],s.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&Be(n,r,ce,null,l,B);for(L in l)if(B=l[L],q=s[L],l.hasOwnProperty(L)&&B!==q&&(B!=null||q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:Be(n,r,L,B,l,q)}return;default:if(Cu(r)){for(var qe in s)B=s[qe],s.hasOwnProperty(qe)&&B!==void 0&&!l.hasOwnProperty(qe)&&gf(n,r,qe,void 0,l,B);for(V in l)B=l[V],q=s[V],!l.hasOwnProperty(V)||B===q||B===void 0&&q===void 0||gf(n,r,V,B,l,q);return}}for(var j in s)B=s[j],s.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Be(n,r,j,null,l,B);for(Q in l)B=l[Q],q=s[Q],!l.hasOwnProperty(Q)||B===q||B==null&&q==null||Be(n,r,Q,B,l,q)}function iy(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function uE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var f=s[l],h=f.transferSize,y=f.initiatorType,E=f.duration;if(h&&E&&iy(y)){for(y=0,E=f.responseEnd,l+=1;l<s.length;l++){var O=s[l],L=O.startTime;if(L>E)break;var V=O.transferSize,Q=O.initiatorType;V&&iy(Q)&&(O=O.responseEnd,y+=V*(O<E?1:(E-L)/(O-L)))}if(--l,r+=8*(h+y)/(f.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var yf=null,vf=null;function ol(n){return n.nodeType===9?n:n.ownerDocument}function sy(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function bf(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wf=null;function cE(){var n=window.event;return n&&n.type==="popstate"?n===wf?!1:(wf=n,!0):(wf=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,fE=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,dE=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(n){return uy.resolve(null).then(n).catch(hE)}:ly;function hE(n){setTimeout(function(){throw n})}function wr(n){return n==="head"}function cy(n,r){var s=r,l=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(f),ti(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Es(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Es(s);for(var h=s.firstChild;h;){var y=h.nextSibling,E=h.nodeName;h[$i]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&h.rel.toLowerCase()==="stylesheet"||s.removeChild(h),h=y}}else s==="body"&&Es(n.ownerDocument.body);s=f}while(s);ti(r)}function fy(n,r){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function _f(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":_f(s),Au(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function mE(n,r,s,l){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[$i])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(h=n.getAttribute("rel"),h==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(h!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(h=n.getAttribute("src"),(h!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===h)return n}else return n;if(n=tn(n.nextSibling),n===null)break}return null}function pE(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=tn(n.nextSibling),n===null))return null;return n}function dy(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=tn(n.nextSibling),n===null))return null;return n}function Sf(n){return n.data==="$?"||n.data==="$~"}function Ef(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function gE(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function tn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var xf=null;function hy(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return tn(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function my(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function py(n,r,s){switch(r=ol(s),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Es(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Au(n)}var nn=new Map,gy=new Set;function ll(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Kn=Y.d;Y.d={f:yE,r:vE,D:bE,C:wE,L:_E,m:SE,X:xE,S:EE,M:AE};function yE(){var n=Kn.f(),r=Zo();return n||r}function vE(n){var r=wa(n);r!==null&&r.tag===5&&r.type==="form"?jp(r):Kn.r(n)}var Wa=typeof document>"u"?null:document;function yy(n,r,s){var l=Wa;if(l&&typeof r=="string"&&r){var f=Qt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),gy.has(f)||(gy.add(f),n={rel:n,crossOrigin:s,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),pt(r,"link",n),ut(r),l.head.appendChild(r)))}}function bE(n){Kn.D(n),yy("dns-prefetch",n,null)}function wE(n,r){Kn.C(n,r),yy("preconnect",n,r)}function _E(n,r,s){Kn.L(n,r,s);var l=Wa;if(l&&n&&r){var f='link[rel="preload"][as="'+Qt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Qt(s.imageSizes)+'"]')):f+='[href="'+Qt(n)+'"]';var h=f;switch(r){case"style":h=Za(n);break;case"script":h=ei(n)}nn.has(h)||(n=v({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),nn.set(h,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(xs(h))||r==="script"&&l.querySelector(As(h))||(r=l.createElement("link"),pt(r,"link",n),ut(r),l.head.appendChild(r)))}}function SE(n,r){Kn.m(n,r);var s=Wa;if(s&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(n)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ei(n)}if(!nn.has(h)&&(n=v({rel:"modulepreload",href:n},r),nn.set(h,n),s.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(As(h)))return}l=s.createElement("link"),pt(l,"link",n),ut(l),s.head.appendChild(l)}}}function EE(n,r,s){Kn.S(n,r,s);var l=Wa;if(l&&n){var f=_a(l).hoistableStyles,h=Za(n);r=r||"default";var y=f.get(h);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(xs(h)))E.loading=5;else{n=v({rel:"stylesheet",href:n,"data-precedence":r},s),(s=nn.get(h))&&Af(n,s);var O=y=l.createElement("link");ut(O),pt(O,"link",n),O._p=new Promise(function(L,V){O.onload=L,O.onerror=V}),O.addEventListener("load",function(){E.loading|=1}),O.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ul(y,r,l)}y={type:"stylesheet",instance:y,count:1,state:E},f.set(h,y)}}}function xE(n,r){Kn.X(n,r);var s=Wa;if(s&&n){var l=_a(s).hoistableScripts,f=ei(n),h=l.get(f);h||(h=s.querySelector(As(f)),h||(n=v({src:n,async:!0},r),(r=nn.get(f))&&Rf(n,r),h=s.createElement("script"),ut(h),pt(h,"link",n),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function AE(n,r){Kn.M(n,r);var s=Wa;if(s&&n){var l=_a(s).hoistableScripts,f=ei(n),h=l.get(f);h||(h=s.querySelector(As(f)),h||(n=v({src:n,async:!0,type:"module"},r),(r=nn.get(f))&&Rf(n,r),h=s.createElement("script"),ut(h),pt(h,"link",n),s.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function vy(n,r,s,l){var f=(f=ge.current)?ll(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=Za(s.href),s=_a(f).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Za(s.href);var h=_a(f).hoistableStyles,y=h.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(n,y),(h=f.querySelector(xs(n)))&&!h._p&&(y.instance=h,y.state.loading=5),nn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},nn.set(n,s),h||RE(f,n,s,y.state))),r&&l===null)throw Error(i(528,""));return y}if(r&&l!==null)throw Error(i(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ei(s),s=_a(f).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Za(n){return'href="'+Qt(n)+'"'}function xs(n){return'link[rel="stylesheet"]['+n+"]"}function by(n){return v({},n,{"data-precedence":n.precedence,precedence:null})}function RE(n,r,s,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),pt(r,"link",s),ut(r),n.head.appendChild(r))}function ei(n){return'[src="'+Qt(n)+'"]'}function As(n){return"script[async]"+n}function wy(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Qt(s.href)+'"]');if(l)return r.instance=l,ut(l),l;var f=v({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),pt(l,"style",f),ul(l,s.precedence,n),r.instance=l;case"stylesheet":f=Za(s.href);var h=n.querySelector(xs(f));if(h)return r.state.loading|=4,r.instance=h,ut(h),h;l=by(s),(f=nn.get(f))&&Af(l,f),h=(n.ownerDocument||n).createElement("link"),ut(h);var y=h;return y._p=new Promise(function(E,O){y.onload=E,y.onerror=O}),pt(h,"link",l),r.state.loading|=4,ul(h,s.precedence,n),r.instance=h;case"script":return h=ei(s.src),(f=n.querySelector(As(h)))?(r.instance=f,ut(f),f):(l=s,(f=nn.get(h))&&(l=v({},s),Rf(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),ut(f),pt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ul(l,s.precedence,n));return r.instance}function ul(n,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===r)h=E;else if(h!==f)break}h?h.parentNode.insertBefore(n,h.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Af(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Rf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var cl=null;function _y(n,r,s){if(cl===null){var l=new Map,f=cl=new Map;f.set(s,l)}else f=cl,l=f.get(s),l||(l=new Map,f.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var h=s[f];if(!(h[$i]||h[ft]||n==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(r)||"";y=n+y;var E=l.get(y);E?E.push(h):l.set(y,[h])}}return l}function Sy(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function TE(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ey(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function OE(n,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Za(l.href),h=r.querySelector(xs(f));if(h){r=h._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=fl.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=h,ut(h);return}h=r.ownerDocument||r,l=by(l),(f=nn.get(f))&&Af(l,f),h=h.createElement("link"),ut(h);var y=h;y._p=new Promise(function(E,O){y.onload=E,y.onerror=O}),pt(h,"link",l),s.instance=h}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=fl.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var Tf=0;function CE(n,r){return n.stylesheets&&n.count===0&&hl(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&hl(n,n.stylesheets),n.unsuspend){var h=n.unsuspend;n.unsuspend=null,h()}},6e4+r);0<n.imgBytes&&Tf===0&&(Tf=62500*uE());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&hl(n,n.stylesheets),n.unsuspend)){var h=n.unsuspend;n.unsuspend=null,h()}},(n.imgBytes>Tf?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function fl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var dl=null;function hl(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,dl=new Map,r.forEach(kE,n),dl=null,fl.call(n))}function kE(n,r){if(!(r.state.loading&4)){var s=dl.get(n);if(s)var l=s.get(null);else{s=new Map,dl.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var y=f[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(s.set(y.dataset.precedence,y),l=y)}l&&s.set(null,l)}f=r.instance,y=f.getAttribute("data-precedence"),h=s.get(y)||l,h===l&&s.set(null,f),s.set(y,f),this.count++,l=fl.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Rs={$$typeof:C,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function NE(n,r,s,l,f,h,y,E,O){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_u(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.hiddenUpdates=_u(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=O,this.incompleteTransitions=new Map}function xy(n,r,s,l,f,h,y,E,O,L,V,Q){return n=new NE(n,r,s,y,O,L,V,Q,E),r=1,h===!0&&(r|=24),h=Mt(3,null,null,r),n.current=h,h.stateNode=n,r=ic(),r.refCount++,n.pooledCache=r,r.refCount++,h.memoizedState={element:l,isDehydrated:s,cache:r},uc(h),n}function Ay(n){return n?(n=Na,n):Na}function Ry(n,r,s,l,f,h){f=Ay(f),l.context===null?l.context=f:l.pendingContext=f,l=ur(r),l.payload={element:s},h=h===void 0?null:h,h!==null&&(l.callback=h),s=cr(n,l,r),s!==null&&(Tt(s,n,r),as(s,n,r))}function Ty(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Of(n,r){Ty(n,r),(n=n.alternate)&&Ty(n,r)}function Oy(n){if(n.tag===13||n.tag===31){var r=Gr(n,67108864);r!==null&&Tt(r,n,67108864),Of(n,67108864)}}function Cy(n){if(n.tag===13||n.tag===31){var r=Bt();r=Su(r);var s=Gr(n,r);s!==null&&Tt(s,n,r),Of(n,r)}}var ml=!0;function DE(n,r,s,l){var f=z.T;z.T=null;var h=Y.p;try{Y.p=2,Cf(n,r,s,l)}finally{Y.p=h,z.T=f}}function jE(n,r,s,l){var f=z.T;z.T=null;var h=Y.p;try{Y.p=8,Cf(n,r,s,l)}finally{Y.p=h,z.T=f}}function Cf(n,r,s,l){if(ml){var f=kf(l);if(f===null)pf(n,r,l,pl,s),Ny(n,l);else if(UE(f,n,r,s,l))l.stopPropagation();else if(Ny(n,l),r&4&&-1<ME.indexOf(n)){for(;f!==null;){var h=wa(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=qr(h.pendingLanes);if(y!==0){var E=h;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var O=1<<31-Dt(y);E.entanglements[1]|=O,y&=~O}En(h),(Ne&6)===0&&(Jo=kt()+500,ws(0))}}break;case 31:case 13:E=Gr(h,2),E!==null&&Tt(E,h,2),Zo(),Of(h,2)}if(h=kf(l),h===null&&pf(n,r,l,pl,s),h===f)break;f=h}f!==null&&l.stopPropagation()}else pf(n,r,l,null,s)}}function kf(n){return n=Nu(n),Nf(n)}var pl=null;function Nf(n){if(pl=null,n=ba(n),n!==null){var r=u(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=d(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return pl=n,null}function ky(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(b_()){case zh:return 2;case Bh:return 8;case ro:case w_:return 32;case qh:return 268435456;default:return 32}default:return 32}}var Df=!1,_r=null,Sr=null,Er=null,Ts=new Map,Os=new Map,xr=[],ME="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ny(n,r){switch(n){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":Sr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":Ts.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(r.pointerId)}}function Cs(n,r,s,l,f,h){return n===null||n.nativeEvent!==h?(n={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},r!==null&&(r=wa(r),r!==null&&Oy(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function UE(n,r,s,l,f){switch(r){case"focusin":return _r=Cs(_r,n,r,s,l,f),!0;case"dragenter":return Sr=Cs(Sr,n,r,s,l,f),!0;case"mouseover":return Er=Cs(Er,n,r,s,l,f),!0;case"pointerover":var h=f.pointerId;return Ts.set(h,Cs(Ts.get(h)||null,n,r,s,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Os.set(h,Cs(Os.get(h)||null,n,r,s,l,f)),!0}return!1}function Dy(n){var r=ba(n.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,Kh(n.priority,function(){Cy(s)});return}}else if(r===31){if(r=d(s),r!==null){n.blockedOn=r,Kh(n.priority,function(){Cy(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function gl(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=kf(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);ku=l,s.target.dispatchEvent(l),ku=null}else return r=wa(s),r!==null&&Oy(r),n.blockedOn=s,!1;r.shift()}return!0}function jy(n,r,s){gl(n)&&s.delete(r)}function LE(){Df=!1,_r!==null&&gl(_r)&&(_r=null),Sr!==null&&gl(Sr)&&(Sr=null),Er!==null&&gl(Er)&&(Er=null),Ts.forEach(jy),Os.forEach(jy)}function yl(n,r){n.blockedOn===r&&(n.blockedOn=null,Df||(Df=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,LE)))}var vl=null;function My(n){vl!==n&&(vl=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){vl===n&&(vl=null);for(var r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(Nf(l||s)===null)continue;break}var h=wa(s);h!==null&&(n.splice(r,3),r-=3,Cc(h,{pending:!0,data:f,method:s.method,action:l},l,f))}}))}function ti(n){function r(O){return yl(O,n)}_r!==null&&yl(_r,n),Sr!==null&&yl(Sr,n),Er!==null&&yl(Er,n),Ts.forEach(r),Os.forEach(r);for(var s=0;s<xr.length;s++){var l=xr[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<xr.length&&(s=xr[0],s.blockedOn===null);)Dy(s),s.blockedOn===null&&xr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var f=s[l],h=s[l+1],y=f[_t]||null;if(typeof h=="function")y||My(s);else if(y){var E=null;if(h&&h.hasAttribute("formAction")){if(f=h,y=h[_t]||null)E=y.formAction;else if(Nf(f)!==null)continue}else E=y.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),My(s)}}}function Uy(){function n(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function r(){f!==null&&(f(),f=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),f!==null&&(f(),f=null)}}}function jf(n){this._internalRoot=n}bl.prototype.render=jf.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var s=r.current,l=Bt();Ry(s,l,n,r,null,null)},bl.prototype.unmount=jf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ry(n.current,2,null,n,null,null),Zo(),r[va]=null}};function bl(n){this._internalRoot=n}bl.prototype.unstable_scheduleHydration=function(n){if(n){var r=Gh();n={blockedOn:null,target:n,priority:r};for(var s=0;s<xr.length&&r!==0&&r<xr[s].priority;s++);xr.splice(s,0,n),s===0&&Dy(n)}};var Ly=t.version;if(Ly!=="19.2.3")throw Error(i(527,Ly,"19.2.3"));Y.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var PE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{zi=wl.inject(PE),Nt=wl}catch{}}return Ns.createRoot=function(n,r){if(!o(n))throw Error(i(299));var s=!1,l="",f=Hp,h=Vp,y=Gp;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(h=r.onCaughtError),r.onRecoverableError!==void 0&&(y=r.onRecoverableError)),r=xy(n,1,!1,null,null,s,l,null,f,h,y,Uy),n[va]=r.current,mf(n),new jf(r)},Ns.hydrateRoot=function(n,r,s){if(!o(n))throw Error(i(299));var l=!1,f="",h=Hp,y=Vp,E=Gp,O=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(h=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(O=s.formState)),r=xy(n,1,!0,r,s??null,l,f,O,h,y,E,Uy),r.context=Ay(null),s=r.current,l=Bt(),l=Su(l),f=ur(l),f.callback=null,cr(s,f,l),s=l,r.current.lanes=s,qi(r,s),En(r),n[va]=r.current,mf(n),new bl(r)},Ns.version="19.2.3",Ns}var Ky;function FE(){if(Ky)return Lf.exports;Ky=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Lf.exports=KE(),Lf.exports}var QE=FE();const YE=Wd(QE);var Fy="popstate";function XE(e={}){function t(i,o){let{pathname:u,search:c,hash:d}=i.location;return $l("",{pathname:u,search:c,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function a(i,o){return typeof o=="string"?o:Ei(o)}return Eb(t,a,null,e)}function JE(e={}){function t(o,u){let{pathname:c="/",search:d="",hash:m=""}=ya(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),$l("",{pathname:c,search:d,hash:m},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){let c=o.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let m=o.location.href,p=m.indexOf("#");d=p===-1?m:m.slice(0,p)}return d+"#"+(typeof u=="string"?u:Ei(u))}function i(o,u){Ct(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Eb(t,a,i,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ct(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function WE(){return Math.random().toString(36).substring(2,10)}function Qy(e,t){return{usr:e.state,key:e.key,idx:t}}function $l(e,t,a=null,i){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?ya(t):t,state:a,key:t&&t.key||i||WE()}}function Ei({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function ya(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let i=e.indexOf("?");i>=0&&(t.search=e.substring(i),e=e.substring(0,i)),e&&(t.pathname=e)}return t}function Eb(e,t,a,i={}){let{window:o=document.defaultView,v5Compat:u=!1}=i,c=o.history,d="POP",m=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function v(){d="POP";let A=g(),T=A==null?null:A-p;p=A,m&&m({action:d,location:S.location,delta:T})}function w(A,T){d="PUSH";let R=$l(S.location,A,T);a&&a(R,A),p=g()+1;let C=Qy(R,p),P=S.createHref(R);try{c.pushState(C,"",P)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;o.location.assign(P)}u&&m&&m({action:d,location:S.location,delta:1})}function _(A,T){d="REPLACE";let R=$l(S.location,A,T);a&&a(R,A),p=g();let C=Qy(R,p),P=S.createHref(R);c.replaceState(C,"",P),u&&m&&m({action:d,location:S.location,delta:0})}function x(A){return ZE(A)}let S={get action(){return d},get location(){return e(o,c)},listen(A){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(Fy,v),m=A,()=>{o.removeEventListener(Fy,v),m=null}},createHref(A){return t(o,A)},createURL:x,encodeLocation(A){let T=x(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:_,go(A){return c.go(A)}};return S}function ZE(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(a,"No window.location.(origin|href) available to create URL");let i=typeof e=="string"?e:Ei(e);return i=i.replace(/ $/,"%20"),!t&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function xb(e,t,a="/"){return ex(e,t,a,!1)}function ex(e,t,a,i){let o=typeof t=="string"?ya(t):t,u=Xn(o.pathname||"/",a);if(u==null)return null;let c=Ab(e);tx(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let p=dx(u);d=cx(c[m],p,i)}return d}function Ab(e,t=[],a=[],i="",o=!1){let u=(c,d,m=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&m)return;Ke(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let v=Yn([i,g.relativePath]),w=a.concat(g);c.children&&c.children.length>0&&(Ke(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Ab(c.children,t,w,v,m)),!(c.path==null&&!c.index)&&t.push({path:v,score:lx(v,c.index),routesMeta:w})};return e.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))u(c,d);else for(let m of Rb(c.path))u(c,d,!0,m)}),t}function Rb(e){let t=e.split("/");if(t.length===0)return[];let[a,...i]=t,o=a.endsWith("?"),u=a.replace(/\?$/,"");if(i.length===0)return o?[u,""]:[u];let c=Rb(i.join("/")),d=[];return d.push(...c.map(m=>m===""?u:[u,m].join("/"))),o&&d.push(...c),d.map(m=>e.startsWith("/")&&m===""?"/":m)}function tx(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:ux(t.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var nx=/^:[\w-]+$/,rx=3,ax=2,ix=1,sx=10,ox=-2,Yy=e=>e==="*";function lx(e,t){let a=e.split("/"),i=a.length;return a.some(Yy)&&(i+=ox),t&&(i+=ax),a.filter(o=>!Yy(o)).reduce((o,u)=>o+(nx.test(u)?rx:u===""?ix:sx),i)}function ux(e,t){return e.length===t.length&&e.slice(0,-1).every((i,o)=>i===t[o])?e[e.length-1]-t[t.length-1]:0}function cx(e,t,a=!1){let{routesMeta:i}=e,o={},u="/",c=[];for(let d=0;d<i.length;++d){let m=i[d],p=d===i.length-1,g=u==="/"?t:t.slice(u.length)||"/",v=Il({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g),w=m.route;if(!v&&p&&a&&!i[i.length-1].route.index&&(v=Il({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},g)),!v)return null;Object.assign(o,v.params),c.push({params:o,pathname:Yn([u,v.pathname]),pathnameBase:gx(Yn([u,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(u=Yn([u,v.pathnameBase]))}return c}function Il(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,i]=fx(e.path,e.caseSensitive,e.end),o=t.match(a);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:v},w)=>{if(g==="*"){let x=d[w]||"";c=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const _=d[w];return v&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:e}}function fx(e,t=!1,a=!0){Ct(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(i.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function dx(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ct(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Xn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,i=e.charAt(a);return i&&i!=="/"?null:e.slice(a)||"/"}var Tb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hx=e=>Tb.test(e);function mx(e,t="/"){let{pathname:a,search:i="",hash:o=""}=typeof e=="string"?ya(e):e,u;if(a)if(hx(a))u=a;else{if(a.includes("//")){let c=a;a=a.replace(/\/\/+/g,"/"),Ct(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${a}`)}a.startsWith("/")?u=Xy(a.substring(1),"/"):u=Xy(a,t)}else u=t;return{pathname:u,search:yx(i),hash:vx(o)}}function Xy(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?a.length>1&&a.pop():o!=="."&&a.push(o)}),a.length>1?a.join("/"):"/"}function qf(e,t,a,i){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function px(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function th(e){let t=px(e);return t.map((a,i)=>i===t.length-1?a.pathname:a.pathnameBase)}function nh(e,t,a,i=!1){let o;typeof e=="string"?o=ya(e):(o={...e},Ke(!o.pathname||!o.pathname.includes("?"),qf("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),qf("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),qf("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,d;if(c==null)d=a;else{let v=t.length-1;if(!i&&c.startsWith("..")){let w=c.split("/");for(;w[0]==="..";)w.shift(),v-=1;o.pathname=w.join("/")}d=v>=0?t[v]:"/"}let m=mx(o,d),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(p||g)&&(m.pathname+="/"),m}var Yn=e=>e.join("/").replace(/\/\/+/g,"/"),gx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),yx=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,vx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,bx=class{constructor(e,t,a,i=!1){this.status=e,this.statusText=t||"",this.internal=i,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function wx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function _x(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Cb(e,t){let a=e;if(typeof a!="string"||!Tb.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let i=a,o=!1;if(Ob)try{let u=new URL(window.location.href),c=a.startsWith("//")?new URL(u.protocol+a):new URL(a),d=Xn(c.pathname,t);c.origin===u.origin&&d!=null?a=d+c.search+c.hash:o=!0}catch{Ct(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:o,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kb=["POST","PUT","PATCH","DELETE"];new Set(kb);var Sx=["GET",...kb];new Set(Sx);var Oi=b.createContext(null);Oi.displayName="DataRouter";var ru=b.createContext(null);ru.displayName="DataRouterState";var Ex=b.createContext(!1),Nb=b.createContext({isTransitioning:!1});Nb.displayName="ViewTransition";var xx=b.createContext(new Map);xx.displayName="Fetchers";var Ax=b.createContext(null);Ax.displayName="Await";var Gt=b.createContext(null);Gt.displayName="Navigation";var Xs=b.createContext(null);Xs.displayName="Location";var on=b.createContext({outlet:null,matches:[],isDataRoute:!1});on.displayName="Route";var rh=b.createContext(null);rh.displayName="RouteError";var Db="REACT_ROUTER_ERROR",Rx="REDIRECT",Tx="ROUTE_ERROR_RESPONSE";function Ox(e){if(e.startsWith(`${Db}:${Rx}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Cx(e){if(e.startsWith(`${Db}:${Tx}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new bx(t.status,t.statusText,t.data)}catch{}}function kx(e,{relative:t}={}){Ke(Ci(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=b.useContext(Gt),{hash:o,pathname:u,search:c}=Js(e,{relative:t}),d=u;return a!=="/"&&(d=u==="/"?a:Yn([a,u])),i.createHref({pathname:d,search:c,hash:o})}function Ci(){return b.useContext(Xs)!=null}function ln(){return Ke(Ci(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Xs).location}var jb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Mb(e){b.useContext(Gt).static||b.useLayoutEffect(e)}function au(){let{isDataRoute:e}=b.useContext(on);return e?Gx():Nx()}function Nx(){Ke(Ci(),"useNavigate() may be used only in the context of a <Router> component.");let e=b.useContext(Oi),{basename:t,navigator:a}=b.useContext(Gt),{matches:i}=b.useContext(on),{pathname:o}=ln(),u=JSON.stringify(th(i)),c=b.useRef(!1);return Mb(()=>{c.current=!0}),b.useCallback((m,p={})=>{if(Ct(c.current,jb),!c.current)return;if(typeof m=="number"){a.go(m);return}let g=nh(m,JSON.parse(u),o,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Yn([t,g.pathname])),(p.replace?a.replace:a.push)(g,p.state,p)},[t,a,u,o,e])}var Dx=b.createContext(null);function jx(e){let t=b.useContext(on).outlet;return b.useMemo(()=>t&&b.createElement(Dx.Provider,{value:e},t),[t,e])}function bM(){let{matches:e}=b.useContext(on),t=e[e.length-1];return t?t.params:{}}function Js(e,{relative:t}={}){let{matches:a}=b.useContext(on),{pathname:i}=ln(),o=JSON.stringify(th(a));return b.useMemo(()=>nh(e,JSON.parse(o),i,t==="path"),[e,o,i,t])}function Mx(e,t){return Ub(e,t)}function Ub(e,t,a,i,o){Ke(Ci(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(Gt),{matches:c}=b.useContext(on),d=c[c.length-1],m=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",v=d&&d.route;{let R=v&&v.path||"";Pb(p,!v||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=ln(),_;if(t){let R=typeof t=="string"?ya(t):t;Ke(g==="/"||R.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${R.pathname}" was given in the \`location\` prop.`),_=R}else _=w;let x=_.pathname||"/",S=x;if(g!=="/"){let R=g.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=xb(e,{pathname:S});Ct(v||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ct(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Bx(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},m,R.params),pathname:Yn([g,u.encodeLocation?u.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?g:Yn([g,u.encodeLocation?u.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),c,a,i,o);return t&&T?b.createElement(Xs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},T):T}function Ux(){let e=Vx(),t=wx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},u={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),a?b.createElement("pre",{style:o},a):null,c)}var Lx=b.createElement(Ux,null),Lb=class extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const a=Cx(e.digest);a&&(e=a)}let t=e!==void 0?b.createElement(on.Provider,{value:this.props.routeContext},b.createElement(rh.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?b.createElement(Px,{error:e},t):t}};Lb.contextType=Ex;var $f=new WeakMap;function Px({children:e,error:t}){let{basename:a}=b.useContext(Gt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let i=Ox(t.digest);if(i){let o=$f.get(t);if(o)throw o;let u=Cb(i.location,a);if(Ob&&!$f.get(t))if(u.isExternal||i.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:i.replace}));throw $f.set(t,c),c}return b.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function zx({routeContext:e,match:t,children:a}){let i=b.useContext(Oi);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(on.Provider,{value:e},a)}function Bx(e,t=[],a=null,i=null,o=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let u=e,c=a?.errors;if(c!=null){let g=u.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let d=!1,m=-1;if(a)for(let g=0;g<u.length;g++){let v=u[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:_}=a,x=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!_||_[v.route.id]===void 0);if(v.route.lazy||x){d=!0,m>=0?u=u.slice(0,m+1):u=[u[0]];break}}}let p=a&&i?(g,v)=>{i(g,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:_x(a.matches),errorInfo:v})}:void 0;return u.reduceRight((g,v,w)=>{let _,x=!1,S=null,A=null;a&&(_=c&&v.route.id?c[v.route.id]:void 0,S=v.route.errorElement||Lx,d&&(m<0&&w===0?(Pb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):m===w&&(x=!0,A=v.route.hydrateFallbackElement||null)));let T=t.concat(u.slice(0,w+1)),R=()=>{let C;return _?C=S:x?C=A:v.route.Component?C=b.createElement(v.route.Component,null):v.route.element?C=v.route.element:C=g,b.createElement(zx,{match:v,routeContext:{outlet:g,matches:T,isDataRoute:a!=null},children:C})};return a&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?b.createElement(Lb,{location:a.location,revalidation:a.revalidation,component:S,error:_,children:R(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:p}):R()},null)}function ah(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qx(e){let t=b.useContext(Oi);return Ke(t,ah(e)),t}function $x(e){let t=b.useContext(ru);return Ke(t,ah(e)),t}function Ix(e){let t=b.useContext(on);return Ke(t,ah(e)),t}function ih(e){let t=Ix(e),a=t.matches[t.matches.length-1];return Ke(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function Hx(){return ih("useRouteId")}function Vx(){let e=b.useContext(rh),t=$x("useRouteError"),a=ih("useRouteError");return e!==void 0?e:t.errors?.[a]}function Gx(){let{router:e}=qx("useNavigate"),t=ih("useNavigate"),a=b.useRef(!1);return Mb(()=>{a.current=!0}),b.useCallback(async(o,u={})=>{Ct(a.current,jb),a.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var Jy={};function Pb(e,t,a){!t&&!Jy[e]&&(Jy[e]=!0,Ct(!1,a))}b.memo(Kx);function Kx({routes:e,future:t,state:a,onError:i}){return Ub(e,void 0,a,i,t)}function vd({to:e,replace:t,state:a,relative:i}){Ke(Ci(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=b.useContext(Gt);Ct(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=b.useContext(on),{pathname:c}=ln(),d=au(),m=nh(e,th(u),c,i==="path"),p=JSON.stringify(m);return b.useEffect(()=>{d(JSON.parse(p),{replace:t,state:a,relative:i})},[d,p,i,t,a]),null}function zb(e){return jx(e.context)}function Te(e){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bb({basename:e="/",children:t=null,location:a,navigationType:i="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Ke(!Ci(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=e.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:d,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[d,o,u,c]);typeof a=="string"&&(a=ya(a));let{pathname:p="/",search:g="",hash:v="",state:w=null,key:_="default"}=a,x=b.useMemo(()=>{let S=Xn(p,d);return S==null?null:{location:{pathname:S,search:g,hash:v,state:w,key:_},navigationType:i}},[d,p,g,v,w,_,i]);return Ct(x!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:b.createElement(Gt.Provider,{value:m},b.createElement(Xs.Provider,{children:t,value:x}))}function Fx({children:e,location:t}){return Mx(bd(e),t)}function bd(e,t=[]){let a=[];return b.Children.forEach(e,(i,o)=>{if(!b.isValidElement(i))return;let u=[...t,o];if(i.type===b.Fragment){a.push.apply(a,bd(i.props.children,u));return}Ke(i.type===Te,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=bd(i.props.children,u)),a.push(c)}),a}var Ll="get",Pl="application/x-www-form-urlencoded";function iu(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function Qx(e){return iu(e)&&e.tagName.toLowerCase()==="button"}function Yx(e){return iu(e)&&e.tagName.toLowerCase()==="form"}function Xx(e){return iu(e)&&e.tagName.toLowerCase()==="input"}function Jx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Wx(e,t){return e.button===0&&(!t||t==="_self")&&!Jx(e)}function wd(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,a)=>{let i=e[a];return t.concat(Array.isArray(i)?i.map(o=>[a,o]):[[a,i]])},[]))}function Zx(e,t){let a=wd(e);return t&&t.forEach((i,o)=>{a.has(o)||t.getAll(o).forEach(u=>{a.append(o,u)})}),a}var _l=null;function eA(){if(_l===null)try{new FormData(document.createElement("form"),0),_l=!1}catch{_l=!0}return _l}var tA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function If(e){return e!=null&&!tA.has(e)?(Ct(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pl}"`),null):e}function nA(e,t){let a,i,o,u,c;if(Yx(e)){let d=e.getAttribute("action");i=d?Xn(d,t):null,a=e.getAttribute("method")||Ll,o=If(e.getAttribute("enctype"))||Pl,u=new FormData(e)}else if(Qx(e)||Xx(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||d.getAttribute("action");if(i=m?Xn(m,t):null,a=e.getAttribute("formmethod")||d.getAttribute("method")||Ll,o=If(e.getAttribute("formenctype"))||If(d.getAttribute("enctype"))||Pl,u=new FormData(d,e),!eA()){let{name:p,type:g,value:v}=e;if(g==="image"){let w=p?`${p}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else p&&u.append(p,v)}}else{if(iu(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Ll,i=null,o=Pl,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:i,method:a.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function sh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function rA(e,t,a,i){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return a?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${i}`:o.pathname=`${o.pathname}.${i}`:o.pathname==="/"?o.pathname=`_root.${i}`:t&&Xn(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function aA(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function sA(e,t,a){let i=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await aA(u,a);return c.links?c.links():[]}return[]}));return cA(i.flat(1).filter(iA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Wy(e,t,a,i,o,u){let c=(m,p)=>a[p]?m.route.id!==a[p].route.id:!0,d=(m,p)=>a[p].pathname!==m.pathname||a[p].route.path?.endsWith("*")&&a[p].params["*"]!==m.params["*"];return u==="assets"?t.filter((m,p)=>c(m,p)||d(m,p)):u==="data"?t.filter((m,p)=>{let g=i.routes[m.route.id];if(!g||!g.hasLoader)return!1;if(c(m,p)||d(m,p))return!0;if(m.route.shouldRevalidate){let v=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function oA(e,t,{includeHydrateFallback:a}={}){return lA(e.map(i=>{let o=t.routes[i.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),a&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function lA(e){return[...new Set(e)]}function uA(e){let t={},a=Object.keys(e).sort();for(let i of a)t[i]=e[i];return t}function cA(e,t){let a=new Set;return new Set(t),e.reduce((i,o)=>{let u=JSON.stringify(uA(o));return a.has(u)||(a.add(u),i.push({key:u,link:o})),i},[])}function qb(){let e=b.useContext(Oi);return sh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function fA(){let e=b.useContext(ru);return sh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oh=b.createContext(void 0);oh.displayName="FrameworkContext";function $b(){let e=b.useContext(oh);return sh(e,"You must render this element inside a <HydratedRouter> element"),e}function dA(e,t){let a=b.useContext(oh),[i,o]=b.useState(!1),[u,c]=b.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:p,onMouseLeave:g,onTouchStart:v}=t,w=b.useRef(null);b.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let S=T=>{T.forEach(R=>{c(R.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return w.current&&A.observe(w.current),()=>{A.disconnect()}}},[e]),b.useEffect(()=>{if(i){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[i]);let _=()=>{o(!0)},x=()=>{o(!1),c(!1)};return a?e!=="intent"?[u,w,{}]:[u,w,{onFocus:Ds(d,_),onBlur:Ds(m,x),onMouseEnter:Ds(p,_),onMouseLeave:Ds(g,x),onTouchStart:Ds(v,_)}]:[!1,w,{}]}function Ds(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function hA({page:e,...t}){let{router:a}=qb(),i=b.useMemo(()=>xb(a.routes,e,a.basename),[a.routes,e,a.basename]);return i?b.createElement(pA,{page:e,matches:i,...t}):null}function mA(e){let{manifest:t,routeModules:a}=$b(),[i,o]=b.useState([]);return b.useEffect(()=>{let u=!1;return sA(e,t,a).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,a]),i}function pA({page:e,matches:t,...a}){let i=ln(),{future:o,manifest:u,routeModules:c}=$b(),{basename:d}=qb(),{loaderData:m,matches:p}=fA(),g=b.useMemo(()=>Wy(e,t,p,u,i,"data"),[e,t,p,u,i]),v=b.useMemo(()=>Wy(e,t,p,u,i,"assets"),[e,t,p,u,i]),w=b.useMemo(()=>{if(e===i.pathname+i.search+i.hash)return[];let S=new Set,A=!1;if(t.forEach(R=>{let C=u.routes[R.route.id];!C||!C.hasLoader||(!g.some(P=>P.route.id===R.route.id)&&R.route.id in m&&c[R.route.id]?.shouldRevalidate||C.hasClientLoader?A=!0:S.add(R.route.id))}),S.size===0)return[];let T=rA(e,d,o.unstable_trailingSlashAwareDataRequests,"data");return A&&S.size>0&&T.searchParams.set("_routes",t.filter(R=>S.has(R.route.id)).map(R=>R.route.id).join(",")),[T.pathname+T.search]},[d,o.unstable_trailingSlashAwareDataRequests,m,i,u,g,t,e,c]),_=b.useMemo(()=>oA(v,u),[v,u]),x=mA(v);return b.createElement(b.Fragment,null,w.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...a})),_.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...a})),x.map(({key:S,link:A})=>b.createElement("link",{key:S,nonce:a.nonce,...A})))}function gA(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var yA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{yA&&(window.__reactRouterVersion="7.12.0")}catch{}function vA({basename:e,children:t,unstable_useTransitions:a,window:i}){let o=b.useRef();o.current==null&&(o.current=XE({window:i,v5Compat:!0}));let u=o.current,[c,d]=b.useState({action:u.action,location:u.location}),m=b.useCallback(p=>{a===!1?d(p):b.startTransition(()=>d(p))},[a]);return b.useLayoutEffect(()=>u.listen(m),[u,m]),b.createElement(Bb,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:a})}function bA({basename:e,children:t,unstable_useTransitions:a,window:i}){let o=b.useRef();o.current==null&&(o.current=JE({window:i,v5Compat:!0}));let u=o.current,[c,d]=b.useState({action:u.action,location:u.location}),m=b.useCallback(p=>{a===!1?d(p):b.startTransition(()=>d(p))},[a]);return b.useLayoutEffect(()=>u.listen(m),[u,m]),b.createElement(Bb,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:a})}var Ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hb=b.forwardRef(function({onClick:t,discover:a="render",prefetch:i="none",relative:o,reloadDocument:u,replace:c,state:d,target:m,to:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,..._},x){let{basename:S,unstable_useTransitions:A}=b.useContext(Gt),T=typeof p=="string"&&Ib.test(p),R=Cb(p,S);p=R.to;let C=kx(p,{relative:o}),[P,$,F]=dA(i,_),M=SA(p,{replace:c,state:d,target:m,preventScrollReset:g,relative:o,viewTransition:v,unstable_defaultShouldRevalidate:w,unstable_useTransitions:A});function H(J){t&&t(J),J.defaultPrevented||M(J)}let Z=b.createElement("a",{..._,...F,href:R.absoluteURL||C,onClick:R.isExternal||u?t:H,ref:gA(x,$),target:m,"data-discover":!T&&a==="render"?"true":void 0});return P&&!T?b.createElement(b.Fragment,null,Z,b.createElement(hA,{page:C})):Z});Hb.displayName="Link";var Vb=b.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:i="",end:o=!1,style:u,to:c,viewTransition:d,children:m,...p},g){let v=Js(c,{relative:p.relative}),w=ln(),_=b.useContext(ru),{navigator:x,basename:S}=b.useContext(Gt),A=_!=null&&TA(v)&&d===!0,T=x.encodeLocation?x.encodeLocation(v).pathname:v.pathname,R=w.pathname,C=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;a||(R=R.toLowerCase(),C=C?C.toLowerCase():null,T=T.toLowerCase()),C&&S&&(C=Xn(C,S)||C);const P=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let $=R===T||!o&&R.startsWith(T)&&R.charAt(P)==="/",F=C!=null&&(C===T||!o&&C.startsWith(T)&&C.charAt(T.length)==="/"),M={isActive:$,isPending:F,isTransitioning:A},H=$?t:void 0,Z;typeof i=="function"?Z=i(M):Z=[i,$?"active":null,F?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let J=typeof u=="function"?u(M):u;return b.createElement(Hb,{...p,"aria-current":H,className:Z,ref:g,style:J,to:c,viewTransition:d},typeof m=="function"?m(M):m)});Vb.displayName="NavLink";var wA=b.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:i,replace:o,state:u,method:c=Ll,action:d,onSubmit:m,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w,..._},x)=>{let{unstable_useTransitions:S}=b.useContext(Gt),A=AA(),T=RA(d,{relative:p}),R=c.toLowerCase()==="get"?"get":"post",C=typeof d=="string"&&Ib.test(d),P=$=>{if(m&&m($),$.defaultPrevented)return;$.preventDefault();let F=$.nativeEvent.submitter,M=F?.getAttribute("formmethod")||c,H=()=>A(F||$.currentTarget,{fetcherKey:t,method:M,navigate:a,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:v,unstable_defaultShouldRevalidate:w});S&&a!==!1?b.startTransition(()=>H()):H()};return b.createElement("form",{ref:x,method:R,action:T,onSubmit:i?m:P,..._,"data-discover":!C&&e==="render"?"true":void 0})});wA.displayName="Form";function _A(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Gb(e){let t=b.useContext(Oi);return Ke(t,_A(e)),t}function SA(e,{target:t,replace:a,state:i,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:m}={}){let p=au(),g=ln(),v=Js(e,{relative:u});return b.useCallback(w=>{if(Wx(w,t)){w.preventDefault();let _=a!==void 0?a:Ei(g)===Ei(v),x=()=>p(e,{replace:_,state:i,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:d});m?b.startTransition(()=>x()):x()}},[g,p,v,a,i,t,e,o,u,c,d,m])}function wM(e){Ct(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=b.useRef(wd(e)),a=b.useRef(!1),i=ln(),o=b.useMemo(()=>Zx(i.search,a.current?null:t.current),[i.search]),u=au(),c=b.useCallback((d,m)=>{const p=wd(typeof d=="function"?d(new URLSearchParams(o)):d);a.current=!0,u("?"+p,m)},[u,o]);return[o,c]}var EA=0,xA=()=>`__${String(++EA)}__`;function AA(){let{router:e}=Gb("useSubmit"),{basename:t}=b.useContext(Gt),a=Hx(),i=e.fetch,o=e.navigate;return b.useCallback(async(u,c={})=>{let{action:d,method:m,encType:p,formData:g,body:v}=nA(u,t);if(c.navigate===!1){let w=c.fetcherKey||xA();await i(w,a,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||m,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:v,formMethod:c.method||m,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:a,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,o,t,a])}function RA(e,{relative:t}={}){let{basename:a}=b.useContext(Gt),i=b.useContext(on);Ke(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),u={...Js(e||".",{relative:t})},c=ln();if(e==null){u.search=c.search;let d=new URLSearchParams(u.search),m=d.getAll("index");if(m.some(g=>g==="")){d.delete("index"),m.filter(v=>v).forEach(v=>d.append("index",v));let g=d.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:Yn([a,u.pathname])),Ei(u)}function TA(e,{relative:t}={}){let a=b.useContext(Nb);Ke(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Gb("useViewTransitionState"),o=Js(e,{relative:t});if(!a.isTransitioning)return!1;let u=Xn(a.currentLocation.pathname,i)||a.currentLocation.pathname,c=Xn(a.nextLocation.pathname,i)||a.nextLocation.pathname;return Il(o.pathname,c)!=null||Il(o.pathname,u)!=null}var lh=Sb();const OA=Wd(lh);var ki=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},CA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},kA=class{#e=CA;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},ca=new kA;function NA(e){setTimeout(e,0)}var ma=typeof window>"u"||"Deno"in globalThis;function wt(){}function DA(e,t){return typeof e=="function"?e(t):e}function _d(e){return typeof e=="number"&&e>=0&&e!==1/0}function Kb(e,t){return Math.max(e+(t||0)-Date.now(),0)}function kr(e,t){return typeof e=="function"?e(t):e}function rn(e,t){return typeof e=="function"?e(t):e}function Zy(e,t){const{type:a="all",exact:i,fetchStatus:o,predicate:u,queryKey:c,stale:d}=e;if(c){if(i){if(t.queryHash!==uh(c,t.options))return!1}else if(!qs(t.queryKey,c))return!1}if(a!=="all"){const m=t.isActive();if(a==="active"&&!m||a==="inactive"&&m)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||o&&o!==t.state.fetchStatus||u&&!u(t))}function ev(e,t){const{exact:a,status:i,predicate:o,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(a){if(pa(t.options.mutationKey)!==pa(u))return!1}else if(!qs(t.options.mutationKey,u))return!1}return!(i&&t.state.status!==i||o&&!o(t))}function uh(e,t){return(t?.queryKeyHashFn||pa)(e)}function pa(e){return JSON.stringify(e,(t,a)=>Sd(a)?Object.keys(a).sort().reduce((i,o)=>(i[o]=a[o],i),{}):a)}function qs(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(a=>qs(e[a],t[a])):!1}var jA=Object.prototype.hasOwnProperty;function Fb(e,t){if(e===t)return e;const a=tv(e)&&tv(t);if(!a&&!(Sd(e)&&Sd(t)))return t;const o=(a?e:Object.keys(e)).length,u=a?t:Object.keys(t),c=u.length,d=a?new Array(c):{};let m=0;for(let p=0;p<c;p++){const g=a?p:u[p],v=e[g],w=t[g];if(v===w){d[g]=v,(a?p<o:jA.call(e,g))&&m++;continue}if(v===null||w===null||typeof v!="object"||typeof w!="object"){d[g]=w;continue}const _=Fb(v,w);d[g]=_,_===v&&m++}return o===c&&m===o?e:d}function Hl(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const a in e)if(e[a]!==t[a])return!1;return!0}function tv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Sd(e){if(!nv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!nv(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function nv(e){return Object.prototype.toString.call(e)==="[object Object]"}function MA(e){return new Promise(t=>{ca.setTimeout(t,e)})}function Ed(e,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(e,t):a.structuralSharing!==!1?Fb(e,t):t}function _M(e){return e}function UA(e,t,a=0){const i=[...e,t];return a&&i.length>a?i.slice(1):i}function LA(e,t,a=0){const i=[t,...e];return a&&i.length>a?i.slice(0,-1):i}var ch=Symbol();function Qb(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===ch?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fh(e,t){return typeof e=="function"?e(...t):!!e}function PA(e,t,a){let i=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??=t(),i||(i=!0,o.aborted?a():o.addEventListener("abort",a,{once:!0})),o)}),e}var zA=class extends ki{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ma&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},dh=new zA;function xd(){let e,t;const a=new Promise((o,u)=>{e=o,t=u});a.status="pending",a.catch(()=>{});function i(o){Object.assign(a,o),delete a.resolve,delete a.reject}return a.resolve=o=>{i({status:"fulfilled",value:o}),e(o)},a.reject=o=>{i({status:"rejected",reason:o}),t(o)},a}var BA=NA;function qA(){let e=[],t=0,a=d=>{d()},i=d=>{d()},o=BA;const u=d=>{t?e.push(d):o(()=>{a(d)})},c=()=>{const d=e;e=[],d.length&&o(()=>{i(()=>{d.forEach(m=>{a(m)})})})};return{batch:d=>{let m;t++;try{m=d()}finally{t--,t||c()}return m},batchCalls:d=>(...m)=>{u(()=>{d(...m)})},schedule:u,setNotifyFunction:d=>{a=d},setBatchNotifyFunction:d=>{i=d},setScheduler:d=>{o=d}}}var lt=qA(),$A=class extends ki{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ma&&window.addEventListener){const t=()=>e(!0),a=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",a)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(a=>{a(e)}))}isOnline(){return this.#e}},Vl=new $A;function IA(e){return Math.min(1e3*2**e,3e4)}function Yb(e){return(e??"online")==="online"?Vl.isOnline():!0}var Ad=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function Xb(e){let t=!1,a=0,i;const o=xd(),u=()=>o.status!=="pending",c=S=>{if(!u()){const A=new Ad(S);w(A),e.onCancel?.(A)}},d=()=>{t=!0},m=()=>{t=!1},p=()=>dh.isFocused()&&(e.networkMode==="always"||Vl.isOnline())&&e.canRun(),g=()=>Yb(e.networkMode)&&e.canRun(),v=S=>{u()||(i?.(),o.resolve(S))},w=S=>{u()||(i?.(),o.reject(S))},_=()=>new Promise(S=>{i=A=>{(u()||p())&&S(A)},e.onPause?.()}).then(()=>{i=void 0,u()||e.onContinue?.()}),x=()=>{if(u())return;let S;const A=a===0?e.initialPromise:void 0;try{S=A??e.fn()}catch(T){S=Promise.reject(T)}Promise.resolve(S).then(v).catch(T=>{if(u())return;const R=e.retry??(ma?0:3),C=e.retryDelay??IA,P=typeof C=="function"?C(a,T):C,$=R===!0||typeof R=="number"&&a<R||typeof R=="function"&&R(a,T);if(t||!$){w(T);return}a++,e.onFail?.(a,T),MA(P).then(()=>p()?void 0:_()).then(()=>{t?w(T):x()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(i?.(),o),cancelRetry:d,continueRetry:m,canStart:g,start:()=>(g()?x():_().then(x),o)}}var Jb=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),_d(this.gcTime)&&(this.#e=ca.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ma?1/0:300*1e3))}clearGcTimeout(){this.#e&&(ca.clearTimeout(this.#e),this.#e=void 0)}},HA=class extends Jb{#e;#t;#n;#a;#r;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=av(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=av(this.options);t.data!==void 0&&(this.setState(rv(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const a=Ed(this.state.data,e,this.options);return this.#i({data:a,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),a}setState(e,t){this.#i({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(wt).catch(wt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ch||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>kr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Kb(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#i({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(m=>m.options.queryFn);d&&this.setOptions(d.options)}const a=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(this.#o=!0,a.signal)})},o=()=>{const d=Qb(this.options,t),p=(()=>{const g={client:this.#a,queryKey:this.queryKey,meta:this.meta};return i(g),g})();return this.#o=!1,this.options.persister?this.options.persister(d,p,this):d(p)},c=(()=>{const d={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:o};return i(d),d})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#i({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=Xb({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:d=>{d instanceof Ad&&d.revert&&this.setState({...this.#t,fetchStatus:"idle"}),a.abort()},onFail:(d,m)=>{this.#i({type:"failed",failureCount:d,error:m})},onPause:()=>{this.#i({type:"pause"})},onContinue:()=>{this.#i({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const d=await this.#r.start();if(d===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(d),this.#n.config.onSuccess?.(d,this),this.#n.config.onSettled?.(d,this.state.error,this),d}catch(d){if(d instanceof Ad){if(d.silent)return this.#r.promise;if(d.revert){if(this.state.data===void 0)throw d;return this.state.data}}throw this.#i({type:"error",error:d}),this.#n.config.onError?.(d,this),this.#n.config.onSettled?.(this.state.data,d,this),d}finally{this.scheduleGc()}}#i(e){const t=a=>{switch(e.type){case"failed":return{...a,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...Wb(a.data,this.options),fetchMeta:e.meta??null};case"success":const i={...a,...rv(e.data,e.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?i:void 0,i;case"error":const o=e.error;return{...a,error:o,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...e.state}}};this.state=t(this.state),lt.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function Wb(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yb(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function rv(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function av(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,a=t!==void 0,i=a?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Zb=class extends ki{constructor(e,t){super(),this.options=t,this.#e=e,this.#i=null,this.#o=xd(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#s;#o;#i;#p;#d;#h;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),iv(this.#t,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Rd(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Rd(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,a=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Hl(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const i=this.hasListeners();i&&sv(this.#t,a,this.options,t)&&this.#f(),this.updateResult(),i&&(this.#t!==a||rn(this.options.enabled,this.#t)!==rn(t.enabled,this.#t)||kr(this.options.staleTime,this.#t)!==kr(t.staleTime,this.#t))&&this.#g();const o=this.#y();i&&(this.#t!==a||rn(this.options.enabled,this.#t)!==rn(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(t,e);return GA(this,a)&&(this.#a=a,this.#s=this.options,this.#r=this.#t.state),a}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(a,i)=>(this.trackProp(i),t?.(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,i))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),a=this.#e.getQueryCache().build(this.#e,t);return a.fetch().then(()=>this.createResult(a,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#f(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(wt)),t}#g(){this.#w();const e=kr(this.options.staleTime,this.#t);if(ma||this.#a.isStale||!_d(e))return;const a=Kb(this.#a.dataUpdatedAt,e)+1;this.#u=ca.setTimeout(()=>{this.#a.isStale||this.updateResult()},a)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#_(),this.#l=e,!(ma||rn(this.options.enabled,this.#t)===!1||!_d(this.#l)||this.#l===0)&&(this.#c=ca.setInterval(()=>{(this.options.refetchIntervalInBackground||dh.isFocused())&&this.#f()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(ca.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(ca.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const a=this.#t,i=this.options,o=this.#a,u=this.#r,c=this.#s,m=e!==a?e.state:this.#n,{state:p}=e;let g={...p},v=!1,w;if(t._optimisticResults){const H=this.hasListeners(),Z=!H&&iv(e,t),J=H&&sv(e,a,t,i);(Z||J)&&(g={...g,...Wb(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:_,errorUpdatedAt:x,status:S}=g;w=g.data;let A=!1;if(t.placeholderData!==void 0&&w===void 0&&S==="pending"){let H;o?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(H=o.data,A=!0):H=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,H!==void 0&&(S="success",w=Ed(o?.data,H,t),v=!0)}if(t.select&&w!==void 0&&!A)if(o&&w===u?.data&&t.select===this.#p)w=this.#d;else try{this.#p=t.select,w=t.select(w),w=Ed(o?.data,w,t),this.#d=w,this.#i=null}catch(H){this.#i=H}this.#i&&(_=this.#i,w=this.#d,x=Date.now(),S="error");const T=g.fetchStatus==="fetching",R=S==="pending",C=S==="error",P=R&&T,$=w!==void 0,M={status:S,fetchStatus:g.fetchStatus,isPending:R,isSuccess:S==="success",isError:C,isInitialLoading:P,isLoading:P,data:w,dataUpdatedAt:g.dataUpdatedAt,error:_,errorUpdatedAt:x,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:T,isRefetching:T&&!R,isLoadingError:C&&!$,isPaused:g.fetchStatus==="paused",isPlaceholderData:v,isRefetchError:C&&$,isStale:hh(e,t),refetch:this.refetch,promise:this.#o,isEnabled:rn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=ee=>{M.status==="error"?ee.reject(M.error):M.data!==void 0&&ee.resolve(M.data)},Z=()=>{const ee=this.#o=M.promise=xd();H(ee)},J=this.#o;switch(J.status){case"pending":e.queryHash===a.queryHash&&H(J);break;case"fulfilled":(M.status==="error"||M.data!==J.value)&&Z();break;case"rejected":(M.status!=="error"||M.error!==J.reason)&&Z();break}}return M}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Hl(t,e))return;this.#a=t;const a=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,o=typeof i=="function"?i():i;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#a).some(c=>{const d=c;return this.#a[d]!==e[d]&&u.has(d)})};this.#E({listeners:a()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function VA(e,t){return rn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function iv(e,t){return VA(e,t)||e.state.data!==void 0&&Rd(e,t,t.refetchOnMount)}function Rd(e,t,a){if(rn(t.enabled,e)!==!1&&kr(t.staleTime,e)!=="static"){const i=typeof a=="function"?a(e):a;return i==="always"||i!==!1&&hh(e,t)}return!1}function sv(e,t,a,i){return(e!==t||rn(i.enabled,e)===!1)&&(!a.suspense||e.state.status!=="error")&&hh(e,a)}function hh(e,t){return rn(t.enabled,e)!==!1&&e.isStaleByTime(kr(t.staleTime,e))}function GA(e,t){return!Hl(e.getCurrentResult(),t)}function Gl(e){return{onFetch:(t,a)=>{const i=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let d={pages:[],pageParams:[]},m=0;const p=async()=>{let g=!1;const v=x=>{PA(x,()=>t.signal,()=>g=!0)},w=Qb(t.options,t.fetchOptions),_=async(x,S,A)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const R=(()=>{const F={client:t.client,queryKey:t.queryKey,pageParam:S,direction:A?"backward":"forward",meta:t.options.meta};return v(F),F})(),C=await w(R),{maxPages:P}=t.options,$=A?LA:UA;return{pages:$(x.pages,C,P),pageParams:$(x.pageParams,S,P)}};if(o&&u.length){const x=o==="backward",S=x?e0:Td,A={pages:u,pageParams:c},T=S(i,A);d=await _(A,T,x)}else{const x=e??u.length;do{const S=m===0?c[0]??i.initialPageParam:Td(i,d);if(m>0&&S==null)break;d=await _(d,S),m++}while(m<x)}return d};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a):t.fetchFn=p}}}function Td(e,{pages:t,pageParams:a}){const i=t.length-1;return t.length>0?e.getNextPageParam(t[i],t,a[i],a):void 0}function e0(e,{pages:t,pageParams:a}){return t.length>0?e.getPreviousPageParam?.(t[0],t,a[0],a):void 0}function KA(e,t){return t?Td(e,t)!=null:!1}function FA(e,t){return!t||!e.getPreviousPageParam?!1:e0(e,t)!=null}var QA=class extends Zb{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Gl()})}getOptimisticResult(e){return e.behavior=Gl(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:a}=e,i=super.createResult(e,t),{isFetching:o,isRefetching:u,isError:c,isRefetchError:d}=i,m=a.fetchMeta?.fetchMore?.direction,p=c&&m==="forward",g=o&&m==="forward",v=c&&m==="backward",w=o&&m==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:KA(t,a.data),hasPreviousPage:FA(t,a.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:v,isFetchingPreviousPage:w,isRefetchError:d&&!p&&!v,isRefetching:u&&!g&&!w}}},YA=class extends Jb{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||t0(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},a={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=Xb({fn:()=>this.options.mutationFn?this.options.mutationFn(e,a):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#r({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const i=this.state.status==="pending",o=!this.#a.canStart();try{if(i)t();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,a);const c=await this.options.onMutate?.(e,a);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:o})}const u=await this.#a.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,a),await this.options.onSuccess?.(u,e,this.state.context,a),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,a),await this.options.onSettled?.(u,null,e,this.state.context,a),this.#r({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,a)}catch(c){Promise.reject(c)}try{await this.options.onError?.(u,e,this.state.context,a)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,a)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,a)}catch(c){Promise.reject(c)}throw this.#r({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#r(e){const t=a=>{switch(e.type){case"failed":return{...a,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...a,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:e.error,failureCount:a.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),lt.batch(()=>{this.#t.forEach(a=>{a.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function t0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XA=class extends ki{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,a){const i=new YA({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:a});return this.add(i),i}add(e){this.#e.add(e);const t=Sl(e);if(typeof t=="string"){const a=this.#t.get(t);a?a.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Sl(e);if(typeof t=="string"){const a=this.#t.get(t);if(a)if(a.length>1){const i=a.indexOf(e);i!==-1&&a.splice(i,1)}else a[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Sl(e);if(typeof t=="string"){const i=this.#t.get(t)?.find(o=>o.state.status==="pending");return!i||i===e}else return!0}runNext(e){const t=Sl(e);return typeof t=="string"?this.#t.get(t)?.find(i=>i!==e&&i.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(a=>ev(t,a))}findAll(e={}){return this.getAll().filter(t=>ev(e,t))}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return lt.batch(()=>Promise.all(e.map(t=>t.continue().catch(wt))))}};function Sl(e){return e.options.scope?.id}var JA=class extends ki{#e;#t=void 0;#n;#a;constructor(t,a){super(),this.#e=t,this.setOptions(a),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const a=this.options;this.options=this.#e.defaultMutationOptions(t),Hl(this.options,a)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),a?.mutationKey&&this.options.mutationKey&&pa(a.mutationKey)!==pa(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(t,a){return this.#a=a,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??t0();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){lt.batch(()=>{if(this.#a&&this.hasListeners()){const a=this.#t.variables,i=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#a.onSuccess?.(t.data,a,i,o)}catch(u){Promise.reject(u)}try{this.#a.onSettled?.(t.data,null,a,i,o)}catch(u){Promise.reject(u)}}else if(t?.type==="error"){try{this.#a.onError?.(t.error,a,i,o)}catch(u){Promise.reject(u)}try{this.#a.onSettled?.(void 0,t.error,a,i,o)}catch(u){Promise.reject(u)}}}this.listeners.forEach(a=>{a(this.#t)})})}},WA=class extends ki{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,a){const i=t.queryKey,o=t.queryHash??uh(i,t);let u=this.get(o);return u||(u=new HA({client:e,queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:a,defaultOptions:e.getQueryDefaults(i)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(a=>Zy(t,a))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(a=>Zy(e,a)):t}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ZA=class{#e;#t;#n;#a;#r;#s;#o;#i;constructor(e={}){this.#e=e.queryCache||new WA,this.#t=e.mutationCache||new XA,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=dh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#i=Vl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#i?.(),this.#i=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),a=this.#e.build(this,t),i=a.state.data;return i===void 0?this.fetchQuery(e):(e.revalidateIfStale&&a.isStaleByTime(kr(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(i))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:a})=>{const i=a.data;return[t,i]})}setQueryData(e,t,a){const i=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(i.queryHash)?.state.data,c=DA(t,u);if(c!==void 0)return this.#e.build(this,i).setData(c,{...a,manual:!0})}setQueriesData(e,t,a){return lt.batch(()=>this.#e.findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,t,a)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;lt.batch(()=>{t.findAll(e).forEach(a=>{t.remove(a)})})}resetQueries(e,t){const a=this.#e;return lt.batch(()=>(a.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const a={revert:!0,...t},i=lt.batch(()=>this.#e.findAll(e).map(o=>o.cancel(a)));return Promise.all(i).then(wt).catch(wt)}invalidateQueries(e,t={}){return lt.batch(()=>(this.#e.findAll(e).forEach(a=>{a.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},i=lt.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,a);return a.throwOnError||(u=u.catch(wt)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(i).then(wt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const a=this.#e.build(this,t);return a.isStaleByTime(kr(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wt).catch(wt)}fetchInfiniteQuery(e){return e.behavior=Gl(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wt).catch(wt)}ensureInfiniteQueryData(e){return e.behavior=Gl(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Vl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(pa(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],a={};return t.forEach(i=>{qs(e,i.queryKey)&&Object.assign(a,i.defaultOptions)}),a}setMutationDefaults(e,t){this.#r.set(pa(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],a={};return t.forEach(i=>{qs(e,i.mutationKey)&&Object.assign(a,i.defaultOptions)}),a}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=uh(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ch&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},n0=b.createContext(void 0),r0=e=>{const t=b.useContext(n0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},eR=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),k.jsx(n0.Provider,{value:e,children:t})),a0=b.createContext(!1),tR=()=>b.useContext(a0);a0.Provider;function nR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rR=b.createContext(nR()),aR=()=>b.useContext(rR),iR=(e,t,a)=>{const i=a?.state.error&&typeof e.throwOnError=="function"?fh(e.throwOnError,[a.state.error,a]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||i)&&(t.isReset()||(e.retryOnMount=!1))},sR=e=>{b.useEffect(()=>{e.clearReset()},[e])},oR=({result:e,errorResetBoundary:t,throwOnError:a,query:i,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&i&&(o&&e.data===void 0||fh(a,[e.error,i])),lR=e=>{if(e.suspense){const a=o=>o==="static"?o:Math.max(o??1e3,1e3),i=e.staleTime;e.staleTime=typeof i=="function"?(...o)=>a(i(...o)):a(i),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},uR=(e,t)=>e.isLoading&&e.isFetching&&!t,cR=(e,t)=>e?.suspense&&t.isPending,ov=(e,t,a)=>t.fetchOptimistic(e).catch(()=>{a.clearReset()});function i0(e,t,a){const i=tR(),o=aR(),u=r0(),c=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const d=u.getQueryCache().get(c.queryHash);c._optimisticResults=i?"isRestoring":"optimistic",lR(c),iR(c,o,d),sR(o);const m=!u.getQueryCache().get(c.queryHash),[p]=b.useState(()=>new t(u,c)),g=p.getOptimisticResult(c),v=!i&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(w=>{const _=v?p.subscribe(lt.batchCalls(w)):wt;return p.updateResult(),_},[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),b.useEffect(()=>{p.setOptions(c)},[c,p]),cR(c,g))throw ov(c,p,o);if(oR({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:d,suspense:c.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(c,g),c.experimental_prefetchInRender&&!ma&&uR(g,i)&&(m?ov(c,p,o):d?.promise)?.catch(wt).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?g:p.trackResult(g)}function Ni(e,t){return i0(e,Zb)}function s0(e,t){const a=r0(),[i]=b.useState(()=>new JA(a,e));b.useEffect(()=>{i.setOptions(e)},[i,e]);const o=b.useSyncExternalStore(b.useCallback(c=>i.subscribe(lt.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),u=b.useCallback((c,d)=>{i.mutate(c,d).catch(wt)},[i]);if(o.error&&fh(i.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function fR(e,t){return i0(e,QA)}const dR="modulepreload",hR=function(e){return"/MoviNesta/"+e},lv={},De=function(t,a,i){let o=Promise.resolve();if(a&&a.length>0){let m=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");o=m(a.map(p=>{if(p=hR(p),p in lv)return;lv[p]=!0;const g=p.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":dR,g||(w.as="script"),w.crossOrigin="",w.href=p,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((_,x)=>{w.addEventListener("load",_),w.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return o.then(c=>{for(const d of c||[])d.status==="rejected"&&u(d.reason);return t().catch(u)})};function uv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ur(...e){return t=>{let a=!1;const i=e.map(o=>{const u=uv(o,t);return!a&&typeof u=="function"&&(a=!0),u});if(a)return()=>{for(let o=0;o<i.length;o++){const u=i[o];typeof u=="function"?u():uv(e[o],null)}}}}function Lr(...e){return b.useCallback(Ur(...e),e)}var mR=Symbol.for("react.lazy"),Kl=eh[" use ".trim().toString()];function pR(e){return typeof e=="object"&&e!==null&&"then"in e}function o0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===mR&&"_payload"in e&&pR(e._payload)}function gR(e){const t=vR(e),a=b.forwardRef((i,o)=>{let{children:u,...c}=i;o0(u)&&typeof Kl=="function"&&(u=Kl(u._payload));const d=b.Children.toArray(u),m=d.find(wR);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}var yR=gR("Slot");function vR(e){const t=b.forwardRef((a,i)=>{let{children:o,...u}=a;if(o0(o)&&typeof Kl=="function"&&(o=Kl(o._payload)),b.isValidElement(o)){const c=SR(o),d=_R(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bR=Symbol("radix.slottable");function wR(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bR}function _R(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function SR(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}function l0(e){var t,a,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(a=l0(e[t]))&&(i&&(i+=" "),i+=a)}else for(a in e)e[a]&&(i&&(i+=" "),i+=a);return i}function u0(){for(var e,t,a=0,i="",o=arguments.length;a<o;a++)(e=arguments[a])&&(t=l0(e))&&(i&&(i+=" "),i+=t);return i}const cv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,fv=u0,ER=(e,t)=>a=>{var i;if(t?.variants==null)return fv(e,a?.class,a?.className);const{variants:o,defaultVariants:u}=t,c=Object.keys(o).map(p=>{const g=a?.[p],v=u?.[p];if(g===null)return null;const w=cv(g)||cv(v);return o[p][w]}),d=a&&Object.entries(a).reduce((p,g)=>{let[v,w]=g;return w===void 0||(p[v]=w),p},{}),m=t==null||(i=t.compoundVariants)===null||i===void 0?void 0:i.reduce((p,g)=>{let{class:v,className:w,..._}=g;return Object.entries(_).every(x=>{let[S,A]=x;return Array.isArray(A)?A.includes({...u,...d}[S]):{...u,...d}[S]===A})?[...p,v,w]:p},[]);return fv(e,c,m,a?.class,a?.className)},xR=(e,t)=>{const a=new Array(e.length+t.length);for(let i=0;i<e.length;i++)a[i]=e[i];for(let i=0;i<t.length;i++)a[e.length+i]=t[i];return a},AR=(e,t)=>({classGroupId:e,validator:t}),c0=(e=new Map,t=null,a)=>({nextPart:e,validators:t,classGroupId:a}),Fl="-",dv=[],RR="arbitrary..",TR=e=>{const t=CR(e),{conflictingClassGroups:a,conflictingClassGroupModifiers:i}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return OR(c);const d=c.split(Fl),m=d[0]===""&&d.length>1?1:0;return f0(d,m,t)},getConflictingClassGroupIds:(c,d)=>{if(d){const m=i[c],p=a[c];return m?p?xR(p,m):m:p||dv}return a[c]||dv}}},f0=(e,t,a)=>{if(e.length-t===0)return a.classGroupId;const o=e[t],u=a.nextPart.get(o);if(u){const p=f0(e,t+1,u);if(p)return p}const c=a.validators;if(c===null)return;const d=t===0?e.join(Fl):e.slice(t).join(Fl),m=c.length;for(let p=0;p<m;p++){const g=c[p];if(g.validator(d))return g.classGroupId}},OR=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),a=t.indexOf(":"),i=t.slice(0,a);return i?RR+i:void 0})(),CR=e=>{const{theme:t,classGroups:a}=e;return kR(a,t)},kR=(e,t)=>{const a=c0();for(const i in e){const o=e[i];mh(o,a,i,t)}return a},mh=(e,t,a,i)=>{const o=e.length;for(let u=0;u<o;u++){const c=e[u];NR(c,t,a,i)}},NR=(e,t,a,i)=>{if(typeof e=="string"){DR(e,t,a);return}if(typeof e=="function"){jR(e,t,a,i);return}MR(e,t,a,i)},DR=(e,t,a)=>{const i=e===""?t:d0(t,e);i.classGroupId=a},jR=(e,t,a,i)=>{if(UR(e)){mh(e(i),t,a,i);return}t.validators===null&&(t.validators=[]),t.validators.push(AR(a,e))},MR=(e,t,a,i)=>{const o=Object.entries(e),u=o.length;for(let c=0;c<u;c++){const[d,m]=o[c];mh(m,d0(t,d),a,i)}},d0=(e,t)=>{let a=e;const i=t.split(Fl),o=i.length;for(let u=0;u<o;u++){const c=i[u];let d=a.nextPart.get(c);d||(d=c0(),a.nextPart.set(c,d)),a=d}return a},UR=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,LR=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,a=Object.create(null),i=Object.create(null);const o=(u,c)=>{a[u]=c,t++,t>e&&(t=0,i=a,a=Object.create(null))};return{get(u){let c=a[u];if(c!==void 0)return c;if((c=i[u])!==void 0)return o(u,c),c},set(u,c){u in a?a[u]=c:o(u,c)}}},Od="!",hv=":",PR=[],mv=(e,t,a,i,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:a,maybePostfixModifierPosition:i,isExternal:o}),zR=e=>{const{prefix:t,experimentalParseClassName:a}=e;let i=o=>{const u=[];let c=0,d=0,m=0,p;const g=o.length;for(let S=0;S<g;S++){const A=o[S];if(c===0&&d===0){if(A===hv){u.push(o.slice(m,S)),m=S+1;continue}if(A==="/"){p=S;continue}}A==="["?c++:A==="]"?c--:A==="("?d++:A===")"&&d--}const v=u.length===0?o:o.slice(m);let w=v,_=!1;v.endsWith(Od)?(w=v.slice(0,-1),_=!0):v.startsWith(Od)&&(w=v.slice(1),_=!0);const x=p&&p>m?p-m:void 0;return mv(u,_,w,x)};if(t){const o=t+hv,u=i;i=c=>c.startsWith(o)?u(c.slice(o.length)):mv(PR,!1,c,void 0,!0)}if(a){const o=i;i=u=>a({className:u,parseClassName:o})}return i},BR=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((a,i)=>{t.set(a,1e6+i)}),a=>{const i=[];let o=[];for(let u=0;u<a.length;u++){const c=a[u],d=c[0]==="[",m=t.has(c);d||m?(o.length>0&&(o.sort(),i.push(...o),o=[]),i.push(c)):o.push(c)}return o.length>0&&(o.sort(),i.push(...o)),i}},qR=e=>({cache:LR(e.cacheSize),parseClassName:zR(e),sortModifiers:BR(e),...TR(e)}),$R=/\s+/,IR=(e,t)=>{const{parseClassName:a,getClassGroupId:i,getConflictingClassGroupIds:o,sortModifiers:u}=t,c=[],d=e.trim().split($R);let m="";for(let p=d.length-1;p>=0;p-=1){const g=d[p],{isExternal:v,modifiers:w,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:S}=a(g);if(v){m=g+(m.length>0?" "+m:m);continue}let A=!!S,T=i(A?x.substring(0,S):x);if(!T){if(!A){m=g+(m.length>0?" "+m:m);continue}if(T=i(x),!T){m=g+(m.length>0?" "+m:m);continue}A=!1}const R=w.length===0?"":w.length===1?w[0]:u(w).join(":"),C=_?R+Od:R,P=C+T;if(c.indexOf(P)>-1)continue;c.push(P);const $=o(T,A);for(let F=0;F<$.length;++F){const M=$[F];c.push(C+M)}m=g+(m.length>0?" "+m:m)}return m},HR=(...e)=>{let t=0,a,i,o="";for(;t<e.length;)(a=e[t++])&&(i=h0(a))&&(o&&(o+=" "),o+=i);return o},h0=e=>{if(typeof e=="string")return e;let t,a="";for(let i=0;i<e.length;i++)e[i]&&(t=h0(e[i]))&&(a&&(a+=" "),a+=t);return a},VR=(e,...t)=>{let a,i,o,u;const c=m=>{const p=t.reduce((g,v)=>v(g),e());return a=qR(p),i=a.cache.get,o=a.cache.set,u=d,d(m)},d=m=>{const p=i(m);if(p)return p;const g=IR(m,a);return o(m,g),g};return u=c,(...m)=>u(HR(...m))},GR=[],st=e=>{const t=a=>a[e]||GR;return t.isThemeGetter=!0,t},m0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,p0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,KR=/^\d+\/\d+$/,FR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,XR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,JR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ni=e=>KR.test(e),_e=e=>!!e&&!Number.isNaN(Number(e)),Rr=e=>!!e&&Number.isInteger(Number(e)),Hf=e=>e.endsWith("%")&&_e(e.slice(0,-1)),Fn=e=>FR.test(e),WR=()=>!0,ZR=e=>QR.test(e)&&!YR.test(e),g0=()=>!1,eT=e=>XR.test(e),tT=e=>JR.test(e),nT=e=>!ne(e)&&!re(e),rT=e=>Di(e,b0,g0),ne=e=>m0.test(e),aa=e=>Di(e,w0,ZR),Vf=e=>Di(e,lT,_e),pv=e=>Di(e,y0,g0),aT=e=>Di(e,v0,tT),El=e=>Di(e,_0,eT),re=e=>p0.test(e),js=e=>ji(e,w0),iT=e=>ji(e,uT),gv=e=>ji(e,y0),sT=e=>ji(e,b0),oT=e=>ji(e,v0),xl=e=>ji(e,_0,!0),Di=(e,t,a)=>{const i=m0.exec(e);return i?i[1]?t(i[1]):a(i[2]):!1},ji=(e,t,a=!1)=>{const i=p0.exec(e);return i?i[1]?t(i[1]):a:!1},y0=e=>e==="position"||e==="percentage",v0=e=>e==="image"||e==="url",b0=e=>e==="length"||e==="size"||e==="bg-size",w0=e=>e==="length",lT=e=>e==="number",uT=e=>e==="family-name",_0=e=>e==="shadow",cT=()=>{const e=st("color"),t=st("font"),a=st("text"),i=st("font-weight"),o=st("tracking"),u=st("leading"),c=st("breakpoint"),d=st("container"),m=st("spacing"),p=st("radius"),g=st("shadow"),v=st("inset-shadow"),w=st("text-shadow"),_=st("drop-shadow"),x=st("blur"),S=st("perspective"),A=st("aspect"),T=st("ease"),R=st("animate"),C=()=>["auto","avoid","all","avoid-page","page","left","right","column"],P=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],$=()=>[...P(),re,ne],F=()=>["auto","hidden","clip","visible","scroll"],M=()=>["auto","contain","none"],H=()=>[re,ne,m],Z=()=>[ni,"full","auto",...H()],J=()=>[Rr,"none","subgrid",re,ne],ee=()=>["auto",{span:["full",Rr,re,ne]},Rr,re,ne],ie=()=>[Rr,"auto",re,ne],ue=()=>["auto","min","max","fr",re,ne],ve=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Oe=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...H()],Y=()=>[ni,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],I=()=>[e,re,ne],me=()=>[...P(),gv,pv,{position:[re,ne]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",sT,rT,{size:[re,ne]}],K=()=>[Hf,js,aa],X=()=>["","none","full",p,re,ne],W=()=>["",_e,js,aa],he=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[_e,Hf,gv,pv],Je=()=>["","none",x,re,ne],Pe=()=>["none",_e,re,ne],Kt=()=>["none",_e,re,ne],vn=()=>[_e,re,ne],bn=()=>[ni,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Fn],breakpoint:[Fn],color:[WR],container:[Fn],"drop-shadow":[Fn],ease:["in","out","in-out"],font:[nT],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Fn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Fn],shadow:[Fn],spacing:["px",_e],text:[Fn],"text-shadow":[Fn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ni,ne,re,A]}],container:["container"],columns:[{columns:[_e,ne,re,d]}],"break-after":[{"break-after":C()}],"break-before":[{"break-before":C()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:$()}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[Rr,"auto",re,ne]}],basis:[{basis:[ni,"full","auto",d,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,ni,"auto","initial","none",ne]}],grow:[{grow:["",_e,re,ne]}],shrink:[{shrink:["",_e,re,ne]}],order:[{order:[Rr,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:ee()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:ee()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ue()}],"auto-rows":[{"auto-rows":ue()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...ve(),"normal"]}],"justify-items":[{"justify-items":[...Oe(),"normal"]}],"justify-self":[{"justify-self":["auto",...Oe()]}],"align-content":[{content:["normal",...ve()]}],"align-items":[{items:[...Oe(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Oe(),{baseline:["","last"]}]}],"place-content":[{"place-content":ve()}],"place-items":[{"place-items":[...Oe(),"baseline"]}],"place-self":[{"place-self":["auto",...Oe()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[d,"screen",...Y()]}],"min-w":[{"min-w":[d,"screen","none",...Y()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",a,js,aa]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,re,Vf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Hf,ne]}],"font-family":[{font:[iT,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,re,ne]}],"line-clamp":[{"line-clamp":[_e,"none",re,Vf]}],leading:[{leading:[u,...H()]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:I()}],"text-color":[{text:I()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",re,aa]}],"text-decoration-color":[{decoration:I()}],"underline-offset":[{"underline-offset":[_e,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:me()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Rr,re,ne],radial:["",re,ne],conic:[Rr,re,ne]},oT,aT]}],"bg-color":[{bg:I()}],"gradient-from-pos":[{from:K()}],"gradient-via-pos":[{via:K()}],"gradient-to-pos":[{to:K()}],"gradient-from":[{from:I()}],"gradient-via":[{via:I()}],"gradient-to":[{to:I()}],rounded:[{rounded:X()}],"rounded-s":[{"rounded-s":X()}],"rounded-e":[{"rounded-e":X()}],"rounded-t":[{"rounded-t":X()}],"rounded-r":[{"rounded-r":X()}],"rounded-b":[{"rounded-b":X()}],"rounded-l":[{"rounded-l":X()}],"rounded-ss":[{"rounded-ss":X()}],"rounded-se":[{"rounded-se":X()}],"rounded-ee":[{"rounded-ee":X()}],"rounded-es":[{"rounded-es":X()}],"rounded-tl":[{"rounded-tl":X()}],"rounded-tr":[{"rounded-tr":X()}],"rounded-br":[{"rounded-br":X()}],"rounded-bl":[{"rounded-bl":X()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:I()}],"border-color-x":[{"border-x":I()}],"border-color-y":[{"border-y":I()}],"border-color-s":[{"border-s":I()}],"border-color-e":[{"border-e":I()}],"border-color-t":[{"border-t":I()}],"border-color-r":[{"border-r":I()}],"border-color-b":[{"border-b":I()}],"border-color-l":[{"border-l":I()}],"divide-color":[{divide:I()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,re,ne]}],"outline-w":[{outline:["",_e,js,aa]}],"outline-color":[{outline:I()}],shadow:[{shadow:["","none",g,xl,El]}],"shadow-color":[{shadow:I()}],"inset-shadow":[{"inset-shadow":["none",v,xl,El]}],"inset-shadow-color":[{"inset-shadow":I()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:I()}],"ring-offset-w":[{"ring-offset":[_e,aa]}],"ring-offset-color":[{"ring-offset":I()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":I()}],"text-shadow":[{"text-shadow":["none",w,xl,El]}],"text-shadow-color":[{"text-shadow":I()}],opacity:[{opacity:[_e,re,ne]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":I()}],"mask-image-linear-to-color":[{"mask-linear-to":I()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":I()}],"mask-image-t-to-color":[{"mask-t-to":I()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":I()}],"mask-image-r-to-color":[{"mask-r-to":I()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":I()}],"mask-image-b-to-color":[{"mask-b-to":I()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":I()}],"mask-image-l-to-color":[{"mask-l-to":I()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":I()}],"mask-image-x-to-color":[{"mask-x-to":I()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":I()}],"mask-image-y-to-color":[{"mask-y-to":I()}],"mask-image-radial":[{"mask-radial":[re,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":I()}],"mask-image-radial-to-color":[{"mask-radial-to":I()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":P()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":I()}],"mask-image-conic-to-color":[{"mask-conic-to":I()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:me()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ne]}],filter:[{filter:["","none",re,ne]}],blur:[{blur:Je()}],brightness:[{brightness:[_e,re,ne]}],contrast:[{contrast:[_e,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",_,xl,El]}],"drop-shadow-color":[{"drop-shadow":I()}],grayscale:[{grayscale:["",_e,re,ne]}],"hue-rotate":[{"hue-rotate":[_e,re,ne]}],invert:[{invert:["",_e,re,ne]}],saturate:[{saturate:[_e,re,ne]}],sepia:[{sepia:["",_e,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":Je()}],"backdrop-brightness":[{"backdrop-brightness":[_e,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[_e,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",_e,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[_e,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[_e,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",re,ne]}],ease:[{ease:["linear","initial",T,re,ne]}],delay:[{delay:[_e,re,ne]}],animate:[{animate:["none",R,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,re,ne]}],"perspective-origin":[{"perspective-origin":$()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Kt()}],"scale-x":[{"scale-x":Kt()}],"scale-y":[{"scale-y":Kt()}],"scale-z":[{"scale-z":Kt()}],"scale-3d":["scale-3d"],skew:[{skew:vn()}],"skew-x":[{"skew-x":vn()}],"skew-y":[{"skew-y":vn()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:$()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:bn()}],"translate-x":[{"translate-x":bn()}],"translate-y":[{"translate-y":bn()}],"translate-z":[{"translate-z":bn()}],"translate-none":["translate-none"],accent:[{accent:I()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:I()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...I()]}],"stroke-w":[{stroke:[_e,js,aa,Vf]}],stroke:[{stroke:["none",...I()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},fT=VR(cT);function Ql(...e){return fT(u0(e))}const dT=ER("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2 sm:h-9",sm:"h-10 rounded-md px-3 text-xs sm:h-8",lg:"h-12 rounded-md px-8 sm:h-10",icon:"h-11 w-11 sm:h-9 sm:w-9"}},defaultVariants:{variant:"default",size:"default"}}),vi=b.forwardRef(({className:e,variant:t,size:a,asChild:i=!1,...o},u)=>{const c=i?yR:"button";return k.jsx(c,{className:Ql(dT({variant:t,size:a,className:e})),ref:u,...o})});vi.displayName="Button";class hT extends Ot.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("MoviNesta ErrorBoundary caught an error",t,a)}handleRetry=()=>{this.setState({hasError:!1,error:void 0})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError?k.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-background px-4 py-8 text-center text-foreground",children:k.jsxs("div",{className:"w-full max-w-md space-y-3 rounded-3xl border border-border bg-card/80 p-6 shadow-lg",children:[k.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-primary/15 text-primary",children:k.jsx("span",{"aria-hidden":"true",children:""})}),k.jsx("h1",{className:"text-lg font-heading font-semibold",children:"Something went wrong"}),k.jsx("p",{className:"text-sm text-muted-foreground",children:"The last action caused the app to stumble. You can try again or reload MoviNesta."}),this.state.error&&k.jsx("pre",{className:"overflow-auto rounded-xl bg-background/70 p-3 text-left text-xs text-muted-foreground",children:this.state.error.message}),k.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 pt-1",children:[k.jsx(vi,{type:"button",onClick:this.handleRetry,children:"Try again"}),k.jsx(vi,{type:"button",variant:"outline",onClick:this.handleReload,children:"Reload app"})]})]})}):this.props.children}}const mT=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pT=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,i)=>i?i.toUpperCase():a.toLowerCase()),yv=e=>{const t=pT(e);return t.charAt(0).toUpperCase()+t.slice(1)},S0=(...e)=>e.filter((t,a,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===a).join(" ").trim(),gT=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var yT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vT=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:o="",children:u,iconNode:c,...d},m)=>b.createElement("svg",{ref:m,...yT,width:t,height:t,stroke:e,strokeWidth:i?Number(a)*24/Number(t):a,className:S0("lucide",o),...!u&&!gT(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,g])=>b.createElement(p,g)),...Array.isArray(u)?u:[u]]));const Ws=(e,t)=>{const a=b.forwardRef(({className:i,...o},u)=>b.createElement(vT,{ref:u,iconNode:t,className:S0(`lucide-${mT(yv(e))}`,`lucide-${e}`,i),...o}));return a.displayName=yv(e),a};const bT=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],wT=Ws("flame",bT);const _T=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ST=Ws("house",_T);const ET=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],xT=Ws("loader-circle",ET);const AT=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],RT=Ws("message-circle",AT);const TT=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OT=Ws("search",TT),vv=e=>{let t;const a=new Set,i=(p,g)=>{const v=typeof p=="function"?p(t):p;if(!Object.is(v,t)){const w=t;t=g??(typeof v!="object"||v===null)?v:Object.assign({},t,v),a.forEach(_=>_(t,w))}},o=()=>t,d={setState:i,getState:o,getInitialState:()=>m,subscribe:p=>(a.add(p),()=>a.delete(p))},m=t=e(i,o,d);return d},CT=(e=>e?vv(e):vv),kT=e=>e;function NT(e,t=kT){const a=Ot.useSyncExternalStore(e.subscribe,Ot.useCallback(()=>t(e.getState()),[e,t]),Ot.useCallback(()=>t(e.getInitialState()),[e,t]));return Ot.useDebugValue(a),a}const DT=e=>{const t=CT(e),a=i=>NT(t,i);return Object.assign(a,t),a},jT=(e=>DT);function MT(e,t){let a;try{a=e()}catch{return}return{getItem:o=>{var u;const c=m=>m===null?null:JSON.parse(m,void 0),d=(u=a.getItem(o))!=null?u:null;return d instanceof Promise?d.then(c):c(d)},setItem:(o,u)=>a.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>a.removeItem(o)}}const Cd=e=>t=>{try{const a=e(t);return a instanceof Promise?a:{then(i){return Cd(i)(a)},catch(i){return this}}}catch(a){return{then(i){return this},catch(i){return Cd(i)(a)}}}},UT=(e,t)=>(a,i,o)=>{let u={storage:MT(()=>localStorage),partialize:S=>S,version:0,merge:(S,A)=>({...A,...S}),...t},c=!1;const d=new Set,m=new Set;let p=u.storage;if(!p)return e((...S)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),a(...S)},i,o);const g=()=>{const S=u.partialize({...i()});return p.setItem(u.name,{state:S,version:u.version})},v=o.setState;o.setState=(S,A)=>(v(S,A),g());const w=e((...S)=>(a(...S),g()),i,o);o.getInitialState=()=>w;let _;const x=()=>{var S,A;if(!p)return;c=!1,d.forEach(R=>{var C;return R((C=i())!=null?C:w)});const T=((A=u.onRehydrateStorage)==null?void 0:A.call(u,(S=i())!=null?S:w))||void 0;return Cd(p.getItem.bind(p))(u.name).then(R=>{if(R)if(typeof R.version=="number"&&R.version!==u.version){if(u.migrate){const C=u.migrate(R.state,R.version);return C instanceof Promise?C.then(P=>[!0,P]):[!0,C]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,R.state];return[!1,void 0]}).then(R=>{var C;const[P,$]=R;if(_=u.merge($,(C=i())!=null?C:w),a(_,!0),P)return g()}).then(()=>{T?.(_,void 0),_=i(),c=!0,m.forEach(R=>R(_))}).catch(R=>{T?.(void 0,R)})};return o.persist={setOptions:S=>{u={...u,...S},S.storage&&(p=S.storage)},clearStorage:()=>{p?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>x(),hasHydrated:()=>c,onHydrate:S=>(d.add(S),()=>{d.delete(S)}),onFinishHydration:S=>(m.add(S),()=>{m.delete(S)})},u.skipHydration||x(),_||w},LT=UT,PT="moviNesta.ui",ph=jT()(LT(e=>({lastVisitedTab:"home",startTab:"home",reduceMotion:!1,language:"system",setLastVisitedTab:t=>e({lastVisitedTab:t}),setStartTab:t=>e({startTab:t}),setReduceMotion:t=>e({reduceMotion:t}),setLanguage:t=>e({language:t})}),{name:PT,version:3,migrate:e=>{const a={...e||{}};delete a.theme;const i={...a};return i.lastVisitedTab==="diary"&&(i.lastVisitedTab="profile"),i.startTab==="diary"&&(i.startTab="profile"),i}})),zT={"nav.home":"Home","nav.swipe":"Swipe","nav.messages":"Messages","nav.search":"Search","nav.diary":"Diary","nav.profile":"Profile","settings.app.title":"App","settings.app.subtitle":"Customize how MoviNesta behaves on this device.","settings.start.title":"Start screen","settings.start.description":"Choose which tab you land on when you open MoviNesta.","settings.start.note":"This is stored locally. You can later hook it into navigation logic if needed.","assistant.settings.title":"Assistant","assistant.settings.description":"Proactive hints that can create lists, update your Diary, and help inside Messages.","assistant.settings.enabled":"Enable Assistant","assistant.settings.enabledDetail":"If disabled, the floating Hints chip will disappear.","assistant.settings.proactivity":"Proactivity","assistant.settings.proactivityBalanced":"Balanced","assistant.settings.proactivityBold":"Bold","assistant.settings.proactivityNote":"Balanced stays quieter. Bold shows ideas more often.","assistant.settings.paused":"Hints paused until","assistant.settings.resume":"Resume","settings.language.title":"Language","settings.language.description":"Language selector is coming soon. We start with English and Spanish while we wire full translations.","settings.language.matchSystem":"Match system","settings.language.english":"English","settings.language.spanish":"Espaol","settings.language.note":"We will remember this preference as we expand localization.","settings.language.comingSoon":"Coming soon: the language selector is local-only for now while we add full translations.","settings.motion.title":"Motion","settings.motion.description":"Reduce some of the more cinematic animations.","settings.motion.reduceMotion":"Reduce motion","settings.motion.detail":"Fewer transitions and subtle effects. Great if you prefer a calmer UI.","settings.save.success":"App settings saved to this device.","settings.save.error":"Couldn't save settings. Try again.","settings.save.cta":"Save settings"},BT={"nav.home":"Inicio","nav.swipe":"Descubrir","nav.messages":"Mensajes","nav.search":"Buscar","nav.diary":"Diario","nav.profile":"Perfil","settings.app.title":"Aplicacin","settings.app.subtitle":"Personaliza cmo se comporta MoviNesta en este dispositivo.","settings.start.title":"Pantalla inicial","settings.start.description":"Elige la pestaa que ves al abrir MoviNesta.","settings.start.note":"Se guarda localmente. Ms adelante podrs conectarlo a la navegacin.","assistant.settings.title":"Asistente","assistant.settings.description":"Sugerencias proactivas que pueden crear listas, actualizar tu Diario y ayudar en Mensajes.","assistant.settings.enabled":"Activar asistente","assistant.settings.enabledDetail":"Si lo desactivas, el botn flotante de Sugerencias desaparecer.","assistant.settings.proactivity":"Proactividad","assistant.settings.proactivityBalanced":"Equilibrado","assistant.settings.proactivityBold":"Atrevido","assistant.settings.proactivityNote":"Equilibrado aparece menos. Atrevido muestra ideas con ms frecuencia.","assistant.settings.paused":"Sugerencias en pausa hasta","assistant.settings.resume":"Reanudar","settings.language.title":"Idioma","settings.language.description":"El selector de idioma llegar pronto. Empezamos con ingls y espaol mientras aadimos ms traducciones.","settings.language.matchSystem":"Seguir el sistema","settings.language.english":"Ingls","settings.language.spanish":"Espaol","settings.language.note":"Guardaremos esta preferencia a medida que ampliemos la localizacin.","settings.language.comingSoon":"Prximamente: el selector de idioma solo se guarda localmente mientras aadimos traducciones completas.","settings.motion.title":"Movimiento","settings.motion.description":"Reduce algunas animaciones cinemticas.","settings.motion.reduceMotion":"Reducir movimiento","settings.motion.detail":"Menos transiciones y efectos sutiles. Ideal si prefieres una interfaz tranquila.","settings.save.success":"Configuracin guardada en este dispositivo.","settings.save.error":"No se pudo guardar la configuracin. Intntalo de nuevo.","settings.save.cta":"Guardar configuracin"},Gf={en:zT,es:BT};function qT(){return typeof navigator>"u"?"en":(navigator.language?.toLowerCase()??"en").startsWith("es")?"es":"en"}function E0(e){return e==="system"?qT():e==="es"?"es":"en"}function $T(){return E0(ph.getState().language)==="es"?"es-ES":"en-US"}function IT(){const e=ph(i=>i.language),t=b.useMemo(()=>E0(e),[e]);return{t:b.useCallback(i=>(Gf[t]??Gf.en)[i]??Gf.en[i]??i,[t]),language:t}}var xn=function(){return xn=Object.assign||function(t){for(var a,i=1,o=arguments.length;i<o;i++){a=arguments[i];for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(t[u]=a[u])}return t},xn.apply(this,arguments)};function Mi(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(a[i[o]]=e[i[o]]);return a}function HT(e,t,a,i){function o(u){return u instanceof a?u:new a(function(c){c(u)})}return new(a||(a=Promise))(function(u,c){function d(g){try{p(i.next(g))}catch(v){c(v)}}function m(g){try{p(i.throw(g))}catch(v){c(v)}}function p(g){g.done?u(g.value):o(g.value).then(d,m)}p((i=i.apply(e,t||[])).next())})}function VT(e,t,a){if(a||arguments.length===2)for(var i=0,o=t.length,u;i<o;i++)(u||!(i in t))&&(u||(u=Array.prototype.slice.call(t,0,i)),u[i]=t[i]);return e.concat(u||Array.prototype.slice.call(t))}const GT=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class gh extends Error{constructor(t,a="FunctionsError",i){super(t),this.name=a,this.context=i}}class KT extends gh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class bv extends gh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class wv extends gh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var kd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(kd||(kd={}));class FT{constructor(t,{headers:a={},customFetch:i,region:o=kd.Any}={}){this.url=t,this.headers=a,this.region=o,this.fetch=GT(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return HT(this,arguments,void 0,function*(a,i={}){var o;let u,c;try{const{headers:d,method:m,body:p,signal:g,timeout:v}=i;let w={},{region:_}=i;_||(_=this.region);const x=new URL(`${this.url}/${a}`);_&&_!=="any"&&(w["x-region"]=_,x.searchParams.set("forceFunctionRegion",_));let S;p&&(d&&!Object.prototype.hasOwnProperty.call(d,"Content-Type")||!d)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(w["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(w["Content-Type"]="application/json",S=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?S=JSON.stringify(p):S=p;let A=g;v&&(c=new AbortController,u=setTimeout(()=>c.abort(),v),g?(A=c.signal,g.addEventListener("abort",()=>c.abort())):A=c.signal);const T=yield this.fetch(x.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),d),body:S,signal:A}).catch($=>{throw new KT($)}),R=T.headers.get("x-relay-error");if(R&&R==="true")throw new bv(T);if(!T.ok)throw new wv(T);let C=((o=T.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),P;return C==="application/json"?P=yield T.json():C==="application/octet-stream"||C==="application/pdf"?P=yield T.blob():C==="text/event-stream"?P=T:C==="multipart/form-data"?P=yield T.formData():P=yield T.text(),{data:P,error:null,response:T}}catch(d){return{data:null,error:d,response:d instanceof wv||d instanceof bv?d.context:void 0}}finally{u&&clearTimeout(u)}})}}var QT=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},YT=class{constructor(e){var t,a;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,d=null,m=null,p=u.status,g=u.statusText;if(u.ok){var v,w;if(a.method!=="HEAD"){var _;const T=await u.text();T===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((_=a.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?d=T:d=JSON.parse(T))}const S=(v=a.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),A=(w=u.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");S&&A&&A.length>1&&(m=parseInt(A[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,p=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{var x;const S=await u.text();try{c=JSON.parse(S),Array.isArray(c)&&u.status===404&&(d=[],c=null,p=200,g="OK")}catch{u.status===404&&S===""?(p=204,g="No Content"):c={message:S}}if(c&&a.isMaybeSingle&&(!(c==null||(x=c.details)===null||x===void 0)&&x.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&a.shouldThrowOnError)throw new QT(c)}return{error:c,data:d,count:m,status:p,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let d="";const m=u?.cause;if(m){var p,g,v,w;const x=(p=m?.message)!==null&&p!==void 0?p:"",S=(g=m?.code)!==null&&g!==void 0?g:"";d=`${(v=u?.name)!==null&&v!==void 0?v:"FetchError"}: ${u?.message}`,d+=`

Caused by: ${(w=m?.name)!==null&&w!==void 0?w:"Error"}: ${x}`,S&&(d+=` (${S})`),m?.stack&&(d+=`
${m.stack}`)}else{var _;d=(_=u?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:d,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},XT=class extends YT{select(e){let t=!1;const a=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:a,foreignTable:i,referencedTable:o=i}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:a=t}={}){const i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:a,referencedTable:i=a}={}){const o=typeof i>"u"?"offset":`${i}.offset`,u=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(u,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:a=!1,buffers:i=!1,wal:o=!1,format:u="text"}={}){var c;const d=[e?"analyze":null,t?"verbose":null,a?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${m}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const _v=new RegExp("[,()]");var hi=class extends XT{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const a=Array.from(new Set(t)).map(i=>typeof i=="string"&&_v.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,t){const a=Array.from(new Set(t)).map(i=>typeof i=="string"&&_v.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:a,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${o}fts${u}.${t}`),this}match(e){return Object.entries(e).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(e,t,a){return this.url.searchParams.append(e,`not.${t}.${a}`),this}or(e,{foreignTable:t,referencedTable:a=t}={}){const i=a?`${a}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,a){return this.url.searchParams.append(e,`${t}.${a}`),this}},JT=class{constructor(e,{headers:t={},schema:a,fetch:i}){this.url=e,this.headers=new Headers(t),this.schema=a,this.fetch=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:a=!1,count:i}=t??{},o=a?"HEAD":"GET";let u=!1;const c=(e??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join(""),{url:d,headers:m}=this.cloneRequestState();return d.searchParams.set("select",c),i&&m.append("Prefer",`count=${i}`),new hi({method:o,url:d,headers:m,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:a=!0}={}){var i;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),a||c.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(d.length>0){const m=[...new Set(d)].map(p=>`"${p}"`);u.searchParams.set("columns",m.join(","))}}return new hi({method:o,url:u,headers:c,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:a=!1,count:i,defaultToNull:o=!0}={}){var u;const c="POST",{url:d,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&d.searchParams.set("on_conflict",t),i&&m.append("Prefer",`count=${i}`),o||m.append("Prefer","missing=default"),Array.isArray(e)){const p=e.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);d.searchParams.set("columns",g.join(","))}}return new hi({method:c,url:d,headers:m,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:t}={}){var a;const i="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new hi({method:i,url:o,headers:u,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:e}={}){var t;const a="DELETE",{url:i,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new hi({method:a,url:i,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},WT=class x0{constructor(t,{headers:a={},schema:i,fetch:o}={}){this.url=t,this.headers=new Headers(a),this.schemaName=i,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new JT(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new x0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:i=!1,get:o=!1,count:u}={}){var c;let d;const m=new URL(`${this.url}/rpc/${t}`);let p;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),v=i&&Object.values(a).some(g);v?(d="POST",p=a):i||o?(d=i?"HEAD":"GET",Object.entries(a).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{m.searchParams.append(_,x)})):(d="POST",p=a);const w=new Headers(this.headers);return v?w.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&w.set("Prefer",`count=${u}`),new hi({method:d,url:m,headers:w,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class ZT{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const i=a.versions;if(i&&i.node){const o=i.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const i=this.getWebSocketConstructor();return new i(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const eO="2.90.1",tO=`realtime-js/${eO}`,A0="1.0.0",nO="2.0.0",Sv=A0,Nd=1e4,rO=1e3,aO=100;var Or;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Or||(Or={}));var ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ot||(ot={}));var pn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(pn||(pn={}));var Dd;(function(e){e.websocket="websocket"})(Dd||(Dd={}));var la;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(la||(la={}));class iO{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let i=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,i;const o=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var a,i;const o=(i=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,a,i){var o,u;const c=t.topic,d=(o=t.ref)!==null&&o!==void 0?o:"",m=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},v=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`ref length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(v.length>255)throw new Error(`metadata length ${v.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+d.length+c.length+p.length+v.length,_=new ArrayBuffer(this.HEADER_LENGTH+w);let x=new DataView(_),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,m.length),x.setUint8(S++,d.length),x.setUint8(S++,c.length),x.setUint8(S++,p.length),x.setUint8(S++,v.length),x.setUint8(S++,a),Array.from(m,T=>x.setUint8(S++,T.charCodeAt(0))),Array.from(d,T=>x.setUint8(S++,T.charCodeAt(0))),Array.from(c,T=>x.setUint8(S++,T.charCodeAt(0))),Array.from(p,T=>x.setUint8(S++,T.charCodeAt(0))),Array.from(v,T=>x.setUint8(S++,T.charCodeAt(0)));var A=new Uint8Array(_.byteLength+i.byteLength);return A.set(new Uint8Array(_),0),A.set(new Uint8Array(i),_.byteLength),A.buffer}decode(t,a){if(this._isArrayBuffer(t)){let i=this._binaryDecode(t);return a(i)}if(typeof t=="string"){const i=JSON.parse(t),[o,u,c,d,m]=i;return a({join_ref:o,ref:u,topic:c,event:d,payload:m})}return a({})}_binaryDecode(t){const a=new DataView(t),i=a.getUint8(0),o=new TextDecoder;if(i===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,a,o)}_decodeUserBroadcast(t,a,i){const o=a.getUint8(1),u=a.getUint8(2),c=a.getUint8(3),d=a.getUint8(4);let m=this.HEADER_LENGTH+4;const p=i.decode(t.slice(m,m+o));m=m+o;const g=i.decode(t.slice(m,m+u));m=m+u;const v=i.decode(t.slice(m,m+c));m=m+c;const w=t.slice(m,t.byteLength),_=d===this.JSON_ENCODING?JSON.parse(i.decode(w)):w,x={type:this.BROADCAST_EVENT,event:g,payload:_};return c>0&&(x.meta=JSON.parse(v)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t?.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([i])=>a.includes(i)))}}class R0{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ie||(Ie={}));const Ev=(e,t,a={})=>{var i;const o=(i=a.skipTypes)!==null&&i!==void 0?i:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=sO(c,e,t,o),u),{}):{}},sO=(e,t,a,i)=>{const o=t.find(d=>d.name===e),u=o?.type,c=a[e];return u&&!i.includes(u)?T0(u,c):jd(c)},T0=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return cO(t,a)}switch(e){case Ie.bool:return oO(t);case Ie.float4:case Ie.float8:case Ie.int2:case Ie.int4:case Ie.int8:case Ie.numeric:case Ie.oid:return lO(t);case Ie.json:case Ie.jsonb:return uO(t);case Ie.timestamp:return fO(t);case Ie.abstime:case Ie.date:case Ie.daterange:case Ie.int4range:case Ie.int8range:case Ie.money:case Ie.reltime:case Ie.text:case Ie.time:case Ie.timestamptz:case Ie.timetz:case Ie.tsrange:case Ie.tstzrange:return jd(t);default:return jd(t)}},jd=e=>e,oO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},lO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},cO=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,i=e[a];if(e[0]==="{"&&i==="}"){let u;const c=e.slice(1,a);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(d=>T0(t,d))}return e},fO=e=>typeof e=="string"?e.replace(" ","T"):e,O0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kf{constructor(t,a,i={},o=Nd){this.channel=t,this.event=a,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var i;return this._hasReceived(t)&&a((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var xv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(xv||(xv={}));class Ps{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=a?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ps.syncState(this.state,o,u,c),this.pendingDiffs.forEach(m=>{this.state=Ps.syncDiff(this.state,m,u,c)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ps.syncDiff(this.state,o,u,c),d())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,i,o){const u=this.cloneDeep(t),c=this.transformState(a),d={},m={};return this.map(u,(p,g)=>{c[p]||(m[p]=g)}),this.map(c,(p,g)=>{const v=u[p];if(v){const w=g.map(A=>A.presence_ref),_=v.map(A=>A.presence_ref),x=g.filter(A=>_.indexOf(A.presence_ref)<0),S=v.filter(A=>w.indexOf(A.presence_ref)<0);x.length>0&&(d[p]=x),S.length>0&&(m[p]=S)}else d[p]=g}),this.syncDiff(u,{joins:d,leaves:m},i,o)}static syncDiff(t,a,i,o){const{joins:u,leaves:c}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(u,(d,m)=>{var p;const g=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(m),g.length>0){const v=t[d].map(_=>_.presence_ref),w=g.filter(_=>v.indexOf(_.presence_ref)<0);t[d].unshift(...w)}i(d,g,m)}),this.map(c,(d,m)=>{let p=t[d];if(!p)return;const g=m.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),t[d]=p,o(d,p,m),p.length===0&&delete t[d]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(i=>a(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,i)=>{const o=t[i];return"metas"in o?a[i]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[i]=o,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Av;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Av||(Av={}));var zs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(zs||(zs={}));var Qn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qn||(Qn={}));class gi{constructor(t,a={config:{}},i){var o,u;if(this.topic=t,this.params=a,this.socket=i,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Kf(this,pn.join,this.params,this.timeout),this.rejoinTimer=new R0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(pn.reply,{},(c,d)=>{this._trigger(this._replyEventName(d),c)}),this.presence=new Ps(this),this.broadcastEndpointURL=O0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var i,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:c,presence:d,private:m}}=this.params,p=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[zs.PRESENCE]&&this.bindings[zs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,v={},w={broadcast:c,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Qn.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Qn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Qn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,A=(x=S?.length)!==null&&x!==void 0?x:0,T=[];for(let R=0;R<A;R++){const C=S[R],{filter:{event:P,schema:$,table:F,filter:M}}=C,H=_&&_[R];if(H&&H.event===P&&gi.isFilterValueEqual(H.schema,$)&&gi.isFilterValueEqual(H.table,F)&&gi.isFilterValueEqual(H.filter,M))T.push(Object.assign(Object.assign({},C),{id:H.id}));else{this.unsubscribe(),this.state=ot.errored,t?.(Qn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(Qn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ot.errored,t?.(Qn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Qn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,i){return this.state===ot.joined&&t===zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,i)}async httpSend(t,a,i={}){var o;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=i.timeout)!==null&&o!==void 0?o:this.timeout);if(d.status===202)return{success:!0};let m=d.statusText;try{const p=await d.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(t,a={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,d={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(d.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:d,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=a.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,d,m;const p=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((m=(d=(c=this.params)===null||c===void 0?void 0:c.config)===null||d===void 0?void 0:d.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(pn.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Kf(this,pn.leave,{},t),i.receive("ok",()=>{a(),o("ok")}).receive("timeout",()=>{a(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,a,i){const o=new AbortController,u=setTimeout(()=>o.abort(),i),c=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:o.signal}));return clearTimeout(u),c}_push(t,a,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Kf(this,t,a,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>aO){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,i){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,i){var o,u;const c=t.toLocaleLowerCase(),{close:d,error:m,leave:p,join:g}=pn;if(i&&[d,m,p,g].indexOf(c)>=0&&i!==this._joinRef())return;let w=this._onMessage(c,a,i);if(a&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var x,S,A;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((A=(S=_.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(_=>_.callback(w,i)):(u=this.bindings[c])===null||u===void 0||u.filter(_=>{var x,S,A,T,R,C,P,$;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const F=_.id,M=(x=_.filter)===null||x===void 0?void 0:x.event;return F&&((S=a.ids)===null||S===void 0?void 0:S.includes(F))&&(M==="*"||M?.toLocaleLowerCase()===((A=a.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((T=_.filter)===null||T===void 0)&&T.table)||_.filter.table===((R=a.data)===null||R===void 0?void 0:R.table))}else{const F=(P=(C=_?.filter)===null||C===void 0?void 0:C.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return F==="*"||F===(($=a?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof w=="object"&&"ids"in w){const x=w.data,{schema:S,table:A,commit_timestamp:T,type:R,errors:C}=x;w=Object.assign(Object.assign({},{schema:S,table:A,commit_timestamp:T,eventType:R,new:{},old:{},errors:C}),this._getPayloadRecords(x))}_.callback(w,i)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,i){const o=t.toLocaleLowerCase(),u={type:o,filter:a,callback:i};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,a){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&gi.isEqual(o.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const i in t)if(t[i]!==a[i])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(pn.close,{},t)}_onError(t){this._on(pn.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Ev(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Ev(t.columns,t.old_record)),a}}const Ff=()=>{},Al={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dO=[1e3,2e3,5e3,1e4],hO=1e4,mO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pO{constructor(t,a){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Nd,this.transport=null,this.heartbeatIntervalMs=Al.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ff,this.ref=0,this.reconnectTimer=null,this.vsn=Sv,this.logger=Ff,this.conn=null,this.sendBuffer=[],this.serializer=new iO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((i=a?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Dd.websocket}`,this.httpEndpoint=O0(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ZT.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,i){this.logger(t,a,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Or.connecting:return la.Connecting;case Or.open:return la.Open;case Or.closing:return la.Closing;default:return la.Closed}}isConnected(){return this.connectionState()===la.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===i);if(o)return o;{const u=new gi(`realtime:${t}`,a,this);return this.channels.push(u),u}}push(t){const{topic:a,event:i,payload:o,ref:u}=t,c=()=>{this.encode(t,d=>{var m;(m=this.conn)===null||m===void 0||m.send(d)})};this.log("push",`${a} ${i} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rO,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Al.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",p)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:o,payload:u,ref:c}=a,d=c?`(${c})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${o} ${d}`.trim(),u),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Or.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Or.open||this.conn.readyState===Or.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(pn.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(a);return`${t}${i}${o}`}_workerObjectUrl(t){let a;if(t)a=t;else{const i=new Blob([mO],{type:"application/javascript"});a=URL.createObjectURL(i)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,i=!1;if(t)a=t,i=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),a=this.accessTokenValue}else a=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(o=>{const u={access_token:a,version:tO};a&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(pn.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(a)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new R0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Al.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,i,o,u,c,d,m,p,g,v,w,_;switch(this.transport=(a=t?.transport)!==null&&a!==void 0?a:null,this.timeout=(i=t?.timeout)!==null&&i!==void 0?i:Nd,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Al.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Ff,this.vsn=(m=t?.vsn)!==null&&m!==void 0?m:Sv,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(x=>dO[x-1]||hO),this.vsn){case A0:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((x,S)=>S(JSON.stringify(x))),this.decode=(v=t?.decode)!==null&&v!==void 0?v:((x,S)=>S(JSON.parse(x)));break;case nO:this.encode=(w=t?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var $s=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function gO(e,t,a){const i=new URL(t,e);if(a)for(const[o,u]of Object.entries(a))u!==void 0&&i.searchParams.set(o,u);return i.toString()}async function yO(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function vO(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:i,query:o,body:u,headers:c}){const d=gO(e.baseUrl,i,o),m=await yO(e.auth),p=await t(d,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...m,...c},body:u?JSON.stringify(u):void 0}),g=await p.text(),v=(p.headers.get("content-type")||"").includes("application/json"),w=v&&g?JSON.parse(g):g;if(!p.ok){const _=v?w:void 0,x=_?.error;throw new $s(x?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:x?.type,icebergCode:x?.code,details:_})}return{status:p.status,headers:p.headers,data:w}}}}function Rl(e){return e.join("")}var bO=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Rl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rl(e.namespace)}`}),!0}catch(t){if(t instanceof $s&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof $s&&a.status===409)return;throw a}}};function ri(e){return e.join("")}var wO=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ri(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof $s&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof $s&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},_O=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=vO({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new bO(this.client,t),this.tableOps=new wO(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},su=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var SO=class extends su{constructor(e,t,a){super(e),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Md=class extends su{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const yh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),EO=()=>Response,Ud=e=>{if(Array.isArray(e))return e.map(a=>Ud(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,i])=>{const o=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Ud(i)}),t},xO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},AO=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Is(e){"@babel/helpers - typeof";return Is=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}function RO(e,t){if(Is(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(Is(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TO(e){var t=RO(e,"string");return Is(t)=="symbol"?t:t+""}function OO(e,t,a){return(t=TO(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Rv(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,i)}return a}function de(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Rv(Object(a),!0).forEach(function(i){OO(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Rv(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}const Qf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},CO=async(e,t,a)=>{e instanceof await EO()&&!a?.noResolveJson?e.json().then(i=>{const o=e.status||500,u=i?.statusCode||o+"";t(new SO(Qf(i),o,u))}).catch(i=>{t(new Md(Qf(i),i))}):t(new Md(Qf(e),e))},kO=(e,t,a,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!i?o:(xO(i)?(o.headers=de({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,t?.duplex&&(o.duplex=t.duplex),de(de({},o),a))};async function Zs(e,t,a,i,o,u){return new Promise((c,d)=>{e(a,kO(t,i,o,u)).then(m=>{if(!m.ok)throw m;return i?.noResolveJson?m:m.json()}).then(m=>c(m)).catch(m=>CO(m,d,i))})}async function Hs(e,t,a,i){return Zs(e,"GET",t,a,i)}async function mn(e,t,a,i,o){return Zs(e,"POST",t,i,o,a)}async function Ld(e,t,a,i,o){return Zs(e,"PUT",t,i,o,a)}async function NO(e,t,a,i){return Zs(e,"HEAD",t,de(de({},a),{},{noResolveJson:!0}),i)}async function vh(e,t,a,i,o){return Zs(e,"DELETE",t,i,o,a)}var DO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}}};let C0;C0=Symbol.toStringTag;var jO=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[C0]="BlobDownloadBuilder",this.promise=null}asStream(){return new DO(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}}};const MO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Tv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var UO=class{constructor(e,t={},a,i){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=a,this.fetch=yh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,a,i){var o=this;try{let u;const c=de(de({},Tv),i);let d=de(de({},o.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const m=c.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),m&&u.append("metadata",o.encodeMetadata(m)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),m&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(m))):(u=a,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType,m&&(d["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),i?.headers&&(d=de(de({},d),i.headers));const p=o._removeEmptyFolders(t),g=o._getFinalPath(p),v=await(e=="PUT"?Ld:mn)(o.fetch,`${o.url}/object/${g}`,u,de({headers:d},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}}async upload(e,t,a){return this.uploadOrUpdate("POST",e,t,a)}async uploadToSignedUrl(e,t,a,i){var o=this;const u=o._removeEmptyFolders(e),c=o._getFinalPath(u),d=new URL(o.url+`/object/upload/sign/${c}`);d.searchParams.set("token",t);try{let m;const p=de({upsert:Tv.upsert},i),g=de(de({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&a instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",a)):typeof FormData<"u"&&a instanceof FormData?(m=a,m.append("cacheControl",p.cacheControl)):(m=a,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:u,fullPath:(await Ld(o.fetch,d.toString(),m,{headers:g})).Key},error:null}}catch(m){if(o.shouldThrowOnError)throw m;if(Fe(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(e,t){var a=this;try{let i=a._getFinalPath(e);const o=de({},a.headers);t?.upsert&&(o["x-upsert"]="true");const u=await mn(a.fetch,`${a.url}/object/upload/sign/${i}`,{},{headers:o}),c=new URL(a.url+u.url),d=c.searchParams.get("token");if(!d)throw new su("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:d},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async update(e,t,a){return this.uploadOrUpdate("PUT",e,t,a)}async move(e,t,a){var i=this;try{return{data:await mn(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:i.headers}),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async copy(e,t,a){var i=this;try{return{data:{path:(await mn(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a?.destinationBucket},{headers:i.headers})).Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,a){var i=this;try{let o=i._getFinalPath(e),u=await mn(i.fetch,`${i.url}/object/sign/${o}`,de({expiresIn:t},a?.transform?{transform:a.transform}:{}),{headers:i.headers});const c=a?.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${i.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,a){var i=this;try{const o=await mn(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:t,paths:e},{headers:i.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:o.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${i.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}download(e,t){const a=typeof t?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(t?.transform||{}),o=i?`?${i}`:"",u=this._getFinalPath(e),c=()=>Hs(this.fetch,`${this.url}/${a}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new jO(c,this.shouldThrowOnError)}async info(e){var t=this;const a=t._getFinalPath(e);try{return{data:Ud(await Hs(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async exists(e){var t=this;const a=t._getFinalPath(e);try{return await NO(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i)&&i instanceof Md){const o=i.originalError;if([400,404].includes(o?.status))return{data:!1,error:i}}throw i}}getPublicUrl(e,t){const a=this._getFinalPath(e),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${d}`)}}}async remove(e){var t=this;try{return{data:await vh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async list(e,t,a){var i=this;try{const o=de(de(de({},MO),t),{},{prefix:e||""});return{data:await mn(i.fetch,`${i.url}/object/list/${i.bucketId}`,o,{headers:i.headers},a),error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async listV2(e,t){var a=this;try{const i=de({},e);return{data:await mn(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,i,{headers:a.headers},t),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const k0="2.90.1",N0={"X-Client-Info":`storage-js/${k0}`};var LO=class{constructor(e,t={},a,i){this.shouldThrowOnError=!1;const o=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=de(de({},N0),t),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const a=t.listBucketOptionsToQueryString(e);return{data:await Hs(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async getBucket(e){var t=this;try{return{data:await Hs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async createBucket(e,t={public:!1}){var a=this;try{return{data:await mn(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async updateBucket(e,t){var a=this;try{return{data:await Ld(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async emptyBucket(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async deleteBucket(e){var t=this;try{return{data:await vh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},PO=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},N0),t),this.fetch=yh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await mn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async listBuckets(e){var t=this;try{const a=new URLSearchParams;e?.limit!==void 0&&a.set("limit",e.limit.toString()),e?.offset!==void 0&&a.set("offset",e.offset.toString()),e?.sortColumn&&a.set("sortColumn",e.sortColumn),e?.sortOrder&&a.set("sortOrder",e.sortOrder),e?.search&&a.set("search",e.search);const i=a.toString(),o=i?`${t.url}/bucket?${i}`:`${t.url}/bucket`;return{data:await Hs(t.fetch,o,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async deleteBucket(e){var t=this;try{return{data:await vh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}from(e){var t=this;if(!AO(e))throw new su("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new _O({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(a,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...d)=>{try{return{data:await c.apply(o,d),error:null}}catch(m){if(i)throw m;return{data:null,error:m}}}}})}};const bh={"X-Client-Info":`storage-js/${k0}`,"Content-Type":"application/json"};var D0=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function It(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Yf=class extends D0{constructor(e,t,a){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},zO=class extends D0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const wh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),BO=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ov=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qO=async(e,t,a)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!a?.noResolveJson){const i=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const c=u?.statusCode||u?.code||i+"";t(new Yf(Ov(u),i,c))}).catch(()=>{const u=i+"";t(new Yf(o.statusText||`HTTP ${i} error`,i,u))});else{const u=i+"";t(new Yf(o.statusText||`HTTP ${i} error`,i,u))}}else t(new zO(Ov(e),e))},$O=(e,t,a,i)=>{const o={method:e,headers:t?.headers||{}};return i?(BO(i)?(o.headers=de({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(i)):o.body=i,de(de({},o),a)):o};async function IO(e,t,a,i,o,u){return new Promise((c,d)=>{e(a,$O(t,i,o,u)).then(m=>{if(!m.ok)throw m;if(i?.noResolveJson)return m;const p=m.headers.get("content-type");return!p||!p.includes("application/json")?{}:m.json()}).then(m=>c(m)).catch(m=>qO(m,d,i))})}async function Ht(e,t,a,i,o){return IO(e,"POST",t,i,o,a)}var HO=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},bh),t),this.fetch=wh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async getIndex(e,t){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers}),error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}async listIndexes(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async deleteIndex(e,t){var a=this;try{return{data:await Ht(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers})||{},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(It(i))return{data:null,error:i};throw i}}},VO=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},bh),t),this.fetch=wh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async getVectors(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ht(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async queryVectors(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}},GO=class{constructor(e,t={},a){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},bh),t),this.fetch=wh(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async getBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async listBuckets(e={}){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}async deleteBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(It(a))return{data:null,error:a};throw a}}},KO=class extends GO{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new FO(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,a=this;return t().call(a,e)}async getBucket(e){var t=()=>super.getBucket,a=this;return t().call(a,e)}async listBuckets(e={}){var t=()=>super.listBuckets,a=this;return t().call(a,e)}async deleteBucket(e){var t=()=>super.deleteBucket,a=this;return t().call(a,e)}},FO=class extends HO{constructor(e,t,a,i){super(e,t,i),this.vectorBucketName=a}async createIndex(e){var t=()=>super.createIndex,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,e)}index(e){return new QO(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},QO=class extends VO{constructor(e,t,a,i,o){super(e,t,o),this.vectorBucketName=a,this.indexName=i}async putVectors(e){var t=()=>super.putVectors,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var t=()=>super.getVectors,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,a=this;return t().call(a,de(de({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},YO=class extends LO{constructor(e,t={},a,i){super(e,t,a,i)}from(e){return new UO(this.url,this.headers,e,this.fetch)}get vectors(){return new KO(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new PO(this.url+"/iceberg",this.headers,this.fetch)}};const j0="2.90.1",mi=30*1e3,Pd=3,Xf=Pd*mi,XO="http://localhost:9999",JO="supabase.auth.token",WO={"X-Client-Info":`gotrue-js/${j0}`},zd="X-Supabase-Api-Version",M0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ZO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,eC=600*1e3;class Vs extends Error{constructor(t,a,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=i}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class tC extends Vs{constructor(t,a,i){super(t,a,i),this.name="AuthApiError",this.status=a,this.code=i}}function nC(e){return se(e)&&e.name==="AuthApiError"}class ua extends Vs{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class er extends Vs{constructor(t,a,i,o){super(t,i,o),this.name=a,this.status=i}}class qt extends er{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rC(e){return se(e)&&e.name==="AuthSessionMissingError"}class ai extends er{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Tl extends er{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ol extends er{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function aC(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Cv extends er{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class iC extends er{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bd extends er{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Jf(e){return se(e)&&e.name==="AuthRetryableFetchError"}class kv extends er{constructor(t,a,i){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=i}}class qd extends er{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Nv=` 	
\r=`.split(""),sC=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Nv.length;t+=1)e[Nv[t].charCodeAt(0)]=-2;for(let t=0;t<Yl.length;t+=1)e[Yl[t].charCodeAt(0)]=t;return e})();function Dv(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;a(Yl[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;a(Yl[i]),t.queuedBits-=6}}function U0(e,t,a){const i=sC[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jv(e){const t=[],a=c=>{t.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{uC(c,i,a)};for(let c=0;c<e.length;c+=1)U0(e.charCodeAt(c),o,u);return t.join("")}function oC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function lC(e,t){for(let a=0;a<e.length;a+=1){let i=e.charCodeAt(a);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(a+1)-56320&65535|o)+65536,a+=1}oC(i,t)}}function uC(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let i=1;i<6;i+=1)if((e>>7-i&1)===0){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function bi(e){const t=[],a={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)U0(e.charCodeAt(o),a,i);return new Uint8Array(t)}function cC(e){const t=[];return lC(e,a=>t.push(a)),new Uint8Array(t)}function fa(e){const t=[],a={queue:0,queuedBits:0},i=o=>{t.push(o)};return e.forEach(o=>Dv(o,a,i)),Dv(null,a,i),t.join("")}function fC(e){return Math.round(Date.now()/1e3)+e}function dC(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",ia={tested:!1,writable:!1},L0=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ia.tested)return ia.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ia.tested=!0,ia.writable=!0}catch{ia.tested=!0,ia.writable=!1}return ia.writable};function hC(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return a.searchParams.forEach((i,o)=>{t[o]=i}),t}const P0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),mC=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",pi=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},sa=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},gt=async(e,t)=>{await e.removeItem(t)};class ou{constructor(){this.promise=new ou.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}ou.promiseConstructor=Promise;function Wf(e){const t=e.split(".");if(t.length!==3)throw new qd("Invalid JWT structure");for(let i=0;i<t.length;i++)if(!ZO.test(t[i]))throw new qd("JWT not in base64url format");return{header:JSON.parse(jv(t[0])),payload:JSON.parse(jv(t[1])),signature:bi(t[2]),raw:{header:t[0],payload:t[1]}}}async function pC(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function gC(e,t){return new Promise((i,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await e(u);if(!t(u,null,c)){i(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function yC(e){return("0"+e.toString(16)).substr(-2)}function vC(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=a.length;let o="";for(let u=0;u<56;u++)o+=a.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(t),Array.from(t,yC).join("")}async function bC(e){const a=new TextEncoder().encode(e),i=await crypto.subtle.digest("SHA-256",a),o=new Uint8Array(i);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function wC(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await bC(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ii(e,t,a=!1){const i=vC();let o=i;a&&(o+="/PASSWORD_RECOVERY"),await pi(e,`${t}-code-verifier`,o);const u=await wC(i);return[u,i===u?"plain":"s256"]}const _C=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function SC(e){const t=e.headers.get(zd);if(!t||!t.match(_C))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function EC(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function xC(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const AC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(e){if(!AC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Zf(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function RC(e,t){return new Proxy(e,{get:(a,i,o)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const u=i.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,i,o)}return!t.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,i,o)}})}function Mv(e){return JSON.parse(JSON.stringify(e))}const oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TC=[502,503,504];async function Uv(e){var t;if(!mC(e))throw new Bd(oa(e),0);if(TC.includes(e.status))throw new Bd(oa(e),e.status);let a;try{a=await e.json()}catch(u){throw new ua(oa(u),u)}let i;const o=SC(e);if(o&&o.getTime()>=M0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?i=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(i=a.error_code),i){if(i==="weak_password")throw new kv(oa(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new qt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new kv(oa(a),e.status,a.weak_password.reasons);throw new tC(oa(a),e.status||500,i)}const OC=(e,t,a,i)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),a))};async function fe(e,t,a,i){var o;const u=Object.assign({},i?.headers);u[zd]||(u[zd]=M0["2024-01-01"].name),i?.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const c=(o=i?.query)!==null&&o!==void 0?o:{};i?.redirectTo&&(c.redirect_to=i.redirectTo);const d=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",m=await CC(e,t,a+d,{headers:u,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function CC(e,t,a,i,o,u){const c=OC(t,i,o,u);let d;try{d=await e(a,Object.assign({},c))}catch(m){throw console.error(m),new Bd(oa(m),0)}if(d.ok||await Uv(d),i?.noResolveJson)return d;try{return await d.json()}catch(m){await Uv(m)}}function hn(e){var t;let a=null;DC(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=fC(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:i},error:null}}function Lv(e){const t=hn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Cr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function kC(e){return{data:e,error:null}}function NC(e){const{action_link:t,email_otp:a,hashed_token:i,redirect_to:o,verification_type:u}=e,c=Mi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:a,hashed_token:i,redirect_to:o,verification_type:u},m=Object.assign({},c);return{data:{properties:d,user:m},error:null}}function Pv(e){return e}function DC(e){return e.access_token&&e.refresh_token&&e.expires_in}const ed=["global","local","others"];class jC{constructor({url:t="",headers:a={},fetch:i}){this.url=t,this.headers=a,this.fetch=P0(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=ed[0]){if(ed.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ed.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,a={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Cr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:a}=t,i=Mi(t,["options"]),o=Object.assign(Object.assign({},i),a);return"newEmail"in i&&(o.new_email=i?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:NC,redirectTo:a?.redirectTo})}catch(a){if(se(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Cr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,i,o,u,c,d,m;try{const p={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Pv});if(g.error)throw g.error;const v=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(m=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);p[`${A}Page`]=S}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){si(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Cr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){si(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Cr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,a=!1){si(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Cr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){si(t.userId);try{const{data:a,error:i}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:a,error:i}}catch(a){if(se(a))return{data:null,error:a};throw a}}async _deleteFactor(t){si(t.userId),si(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,i,o,u,c,d,m;try{const p={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(a=t?.page)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Pv});if(g.error)throw g.error;const v=await g.json(),w=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(m=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&m!==void 0?m:[];return _.length>0&&(_.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);p[`${A}Page`]=S}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}}function zv(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const oi={debug:!!(globalThis&&L0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class z0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class MC extends z0{}async function UC(e,t,a){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await a()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new MC(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function LC(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function B0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function PC(e){return parseInt(e,16)}function zC(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,i=>i.toString(16).padStart(2,"0")).join("")}function BC(e){var t;const{chainId:a,domain:i,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:d,requestId:m,resources:p,scheme:g,uri:v,version:w}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!v)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=B0(e.address),x=g?`${g}://${i}`:i,S=e.statement?`${e.statement}
`:"",A=`${x} wants you to sign in with your Ethereum account:
${_}

${S}`;let T=`URI: ${v}
Version: ${w}
Chain ID: ${a}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(T+=`
Expiration Time: ${o.toISOString()}`),d&&(T+=`
Not Before: ${d.toISOString()}`),m&&(T+=`
Request ID: ${m}`),p){let R=`
Resources:`;for(const C of p){if(!C||typeof C!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${C}`);R+=`
- ${C}`}T+=R}return`${A}
${T}`}class at extends Error{constructor({message:t,code:a,cause:i,name:o}){var u;super(t,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=o??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class Xl extends at{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function qC({error:e,options:t}){var a,i,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new at({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return u.pubKeyCredParams.filter(d=>d.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(q0(c)){if(u.rp.id!==c)return new at({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function $C({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new at({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(q0(i)){if(a.rpId!==i)return new at({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class IC{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const HC=new IC;function VC(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:i}=e,o=Mi(e,["challenge","user","excludeCredentials"]),u=bi(t).buffer,c=Object.assign(Object.assign({},a),{id:bi(a.id).buffer}),d=Object.assign(Object.assign({},o),{challenge:u,user:c});if(i&&i.length>0){d.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];d.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:bi(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return d}function GC(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,i=Mi(e,["challenge","allowCredentials"]),o=bi(t).buffer,u=Object.assign(Object.assign({},i),{challenge:o});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let c=0;c<a.length;c++){const d=a[c];u.allowCredentials[c]=Object.assign(Object.assign({},d),{id:bi(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return u}function KC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:fa(new Uint8Array(e.response.attestationObject)),clientDataJSON:fa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function FC(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,i=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:fa(new Uint8Array(o.authenticatorData)),clientDataJSON:fa(new Uint8Array(o.clientDataJSON)),signature:fa(new Uint8Array(o.signature)),userHandle:o.userHandle?fa(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function q0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Bv(){var e,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function QC(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",t)}:{data:null,error:new Xl("Empty credential response",t)}}catch(t){return{data:null,error:qC({error:t,options:e})}}}async function YC(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Xl("Browser returned unexpected credential type",t)}:{data:null,error:new Xl("Empty credential response",t)}}catch(t){return{data:null,error:$C({error:t,options:e})}}}const XC={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},JC={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Jl(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),a=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),i={};for(const o of e)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))i[u]=c;else if(a(c))i[u]=c;else if(t(c)){const d=i[u];t(d)?i[u]=Jl(d,c):i[u]=Jl(c)}else i[u]=c}return i}function WC(e,t){return Jl(XC,e,t||{})}function ZC(e,t){return Jl(JC,e,t||{})}class e1{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:i,signal:o},u){try{const{data:c,error:d}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!c)return{data:null,error:d};const m=o??HC.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${i}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=WC(c.webauthn.credential_options.publicKey,u?.create),{data:g,error:v}=await QC({publicKey:p,signal:m});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}case"request":{const p=ZC(c.webauthn.credential_options.publicKey,u?.request),{data:g,error:v}=await YC(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:m}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:v}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new ua("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:a,webauthn:i}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:i})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Vs("rpId is required for WebAuthn authentication")};try{if(!Bv())return{data:null,error:new ua("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:i},signal:o},{request:u});if(!c)return{data:null,error:d};const{webauthn:m}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:m.type,rpId:a,rpOrigins:i,credential_response:m.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new ua("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!a)return{data:null,error:new Vs("rpId is required for WebAuthn registration")};try{if(!Bv())return{data:null,error:new ua("Browser does not support WebAuthn",null)};const{data:c,error:d}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var v;return(v=g.data)===null||v===void 0?void 0:v.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===t&&w.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:d};const{data:m,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:a,rpOrigins:i},signal:o},{create:u});return m?this._verify({factorId:c.id,challengeId:m.challengeId,webauthn:{rpId:a,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new ua("Unexpected error in register",c)}}}}LC();const t1={url:XO,storageKey:JO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function qv(e,t,a){return await a()}const li={};class Gs{get jwks(){var t,a;return(a=(t=li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){li[this.storageKey]=Object.assign(Object.assign({},li[this.storageKey]),{cachedAt:t})}constructor(t){var a,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},t1),t);if(this.storageKey=u.storageKey,this.instanceID=(a=Gs.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Gs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&yt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new jC({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=P0(u.fetch),this.lock=u.lock||qv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&yt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=UC:this.lock=qv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new e1(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:L0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=zv(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${j0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},i="none";if(yt()&&(a=hC(window.location.href),this._isImplicitGrantCallback(a)?i="implicit":await this._isPKCECallback(a)&&(i="pkce")),yt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:u}=await this._getSessionFromURL(a,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),aC(u)){const m=(t=u.details)===null||t===void 0?void 0:t.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",d),await this._saveSession(c),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return se(a)?this._returnResult({error:a}):this._returnResult({error:new ua("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,i,o;try{const u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(a=t?.options)===null||a===void 0?void 0:a.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:hn}),{data:c,error:d}=u;if(d||!c)return this._returnResult({data:{user:null,session:null},error:d});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var a,i,o;try{let u;if("email"in t){const{email:g,password:v,options:w}=t;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await ii(this.storage,this.storageKey)),u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:g,password:v,data:(a=w?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:_,code_challenge_method:x},xform:hn})}else if("phone"in t){const{phone:g,password:v,options:w}=t;u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(i=w?.data)!==null&&i!==void 0?i:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:hn})}else throw new Tl("You must provide either an email or phone number and a password");const{data:c,error:d}=u;if(d||!c)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:d});const m=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let a;if("email"in t){const{email:u,password:c,options:d}=t;a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Lv})}else if("phone"in t){const{phone:u,password:c,options:d}=t;a=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Lv})}else throw new Tl("You must provide either an email or phone number and a password");const{data:i,error:o}=a;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){const u=new ai;return this._returnResult({data:{user:null,session:null},error:u})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,i,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,i,o,u,c,d,m,p,g,v,w;let _,x;if("message"in t)_=t.message,x=t.signature;else{const{chain:S,wallet:A,statement:T,options:R}=t;let C;if(yt())if(typeof A=="object")C=A;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")C=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!R?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=A}const P=new URL((a=R?.url)!==null&&a!==void 0?a:window.location.href),$=await C.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=B0($[0]);let M=(i=R?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!M){const Z=await C.request({method:"eth_chainId"});M=PC(Z)}const H={domain:P.host,address:F,statement:T,uri:P.href,version:"1",chainId:M,nonce:(o=R?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=R?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(d=R?.signInWithEthereum)===null||d===void 0?void 0:d.expirationTime,notBefore:(m=R?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=R?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=R?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=BC(H),x=await C.request({method:"personal_sign",params:[zC(_),F]})}try{const{data:S,error:A}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=t.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:hn});if(A)throw A;if(!S||!S.session||!S.user){const T=new ai;return this._returnResult({data:{user:null,session:null},error:T})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:A})}catch(S){if(se(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var a,i,o,u,c,d,m,p,g,v,w,_;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:A,wallet:T,statement:R,options:C}=t;let P;if(yt())if(typeof T=="object")P=T;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))P=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=T}const $=new URL((a=C?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in P&&P.signIn){const F=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),R?{statement:R}:null));let M;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")M=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)M=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)x=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),S=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${$.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=C?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((m=C?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((p=C?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((v=(g=C?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...C.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const F=await P.signMessage(new TextEncoder().encode(x),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=F}}try{const{data:A,error:T}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:fa(S)},!((w=t.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:hn});if(T)throw T;if(!A||!A.session||!A.user){const R=new ai;return this._returnResult({data:{user:null,session:null},error:R})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:T})}catch(A){if(se(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const a=await sa(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(a??"").split("/");try{if(!i&&this.flowType==="pkce")throw new iC;const{data:u,error:c}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:hn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const d=new ai;return this._returnResult({data:{user:null,session:null,redirectType:null},error:d})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:a,provider:i,token:o,access_token:u,nonce:c}=t,d=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:hn}),{data:m,error:p}=d;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new ai;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,i,o,u,c;try{if("email"in t){const{email:d,options:m}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await ii(this.storage,this.storageKey));const{error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(a=m?.data)!==null&&a!==void 0?a:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:v})}if("phone"in t){const{phone:d,options:m}=t,{data:p,error:g}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(u=m?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(c=m?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Tl("You must provide either an email or phone number.")}catch(d){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async verifyOtp(t){var a,i;try{let o,u;"options"in t&&(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo,u=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:hn});if(d)throw d;if(!c)throw new Error("An error occurred on token verification.");const m=c.session,p=c.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var a,i,o,u,c;try{let d=null,m=null;this.flowType==="pkce"&&([d,m]=await ii(this.storage,this.storageKey));const p=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:d,code_challenge_method:m}),headers:this.headers,xform:kC});return!((u=p.data)===null||u===void 0)&&u.url&&yt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(d){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(d))return this._returnResult({data:null,error:d});throw d}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;if(i)throw i;if(!a)throw new qt;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:u}=t,{error:c}=await fe(this.fetch,"POST",a,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:i,type:o,options:u}=t,{data:c,error:d}=await fe(this.fetch,"POST",a,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:d})}throw new Tl("You must provide either an email or phone number and a type")}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await a()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=a();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Xf:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const c=await sa(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=Zf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=RC(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Cr}):await this._useSession(async a=>{var i,o,u;const{data:c,error:d}=a;if(d)throw d;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qt}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Cr})})}catch(a){if(se(a))return rC(a)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async i=>{const{data:o,error:u}=i;if(u)throw u;if(!o.session)throw new qt;const c=o.session;let d=null,m=null;this.flowType==="pkce"&&t.email!=null&&([d,m]=await ii(this.storage,this.storageKey));const{data:p,error:g}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:m}),jwt:c.access_token,xform:Cr});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new qt;const a=Date.now()/1e3;let i=a,o=!0,u=null;const{payload:c}=Wf(t.access_token);if(c.exp&&(i=c.exp,o=i<=a),o){const{data:d,error:m}=await this._callRefreshToken(t.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!d)return{data:{user:null,session:null},error:null};u=d}else{const{data:d,error:m}=await this._getUser(t.access_token);if(m)throw m;u={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-a,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(se(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var i;if(!t){const{data:c,error:d}=a;if(d)throw d;t=(i=c.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new qt;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!yt())throw new Ol("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ol(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Cv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ol("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Cv("No code detected.");const{data:R,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:d,expires_at:m,token_type:p}=t;if(!u||!d||!c||!p)throw new Ol("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(d);let w=g+v;m&&(w=parseInt(m));const _=w-g;_*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${v}s`);const x=w-v;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,w,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,w,g);const{data:S,error:A}=await this._getUser(u);if(A)throw A;const T={provider_token:i,provider_refresh_token:o,access_token:u,expires_in:v,expires_at:w,refresh_token:c,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:t.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({error:u});const c=(i=o.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:d}=await this.admin.signOut(c,t);if(d&&!(nC(d)&&(d.status===404||d.status===401||d.status===403)))return this._returnResult({error:d})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=dC(),i={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async a=>{var i,o;try{const{data:{session:u},error:c}=a;if(c)throw c;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,a={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ii(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:a,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:i,error:o}=await this._useSession(async u=>{var c,d,m,p,g;const{data:v,error:w}=u;if(w)throw w;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(m=t.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return yt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:t.provider,url:i?.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:t.provider,url:null},error:i});throw i}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var i;try{const{error:o,data:{session:u}}=a;if(o)throw o;const{options:c,provider:d,token:m,access_token:p,nonce:g}=t,v=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:d,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:hn}),{data:w,error:_}=v;return _?this._returnResult({data:{user:null,session:null},error:_}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new ai}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:_}))}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var i,o;const{data:u,error:c}=a;if(c)throw c;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const i=Date.now();return await gC(async o=>(o>0&&await pC(200*Math.pow(2,o-1)),this._debug(a,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&Jf(u)&&Date.now()+c-i<mi})}catch(i){if(this._debug(a,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",i),yt()&&!a.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,a;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await sa(this.storage,this.storageKey);if(o&&this.userStorage){let c=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await pi(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:Zf()}else if(o&&!o.user&&!o.user){const c=await sa(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await gt(this.storage,this.storageKey+"-user"),await pi(this.storage,this.storageKey,o)):o.user=Zf()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const u=((a=o.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Xf;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${Xf}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),Jf(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:d}=await this._getUser(o.access_token);!d&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var a,i;if(!t)throw new qt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ou;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new qt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const d={data:u.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(u){if(this._debug(o,"error",u),se(u)){const c={data:null,error:u};return Jf(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,a,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",a,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:a});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,a)}catch(m){u.push(m)}});if(await Promise.all(c),u.length>0){for(let d=0;d<u.length;d+=1)console.error(u[d]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),i=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&a.user&&await pi(this.userStorage,this.storageKey+"-user",{user:a.user});const o=Object.assign({},a);delete o.user;const u=Mv(o);await pi(this.storage,this.storageKey,u)}else{const o=Mv(a);await pi(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:i}}=a;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${mi}ms, refresh threshold is ${Pd} ticks`),o<=Pd&&await this._callRefreshToken(i.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof z0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,i){const o=[`provider=${encodeURIComponent(a)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,c]=await ii(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(d.toString())}if(i?.queryParams){const u=new URLSearchParams(i.queryParams);o.push(u.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;return u?this._returnResult({data:null,error:u}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var i,o;const{data:u,error:c}=a;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:m,error:p}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=u?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?KC(t.webauthn.credential_response):FC(t.webauthn.credential_response)})}:{code:t.code}),{data:d,error:m}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),this._returnResult({data:d,error:m}))})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var i;const{data:o,error:u}=a;if(u)return this._returnResult({data:null,error:u});const c=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:d}=c;if(d.type!=="webauthn")return{data:d,error:null};switch(d.webauthn.type){case"create":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:VC(d.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},d),{webauthn:Object.assign(Object.assign({},d.webauthn),{credential_options:Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:GC(d.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:i}=await this._challenge({factorId:t.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:i}=await this.getUser();if(i)return{data:null,error:i};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=a?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Wf(i.access_token);let c=null;u.aal&&(c=u.aal);let d=c;((a=(t=i.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:i.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new qt})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new qt});const c=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&yt()&&!a?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(t,a){try{return await this._useSession(async i=>{const{data:{session:o},error:u}=i;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new qt});const c=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:d=>({data:d,error:null})});return c.data&&c.data.redirect_url&&yt()&&!a?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:i}=t;return i?this._returnResult({data:null,error:i}):a?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new qt})})}catch(t){if(se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:i},error:o}=a;return o?this._returnResult({data:null,error:o}):i?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new qt})})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let i=a.keys.find(d=>d.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+eC>o)return i;const{data:u,error:c}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,i=u.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,a={}){try{let i=t;if(!i){const{data:_,error:x}=await this.getSession();if(x||!_.session)return this._returnResult({data:null,error:x});i=_.session.access_token}const{header:o,payload:u,signature:c,raw:{header:d,payload:m}}=Wf(i);a?.allowExpired||EC(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!p){const{error:_}=await this.getUser(i);if(_)throw _;return{data:{claims:u,header:o,signature:c},error:null}}const g=xC(o.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,c,cC(`${d}.${m}`)))throw new qd("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}Gs.nextInstanceID={};const n1=Gs,r1="2.90.1";let Us="";typeof Deno<"u"?Us="deno":typeof document<"u"?Us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Us="react-native":Us="node";const a1={"X-Client-Info":`supabase-js-${Us}/${r1}`},i1={headers:a1},s1={schema:"public"},o1={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l1={};function Ks(e){"@babel/helpers - typeof";return Ks=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ks(e)}function u1(e,t){if(Ks(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var i=a.call(e,t);if(Ks(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c1(e){var t=u1(e,"string");return Ks(t)=="symbol"?t:t+""}function f1(e,t,a){return(t=c1(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function $v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),a.push.apply(a,i)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$v(Object(a),!0).forEach(function(i){f1(e,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$v(Object(a)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(a,i))})}return e}const d1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),h1=()=>Headers,m1=(e,t,a)=>{const i=d1(a),o=h1();return async(u,c)=>{var d;const m=(d=await t())!==null&&d!==void 0?d:e;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(u,Xe(Xe({},c),{},{headers:p}))}};function p1(e){return e.endsWith("/")?e:e+"/"}function g1(e,t){var a,i;const{db:o,auth:u,realtime:c,global:d}=e,{db:m,auth:p,realtime:g,global:v}=t,w={db:Xe(Xe({},m),o),auth:Xe(Xe({},p),u),realtime:Xe(Xe({},g),c),storage:{},global:Xe(Xe(Xe({},v),d),{},{headers:Xe(Xe({},(a=v?.headers)!==null&&a!==void 0?a:{}),(i=d?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return e.accessToken?w.accessToken=e.accessToken:delete w.accessToken,w}function y1(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p1(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var v1=class extends n1{constructor(e){super(e)}},b1=class{constructor(e,t,a){var i,o;this.supabaseUrl=e,this.supabaseKey=t;const u=y1(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:s1,realtime:l1,auth:Xe(Xe({},o1),{},{storageKey:c}),global:i1},m=g1(a??{},d);if(this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=m1(t,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Xe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new WT(new URL("rest/v1",u).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new YO(this.storageUrl.href,this.headers,this.fetch,a?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new FT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,a;if(e.accessToken)return await e.accessToken();const{data:i}=await e.auth.getSession();return(t=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:i,userStorage:o,storageKey:u,flowType:c,lock:d,debug:m,throwOnError:p},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new v1({url:this.authUrl.href,headers:Xe(Xe({},w),g),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:i,userStorage:o,flowType:c,lock:d,debug:m,throwOnError:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pO(this.realtimeUrl.href,Xe(Xe({},e),{},{params:Xe(Xe({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const w1=(e,t,a)=>new b1(e,t,a);function _1(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}_1()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const S1="https://strhxqxvsrecfilfojtc.supabase.co",E1="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0cmh4cXh2c3JlY2ZpbGZvanRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1OTUyNDAsImV4cCI6MjA3OTE3MTI0MH0.DZE2vpUTEqAAIMzT5GUxeV99d98RjDcG-a5IhUtasrI",Le=w1(S1,E1,{auth:{persistSession:!0,autoRefreshToken:!0},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),x1=1e3*15,sn=new ZA({defaultOptions:{queries:{staleTime:x1,gcTime:1e3*60*10,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:1},mutations:{retry:!1}}}),Jn={diaryLibrary:e=>["diary","library",e],diaryStats:e=>["diary","stats",e],homeForYou:e=>["home-for-you",e],homeFeed:e=>["home-feed",e],titleDiary:(e,t)=>["title-diary",e,t],titleDetail:e=>["title-detail",e],moreLikeThis:e=>["more-like-this",e],conversations:e=>["messages","conversations",e],friendsTitleReactions:(e,t)=>["title-friends-reactions",e,t],assistantSuggestions:(e,t,a)=>["assistant","suggestions",e,t,a],assistantPrefs:e=>["assistant","prefs",e],isAppAdmin:()=>["admin","is-app-admin"],assistantHealthSnapshot:()=>["admin","assistant-health-snapshot"]},da={"ux.assistant.username":"movinesta","ux.presence.channel":"presence:global","ux.presence.label_online":"Online","ux.presence.label_active_recently":"Active recently","ux.presence.label_active_prefix":"Active","ux.presence.online_ttl_ms":45e3,"ux.presence.away_ttl_ms":2*6e4,"ux.presence.heartbeat_ms":2e4,"ux.presence.recompute_ms":5e3,"ux.presence.db_touch_min_interval_ms":6e4,"ux.presence.initial_sync_delay_ms":150,"ux.typing.inactivity_ms":3e3,"ux.typing.heartbeat_ms":2e3,"ux.typing.remote_ttl_ms":5e3,"ux.messages.max_message_chars":2e3,"ux.messages.composer_max_height_px":140,"ux.messages.search.min_query_chars":2,"ux.attachments.max_image_bytes":10*1024*1024,"ux.search.page_size":20,"ux.search.batch_sync_limit":5,"ux.search.min_query_chars":2,"ux.search.stale_time_ms":1e3*60*30,"ux.search.gc_time_ms":1e3*60*60,"ops.frontend.function_timeout_ms":2e4,"ops.search.timeout_ms":2e4},$0="movinesta.public_settings.v1";let lu=1,eo={...da};function I0(e){const t={...da};if(!e)return t;for(const[a,i]of Object.entries(e))t[a]=i;return t}function A1(){if(!(typeof window>"u"))try{const e=window.localStorage.getItem($0);if(!e)return;const t=JSON.parse(e),a=Number(t?.version??1)||1,i=t?.settings;i&&typeof i=="object"&&(lu=a,eo=I0(i))}catch{}}function R1(){if(!(typeof window>"u"))try{const e={version:lu,settings:eo};window.localStorage.setItem($0,JSON.stringify(e))}catch{}}A1();function T1(e,t){lu=Number(e||1)||1,eo=I0(t),R1()}function O1(){return{version:lu,settings:{...eo}}}function C1(e,t){const a=eo[e];return typeof a=="number"&&Number.isFinite(a)?a:t}class td extends Error{status;code;details;requestId;constructor(t,a){super(t),this.name="ApiError",this.status=a?.status,this.code=a?.code,this.details=a?.details,this.requestId=a?.requestId}}function k1(){try{return crypto.randomUUID()}catch{return`req_${Date.now()}_${Math.floor(Math.random()*1e9)}`}}async function Fs(e,t,a){if(a?.signal?.aborted)throw a.signal.reason??new DOMException("Aborted","AbortError");const i=new AbortController,o=a?.timeoutMs??C1("ops.frontend.function_timeout_ms",2e4),u=setTimeout(()=>i.abort(new DOMException("Timeout","TimeoutError")),o),c=()=>i.abort(a?.signal?.reason??new DOMException("Aborted","AbortError"));a?.signal?.addEventListener("abort",c);try{const d=k1(),m=await Le.functions.invoke(e,{body:t,headers:{"x-request-id":d},signal:i.signal}),p=m?.data,g=m?.error,v=m?.response?.headers?.get?.("x-request-id")??(typeof p=="object"&&p&&typeof p.requestId=="string"?String(p.requestId):void 0);if(g)throw new td(g.message,{status:g.status,requestId:v??d});if(p==null)throw new td(`Missing data from ${e}`,{requestId:v??d});if(typeof p=="object"&&p&&p.ok===!1){const w=p;throw new td(w.message??`Request failed: ${e}`,{status:p.status,code:w.code,details:w.details,requestId:w.requestId??v??d})}return p}finally{clearTimeout(u),a?.signal?.removeEventListener("abort",c)}}async function EM(e,t,a){const i={path:e,params:{language:$T(),...t}};try{return(await Fs("tmdb-proxy",i,{signal:a})).data}catch(o){return console.warn(`[tmdb] Request error for ${e}:`,o),null}}function H0(e,t="w500"){return e?`https://image.tmdb.org/t/p/${t}${e}`:null}const N1=e=>{if(!e)return null;const t=Number(String(e).slice(0,4));return Number.isFinite(t)?t:null},D1=e=>{if(!e)return null;const t=String(e).match(/\d{4}/);if(!t)return null;const a=Number(t[0]);return Number.isFinite(a)?a:null},j1=e=>[e.omdb_title,e.tmdb_title,e.tmdb_name,e.tmdb_original_title,e.tmdb_original_name].find(i=>!!(i&&i.trim()))?.trim()||"Untitled",M1=e=>e?e==="movie"?"movie":e==="series"||e==="tv"?"series":e==="anime"?"anime":null:null,U1=(e,t="w500")=>e.omdb_poster&&e.omdb_poster.trim()?e.omdb_poster.trim():H0(e.tmdb_poster_path,t),L1=(e,t="w780")=>H0(e.tmdb_backdrop_path,t),P1=e=>{if(!e)return null;const t=String(e).match(/(\d{1,3})/);if(!t)return null;const a=Number(t[1]);return Number.isFinite(a)?a:null},z1=e=>e.tmdb_original_language?e.tmdb_original_language:e.omdb_language&&e.omdb_language.split(",")[0]?.trim()||null,B1=e=>{const t=e.tmdb_release_date??e.tmdb_first_air_date??null,a=N1(t)??D1(e.omdb_year);return{id:e.id,title:j1(e),year:a,type:M1(e.kind),posterUrl:U1(e),backdropUrl:L1(e),originalLanguage:z1(e),ageRating:e.omdb_rated??null,imdbRating:e.omdb_imdb_rating??null,rtTomatoMeter:P1(e.omdb_rating_rotten_tomatoes),imdbId:e.omdb_imdb_id??null,tmdbId:e.tmdb_id!=null?Number(e.tmdb_id):null}},V0=e=>{if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const i=new Date().getTime()-t.getTime();if(i<=0)return"Just now";const o=Math.floor(i/1e3);if(o<45)return"Just now";const u=Math.floor(o/60);if(u<60)return`${u} min ago`;const c=Math.floor(u/60);if(c<24)return`${c} h ago`;const d=Math.floor(c/24);if(d===1)return"Yesterday";if(d<7)return`${d} days ago`;const m=Math.floor(d/7);if(m<4)return`${m} wk${m===1?"":"s"} ago`;const p=Math.floor(d/30);if(p<1)return`${m} wk${m===1?"":"s"} ago`;if(p<12)return`${p} mo${p===1?"":"s"} ago`;const g=Math.floor(p/12);return`${g} yr${g===1?"":"s"} ago`},Bs=e=>{if(e==null)return null;const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?Math.max(0,Math.min(5,t/2)):null},xM=e=>{if(e==null)return null;const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?Math.max(0,Math.min(10,t*2)):null};function q1(e){if(!e)return null;const t=e.toString(),[a,i]=t.split("|");return a?{createdAt:a,id:i||null}:null}function $1(e){return e?.createdAt?e.id?`${e.createdAt}|${e.id}`:e.createdAt:null}const nd=40,Iv=["teal","violet","orange"];function I1(e){let t=0;for(let a=0;a<e.length;a+=1)t=t*31+e.charCodeAt(a)>>>0;return Iv[t%Iv.length]}function H1(e,t){const a=e??{},i=a.id??t,o=a.display_name?.toString().trim()||a.username?.toString().trim()||"Someone",u=a.avatar_url?.toString().trim()||null;return{id:i,displayName:o,avatarUrl:u,avatarColor:I1(i)}}function V1(e){if(!e||typeof e!="object")return null;const t=B1(e);return{id:t.id,name:t.title,posterUrl:t.posterUrl??t.backdropUrl??null,mediaType:t.type??"movie",year:t.year??null,subtitle:null,backdropUrl:t.backdropUrl??null}}function rd(e,t){if(!e||typeof e!="object")return null;for(const a of t){const i=e[a];if(typeof i=="number"&&Number.isFinite(i))return i;if(typeof i=="string"){const o=Number(i);if(Number.isFinite(o))return o}}return null}function ui(e,t){if(!e||typeof e!="object")return null;for(const a of t){const i=e[a];if(typeof i=="string"&&i.trim())return i.trim()}return null}function G1(e){const t=e.created_at,a=V0(t)??"",i=H1(e.actor_profile,e.user_id),o=V1(e.media_item);if(!o)return null;const u=e.payload;switch(e.event_type){case"rating_created":{const c=Bs(rd(u,["rating","score","value"])??null);return c==null?null:{kind:"friend-rating",id:e.id,user:i,createdAt:t,relativeTime:a,title:o,rating:c,reviewSnippet:ui(u,["reviewSnippet","review","snippet","body","text"])??void 0,emoji:ui(u,["emoji","icon"])??void 0}}case"review_created":{const c=ui(u,["reviewSnippet","review","snippet","body","text"])??"",d=Bs(rd(u,["rating","score","value"])??null);return{kind:"friend-review",id:e.id,user:i,createdAt:t,relativeTime:a,title:o,rating:d??void 0,reviewSnippet:c,emoji:ui(u,["emoji","icon"])??void 0}}case"watched":return{kind:"friend-watched",id:e.id,user:i,createdAt:t,relativeTime:a,title:o,rating:Bs(rd(u,["rating","score","value"])??null)??void 0};case"watchlist_added":return{kind:"watchlist-add",id:e.id,user:i,createdAt:t,relativeTime:a,title:o,note:ui(u,["note","message","extra"])??void 0};case"watchlist_removed":return{kind:"watchlist-remove",id:e.id,user:i,createdAt:t,relativeTime:a,title:o};case"list_item_added":{const c=ui(u,["blurb","note","message"])??void 0;return{kind:"recommendation",id:e.id,user:i,createdAt:t,relativeTime:a,title:o,reason:c}}default:return null}}function K1(e){if(!e||typeof e!="object")return!1;const t=e;return typeof t.id=="string"&&typeof t.created_at=="string"&&typeof t.user_id=="string"&&typeof t.event_type=="string"}function F1(e){const t=[],i=o=>{const u=Date.parse(o);return Number.isFinite(u)?u:0};for(let o=0;o<e.length;o+=1){const u=e[o],c=e[o+1];if(!c){t.push(u);continue}const d=i(u.createdAt),m=i(c.createdAt),p=u.user.id===c.user.id,g=u.title.id===c.title.id,v=Math.abs(d-m)<=12e4,w=u.kind==="friend-watched"&&c.kind==="friend-rating",_=u.kind==="friend-rating"&&c.kind==="friend-watched";if(p&&g&&v&&(w||_)){const x=w?u:c,S=w?c:u,A={...x,kind:"friend-watched",rating:typeof x.rating=="number"?x.rating:S.rating,createdAt:d>=m?u.createdAt:c.createdAt,relativeTime:d>=m?u.relativeTime:c.relativeTime};t.push(A),o+=1;continue}t.push(u)}return t}async function Q1(e,t){const{data:a,error:i}=await Le.rpc("get_home_feed_v2",{p_user_id:e,p_limit:nd,p_cursor_created_at:t?.createdAt??null,p_cursor_id:t?.id??null});if(i)throw i;const o=(Array.isArray(a)?a:[]).filter(K1),u=o.length>nd,c=u?o.slice(0,nd):o,d=c.map(G1).filter(Boolean),m=F1(d),p=c.at(-1),g=u&&p?{createdAt:p.created_at,id:p.id}:null;return{items:m,nextCursor:g,hasMore:u}}async function G0(e,t=null){const a=q1(t),i=await Q1(e,a);return{items:i.items,nextCursor:$1(i.nextCursor),hasMore:i.hasMore}}function AM(){const{user:e}=un(),t=e?.id??null,a=fR({queryKey:Jn.homeFeed(t),enabled:!!t,initialPageParam:null,queryFn:({pageParam:u})=>G0(t,u??null),getNextPageParam:u=>u.hasMore?u.nextCursor:void 0,staleTime:60*1e3}),i=(a.data?.pages??[]).flatMap(u=>u.items),o=a.error instanceof Error?a.error.message:a.error?String(a.error):null;return{items:i,isLoading:a.isPending,error:o,hasMore:!!a.hasNextPage,isLoadingMore:a.isFetchingNextPage,loadMore:()=>a.fetchNextPage()}}const $d={totalRated:0,totalWatched:0,averageRating:null,ratingDistribution:[],topGenres:[],watchCountByMonth:[]},Id=(e,t)=>Le.rpc(e,t??{}),Y1=e=>{if(!e)return $d;const t=Array.isArray(e.rating_distribution)?e.rating_distribution.map(c=>{if(!c||typeof c!="object")return null;const d=Number(c.rating),m=Number(c.count);return Number.isNaN(d)||Number.isNaN(m)?null:{rating:Bs(d)??d,count:m}}).filter(Boolean):[],a=Array.isArray(e.top_genres)?e.top_genres.map(c=>{if(!c||typeof c!="object")return null;const d=c.genre,m=Number(c.count);return typeof d!="string"||Number.isNaN(m)?null:{genre:d,count:m}}).filter(Boolean):[],i=Array.isArray(e.watch_count_by_month)?e.watch_count_by_month.map(c=>{if(!c||typeof c!="object")return null;const d=c.month,m=Number(c.count);return typeof d!="string"||Number.isNaN(m)?null:{month:d,count:m}}).filter(Boolean):[],o=e.average_rating,u=o===null||typeof o>"u"?null:Bs(Number(o));return{totalRated:Number(e.total_rated??0),totalWatched:Number(e.total_watched??0),averageRating:u!==null&&Number.isNaN(u)?null:u,ratingDistribution:t,topGenres:a,watchCountByMonth:i}},K0=async e=>{const{data:t,error:a}=await Id("get_diary_stats",{p_user_id:e});if(a)throw new Error(a.message);return Y1(t?.[0])},RM=()=>{const{user:e}=un(),t=e?.id??null,a=Ni({queryKey:Jn.diaryStats(t),enabled:!!t,queryFn:async()=>t?K0(t):$d});return{stats:a.data??$d,isLoading:a.isLoading,isError:a.isError,error:a.error?.message??null}},F0=e=>["conversations",e??"anon"],TM=e=>["conversation",e,"messages"],OM=e=>["conversation",e,"readReceipts"],CM=(e,t)=>["conversation",e,"deliveryReceipts","messageIds",t],kM=e=>["conversation",e,"reactions"],NM=e=>["conversation",e,"assistantReplyStatus"],ha=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),Q0=e=>{const t=e.trim();if(!t)return null;const a=t[0];if(a!=="{"&&a!=="[")return null;try{const i=JSON.parse(t);return ha(i)?i:null}catch{return null}},an=e=>typeof e=="string"?e:null,X1=e=>{if(!Array.isArray(e))return null;const t=e.map(a=>ha(a)?an(a.text):null).map(a=>a?.trim()??"").filter(Boolean);return t.length?t.join(`
`):null};function Ui(e){let t=null,a=null;if(typeof e=="string"){const m=Q0(e);m?t=m:a=e}else ha(e)&&(t=e);const i=an(t?.message_type)??an(t?.type)??(a!=null?"text":"unknown"),o=an(t?.text)??an(t?.message)??X1(t?.blocks)??a??"",u=an(t?.clientId)??an(t?.client_id)??null,d={...ha(t?.meta)?t.meta:t??{}};for(const m of["deleted","deletedAt","editedAt","caption"]){const p=t?.[m];p!==void 0&&d[m]===void 0&&(d[m]=p)}return{type:i,text:typeof o=="string"?o:"",clientId:u,meta:d}}function DM(e){return Ui(e).type||"unknown"}function jM(e){return Ui(e).clientId}function MM(e){const a=Ui(e).meta??{},i={};return typeof a.deleted=="boolean"&&(i.deleted=a.deleted),typeof a.deletedAt=="string"&&(i.deletedAt=a.deletedAt),typeof a.editedAt=="string"&&(i.editedAt=a.editedAt),typeof a.caption=="string"&&(i.caption=a.caption),i}function J1(e){const t=Ui(e),a=t.meta??{};if(a.deleted===!0)return"Message deleted";const o=t.type,u=typeof a.caption=="string"?a.caption:typeof a.text=="string"?a.text:null;if((o==="image"||o==="text+image")&&t.text.trim()===""){const d=typeof u=="string"?u.trim():"";return d||"Photo"}if((o==="audio"||o==="text+audio")&&t.text.trim()===""){const d=typeof u=="string"?u.trim():"";return d||"Audio"}if((o==="document"||o==="text+document")&&t.text.trim()===""){const d=typeof u=="string"?u.trim():"";return d||"Document"}const c=typeof t.text=="string"?t.text:"";return c.trim()?c.trim():""}function W1(e,t=120){const a=Ui(e),i=a.meta??{},o=a.type,u=i.deleted===!0,c=J1(e);let d=c;u?d=` ${c}`:o==="image"&&c==="Photo"?d=" Photo":o==="audio"&&c==="Audio"?d=" Audio":o==="document"&&c==="Document"&&(d=" Document"),typeof d!="string"&&(d="");const m=d.trim();return m?t>0&&m.length>t?m.slice(0,Math.max(0,t-1)).trimEnd()+"":m:null}function UM(e,t){const a=(typeof t=="string"?t:"").trim(),i=new Date().toISOString(),o=Ui(e),u={};if(ha(e))Object.assign(u,e);else if(typeof e=="string"){const p=Q0(e);p&&Object.assign(u,p)}const c=an(u.message_type)??an(u.type)??o.type??"text";u.type=c;const d=an(u.clientId)??an(u.client_id)??o.clientId;d&&(u.clientId=d);const m=an(u.text)??o.text??"";return(c==="image"||c==="text+image")&&m.trim()===""?(u.caption=a,u.text=""):u.text=a,u.editedAt=i,ha(u.meta)?u.meta={...u.meta,editedAt:i}:u.meta={editedAt:i},ha(e)?u:JSON.stringify(u)}const Hv=(e,t=0)=>{const a=new Date(e??"").getTime();return Number.isNaN(a)?t:a},Cl=new Map,Vv=()=>Date.now(),Gv=3600,Z1=6e4,ek=e=>/^https?:\/\//i.test(e),tk=e=>{try{const t=new URL(e);return t.hostname.endsWith(".supabase.co")||t.hostname==="localhost"||t.hostname==="127.0.0.1"}catch{return!1}};async function _h(e){if(!e)return null;if(ek(e))return tk(e)?e:null;const t=`avatars:${e}`,a=Cl.get(t);if(a&&a.expiresAt>Vv())return a.url;if(a?.inFlight)return a.inFlight;const i=(async()=>{const{data:o,error:u}=await Le.storage.from("avatars").createSignedUrl(e,Gv);return u||!o?.signedUrl?null:o.signedUrl})();Cl.set(t,{url:null,expiresAt:0,inFlight:i});try{const o=await i,u=Math.max(0,Gv*1e3-Z1);return Cl.set(t,{url:o,expiresAt:Vv()+u}),o}catch{return Cl.delete(t),null}}const Y0=e=>`movinesta.messages.conversation_prefs.v1:${e??"anon"}`,nk=e=>{if(!e)return{};try{const t=JSON.parse(e);return!t||typeof t!="object"?{}:t}catch{return{}}},rk=e=>({muted:!!e?.muted,hidden:!!e?.hidden,mutedUntil:e?.mutedUntil??null}),Sh=e=>typeof window>"u"?{}:nk(window.localStorage.getItem(Y0(e))),Hd=(e,t)=>{typeof window>"u"||window.localStorage.setItem(Y0(e),JSON.stringify(t))},Ms=(e,t,a)=>{if(!t)return;const i=Sh(e),u={...i[t]??{},...a},c=!u.muted&&!u.hidden&&!u.mutedUntil,d={...i};c?delete d[t]:d[t]=u,Hd(e,d)},Vd=e=>{const t=e?.message;if(!t)return!1;const a=t.toLowerCase();return a.includes("conversation_prefs")&&(a.includes("does not exist")||a.includes("relation")||a.includes("schema cache"))},X0=(e,t)=>{const a=e?.message;if(!a)return!1;const i=a.toLowerCase();return i.includes(t.toLowerCase())&&(i.includes("does not exist")||i.includes("column"))};let yi="unknown",Ls="unknown";const J0=async()=>{if(yi!=="unknown")return yi==="yes";const{error:e}=await Le.from("conversation_prefs").select("conversation_id").limit(1);return e?(yi=Vd(e)?"no":"unknown",!1):(yi="yes",!0)},W0=async()=>{if(Ls!=="unknown")return Ls==="yes";const{error:e}=await Le.from("conversation_prefs").select("muted_until").limit(1);return e?(Ls=X0(e,"muted_until")?"no":"unknown",!1):(Ls="yes",!0)},LM=async(e,t,a)=>{if(!e||!t)return Ms(e,t,a),{ok:!0,usedRemote:!1};if(!await J0())return Ms(e,t,a),{ok:!0,usedRemote:!1};if(!a.muted&&!a.hidden&&!a.mutedUntil){const{error:d}=await Le.from("conversation_prefs").delete().eq("user_id",e).eq("conversation_id",t);return d?Vd(d)?(yi="no",Ms(e,t,a),{ok:!0,usedRemote:!1}):(console.error("[conversationPrefs] failed to delete prefs",d),{ok:!1,usedRemote:!0}):{ok:!0,usedRemote:!0}}const o=await W0(),u={user_id:e,conversation_id:t,muted:!!a.muted,hidden:!!a.hidden};o&&(u.muted_until=a.mutedUntil??null);const{error:c}=await Le.from("conversation_prefs").upsert(u,{onConflict:"user_id,conversation_id"});if(c){if(Vd(c))return yi="no",Ms(e,t,a),{ok:!0,usedRemote:!1};if(X0(c,"muted_until")){Ls="no",a.mutedUntil&&Ms(e,t,{mutedUntil:a.mutedUntil});const{error:d}=await Le.from("conversation_prefs").upsert({user_id:e,conversation_id:t,muted:!!a.muted,hidden:!!a.hidden},{onConflict:"user_id,conversation_id"});return d?(console.error("[conversationPrefs] failed to upsert prefs (retry)",d),{ok:!1,usedRemote:!0}):{ok:!0,usedRemote:!0}}return console.error("[conversationPrefs] failed to upsert prefs",c),{ok:!1,usedRemote:!0}}return{ok:!0,usedRemote:!0}};let Kv=!1;const PM=async e=>{if(!e||Kv)return;Kv=!0;const t=Sh(e),a=Object.entries(t);if(!a.length||!await J0())return;const o=await W0(),u=a.map(([d,m])=>{const p=rk(m),g={user_id:e,conversation_id:d,muted:p.muted,hidden:p.hidden};return o&&(g.muted_until=p.mutedUntil),g}).filter(d=>!!d.muted||!!d.hidden||!!d.muted_until);if(!u.length){Hd(e,{});return}const{error:c}=await Le.from("conversation_prefs").upsert(u,{onConflict:"user_id,conversation_id"});if(c){console.warn("[conversationPrefs] local->remote migration failed",c);return}Hd(e,{})},Z0=async e=>{let t=[],a=!0;{const{data:g,error:v}=await Id("get_conversation_summaries_v2",{p_user_id:e});if(v){a=!1;const{data:w,error:_}=await Id("get_conversation_summaries",{p_user_id:e});if(_)throw console.error("[useConversations] Failed to load conversation summaries",_),new Error(_.message);t=w??[]}else t=g??[]}const i=Sh(e),o=a&&t.some(g=>Object.prototype.hasOwnProperty.call(g,"self_muted_until")),u=a&&t.some(g=>Object.prototype.hasOwnProperty.call(g,"self_hidden")),c=a&&t.some(g=>Object.prototype.hasOwnProperty.call(g,"self_muted")),d=t.map(g=>{const v=Array.isArray(g.participants)?g.participants:[],w=Array.isArray(g.participant_receipts)?g.participant_receipts:[],_=v.filter(J=>!J.isSelf),x=v.some(J=>J.isSelf),S=!!g.is_group;let A,T;if(S)A=g.title??(_.length>0?_.slice(0,3).map(J=>J.displayName??J.username??"Unknown user").join(", "):"Group conversation"),T=_.length>0?`${v.length} participants`:"Group conversation";else{const J=_[0]??v[0];A=J?.displayName??J?.username??g.title??"Direct message",T=J?.username!=null?`@${J.username}`:x&&_.length===0?"Just you":"Direct message"}const R=g.last_message_body?W1(g.last_message_body):null,C=g.last_message_created_at??g.updated_at??g.created_at??null,P=V0(C),$=g.self_last_read_at??null,F=g.self_last_read_message_id??null,M=!!g.last_message_id&&!!(F&&F!==g.last_message_id||!F&&C&&(!$||Hv(C)>Hv($))),H=g.last_message_user_id===e;let Z=!1;if(!S&&g.last_message_id&&H&&C){const J=w.find(ee=>ee.userId!==e);if(J?.lastReadMessageId)Z=J.lastReadMessageId===g.last_message_id;else if(J?.lastReadAt){const ee=new Date(C).getTime(),ie=new Date(J.lastReadAt).getTime();!Number.isNaN(ee)&&!Number.isNaN(ie)&&ie>=ee&&(Z=!0)}}return{id:g.conversation_id,isGroup:S,title:A,subtitle:T,participants:v.map(J=>({id:J.id,displayName:J.displayName??J.username??"Unknown user",username:J.username,avatarUrl:J.avatarUrl,isSelf:J.isSelf})),lastMessageId:g.last_message_id??null,lastMessagePreview:R,lastMessageAt:C??null,lastMessageAtLabel:P,hasUnread:M,lastMessageIsFromSelf:H,lastMessageSeenByOthers:Z,isMuted:(()=>{const J=i[g.conversation_id]??{},ee=J.mutedUntil??null,ie=ee?Date.parse(ee):NaN,ue=!!J.muted||Number.isFinite(ie)&&ie>Date.now(),ve=c?!!g.self_muted:!1;return a?o?ve:ve||ue:ue})(),mutedUntil:(()=>{const ee=(i[g.conversation_id]??{}).mutedUntil??null,ie=g.self_muted_until??null;return a&&o?ie:ee})(),isHidden:(()=>{const ee=!!(i[g.conversation_id]??{}).hidden,ie=!!g.self_hidden;return a&&u?ie:ee})()}});d.sort((g,v)=>{const w=g.lastMessageAt?Date.parse(g.lastMessageAt):0,_=v.lastMessageAt?Date.parse(v.lastMessageAt):0,x=Number.isFinite(w)?w:0,S=Number.isFinite(_)?_:0;return S!==x?S-x:g.id.localeCompare(v.id)});const m=new Set;if(d.forEach(g=>g.participants.forEach(v=>{v.avatarUrl&&m.add(v.avatarUrl)})),!m.size)return d;const p=new Map;return await Promise.all(Array.from(m).map(async g=>{p.set(g,await _h(g))})),d.map(g=>({...g,participants:g.participants.map(v=>({...v,avatarUrl:v.avatarUrl?p.get(v.avatarUrl)??null:null}))}))},zM=()=>{const{user:e}=un(),t=e?.id??null;return Ni({queryKey:F0(t),enabled:!!t,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:t?()=>document?.hidden?!1:8e3:!1,refetchIntervalInBackground:!0,queryFn:async()=>t?Z0(t):[]})};function ew(e){try{return typeof window>"u"||!window.localStorage?null:window.localStorage.getItem(e)}catch{return null}}function Eh(e,t){try{if(typeof window>"u"||!window.localStorage)return;window.localStorage.setItem(e,t)}catch{}}function tw(e){try{if(typeof window>"u"||!window.localStorage)return;window.localStorage.removeItem(e)}catch{}}function nw(e){try{return typeof window>"u"||!window.sessionStorage?null:window.sessionStorage.getItem(e)}catch{return null}}function xh(e,t){try{if(typeof window>"u"||!window.sessionStorage)return;window.sessionStorage.setItem(e,t)}catch{}}function ak(e){try{if(typeof window>"u"||!window.sessionStorage)return;window.sessionStorage.removeItem(e)}catch{}}function xi(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function Fv(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}function Ah(){if(typeof window>"u")return"00000000-0000-0000-0000-000000000000";const e="mediaSwipeSessionId",t=ew(e);if(t&&Fv(t))return t;t&&!Fv(t)&&tw(e);const a=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():xi();return Eh(e,a),a}function ik(){return typeof window>"u"?"00000000-0000-0000-0000-000000000000":(tw("mediaSwipeSessionId"),Ah())}function rw(e){if(!e)return null;let t=String(e).trim().toLowerCase();return t?(t=t.replace(/\s+/g,"_").replace(/-+/g,"_"),t==="for_you"||t==="for-you"||t==="foryou"?"for_you":t==="from_friends"||t==="from-friends"||t==="friends"?"friends":t==="trending"?"trending":t==="popular"?"popular":t==="combined"?"combined":t==="explore"?"explore":t==="search"?"search":t==="onboarding"?"onboarding":t==="unknown"?"unknown":t):null}const sk="mn_swipe_deck_seed_v1";function aw(e,t,a){return`${sk}:${e}:${t}:${a??"*"}`}function Qv(e,t,a){if(typeof window>"u")return xi();const i=aw(e,t,a),o=nw(i)??ew(i);if(o)return o;const u=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():xi();try{xh(i,u)}catch{}try{Eh(i,u)}catch{}return u}function BM(e,t,a){if(typeof window>"u")return xi();const i=aw(e,t,a),o=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():xi();try{xh(i,o)}catch{}try{Eh(i,o)}catch{}return o}function uu(e,t){return new Promise((a,i)=>{const o=setTimeout(()=>i(new Error("Request timed out")),t);e.then(u=>{clearTimeout(o),a(u)}).catch(u=>{clearTimeout(o),i(u)})})}function iw(e){return e&&typeof e=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)?e:typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():xi()}async function ok(e,t){const a={...e,seed:e.seed&&typeof e.seed=="string"?e.seed:Qv(e.sessionId,e.mode,e.kindFilter)},i=async g=>{const v=Le.functions.invoke("media-swipe-deck",{body:g}),w=await uu(v,t?.timeoutMs??25e3);if(w.error)throw w.error;return w.data};let o,u=0,c=a;for(;u<2;){if(o=await i(c),o?.ok===!1&&o?.code==="INVALID_SESSION"){const g=ik();c={...a,sessionId:g,seed:Qv(g,a.mode,a.kindFilter)},u+=1;continue}break}if(o?.ok===!1&&o?.code==="INVALID_SESSION")throw new Error("Your swipe session expired. Please refresh and try again.");if(o?.ok===!1)throw new Error(o?.message||o?.code||"media-swipe-deck failed");const d=(o?.ok===!0,o),m=d?.deckId,p=d?.cards;if(!m||!Array.isArray(p))throw new Error("Invalid media-swipe-deck response");return{deckId:m,cards:p}}function sw(e){return e==="open"?"detail_open":e==="seen"?"detail_close":e}async function lk(e,t){const a={...e,source:rw(e.source)??e.source??null,events:(Array.isArray(e.events)?e.events:[]).map(c=>({...c,eventType:sw(c?.eventType),clientEventId:iw(c?.clientEventId)}))},i=Le.functions.invoke("media-swipe-event",{body:a}),o=await uu(i,t?.timeoutMs??2e4);if(o.error)throw o.error;const u=o.data;return u?.ok===!0?{ok:!0}:{ok:!1,message:u?.message}}async function qM(e,t){const a=e;if(Array.isArray(a?.events))return await lk(a,t);const i=sw(a.eventType),o={...e,eventType:i,source:rw(e.source)??e.source??null,clientEventId:iw(e.clientEventId)},u=Le.functions.invoke("media-swipe-event",{body:o}),c=await uu(u,t?.timeoutMs??2e4);if(c.error)throw c.error;const d=c.data;return d?.ok===!0?{ok:!0}:{ok:!1,message:d?.message}}async function $M(e,t){const a={sessionId:e.sessionId,mediaItemIds:Array.isArray(e.mediaItemIds)?e.mediaItemIds:[]},i=Le.functions.invoke("onboarding-initial-likes",{body:a}),o=await uu(i,t?.timeoutMs);if(o.error)throw o.error;const u=o.data;return u?.ok===!0?{ok:!0}:{ok:!1,message:u?.message}}const Yv=e=>["swipeDeck",{variant:e}];function uk(e){return e==="trending"||e==="popular"?"trending":e==="from-friends"?"friends":e==="combined"?"combined":"for_you"}function ck(e){if(!e)return null;const t=e.replace("-","_");return t==="for_you"?"for-you":t==="friends"?"from-friends":t==="trending"?"trending":t==="popular"?"popular":t==="combined"?"combined":t==="explore"?"explore":null}function fk(e){return e==="series"?"series":e==="anime"?"anime":"movie"}function dk(e,t,a,i){const o=Array.isArray(e.friendProfiles)?e.friendProfiles:void 0,u=Array.isArray(e.friendIds)?e.friendIds:void 0;return{id:String(e.mediaItemId??e.id),title:e.title??"Untitled",overview:e.overview??null,posterUrl:e.posterUrl??null,backdropUrl:e.backdropUrl??null,year:typeof e.releaseYear=="number"?e.releaseYear:null,type:fk(e.kind),releaseDate:e.releaseDate??null,runtimeMinutes:typeof e.runtimeMinutes=="number"?e.runtimeMinutes:null,director:e.director??null,writer:e.writer??null,actors:e.actors??null,rated:e.rated??null,metascore:e.metascore??null,imdbVotes:e.imdbVotes??null,awards:e.awards??null,boxOffice:e.boxOffice??null,genres:Array.isArray(e.genres)?e.genres:null,language:e.language??null,country:e.country??null,imdbRating:typeof e.imdbRating=="number"?e.imdbRating:null,rtTomatoMeter:typeof e.rtTomatoMeter=="number"?e.rtTomatoMeter:null,friendProfiles:o,friendIds:u,friendLikesCount:o?.length??0,deckId:t,position:a,source:ck(e.source)??i,initialRating:typeof e.initialRating=="number"?e.initialRating:null,initiallyInWatchlist:typeof e.initiallyInWatchlist=="boolean"?e.initiallyInWatchlist:null}}async function hk(e,t,a,i){const o=Ah(),u=uk(e),c=await ok({sessionId:o,mode:u,limit:t,kindFilter:i?.kindFilter??null,skipRerank:i?.skipRerank}),d=c.deckId??null;return(Array.isArray(c.cards)?c.cards:[]).map((p,g)=>dk(p,d,g,e))}async function mk(e,t,a){const i=a?.limit??20,o=e.getQueryData(Yv(t));if(o&&o.status==="ready"&&o.cards.length>=Math.min(i,10))return;const u=await hk(t,i,a?.weights,{kindFilter:a?.kindFilter??null,skipRerank:a?.skipRerank});e.setQueryData(Yv(t),{status:u.length?"ready":"exhausted",cards:u,index:u.length?0:null,errorMessage:null})}const ow=b.createContext(void 0),pk=({children:e})=>{const[t,a]=b.useState(null),[i,o]=b.useState(!0),u=b.useRef(null),c=b.useCallback(async()=>{o(!0);const{data:p,error:g}=await Le.auth.getUser();g&&console.error("Error loading auth user:",g.message),a(p?.user??null),o(!1)},[]);b.useEffect(()=>{c();const{data:{subscription:p}}=Le.auth.onAuthStateChange((g,v)=>{if(g==="INITIAL_SESSION"){v?.user&&(a(v.user),o(!1));return}a(v?.user??null),o(!1)});return()=>{p.unsubscribe()}},[c]),b.useEffect(()=>{const p=t?.id;if(!p){u.current=null;return}if(u.current===p)return;u.current=p;const g=["combined","for-you","from-friends","trending"];(async()=>await Promise.allSettled([sn.prefetchInfiniteQuery({queryKey:Jn.homeFeed(p),initialPageParam:null,queryFn:({pageParam:w})=>G0(p,w??null)}),sn.prefetchQuery({queryKey:F0(p),queryFn:()=>Z0(p)}),sn.prefetchQuery({queryKey:Jn.diaryStats(p),queryFn:()=>K0(p)}),...g.map(w=>mk(sn,w,{limit:w==="combined"?36:18,skipRerank:!0}))]))()},[t?.id]);const d=b.useCallback(async()=>{const{error:p}=await Le.auth.signOut();p&&console.error("Error signing out:",p.message),sn.clear(),a(null)},[]),m={user:t,loading:i,signOut:d};return k.jsx(ow.Provider,{value:m,children:e})},un=()=>{const e=b.useContext(ow);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},Gd=e=>e?.code==="PGRST116",gk=e=>/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(e),yk=e=>{if(!e)return null;const t=e.trim();return t?t.startsWith("@")?t.slice(1):t:null},IM=e=>{const{user:t}=un(),a=yk(e),i=a&&gk(a)?"id":"username";return Ni({queryKey:["profile","byUsername",i,a,t?.id??null],enabled:!!a,queryFn:async()=>{if(!a)return null;const{data:o,error:u}=await Le.from("profiles_public").select("id, username, display_name, avatar_url, bio").eq(i,a).maybeSingle();if(u)throw Gd(u)?new Error("Profile not found"):u;if(!o)throw new Error("Profile not found");const c=o.id,d=await _h(o.avatar_url),[{count:m,error:p},{count:g,error:v}]=await Promise.all([Le.from("follows").select("followed_id",{count:"exact",head:!0}).eq("followed_id",c),Le.from("follows").select("follower_id",{count:"exact",head:!0}).eq("follower_id",c)]);if(p)throw p;if(v)throw v;let w=!1;if(t&&t.id!==c){const{data:_,error:x}=await Le.from("follows").select("follower_id").eq("follower_id",t.id).eq("followed_id",c).maybeSingle();if(x&&!Gd(x))throw x;w=!!_}return{id:c,username:o.username,displayName:o.display_name,avatarUrl:d,bio:o.bio,followersCount:m??0,followingCount:g??0,isFollowing:w,isCurrentUser:!!t&&t.id===c}}})},vk=()=>{const{user:e}=un();return Ni({queryKey:["profile","current",e?.id??null],enabled:!!e,queryFn:async()=>{if(!e)return null;const{data:t,error:a}=await Le.from("profiles").select("id, username, display_name, avatar_url, bio").eq("id",e.id).maybeSingle();if(a)throw Gd(a)?new Error("Profile not found for current user"):a;if(!t)throw new Error("Profile not found for current user");const i=t.id,o=await _h(t.avatar_url),{data:u,error:c}=await Le.from("user_stats").select("followers_count, following_count").eq("user_id",i).maybeSingle();if(c)throw c;const d=u?.followers_count??0,m=u?.following_count??0;return{id:i,username:t.username,displayName:t.display_name,avatarUrl:o,bio:t.bio,followersCount:d,followingCount:m,isFollowing:!1,isCurrentUser:!0}}})},bk="inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium",wk={default:"bg-card/80 text-muted-foreground border border-border",outline:"border border-border text-muted-foreground bg-transparent",accent:"bg-primary/20 text-primary border border-primary/30"},_k=({variant:e="default",className:t="",...a})=>{const i=[bk,wk[e],t].filter(Boolean).join(" ");return k.jsx("span",{className:i,...a})};function Nr(e,t,{checkForDefaultPrevented:a=!0}={}){return function(o){if(e?.(o),a===!1||!o.defaultPrevented)return t?.(o)}}function Sk(e,t=[]){let a=[];function i(u,c){const d=b.createContext(c),m=a.length;a=[...a,c];const p=v=>{const{scope:w,children:_,...x}=v,S=w?.[e]?.[m]||d,A=b.useMemo(()=>x,Object.values(x));return k.jsx(S.Provider,{value:A,children:_})};p.displayName=u+"Provider";function g(v,w){const _=w?.[e]?.[m]||d,x=b.useContext(_);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[p,g]}const o=()=>{const u=a.map(c=>b.createContext(c));return function(d){const m=d?.[e]||u;return b.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[i,Ek(o,...t)]}function Ek(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const c=i.reduce((d,{useScope:m,scopeName:p})=>{const v=m(u)[`__scope${p}`];return{...d,...v}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return a.scopeName=t.scopeName,a}function xk(e){const t=Ak(e),a=b.forwardRef((i,o)=>{const{children:u,...c}=i,d=b.Children.toArray(u),m=d.find(Tk);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}function Ak(e){const t=b.forwardRef((a,i)=>{const{children:o,...u}=a;if(b.isValidElement(o)){const c=Ck(o),d=Ok(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Rk=Symbol("radix.slottable");function Tk(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Rk}function Ok(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function Ck(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var kk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lw=kk.reduce((e,t)=>{const a=xk(`Primitive.${t}`),i=b.forwardRef((o,u)=>{const{asChild:c,...d}=o,m=c?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(m,{...d,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function Nk(e,t){e&&lh.flushSync(()=>e.dispatchEvent(t))}function Ai(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...a)=>t.current?.(...a),[])}function Dk(e,t=globalThis?.document){const a=Ai(e);b.useEffect(()=>{const i=o=>{o.key==="Escape"&&a(o)};return t.addEventListener("keydown",i,{capture:!0}),()=>t.removeEventListener("keydown",i,{capture:!0})},[a,t])}var jk="DismissableLayer",Kd="dismissableLayer.update",Mk="dismissableLayer.pointerDownOutside",Uk="dismissableLayer.focusOutside",Xv,uw=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cw=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:c,onDismiss:d,...m}=e,p=b.useContext(uw),[g,v]=b.useState(null),w=g?.ownerDocument??globalThis?.document,[,_]=b.useState({}),x=Lr(t,M=>v(M)),S=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),T=S.indexOf(A),R=g?S.indexOf(g):-1,C=p.layersWithOutsidePointerEventsDisabled.size>0,P=R>=T,$=zk(M=>{const H=M.target,Z=[...p.branches].some(J=>J.contains(H));!P||Z||(o?.(M),c?.(M),M.defaultPrevented||d?.())},w),F=Bk(M=>{const H=M.target;[...p.branches].some(J=>J.contains(H))||(u?.(M),c?.(M),M.defaultPrevented||d?.())},w);return Dk(M=>{R===p.layers.size-1&&(i?.(M),!M.defaultPrevented&&d&&(M.preventDefault(),d()))},w),b.useEffect(()=>{if(g)return a&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Xv=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),Jv(),()=>{a&&p.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=Xv)}},[g,w,a,p]),b.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),Jv())},[g,p]),b.useEffect(()=>{const M=()=>_({});return document.addEventListener(Kd,M),()=>document.removeEventListener(Kd,M)},[]),k.jsx(lw.div,{...m,ref:x,style:{pointerEvents:C?P?"auto":"none":void 0,...e.style},onFocusCapture:Nr(e.onFocusCapture,F.onFocusCapture),onBlurCapture:Nr(e.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Nr(e.onPointerDownCapture,$.onPointerDownCapture)})});cw.displayName=jk;var Lk="DismissableLayerBranch",Pk=b.forwardRef((e,t)=>{const a=b.useContext(uw),i=b.useRef(null),o=Lr(t,i);return b.useEffect(()=>{const u=i.current;if(u)return a.branches.add(u),()=>{a.branches.delete(u)}},[a.branches]),k.jsx(lw.div,{...e,ref:o})});Pk.displayName=Lk;function zk(e,t=globalThis?.document){const a=Ai(e),i=b.useRef(!1),o=b.useRef(()=>{});return b.useEffect(()=>{const u=d=>{if(d.target&&!i.current){let m=function(){fw(Mk,a,p,{discrete:!0})};const p={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);i.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",u),t.removeEventListener("click",o.current)}},[t,a]),{onPointerDownCapture:()=>i.current=!0}}function Bk(e,t=globalThis?.document){const a=Ai(e),i=b.useRef(!1);return b.useEffect(()=>{const o=u=>{u.target&&!i.current&&fw(Uk,a,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,a]),{onFocusCapture:()=>i.current=!0,onBlurCapture:()=>i.current=!1}}function Jv(){const e=new CustomEvent(Kd);document.dispatchEvent(e)}function fw(e,t,a,{discrete:i}){const o=a.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:a});t&&o.addEventListener(e,t,{once:!0}),i?Nk(o,u):o.dispatchEvent(u)}var ad=0;function qk(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Wv()),document.body.insertAdjacentElement("beforeend",e[1]??Wv()),ad++,()=>{ad===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),ad--}},[])}function Wv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function $k(e){const t=Ik(e),a=b.forwardRef((i,o)=>{const{children:u,...c}=i,d=b.Children.toArray(u),m=d.find(Vk);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}function Ik(e){const t=b.forwardRef((a,i)=>{const{children:o,...u}=a;if(b.isValidElement(o)){const c=Kk(o),d=Gk(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Hk=Symbol("radix.slottable");function Vk(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Hk}function Gk(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function Kk(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var Fk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Qk=Fk.reduce((e,t)=>{const a=$k(`Primitive.${t}`),i=b.forwardRef((o,u)=>{const{asChild:c,...d}=o,m=c?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(m,{...d,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),id="focusScope.autoFocusOnMount",sd="focusScope.autoFocusOnUnmount",Zv={bubbles:!1,cancelable:!0},Yk="FocusScope",dw=b.forwardRef((e,t)=>{const{loop:a=!1,trapped:i=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...c}=e,[d,m]=b.useState(null),p=Ai(o),g=Ai(u),v=b.useRef(null),w=Lr(t,S=>m(S)),_=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(i){let S=function(C){if(_.paused||!d)return;const P=C.target;d.contains(P)?v.current=P:Tr(v.current,{select:!0})},A=function(C){if(_.paused||!d)return;const P=C.relatedTarget;P!==null&&(d.contains(P)||Tr(v.current,{select:!0}))},T=function(C){if(document.activeElement===document.body)for(const $ of C)$.removedNodes.length>0&&Tr(d)};document.addEventListener("focusin",S),document.addEventListener("focusout",A);const R=new MutationObserver(T);return d&&R.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",A),R.disconnect()}}},[i,d,_.paused]),b.useEffect(()=>{if(d){tb.add(_);const S=document.activeElement;if(!d.contains(S)){const T=new CustomEvent(id,Zv);d.addEventListener(id,p),d.dispatchEvent(T),T.defaultPrevented||(Xk(tN(hw(d)),{select:!0}),document.activeElement===S&&Tr(d))}return()=>{d.removeEventListener(id,p),setTimeout(()=>{const T=new CustomEvent(sd,Zv);d.addEventListener(sd,g),d.dispatchEvent(T),T.defaultPrevented||Tr(S??document.body,{select:!0}),d.removeEventListener(sd,g),tb.remove(_)},0)}}},[d,p,g,_]);const x=b.useCallback(S=>{if(!a&&!i||_.paused)return;const A=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,T=document.activeElement;if(A&&T){const R=S.currentTarget,[C,P]=Jk(R);C&&P?!S.shiftKey&&T===P?(S.preventDefault(),a&&Tr(C,{select:!0})):S.shiftKey&&T===C&&(S.preventDefault(),a&&Tr(P,{select:!0})):T===R&&S.preventDefault()}},[a,i,_.paused]);return k.jsx(Qk.div,{tabIndex:-1,...c,ref:w,onKeyDown:x})});dw.displayName=Yk;function Xk(e,{select:t=!1}={}){const a=document.activeElement;for(const i of e)if(Tr(i,{select:t}),document.activeElement!==a)return}function Jk(e){const t=hw(e),a=eb(t,e),i=eb(t.reverse(),e);return[a,i]}function hw(e){const t=[],a=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const o=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||o?NodeFilter.FILTER_SKIP:i.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function eb(e,t){for(const a of e)if(!Wk(a,{upTo:t}))return a}function Wk(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zk(e){return e instanceof HTMLInputElement&&"select"in e}function Tr(e,{select:t=!1}={}){if(e&&e.focus){const a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&Zk(e)&&t&&e.select()}}var tb=eN();function eN(){let e=[];return{add(t){const a=e[0];t!==a&&a?.pause(),e=nb(e,t),e.unshift(t)},remove(t){e=nb(e,t),e[0]?.resume()}}}function nb(e,t){const a=[...e],i=a.indexOf(t);return i!==-1&&a.splice(i,1),a}function tN(e){return e.filter(t=>t.tagName!=="A")}var Dr=globalThis?.document?b.useLayoutEffect:()=>{},nN=eh[" useId ".trim().toString()]||(()=>{}),rN=0;function aN(e){const[t,a]=b.useState(nN());return Dr(()=>{a(i=>i??String(rN++))},[e]),e||(t?`radix-${t}`:"")}const iN=["top","right","bottom","left"],jr=Math.min,$t=Math.max,Wl=Math.round,kl=Math.floor,Rn=e=>({x:e,y:e}),sN={left:"right",right:"left",bottom:"top",top:"bottom"},oN={start:"end",end:"start"};function Fd(e,t,a){return $t(e,jr(t,a))}function Wn(e,t){return typeof e=="function"?e(t):e}function Zn(e){return e.split("-")[0]}function Li(e){return e.split("-")[1]}function Rh(e){return e==="x"?"y":"x"}function Th(e){return e==="y"?"height":"width"}const lN=new Set(["top","bottom"]);function An(e){return lN.has(Zn(e))?"y":"x"}function Oh(e){return Rh(An(e))}function uN(e,t,a){a===void 0&&(a=!1);const i=Li(e),o=Oh(e),u=Th(o);let c=o==="x"?i===(a?"end":"start")?"right":"left":i==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(c=Zl(c)),[c,Zl(c)]}function cN(e){const t=Zl(e);return[Qd(e),t,Qd(t)]}function Qd(e){return e.replace(/start|end/g,t=>oN[t])}const rb=["left","right"],ab=["right","left"],fN=["top","bottom"],dN=["bottom","top"];function hN(e,t,a){switch(e){case"top":case"bottom":return a?t?ab:rb:t?rb:ab;case"left":case"right":return t?fN:dN;default:return[]}}function mN(e,t,a,i){const o=Li(e);let u=hN(Zn(e),a==="start",i);return o&&(u=u.map(c=>c+"-"+o),t&&(u=u.concat(u.map(Qd)))),u}function Zl(e){return e.replace(/left|right|bottom|top/g,t=>sN[t])}function pN(e){return{top:0,right:0,bottom:0,left:0,...e}}function mw(e){return typeof e!="number"?pN(e):{top:e,right:e,bottom:e,left:e}}function eu(e){const{x:t,y:a,width:i,height:o}=e;return{width:i,height:o,top:a,left:t,right:t+i,bottom:a+o,x:t,y:a}}function ib(e,t,a){let{reference:i,floating:o}=e;const u=An(t),c=Oh(t),d=Th(c),m=Zn(t),p=u==="y",g=i.x+i.width/2-o.width/2,v=i.y+i.height/2-o.height/2,w=i[d]/2-o[d]/2;let _;switch(m){case"top":_={x:g,y:i.y-o.height};break;case"bottom":_={x:g,y:i.y+i.height};break;case"right":_={x:i.x+i.width,y:v};break;case"left":_={x:i.x-o.width,y:v};break;default:_={x:i.x,y:i.y}}switch(Li(t)){case"start":_[c]-=w*(a&&p?-1:1);break;case"end":_[c]+=w*(a&&p?-1:1);break}return _}const gN=async(e,t,a)=>{const{placement:i="bottom",strategy:o="absolute",middleware:u=[],platform:c}=a,d=u.filter(Boolean),m=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y:v}=ib(p,i,m),w=i,_={},x=0;for(let S=0;S<d.length;S++){const{name:A,fn:T}=d[S],{x:R,y:C,data:P,reset:$}=await T({x:g,y:v,initialPlacement:i,placement:w,strategy:o,middlewareData:_,rects:p,platform:c,elements:{reference:e,floating:t}});g=R??g,v=C??v,_={..._,[A]:{..._[A],...P}},$&&x<=50&&(x++,typeof $=="object"&&($.placement&&(w=$.placement),$.rects&&(p=$.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):$.rects),{x:g,y:v}=ib(p,w,m)),S=-1)}return{x:g,y:v,placement:w,strategy:o,middlewareData:_}};async function Qs(e,t){var a;t===void 0&&(t={});const{x:i,y:o,platform:u,rects:c,elements:d,strategy:m}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:v="floating",altBoundary:w=!1,padding:_=0}=Wn(t,e),x=mw(_),A=d[w?v==="floating"?"reference":"floating":v],T=eu(await u.getClippingRect({element:(a=await(u.isElement==null?void 0:u.isElement(A)))==null||a?A:A.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(d.floating)),boundary:p,rootBoundary:g,strategy:m})),R=v==="floating"?{x:i,y:o,width:c.floating.width,height:c.floating.height}:c.reference,C=await(u.getOffsetParent==null?void 0:u.getOffsetParent(d.floating)),P=await(u.isElement==null?void 0:u.isElement(C))?await(u.getScale==null?void 0:u.getScale(C))||{x:1,y:1}:{x:1,y:1},$=eu(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:R,offsetParent:C,strategy:m}):R);return{top:(T.top-$.top+x.top)/P.y,bottom:($.bottom-T.bottom+x.bottom)/P.y,left:(T.left-$.left+x.left)/P.x,right:($.right-T.right+x.right)/P.x}}const yN=e=>({name:"arrow",options:e,async fn(t){const{x:a,y:i,placement:o,rects:u,platform:c,elements:d,middlewareData:m}=t,{element:p,padding:g=0}=Wn(e,t)||{};if(p==null)return{};const v=mw(g),w={x:a,y:i},_=Oh(o),x=Th(_),S=await c.getDimensions(p),A=_==="y",T=A?"top":"left",R=A?"bottom":"right",C=A?"clientHeight":"clientWidth",P=u.reference[x]+u.reference[_]-w[_]-u.floating[x],$=w[_]-u.reference[_],F=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let M=F?F[C]:0;(!M||!await(c.isElement==null?void 0:c.isElement(F)))&&(M=d.floating[C]||u.floating[x]);const H=P/2-$/2,Z=M/2-S[x]/2-1,J=jr(v[T],Z),ee=jr(v[R],Z),ie=J,ue=M-S[x]-ee,ve=M/2-S[x]/2+H,Oe=Fd(ie,ve,ue),z=!m.arrow&&Li(o)!=null&&ve!==Oe&&u.reference[x]/2-(ve<ie?J:ee)-S[x]/2<0,Y=z?ve<ie?ve-ie:ve-ue:0;return{[_]:w[_]+Y,data:{[_]:Oe,centerOffset:ve-Oe-Y,...z&&{alignmentOffset:Y}},reset:z}}}),vN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var a,i;const{placement:o,middlewareData:u,rects:c,initialPlacement:d,platform:m,elements:p}=t,{mainAxis:g=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...A}=Wn(e,t);if((a=u.arrow)!=null&&a.alignmentOffset)return{};const T=Zn(o),R=An(d),C=Zn(d)===d,P=await(m.isRTL==null?void 0:m.isRTL(p.floating)),$=w||(C||!S?[Zl(d)]:cN(d)),F=x!=="none";!w&&F&&$.push(...mN(d,S,x,P));const M=[d,...$],H=await Qs(t,A),Z=[];let J=((i=u.flip)==null?void 0:i.overflows)||[];if(g&&Z.push(H[T]),v){const ve=uN(o,c,P);Z.push(H[ve[0]],H[ve[1]])}if(J=[...J,{placement:o,overflows:Z}],!Z.every(ve=>ve<=0)){var ee,ie;const ve=(((ee=u.flip)==null?void 0:ee.index)||0)+1,Oe=M[ve];if(Oe&&(!(v==="alignment"?R!==An(Oe):!1)||J.every(I=>An(I.placement)===R?I.overflows[0]>0:!0)))return{data:{index:ve,overflows:J},reset:{placement:Oe}};let z=(ie=J.filter(Y=>Y.overflows[0]<=0).sort((Y,I)=>Y.overflows[1]-I.overflows[1])[0])==null?void 0:ie.placement;if(!z)switch(_){case"bestFit":{var ue;const Y=(ue=J.filter(I=>{if(F){const me=An(I.placement);return me===R||me==="y"}return!0}).map(I=>[I.placement,I.overflows.filter(me=>me>0).reduce((me,be)=>me+be,0)]).sort((I,me)=>I[1]-me[1])[0])==null?void 0:ue[0];Y&&(z=Y);break}case"initialPlacement":z=d;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function sb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function ob(e){return iN.some(t=>e[t]>=0)}const bN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:a}=t,{strategy:i="referenceHidden",...o}=Wn(e,t);switch(i){case"referenceHidden":{const u=await Qs(t,{...o,elementContext:"reference"}),c=sb(u,a.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:ob(c)}}}case"escaped":{const u=await Qs(t,{...o,altBoundary:!0}),c=sb(u,a.floating);return{data:{escapedOffsets:c,escaped:ob(c)}}}default:return{}}}}},pw=new Set(["left","top"]);async function wN(e,t){const{placement:a,platform:i,elements:o}=e,u=await(i.isRTL==null?void 0:i.isRTL(o.floating)),c=Zn(a),d=Li(a),m=An(a)==="y",p=pw.has(c)?-1:1,g=u&&m?-1:1,v=Wn(t,e);let{mainAxis:w,crossAxis:_,alignmentAxis:x}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return d&&typeof x=="number"&&(_=d==="end"?x*-1:x),m?{x:_*g,y:w*p}:{x:w*p,y:_*g}}const _N=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var a,i;const{x:o,y:u,placement:c,middlewareData:d}=t,m=await wN(t,e);return c===((a=d.offset)==null?void 0:a.placement)&&(i=d.arrow)!=null&&i.alignmentOffset?{}:{x:o+m.x,y:u+m.y,data:{...m,placement:c}}}}},SN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:a,y:i,placement:o}=t,{mainAxis:u=!0,crossAxis:c=!1,limiter:d={fn:A=>{let{x:T,y:R}=A;return{x:T,y:R}}},...m}=Wn(e,t),p={x:a,y:i},g=await Qs(t,m),v=An(Zn(o)),w=Rh(v);let _=p[w],x=p[v];if(u){const A=w==="y"?"top":"left",T=w==="y"?"bottom":"right",R=_+g[A],C=_-g[T];_=Fd(R,_,C)}if(c){const A=v==="y"?"top":"left",T=v==="y"?"bottom":"right",R=x+g[A],C=x-g[T];x=Fd(R,x,C)}const S=d.fn({...t,[w]:_,[v]:x});return{...S,data:{x:S.x-a,y:S.y-i,enabled:{[w]:u,[v]:c}}}}}},EN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:a,y:i,placement:o,rects:u,middlewareData:c}=t,{offset:d=0,mainAxis:m=!0,crossAxis:p=!0}=Wn(e,t),g={x:a,y:i},v=An(o),w=Rh(v);let _=g[w],x=g[v];const S=Wn(d,t),A=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(m){const C=w==="y"?"height":"width",P=u.reference[w]-u.floating[C]+A.mainAxis,$=u.reference[w]+u.reference[C]-A.mainAxis;_<P?_=P:_>$&&(_=$)}if(p){var T,R;const C=w==="y"?"width":"height",P=pw.has(Zn(o)),$=u.reference[v]-u.floating[C]+(P&&((T=c.offset)==null?void 0:T[v])||0)+(P?0:A.crossAxis),F=u.reference[v]+u.reference[C]+(P?0:((R=c.offset)==null?void 0:R[v])||0)-(P?A.crossAxis:0);x<$?x=$:x>F&&(x=F)}return{[w]:_,[v]:x}}}},xN=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var a,i;const{placement:o,rects:u,platform:c,elements:d}=t,{apply:m=()=>{},...p}=Wn(e,t),g=await Qs(t,p),v=Zn(o),w=Li(o),_=An(o)==="y",{width:x,height:S}=u.floating;let A,T;v==="top"||v==="bottom"?(A=v,T=w===(await(c.isRTL==null?void 0:c.isRTL(d.floating))?"start":"end")?"left":"right"):(T=v,A=w==="end"?"top":"bottom");const R=S-g.top-g.bottom,C=x-g.left-g.right,P=jr(S-g[A],R),$=jr(x-g[T],C),F=!t.middlewareData.shift;let M=P,H=$;if((a=t.middlewareData.shift)!=null&&a.enabled.x&&(H=C),(i=t.middlewareData.shift)!=null&&i.enabled.y&&(M=R),F&&!w){const J=$t(g.left,0),ee=$t(g.right,0),ie=$t(g.top,0),ue=$t(g.bottom,0);_?H=x-2*(J!==0||ee!==0?J+ee:$t(g.left,g.right)):M=S-2*(ie!==0||ue!==0?ie+ue:$t(g.top,g.bottom))}await m({...t,availableWidth:H,availableHeight:M});const Z=await c.getDimensions(d.floating);return x!==Z.width||S!==Z.height?{reset:{rects:!0}}:{}}}};function cu(){return typeof window<"u"}function Pi(e){return gw(e)?(e.nodeName||"").toLowerCase():"#document"}function Vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function On(e){var t;return(t=(gw(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function gw(e){return cu()?e instanceof Node||e instanceof Vt(e).Node:!1}function gn(e){return cu()?e instanceof Element||e instanceof Vt(e).Element:!1}function Tn(e){return cu()?e instanceof HTMLElement||e instanceof Vt(e).HTMLElement:!1}function lb(e){return!cu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vt(e).ShadowRoot}const AN=new Set(["inline","contents"]);function to(e){const{overflow:t,overflowX:a,overflowY:i,display:o}=yn(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+a)&&!AN.has(o)}const RN=new Set(["table","td","th"]);function TN(e){return RN.has(Pi(e))}const ON=[":popover-open",":modal"];function fu(e){return ON.some(t=>{try{return e.matches(t)}catch{return!1}})}const CN=["transform","translate","scale","rotate","perspective"],kN=["transform","translate","scale","rotate","perspective","filter"],NN=["paint","layout","strict","content"];function Ch(e){const t=kh(),a=gn(e)?yn(e):e;return CN.some(i=>a[i]?a[i]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!t&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!t&&(a.filter?a.filter!=="none":!1)||kN.some(i=>(a.willChange||"").includes(i))||NN.some(i=>(a.contain||"").includes(i))}function DN(e){let t=Mr(e);for(;Tn(t)&&!Ri(t);){if(Ch(t))return t;if(fu(t))return null;t=Mr(t)}return null}function kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const jN=new Set(["html","body","#document"]);function Ri(e){return jN.has(Pi(e))}function yn(e){return Vt(e).getComputedStyle(e)}function du(e){return gn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Mr(e){if(Pi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||lb(e)&&e.host||On(e);return lb(t)?t.host:t}function yw(e){const t=Mr(e);return Ri(t)?e.ownerDocument?e.ownerDocument.body:e.body:Tn(t)&&to(t)?t:yw(t)}function Ys(e,t,a){var i;t===void 0&&(t=[]),a===void 0&&(a=!0);const o=yw(e),u=o===((i=e.ownerDocument)==null?void 0:i.body),c=Vt(o);if(u){const d=Yd(c);return t.concat(c,c.visualViewport||[],to(o)?o:[],d&&a?Ys(d):[])}return t.concat(o,Ys(o,[],a))}function Yd(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function vw(e){const t=yn(e);let a=parseFloat(t.width)||0,i=parseFloat(t.height)||0;const o=Tn(e),u=o?e.offsetWidth:a,c=o?e.offsetHeight:i,d=Wl(a)!==u||Wl(i)!==c;return d&&(a=u,i=c),{width:a,height:i,$:d}}function Nh(e){return gn(e)?e:e.contextElement}function wi(e){const t=Nh(e);if(!Tn(t))return Rn(1);const a=t.getBoundingClientRect(),{width:i,height:o,$:u}=vw(t);let c=(u?Wl(a.width):a.width)/i,d=(u?Wl(a.height):a.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!d||!Number.isFinite(d))&&(d=1),{x:c,y:d}}const MN=Rn(0);function bw(e){const t=Vt(e);return!kh()||!t.visualViewport?MN:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function UN(e,t,a){return t===void 0&&(t=!1),!a||t&&a!==Vt(e)?!1:t}function ga(e,t,a,i){t===void 0&&(t=!1),a===void 0&&(a=!1);const o=e.getBoundingClientRect(),u=Nh(e);let c=Rn(1);t&&(i?gn(i)&&(c=wi(i)):c=wi(e));const d=UN(u,a,i)?bw(u):Rn(0);let m=(o.left+d.x)/c.x,p=(o.top+d.y)/c.y,g=o.width/c.x,v=o.height/c.y;if(u){const w=Vt(u),_=i&&gn(i)?Vt(i):i;let x=w,S=Yd(x);for(;S&&i&&_!==x;){const A=wi(S),T=S.getBoundingClientRect(),R=yn(S),C=T.left+(S.clientLeft+parseFloat(R.paddingLeft))*A.x,P=T.top+(S.clientTop+parseFloat(R.paddingTop))*A.y;m*=A.x,p*=A.y,g*=A.x,v*=A.y,m+=C,p+=P,x=Vt(S),S=Yd(x)}}return eu({width:g,height:v,x:m,y:p})}function hu(e,t){const a=du(e).scrollLeft;return t?t.left+a:ga(On(e)).left+a}function ww(e,t){const a=e.getBoundingClientRect(),i=a.left+t.scrollLeft-hu(e,a),o=a.top+t.scrollTop;return{x:i,y:o}}function LN(e){let{elements:t,rect:a,offsetParent:i,strategy:o}=e;const u=o==="fixed",c=On(i),d=t?fu(t.floating):!1;if(i===c||d&&u)return a;let m={scrollLeft:0,scrollTop:0},p=Rn(1);const g=Rn(0),v=Tn(i);if((v||!v&&!u)&&((Pi(i)!=="body"||to(c))&&(m=du(i)),Tn(i))){const _=ga(i);p=wi(i),g.x=_.x+i.clientLeft,g.y=_.y+i.clientTop}const w=c&&!v&&!u?ww(c,m):Rn(0);return{width:a.width*p.x,height:a.height*p.y,x:a.x*p.x-m.scrollLeft*p.x+g.x+w.x,y:a.y*p.y-m.scrollTop*p.y+g.y+w.y}}function PN(e){return Array.from(e.getClientRects())}function zN(e){const t=On(e),a=du(e),i=e.ownerDocument.body,o=$t(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),u=$t(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight);let c=-a.scrollLeft+hu(e);const d=-a.scrollTop;return yn(i).direction==="rtl"&&(c+=$t(t.clientWidth,i.clientWidth)-o),{width:o,height:u,x:c,y:d}}const ub=25;function BN(e,t){const a=Vt(e),i=On(e),o=a.visualViewport;let u=i.clientWidth,c=i.clientHeight,d=0,m=0;if(o){u=o.width,c=o.height;const g=kh();(!g||g&&t==="fixed")&&(d=o.offsetLeft,m=o.offsetTop)}const p=hu(i);if(p<=0){const g=i.ownerDocument,v=g.body,w=getComputedStyle(v),_=g.compatMode==="CSS1Compat"&&parseFloat(w.marginLeft)+parseFloat(w.marginRight)||0,x=Math.abs(i.clientWidth-v.clientWidth-_);x<=ub&&(u-=x)}else p<=ub&&(u+=p);return{width:u,height:c,x:d,y:m}}const qN=new Set(["absolute","fixed"]);function $N(e,t){const a=ga(e,!0,t==="fixed"),i=a.top+e.clientTop,o=a.left+e.clientLeft,u=Tn(e)?wi(e):Rn(1),c=e.clientWidth*u.x,d=e.clientHeight*u.y,m=o*u.x,p=i*u.y;return{width:c,height:d,x:m,y:p}}function cb(e,t,a){let i;if(t==="viewport")i=BN(e,a);else if(t==="document")i=zN(On(e));else if(gn(t))i=$N(t,a);else{const o=bw(e);i={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return eu(i)}function _w(e,t){const a=Mr(e);return a===t||!gn(a)||Ri(a)?!1:yn(a).position==="fixed"||_w(a,t)}function IN(e,t){const a=t.get(e);if(a)return a;let i=Ys(e,[],!1).filter(d=>gn(d)&&Pi(d)!=="body"),o=null;const u=yn(e).position==="fixed";let c=u?Mr(e):e;for(;gn(c)&&!Ri(c);){const d=yn(c),m=Ch(c);!m&&d.position==="fixed"&&(o=null),(u?!m&&!o:!m&&d.position==="static"&&!!o&&qN.has(o.position)||to(c)&&!m&&_w(e,c))?i=i.filter(g=>g!==c):o=d,c=Mr(c)}return t.set(e,i),i}function HN(e){let{element:t,boundary:a,rootBoundary:i,strategy:o}=e;const c=[...a==="clippingAncestors"?fu(t)?[]:IN(t,this._c):[].concat(a),i],d=c[0],m=c.reduce((p,g)=>{const v=cb(t,g,o);return p.top=$t(v.top,p.top),p.right=jr(v.right,p.right),p.bottom=jr(v.bottom,p.bottom),p.left=$t(v.left,p.left),p},cb(t,d,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function VN(e){const{width:t,height:a}=vw(e);return{width:t,height:a}}function GN(e,t,a){const i=Tn(t),o=On(t),u=a==="fixed",c=ga(e,!0,u,t);let d={scrollLeft:0,scrollTop:0};const m=Rn(0);function p(){m.x=hu(o)}if(i||!i&&!u)if((Pi(t)!=="body"||to(o))&&(d=du(t)),i){const _=ga(t,!0,u,t);m.x=_.x+t.clientLeft,m.y=_.y+t.clientTop}else o&&p();u&&!i&&o&&p();const g=o&&!i&&!u?ww(o,d):Rn(0),v=c.left+d.scrollLeft-m.x-g.x,w=c.top+d.scrollTop-m.y-g.y;return{x:v,y:w,width:c.width,height:c.height}}function od(e){return yn(e).position==="static"}function fb(e,t){if(!Tn(e)||yn(e).position==="fixed")return null;if(t)return t(e);let a=e.offsetParent;return On(e)===a&&(a=a.ownerDocument.body),a}function Sw(e,t){const a=Vt(e);if(fu(e))return a;if(!Tn(e)){let o=Mr(e);for(;o&&!Ri(o);){if(gn(o)&&!od(o))return o;o=Mr(o)}return a}let i=fb(e,t);for(;i&&TN(i)&&od(i);)i=fb(i,t);return i&&Ri(i)&&od(i)&&!Ch(i)?a:i||DN(e)||a}const KN=async function(e){const t=this.getOffsetParent||Sw,a=this.getDimensions,i=await a(e.floating);return{reference:GN(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}};function FN(e){return yn(e).direction==="rtl"}const QN={convertOffsetParentRelativeRectToViewportRelativeRect:LN,getDocumentElement:On,getClippingRect:HN,getOffsetParent:Sw,getElementRects:KN,getClientRects:PN,getDimensions:VN,getScale:wi,isElement:gn,isRTL:FN};function Ew(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function YN(e,t){let a=null,i;const o=On(e);function u(){var d;clearTimeout(i),(d=a)==null||d.disconnect(),a=null}function c(d,m){d===void 0&&(d=!1),m===void 0&&(m=1),u();const p=e.getBoundingClientRect(),{left:g,top:v,width:w,height:_}=p;if(d||t(),!w||!_)return;const x=kl(v),S=kl(o.clientWidth-(g+w)),A=kl(o.clientHeight-(v+_)),T=kl(g),C={rootMargin:-x+"px "+-S+"px "+-A+"px "+-T+"px",threshold:$t(0,jr(1,m))||1};let P=!0;function $(F){const M=F[0].intersectionRatio;if(M!==m){if(!P)return c();M?c(!1,M):i=setTimeout(()=>{c(!1,1e-7)},1e3)}M===1&&!Ew(p,e.getBoundingClientRect())&&c(),P=!1}try{a=new IntersectionObserver($,{...C,root:o.ownerDocument})}catch{a=new IntersectionObserver($,C)}a.observe(e)}return c(!0),u}function XN(e,t,a,i){i===void 0&&(i={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:m=!1}=i,p=Nh(e),g=o||u?[...p?Ys(p):[],...Ys(t)]:[];g.forEach(T=>{o&&T.addEventListener("scroll",a,{passive:!0}),u&&T.addEventListener("resize",a)});const v=p&&d?YN(p,a):null;let w=-1,_=null;c&&(_=new ResizeObserver(T=>{let[R]=T;R&&R.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var C;(C=_)==null||C.observe(t)})),a()}),p&&!m&&_.observe(p),_.observe(t));let x,S=m?ga(e):null;m&&A();function A(){const T=ga(e);S&&!Ew(S,T)&&a(),S=T,x=requestAnimationFrame(A)}return a(),()=>{var T;g.forEach(R=>{o&&R.removeEventListener("scroll",a),u&&R.removeEventListener("resize",a)}),v?.(),(T=_)==null||T.disconnect(),_=null,m&&cancelAnimationFrame(x)}}const JN=_N,WN=SN,ZN=vN,eD=xN,tD=bN,db=yN,nD=EN,rD=(e,t,a)=>{const i=new Map,o={platform:QN,...a},u={...o.platform,_c:i};return gN(e,t,{...o,platform:u})};var aD=typeof document<"u",iD=function(){},zl=aD?b.useLayoutEffect:iD;function tu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let a,i,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(a=e.length,a!==t.length)return!1;for(i=a;i--!==0;)if(!tu(e[i],t[i]))return!1;return!0}if(o=Object.keys(e),a=o.length,a!==Object.keys(t).length)return!1;for(i=a;i--!==0;)if(!{}.hasOwnProperty.call(t,o[i]))return!1;for(i=a;i--!==0;){const u=o[i];if(!(u==="_owner"&&e.$$typeof)&&!tu(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function xw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function hb(e,t){const a=xw(e);return Math.round(t*a)/a}function ld(e){const t=b.useRef(e);return zl(()=>{t.current=e}),t}function sD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:a="absolute",middleware:i=[],platform:o,elements:{reference:u,floating:c}={},transform:d=!0,whileElementsMounted:m,open:p}=e,[g,v]=b.useState({x:0,y:0,strategy:a,placement:t,middlewareData:{},isPositioned:!1}),[w,_]=b.useState(i);tu(w,i)||_(i);const[x,S]=b.useState(null),[A,T]=b.useState(null),R=b.useCallback(I=>{I!==F.current&&(F.current=I,S(I))},[]),C=b.useCallback(I=>{I!==M.current&&(M.current=I,T(I))},[]),P=u||x,$=c||A,F=b.useRef(null),M=b.useRef(null),H=b.useRef(g),Z=m!=null,J=ld(m),ee=ld(o),ie=ld(p),ue=b.useCallback(()=>{if(!F.current||!M.current)return;const I={placement:t,strategy:a,middleware:w};ee.current&&(I.platform=ee.current),rD(F.current,M.current,I).then(me=>{const be={...me,isPositioned:ie.current!==!1};ve.current&&!tu(H.current,be)&&(H.current=be,lh.flushSync(()=>{v(be)}))})},[w,t,a,ee,ie]);zl(()=>{p===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,v(I=>({...I,isPositioned:!1})))},[p]);const ve=b.useRef(!1);zl(()=>(ve.current=!0,()=>{ve.current=!1}),[]),zl(()=>{if(P&&(F.current=P),$&&(M.current=$),P&&$){if(J.current)return J.current(P,$,ue);ue()}},[P,$,ue,J,Z]);const Oe=b.useMemo(()=>({reference:F,floating:M,setReference:R,setFloating:C}),[R,C]),z=b.useMemo(()=>({reference:P,floating:$}),[P,$]),Y=b.useMemo(()=>{const I={position:a,left:0,top:0};if(!z.floating)return I;const me=hb(z.floating,g.x),be=hb(z.floating,g.y);return d?{...I,transform:"translate("+me+"px, "+be+"px)",...xw(z.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:me,top:be}},[a,d,z.floating,g.x,g.y]);return b.useMemo(()=>({...g,update:ue,refs:Oe,elements:z,floatingStyles:Y}),[g,ue,Oe,z,Y])}const oD=e=>{function t(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:e,fn(a){const{element:i,padding:o}=typeof e=="function"?e(a):e;return i&&t(i)?i.current!=null?db({element:i.current,padding:o}).fn(a):{}:i?db({element:i,padding:o}).fn(a):{}}}},lD=(e,t)=>({...JN(e),options:[e,t]}),uD=(e,t)=>({...WN(e),options:[e,t]}),cD=(e,t)=>({...nD(e),options:[e,t]}),fD=(e,t)=>({...ZN(e),options:[e,t]}),dD=(e,t)=>({...eD(e),options:[e,t]}),hD=(e,t)=>({...tD(e),options:[e,t]}),mD=(e,t)=>({...oD(e),options:[e,t]});function pD(e){const t=gD(e),a=b.forwardRef((i,o)=>{const{children:u,...c}=i,d=b.Children.toArray(u),m=d.find(vD);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}function gD(e){const t=b.forwardRef((a,i)=>{const{children:o,...u}=a;if(b.isValidElement(o)){const c=wD(o),d=bD(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yD=Symbol("radix.slottable");function vD(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yD}function bD(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function wD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var _D=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],SD=_D.reduce((e,t)=>{const a=pD(`Primitive.${t}`),i=b.forwardRef((o,u)=>{const{asChild:c,...d}=o,m=c?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(m,{...d,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),ED="Arrow",Aw=b.forwardRef((e,t)=>{const{children:a,width:i=10,height:o=5,...u}=e;return k.jsx(SD.svg,{...u,ref:t,width:i,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?a:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});Aw.displayName=ED;var xD=Aw;function AD(e,t=[]){let a=[];function i(u,c){const d=b.createContext(c),m=a.length;a=[...a,c];const p=v=>{const{scope:w,children:_,...x}=v,S=w?.[e]?.[m]||d,A=b.useMemo(()=>x,Object.values(x));return k.jsx(S.Provider,{value:A,children:_})};p.displayName=u+"Provider";function g(v,w){const _=w?.[e]?.[m]||d,x=b.useContext(_);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${v}\` must be used within \`${u}\``)}return[p,g]}const o=()=>{const u=a.map(c=>b.createContext(c));return function(d){const m=d?.[e]||u;return b.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return o.scopeName=e,[i,RD(o,...t)]}function RD(...e){const t=e[0];if(e.length===1)return t;const a=()=>{const i=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const c=i.reduce((d,{useScope:m,scopeName:p})=>{const v=m(u)[`__scope${p}`];return{...d,...v}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return a.scopeName=t.scopeName,a}function TD(e){const t=OD(e),a=b.forwardRef((i,o)=>{const{children:u,...c}=i,d=b.Children.toArray(u),m=d.find(kD);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}function OD(e){const t=b.forwardRef((a,i)=>{const{children:o,...u}=a;if(b.isValidElement(o)){const c=DD(o),d=ND(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var CD=Symbol("radix.slottable");function kD(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===CD}function ND(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function DD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var jD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Rw=jD.reduce((e,t)=>{const a=TD(`Primitive.${t}`),i=b.forwardRef((o,u)=>{const{asChild:c,...d}=o,m=c?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(m,{...d,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{});function MD(e){const[t,a]=b.useState(void 0);return Dr(()=>{if(e){a({width:e.offsetWidth,height:e.offsetHeight});const i=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let c,d;if("borderBoxSize"in u){const m=u.borderBoxSize,p=Array.isArray(m)?m[0]:m;c=p.inlineSize,d=p.blockSize}else c=e.offsetWidth,d=e.offsetHeight;a({width:c,height:d})});return i.observe(e,{box:"border-box"}),()=>i.unobserve(e)}else a(void 0)},[e]),t}var Dh="Popper",[Tw,Ow]=AD(Dh),[UD,Cw]=Tw(Dh),kw=e=>{const{__scopePopper:t,children:a}=e,[i,o]=b.useState(null);return k.jsx(UD,{scope:t,anchor:i,onAnchorChange:o,children:a})};kw.displayName=Dh;var Nw="PopperAnchor",Dw=b.forwardRef((e,t)=>{const{__scopePopper:a,virtualRef:i,...o}=e,u=Cw(Nw,a),c=b.useRef(null),d=Lr(t,c),m=b.useRef(null);return b.useEffect(()=>{const p=m.current;m.current=i?.current||c.current,p!==m.current&&u.onAnchorChange(m.current)}),i?null:k.jsx(Rw.div,{...o,ref:d})});Dw.displayName=Nw;var jh="PopperContent",[LD,PD]=Tw(jh),jw=b.forwardRef((e,t)=>{const{__scopePopper:a,side:i="bottom",sideOffset:o=0,align:u="center",alignOffset:c=0,arrowPadding:d=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:_="optimized",onPlaced:x,...S}=e,A=Cw(jh,a),[T,R]=b.useState(null),C=Lr(t,oe=>R(oe)),[P,$]=b.useState(null),F=MD(P),M=F?.width??0,H=F?.height??0,Z=i+(u!=="center"?"-"+u:""),J=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ee=Array.isArray(p)?p:[p],ie=ee.length>0,ue={padding:J,boundary:ee.filter(BD),altBoundary:ie},{refs:ve,floatingStyles:Oe,placement:z,isPositioned:Y,middlewareData:I}=sD({strategy:"fixed",placement:Z,whileElementsMounted:(...oe)=>XN(...oe,{animationFrame:_==="always"}),elements:{reference:A.anchor},middleware:[lD({mainAxis:o+H,alignmentAxis:c}),m&&uD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?cD():void 0,...ue}),m&&fD({...ue}),dD({...ue,apply:({elements:oe,rects:Je,availableWidth:Pe,availableHeight:Kt})=>{const{width:vn,height:bn}=Je.reference,zr=oe.floating.style;zr.setProperty("--radix-popper-available-width",`${Pe}px`),zr.setProperty("--radix-popper-available-height",`${Kt}px`),zr.setProperty("--radix-popper-anchor-width",`${vn}px`),zr.setProperty("--radix-popper-anchor-height",`${bn}px`)}}),P&&mD({element:P,padding:d}),qD({arrowWidth:M,arrowHeight:H}),w&&hD({strategy:"referenceHidden",...ue})]}),[me,be]=Lw(z),D=Ai(x);Dr(()=>{Y&&D?.()},[Y,D]);const K=I.arrow?.x,X=I.arrow?.y,W=I.arrow?.centerOffset!==0,[he,ge]=b.useState();return Dr(()=>{T&&ge(window.getComputedStyle(T).zIndex)},[T]),k.jsx("div",{ref:ve.setFloating,"data-radix-popper-content-wrapper":"",style:{...Oe,transform:Y?Oe.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[I.transformOrigin?.x,I.transformOrigin?.y].join(" "),...I.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:k.jsx(LD,{scope:a,placedSide:me,onArrowChange:$,arrowX:K,arrowY:X,shouldHideArrow:W,children:k.jsx(Rw.div,{"data-side":me,"data-align":be,...S,ref:C,style:{...S.style,animation:Y?void 0:"none"}})})})});jw.displayName=jh;var Mw="PopperArrow",zD={top:"bottom",right:"left",bottom:"top",left:"right"},Uw=b.forwardRef(function(t,a){const{__scopePopper:i,...o}=t,u=PD(Mw,i),c=zD[u.placedSide];return k.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:k.jsx(xD,{...o,ref:a,style:{...o.style,display:"block"}})})});Uw.displayName=Mw;function BD(e){return e!==null}var qD=e=>({name:"transformOrigin",options:e,fn(t){const{placement:a,rects:i,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,d=c?0:e.arrowWidth,m=c?0:e.arrowHeight,[p,g]=Lw(a),v={start:"0%",center:"50%",end:"100%"}[g],w=(o.arrow?.x??0)+d/2,_=(o.arrow?.y??0)+m/2;let x="",S="";return p==="bottom"?(x=c?v:`${w}px`,S=`${-m}px`):p==="top"?(x=c?v:`${w}px`,S=`${i.floating.height+m}px`):p==="right"?(x=`${-m}px`,S=c?v:`${_}px`):p==="left"&&(x=`${i.floating.width+m}px`,S=c?v:`${_}px`),{data:{x,y:S}}}});function Lw(e){const[t,a="center"]=e.split("-");return[t,a]}var $D=kw,Pw=Dw,ID=jw,HD=Uw;function VD(e){const t=GD(e),a=b.forwardRef((i,o)=>{const{children:u,...c}=i,d=b.Children.toArray(u),m=d.find(FD);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}function GD(e){const t=b.forwardRef((a,i)=>{const{children:o,...u}=a;if(b.isValidElement(o)){const c=YD(o),d=QD(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var KD=Symbol("radix.slottable");function FD(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===KD}function QD(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function YD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var XD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],JD=XD.reduce((e,t)=>{const a=VD(`Primitive.${t}`),i=b.forwardRef((o,u)=>{const{asChild:c,...d}=o,m=c?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(m,{...d,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),WD="Portal",zw=b.forwardRef((e,t)=>{const{container:a,...i}=e,[o,u]=b.useState(!1);Dr(()=>u(!0),[]);const c=a||o&&globalThis?.document?.body;return c?OA.createPortal(k.jsx(JD.div,{...i,ref:t}),c):null});zw.displayName=WD;function ZD(e,t){return b.useReducer((a,i)=>t[a][i]??a,e)}var Mh=e=>{const{present:t,children:a}=e,i=e2(t),o=typeof a=="function"?a({present:i.isPresent}):b.Children.only(a),u=Lr(i.ref,t2(o));return typeof a=="function"||i.isPresent?b.cloneElement(o,{ref:u}):null};Mh.displayName="Presence";function e2(e){const[t,a]=b.useState(),i=b.useRef(null),o=b.useRef(e),u=b.useRef("none"),c=e?"mounted":"unmounted",[d,m]=ZD(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const p=Nl(i.current);u.current=d==="mounted"?p:"none"},[d]),Dr(()=>{const p=i.current,g=o.current;if(g!==e){const w=u.current,_=Nl(p);e?m("MOUNT"):_==="none"||p?.display==="none"?m("UNMOUNT"):m(g&&w!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),Dr(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,v=_=>{const S=Nl(i.current).includes(CSS.escape(_.animationName));if(_.target===t&&S&&(m("ANIMATION_END"),!o.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},w=_=>{_.target===t&&(u.current=Nl(i.current))};return t.addEventListener("animationstart",w),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",w),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:b.useCallback(p=>{i.current=p?getComputedStyle(p):null,a(p)},[])}}function Nl(e){return e?.animationName||"none"}function t2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}function Bw(e){const t=n2(e),a=b.forwardRef((i,o)=>{const{children:u,...c}=i,d=b.Children.toArray(u),m=d.find(a2);if(m){const p=m.props.children,g=d.map(v=>v===m?b.Children.count(p)>1?b.Children.only(null):b.isValidElement(p)?p.props.children:null:v);return k.jsx(t,{...c,ref:o,children:b.isValidElement(p)?b.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return a.displayName=`${e}.Slot`,a}function n2(e){const t=b.forwardRef((a,i)=>{const{children:o,...u}=a;if(b.isValidElement(o)){const c=s2(o),d=i2(u,o.props);return o.type!==b.Fragment&&(d.ref=i?Ur(i,c):c),b.cloneElement(o,d)}return b.Children.count(o)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var r2=Symbol("radix.slottable");function a2(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===r2}function i2(e,t){const a={...t};for(const i in t){const o=e[i],u=t[i];/^on[A-Z]/.test(i)?o&&u?a[i]=(...d)=>{const m=u(...d);return o(...d),m}:o&&(a[i]=o):i==="style"?a[i]={...o,...u}:i==="className"&&(a[i]=[o,u].filter(Boolean).join(" "))}return{...e,...a}}function s2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning;return a?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,a=t&&"isReactWarning"in t&&t.isReactWarning,a?e.props.ref:e.props.ref||e.ref)}var o2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qw=o2.reduce((e,t)=>{const a=Bw(`Primitive.${t}`),i=b.forwardRef((o,u)=>{const{asChild:c,...d}=o,m=c?a:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(m,{...d,ref:u})});return i.displayName=`Primitive.${t}`,{...e,[t]:i}},{}),l2=eh[" useInsertionEffect ".trim().toString()]||Dr;function u2({prop:e,defaultProp:t,onChange:a=()=>{},caller:i}){const[o,u,c]=c2({defaultProp:t,onChange:a}),d=e!==void 0,m=d?e:o;{const g=b.useRef(e!==void 0);b.useEffect(()=>{const v=g.current;v!==d&&console.warn(`${i} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,i])}const p=b.useCallback(g=>{if(d){const v=f2(g)?g(e):g;v!==e&&c.current?.(v)}else u(g)},[d,e,u,c]);return[m,p]}function c2({defaultProp:e,onChange:t}){const[a,i]=b.useState(e),o=b.useRef(a),u=b.useRef(t);return l2(()=>{u.current=t},[t]),b.useEffect(()=>{o.current!==a&&(u.current?.(a),o.current=a)},[a,o]),[a,i,u]}function f2(e){return typeof e=="function"}var d2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ci=new WeakMap,Dl=new WeakMap,jl={},ud=0,$w=function(e){return e&&(e.host||$w(e.parentNode))},h2=function(e,t){return t.map(function(a){if(e.contains(a))return a;var i=$w(a);return i&&e.contains(i)?i:(console.error("aria-hidden",a,"in not contained inside",e,". Doing nothing"),null)}).filter(function(a){return!!a})},m2=function(e,t,a,i){var o=h2(t,Array.isArray(e)?e:[e]);jl[a]||(jl[a]=new WeakMap);var u=jl[a],c=[],d=new Set,m=new Set(o),p=function(v){!v||d.has(v)||(d.add(v),p(v.parentNode))};o.forEach(p);var g=function(v){!v||m.has(v)||Array.prototype.forEach.call(v.children,function(w){if(d.has(w))g(w);else try{var _=w.getAttribute(i),x=_!==null&&_!=="false",S=(ci.get(w)||0)+1,A=(u.get(w)||0)+1;ci.set(w,S),u.set(w,A),c.push(w),S===1&&x&&Dl.set(w,!0),A===1&&w.setAttribute(a,"true"),x||w.setAttribute(i,"true")}catch(T){console.error("aria-hidden: cannot operate on ",w,T)}})};return g(t),d.clear(),ud++,function(){c.forEach(function(v){var w=ci.get(v)-1,_=u.get(v)-1;ci.set(v,w),u.set(v,_),w||(Dl.has(v)||v.removeAttribute(i),Dl.delete(v)),_||v.removeAttribute(a)}),ud--,ud||(ci=new WeakMap,ci=new WeakMap,Dl=new WeakMap,jl={})}},p2=function(e,t,a){a===void 0&&(a="data-aria-hidden");var i=Array.from(Array.isArray(e)?e:[e]),o=d2(e);return o?(i.push.apply(i,Array.from(o.querySelectorAll("[aria-live], script"))),m2(i,o,a,"aria-hidden")):function(){return null}},Bl="right-scroll-bar-position",ql="width-before-scroll-bar",g2="with-scroll-bars-hidden",y2="--removed-body-scroll-bar-size";function cd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function v2(e,t){var a=b.useState(function(){return{value:e,callback:t,facade:{get current(){return a.value},set current(i){var o=a.value;o!==i&&(a.value=i,a.callback(i,o))}}}})[0];return a.callback=t,a.facade}var b2=typeof window<"u"?b.useLayoutEffect:b.useEffect,mb=new WeakMap;function w2(e,t){var a=v2(null,function(i){return e.forEach(function(o){return cd(o,i)})});return b2(function(){var i=mb.get(a);if(i){var o=new Set(i),u=new Set(e),c=a.current;o.forEach(function(d){u.has(d)||cd(d,null)}),u.forEach(function(d){o.has(d)||cd(d,c)})}mb.set(a,e)},[e]),a}function _2(e){return e}function S2(e,t){t===void 0&&(t=_2);var a=[],i=!1,o={read:function(){if(i)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:e},useMedium:function(u){var c=t(u,i);return a.push(c),function(){a=a.filter(function(d){return d!==c})}},assignSyncMedium:function(u){for(i=!0;a.length;){var c=a;a=[],c.forEach(u)}a={push:function(d){return u(d)},filter:function(){return a}}},assignMedium:function(u){i=!0;var c=[];if(a.length){var d=a;a=[],d.forEach(u),c=a}var m=function(){var g=c;c=[],g.forEach(u)},p=function(){return Promise.resolve().then(m)};p(),a={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),a}}}};return o}function E2(e){e===void 0&&(e={});var t=S2(null);return t.options=xn({async:!0,ssr:!1},e),t}var Iw=function(e){var t=e.sideCar,a=Mi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var i=t.read();if(!i)throw new Error("Sidecar medium not found");return b.createElement(i,xn({},a))};Iw.isSideCarExport=!0;function x2(e,t){return e.useMedium(t),Iw}var Hw=E2(),fd=function(){},mu=b.forwardRef(function(e,t){var a=b.useRef(null),i=b.useState({onScrollCapture:fd,onWheelCapture:fd,onTouchMoveCapture:fd}),o=i[0],u=i[1],c=e.forwardProps,d=e.children,m=e.className,p=e.removeScrollBar,g=e.enabled,v=e.shards,w=e.sideCar,_=e.noRelative,x=e.noIsolation,S=e.inert,A=e.allowPinchZoom,T=e.as,R=T===void 0?"div":T,C=e.gapMode,P=Mi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),$=w,F=w2([a,t]),M=xn(xn({},P),o);return b.createElement(b.Fragment,null,g&&b.createElement($,{sideCar:Hw,removeScrollBar:p,shards:v,noRelative:_,noIsolation:x,inert:S,setCallbacks:u,allowPinchZoom:!!A,lockRef:a,gapMode:C}),c?b.cloneElement(b.Children.only(d),xn(xn({},M),{ref:F})):b.createElement(R,xn({},M,{className:m,ref:F}),d))});mu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};mu.classNames={fullWidth:ql,zeroRight:Bl};var A2=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function R2(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=A2();return t&&e.setAttribute("nonce",t),e}function T2(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function O2(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var C2=function(){var e=0,t=null;return{add:function(a){e==0&&(t=R2())&&(T2(t,a),O2(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},k2=function(){var e=C2();return function(t,a){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&a])}},Vw=function(){var e=k2(),t=function(a){var i=a.styles,o=a.dynamic;return e(i,o),null};return t},N2={left:0,top:0,right:0,gap:0},dd=function(e){return parseInt(e||"",10)||0},D2=function(e){var t=window.getComputedStyle(document.body),a=t[e==="padding"?"paddingLeft":"marginLeft"],i=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[dd(a),dd(i),dd(o)]},j2=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return N2;var t=D2(e),a=document.documentElement.clientWidth,i=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,i-a+t[2]-t[0])}},M2=Vw(),_i="data-scroll-locked",U2=function(e,t,a,i){var o=e.left,u=e.top,c=e.right,d=e.gap;return a===void 0&&(a="margin"),`
  .`.concat(g2,` {
   overflow: hidden `).concat(i,`;
   padding-right: `).concat(d,"px ").concat(i,`;
  }
  body[`).concat(_i,`] {
    overflow: hidden `).concat(i,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(i,";"),a==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(i,`;
    `),a==="padding"&&"padding-right: ".concat(d,"px ").concat(i,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Bl,` {
    right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(ql,` {
    margin-right: `).concat(d,"px ").concat(i,`;
  }
  
  .`).concat(Bl," .").concat(Bl,` {
    right: 0 `).concat(i,`;
  }
  
  .`).concat(ql," .").concat(ql,` {
    margin-right: 0 `).concat(i,`;
  }
  
  body[`).concat(_i,`] {
    `).concat(y2,": ").concat(d,`px;
  }
`)},pb=function(){var e=parseInt(document.body.getAttribute(_i)||"0",10);return isFinite(e)?e:0},L2=function(){b.useEffect(function(){return document.body.setAttribute(_i,(pb()+1).toString()),function(){var e=pb()-1;e<=0?document.body.removeAttribute(_i):document.body.setAttribute(_i,e.toString())}},[])},P2=function(e){var t=e.noRelative,a=e.noImportant,i=e.gapMode,o=i===void 0?"margin":i;L2();var u=b.useMemo(function(){return j2(o)},[o]);return b.createElement(M2,{styles:U2(u,!t,o,a?"":"!important")})},Xd=!1;if(typeof window<"u")try{var Ml=Object.defineProperty({},"passive",{get:function(){return Xd=!0,!0}});window.addEventListener("test",Ml,Ml),window.removeEventListener("test",Ml,Ml)}catch{Xd=!1}var fi=Xd?{passive:!1}:!1,z2=function(e){return e.tagName==="TEXTAREA"},Gw=function(e,t){if(!(e instanceof Element))return!1;var a=window.getComputedStyle(e);return a[t]!=="hidden"&&!(a.overflowY===a.overflowX&&!z2(e)&&a[t]==="visible")},B2=function(e){return Gw(e,"overflowY")},q2=function(e){return Gw(e,"overflowX")},gb=function(e,t){var a=t.ownerDocument,i=t;do{typeof ShadowRoot<"u"&&i instanceof ShadowRoot&&(i=i.host);var o=Kw(e,i);if(o){var u=Fw(e,i),c=u[1],d=u[2];if(c>d)return!0}i=i.parentNode}while(i&&i!==a.body);return!1},$2=function(e){var t=e.scrollTop,a=e.scrollHeight,i=e.clientHeight;return[t,a,i]},I2=function(e){var t=e.scrollLeft,a=e.scrollWidth,i=e.clientWidth;return[t,a,i]},Kw=function(e,t){return e==="v"?B2(t):q2(t)},Fw=function(e,t){return e==="v"?$2(t):I2(t)},H2=function(e,t){return e==="h"&&t==="rtl"?-1:1},V2=function(e,t,a,i,o){var u=H2(e,window.getComputedStyle(t).direction),c=u*i,d=a.target,m=t.contains(d),p=!1,g=c>0,v=0,w=0;do{if(!d)break;var _=Fw(e,d),x=_[0],S=_[1],A=_[2],T=S-A-u*x;(x||T)&&Kw(e,d)&&(v+=T,w+=x);var R=d.parentNode;d=R&&R.nodeType===Node.DOCUMENT_FRAGMENT_NODE?R.host:R}while(!m&&d!==document.body||m&&(t.contains(d)||t===d));return(g&&Math.abs(v)<1||!g&&Math.abs(w)<1)&&(p=!0),p},Ul=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},yb=function(e){return[e.deltaX,e.deltaY]},vb=function(e){return e&&"current"in e?e.current:e},G2=function(e,t){return e[0]===t[0]&&e[1]===t[1]},K2=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},F2=0,di=[];function Q2(e){var t=b.useRef([]),a=b.useRef([0,0]),i=b.useRef(),o=b.useState(F2++)[0],u=b.useState(Vw)[0],c=b.useRef(e);b.useEffect(function(){c.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=VT([e.lockRef.current],(e.shards||[]).map(vb),!0).filter(Boolean);return S.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var d=b.useCallback(function(S,A){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var T=Ul(S),R=a.current,C="deltaX"in S?S.deltaX:R[0]-T[0],P="deltaY"in S?S.deltaY:R[1]-T[1],$,F=S.target,M=Math.abs(C)>Math.abs(P)?"h":"v";if("touches"in S&&M==="h"&&F.type==="range")return!1;var H=window.getSelection(),Z=H&&H.anchorNode,J=Z?Z===F||Z.contains(F):!1;if(J)return!1;var ee=gb(M,F);if(!ee)return!0;if(ee?$=M:($=M==="v"?"h":"v",ee=gb(M,F)),!ee)return!1;if(!i.current&&"changedTouches"in S&&(C||P)&&(i.current=$),!$)return!0;var ie=i.current||$;return V2(ie,A,S,ie==="h"?C:P)},[]),m=b.useCallback(function(S){var A=S;if(!(!di.length||di[di.length-1]!==u)){var T="deltaY"in A?yb(A):Ul(A),R=t.current.filter(function($){return $.name===A.type&&($.target===A.target||A.target===$.shadowParent)&&G2($.delta,T)})[0];if(R&&R.should){A.cancelable&&A.preventDefault();return}if(!R){var C=(c.current.shards||[]).map(vb).filter(Boolean).filter(function($){return $.contains(A.target)}),P=C.length>0?d(A,C[0]):!c.current.noIsolation;P&&A.cancelable&&A.preventDefault()}}},[]),p=b.useCallback(function(S,A,T,R){var C={name:S,delta:A,target:T,should:R,shadowParent:Y2(T)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(P){return P!==C})},1)},[]),g=b.useCallback(function(S){a.current=Ul(S),i.current=void 0},[]),v=b.useCallback(function(S){p(S.type,yb(S),S.target,d(S,e.lockRef.current))},[]),w=b.useCallback(function(S){p(S.type,Ul(S),S.target,d(S,e.lockRef.current))},[]);b.useEffect(function(){return di.push(u),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",m,fi),document.addEventListener("touchmove",m,fi),document.addEventListener("touchstart",g,fi),function(){di=di.filter(function(S){return S!==u}),document.removeEventListener("wheel",m,fi),document.removeEventListener("touchmove",m,fi),document.removeEventListener("touchstart",g,fi)}},[]);var _=e.removeScrollBar,x=e.inert;return b.createElement(b.Fragment,null,x?b.createElement(u,{styles:K2(o)}):null,_?b.createElement(P2,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Y2(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const X2=x2(Hw,Q2);var Qw=b.forwardRef(function(e,t){return b.createElement(mu,xn({},e,{ref:t,sideCar:X2}))});Qw.classNames=mu.classNames;var pu="Popover",[Yw]=Sk(pu,[Ow]),no=Ow(),[J2,Pr]=Yw(pu),Xw=e=>{const{__scopePopover:t,children:a,open:i,defaultOpen:o,onOpenChange:u,modal:c=!1}=e,d=no(t),m=b.useRef(null),[p,g]=b.useState(!1),[v,w]=u2({prop:i,defaultProp:o??!1,onChange:u,caller:pu});return k.jsx($D,{...d,children:k.jsx(J2,{scope:t,contentId:aN(),triggerRef:m,open:v,onOpenChange:w,onOpenToggle:b.useCallback(()=>w(_=>!_),[w]),hasCustomAnchor:p,onCustomAnchorAdd:b.useCallback(()=>g(!0),[]),onCustomAnchorRemove:b.useCallback(()=>g(!1),[]),modal:c,children:a})})};Xw.displayName=pu;var Jw="PopoverAnchor",W2=b.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,o=Pr(Jw,a),u=no(a),{onCustomAnchorAdd:c,onCustomAnchorRemove:d}=o;return b.useEffect(()=>(c(),()=>d()),[c,d]),k.jsx(Pw,{...u,...i,ref:t})});W2.displayName=Jw;var Ww="PopoverTrigger",Zw=b.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,o=Pr(Ww,a),u=no(a),c=Lr(t,o.triggerRef),d=k.jsx(qw.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":a_(o.open),...i,ref:c,onClick:Nr(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?d:k.jsx(Pw,{asChild:!0,...u,children:d})});Zw.displayName=Ww;var Uh="PopoverPortal",[Z2,ej]=Yw(Uh,{forceMount:void 0}),e_=e=>{const{__scopePopover:t,forceMount:a,children:i,container:o}=e,u=Pr(Uh,t);return k.jsx(Z2,{scope:t,forceMount:a,children:k.jsx(Mh,{present:a||u.open,children:k.jsx(zw,{asChild:!0,container:o,children:i})})})};e_.displayName=Uh;var Ti="PopoverContent",t_=b.forwardRef((e,t)=>{const a=ej(Ti,e.__scopePopover),{forceMount:i=a.forceMount,...o}=e,u=Pr(Ti,e.__scopePopover);return k.jsx(Mh,{present:i||u.open,children:u.modal?k.jsx(nj,{...o,ref:t}):k.jsx(rj,{...o,ref:t})})});t_.displayName=Ti;var tj=Bw("PopoverContent.RemoveScroll"),nj=b.forwardRef((e,t)=>{const a=Pr(Ti,e.__scopePopover),i=b.useRef(null),o=Lr(t,i),u=b.useRef(!1);return b.useEffect(()=>{const c=i.current;if(c)return p2(c)},[]),k.jsx(Qw,{as:tj,allowPinchZoom:!0,children:k.jsx(n_,{...e,ref:o,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Nr(e.onCloseAutoFocus,c=>{c.preventDefault(),u.current||a.triggerRef.current?.focus()}),onPointerDownOutside:Nr(e.onPointerDownOutside,c=>{const d=c.detail.originalEvent,m=d.button===0&&d.ctrlKey===!0,p=d.button===2||m;u.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Nr(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),rj=b.forwardRef((e,t)=>{const a=Pr(Ti,e.__scopePopover),i=b.useRef(!1),o=b.useRef(!1);return k.jsx(n_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(i.current||a.triggerRef.current?.focus(),u.preventDefault()),i.current=!1,o.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(i.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=u.target;a.triggerRef.current?.contains(c)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),n_=b.forwardRef((e,t)=>{const{__scopePopover:a,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:g,...v}=e,w=Pr(Ti,a),_=no(a);return qk(),k.jsx(dw,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:u,children:k.jsx(cw,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:d,onPointerDownOutside:m,onFocusOutside:p,onDismiss:()=>w.onOpenChange(!1),children:k.jsx(ID,{"data-state":a_(w.open),role:"dialog",id:w.contentId,..._,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),r_="PopoverClose",aj=b.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,o=Pr(r_,a);return k.jsx(qw.button,{type:"button",...i,ref:t,onClick:Nr(e.onClick,()=>o.onOpenChange(!1))})});aj.displayName=r_;var ij="PopoverArrow",sj=b.forwardRef((e,t)=>{const{__scopePopover:a,...i}=e,o=no(a);return k.jsx(HD,{...o,...i,ref:t})});sj.displayName=ij;function a_(e){return e?"open":"closed"}var oj=Xw,lj=Zw,uj=e_,i_=t_;const cj=oj,fj=lj,s_=b.forwardRef(({className:e,align:t="center",sideOffset:a=4,...i},o)=>k.jsx(uj,{children:k.jsx(i_,{ref:o,align:t,sideOffset:a,className:Ql("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...i})}));s_.displayName=i_.displayName;let Si=[];const Jd=new Set,o_=()=>{Jd.forEach(e=>e())},dj=()=>crypto.randomUUID?.()??`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`,hj=()=>Si,mj=e=>(Jd.add(e),()=>Jd.delete(e)),nu=e=>{const t=Si.filter(a=>a.id!==e);t.length!==Si.length&&(Si=t,o_())},hd=e=>{const t=dj(),a={variant:"info",...e,id:t};Si=[...Si,a],o_();const i=e.durationMs??4500;return i!==0&&window.setTimeout(()=>nu(t),i),t},pj=()=>b.useSyncExternalStore(mj,hj),gj={info:"bg-slate-800 text-slate-50 border border-slate-700",success:"bg-emerald-700/90 text-emerald-50 border border-emerald-600",error:"bg-rose-700/90 text-rose-50 border border-rose-600"},yj="ml-3 rounded-md px-2 py-1 text-xs font-semibold transition hover:bg-black/10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-400",vj=()=>{const e=pj();return e.length===0?null:k.jsx("div",{className:"fixed left-1/2 top-4 z-50 flex w-full max-w-xl -translate-x-1/2 flex-col gap-2 px-4 sm:left-auto sm:right-4 sm:translate-x-0 sm:px-0",children:e.map(t=>k.jsx("div",{className:`${gj[t.variant??"info"]} shadow-lg shadow-black/30 backdrop-blur-md`,children:k.jsxs("div",{className:"flex items-start justify-between px-4 py-3",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("p",{className:"text-sm font-semibold leading-tight",children:t.title}),t.description&&k.jsx("p",{className:"mt-1 text-sm leading-snug text-slate-200",children:t.description}),t.action?k.jsx("div",{className:"mt-2",children:k.jsx("button",{type:"button",onClick:()=>{t.action?.onClick(),nu(t.id)},className:"inline-flex items-center rounded-md bg-white/10 px-3 py-1.5 text-xs font-semibold text-white transition hover:bg-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60",children:t.action.label})}):null]}),k.jsx("button",{type:"button",onClick:()=>nu(t.id),"aria-label":"Dismiss notification",className:`${yj} text-inherit`,children:""})]})},t.id))})},md=e=>{switch(e){case"success":return"Success";case"error":return"Something went wrong";default:return"Notice"}},pd={show:(e,t)=>hd({title:t?.title??md(t?.variant),description:e,variant:t?.variant,durationMs:t?.durationMs}),success:(e,t)=>hd({title:t?.title??md("success"),description:e,variant:"success",durationMs:t?.durationMs}),error:(e,t)=>hd({title:t?.title??md("error"),description:e,variant:"error",durationMs:t?.durationMs}),dismiss:nu};function bj(e,t,a){const{user:i}=un(),o=i?.id,[u,c]=b.useState(()=>typeof document>"u"?!0:document.visibilityState==="visible");b.useEffect(()=>{if(typeof document>"u")return;const p=()=>c(document.visibilityState==="visible");return document.addEventListener("visibilitychange",p),()=>document.removeEventListener("visibilitychange",p)},[]);const d=b.useMemo(()=>{const p={surface:e};return e==="title"&&typeof t.titleId=="string"&&(p.titleId=t.titleId),e==="messages"&&typeof t.conversationId=="string"&&(p.conversationId=t.conversationId),e==="swipe"&&typeof t.sessionId=="string"&&(p.sessionId=t.sessionId),e==="search"&&typeof t.query=="string"&&(p.query=String(t.query).slice(0,60)),JSON.stringify(p)},[e,t]),m=Ni({queryKey:Jn.assistantSuggestions(o,e,d),enabled:!!o&&!!(a?.enabled??!0),staleTime:6e4,refetchInterval:(()=>{const p=a?.proactivityLevel??1;if(!(!!o&&!!(a?.enabled??!0)&&!a?.pausePolling&&u)||p<=0)return!1;switch(e){case"swipe":case"search":case"messages":return p===2?6e4:12e4;case"title":return p===2?18e4:3e5;case"diary":return 6e5;default:return p===2?24e4:42e4}})(),refetchIntervalInBackground:!1,queryFn:()=>Fs("assistant-orchestrator",{surface:e,context:t,limit:3},{timeoutMs:12e3})});return b.useEffect(()=>{const p=m.data?.suggestions?.[0];p&&Fs("assistant-suggestion-action",{suggestionId:p.id,kind:"shown"}).catch(()=>null)},[m.data?.suggestions?.[0]?.id]),{...m,contextKey:d}}function wj(){return s0({mutationFn:e=>Fs("assistant-suggestion-action",e)})}const Lh="assistant_quiet_until_v1";function _j(){if(typeof window>"u")return 0;try{const e=window.localStorage.getItem(Lh),t=e?Number(e):0;return Number.isFinite(t)?t:0}catch{return 0}}function bb(e){if(!(typeof window>"u"))try{const t=Date.now()+Math.max(0,e);window.localStorage.setItem(Lh,String(t))}catch{}}function HM(){if(!(typeof window>"u"))try{window.localStorage.removeItem(Lh)}catch{}}const l_={enabled:!0,proactivityLevel:1};function Sj(){const{user:e}=un(),t=e?.id;return Ni({queryKey:Jn.assistantPrefs(t),enabled:!!t,staleTime:5*6e4,queryFn:async()=>{const{data:a,error:i}=await Le.from("assistant_prefs").select("enabled, proactivity_level").eq("user_id",t).maybeSingle();return i?l_:{enabled:typeof a?.enabled=="boolean"?a.enabled:!0,proactivityLevel:a?.proactivity_level===0||a?.proactivity_level===1||a?.proactivity_level===2?a.proactivity_level:1}}})}function VM(){const{user:e}=un(),t=e?.id;return s0({mutationFn:async a=>{if(!t)throw new Error("Not signed in");const i=sn.getQueryData(Jn.assistantPrefs(t))??l_,o=typeof a.enabled=="boolean"?a.enabled:i.enabled,u=a.proactivityLevel===0||a.proactivityLevel===1||a.proactivityLevel===2?a.proactivityLevel:i.proactivityLevel,{error:c}=await Le.from("assistant_prefs").upsert({user_id:t,enabled:o,proactivity_level:u,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(c)throw new Error(c.message);return{enabled:o,proactivityLevel:u}},onSuccess:a=>{t&&(sn.setQueryData(Jn.assistantPrefs(t),a),sn.invalidateQueries({queryKey:["assistant"]}))}})}const Ej="assistant_seen_suggestion_v1";function u_(e,t){const a=t.length>120?t.slice(0,120):t;return`${Ej}:${e}:${a}`}function xj(e,t){if(typeof window>"u")return null;try{return window.localStorage.getItem(u_(e,t))}catch{return null}}function wb(e,t,a){if(!(typeof window>"u"))try{window.localStorage.setItem(u_(e,t),a)}catch{}}function Aj(e){return e.type!=="dismiss"}const Rj=({surface:e,context:t,className:a})=>{const{user:i}=un(),o=i?.id,u=ln(),c=au(),[d,m]=b.useState(!1),g=Sj().data??{enabled:!0,proactivityLevel:1},v=_j(),[w,_]=b.useState(!1);b.useEffect(()=>{_(Date.now()<v)},[v]);const x=!!o&&g.enabled&&!w,{data:S,isLoading:A,isFetching:T,contextKey:R}=bj(e,t,{enabled:x,pausePolling:d,proactivityLevel:g.proactivityLevel}),C=wj(),P=S?.suggestions??[],$=S?.activeGoal??null,F=P[0]?.id??null,M=b.useMemo(()=>!F||d?!1:xj(e,R)!==F,[R,d,e,F]),H=b.useMemo(()=>A?"Assistant":P.length?"Hints":"Assistant",[A,P.length]);if(!i||u.pathname.startsWith("/auth")||!g.enabled||w)return null;const Z=async ee=>{try{await C.mutateAsync({suggestionId:ee,kind:"dismiss"}),sn.invalidateQueries({queryKey:["assistant"]});const ie=e==="swipe"?5*6e4:10*6e4;bb(ie)}catch(ie){pd.error(ie?.message??"Failed to dismiss")}},J=async(ee,ie)=>{try{const ue=await C.mutateAsync({suggestionId:ee,kind:"execute",actionId:ie});if(sn.invalidateQueries({queryKey:["assistant"]}),m(!1),bb(2*6e4),ue?.followUpSuggestions?.length){sn.setQueryData(Jn.assistantSuggestions(o,e,R),{ok:!0,contextKey:R,activeGoal:$,suggestions:ue.followUpSuggestions});const ve=ue.followUpSuggestions[0]?.id;ve&&wb(e,R,ve),m(!0)}ue?.navigateTo&&c(ue.navigateTo),pd.success("Done")}catch(ue){pd.error(ue?.message??"Action failed")}};return k.jsx("div",{className:Ql("fixed right-4 z-40","bottom-[5.5rem]",a),children:k.jsxs(cj,{open:d,onOpenChange:ee=>{m(ee),ee&&F&&wb(e,R,F)},children:[k.jsx(fj,{asChild:!0,children:k.jsx("button",{type:"button",className:"focus:outline-none",children:k.jsxs(_k,{variant:P.length?"accent":"default",className:Ql("shadow-sm relative",(T||C.isPending)&&"opacity-80"),children:[M&&k.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full bg-primary","aria-hidden":"true"}),H]})})}),k.jsxs(s_,{align:"end",className:"w-[340px] p-3",children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("div",{className:"text-sm font-semibold",children:"Assistant"}),k.jsx(vi,{variant:"ghost",size:"sm",onClick:()=>m(!1),className:"h-7 px-2",children:"Close"})]}),$&&k.jsxs("div",{className:"mb-2 rounded-lg border bg-muted/40 p-2",children:[k.jsx("div",{className:"text-xs font-semibold leading-snug",children:$.title}),k.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Progress ",$.progressCount,"/",$.targetCount,$.endAt?`  ends ${new Date($.endAt).toLocaleDateString()}`:""]})]}),P.length===0?k.jsx("div",{className:"text-sm text-muted-foreground",children:"No hints right now. Keep browsing  Ill surface ideas when theyre useful."}):k.jsx("div",{className:"flex flex-col gap-2",children:P.map(ee=>{const ie=ee.actions.filter(Aj);return k.jsxs("div",{className:"rounded-lg border p-3",children:[k.jsxs("div",{className:"flex items-start justify-between gap-2",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold leading-snug",children:ee.title}),k.jsx("div",{className:"text-xs text-muted-foreground mt-1 leading-snug",children:ee.body})]}),k.jsx(vi,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>Z(ee.id),children:"Dismiss"})]}),ie.length>0&&k.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:ie.map(ue=>k.jsx(vi,{size:"sm",variant:ue.type==="navigate"?"secondary":"default",onClick:()=>J(ee.id,ue.id),disabled:C.isPending,children:ue.label},ue.id))})]},ee.id)})})]})]})})},c_="movinesta.assistantCache.v1",Tj="movinesta:assistant-cache";function Oj(){try{window.dispatchEvent(new Event(Tj))}catch{}}function Cj(){try{const e=localStorage.getItem(c_);if(!e)return null;const t=JSON.parse(e);return!t?.conversationId||!t?.assistant?.id?null:t}catch{return null}}function kj(e){try{localStorage.setItem(c_,JSON.stringify(e))}catch{}Oj()}function Nj(){const{user:e}=un();b.useEffect(()=>{if(!e)return;const t=Cj();if(t?.updatedAt&&Date.now()-t.updatedAt<360*60*1e3)return;let a=!0;return(async()=>{try{const{data:i,error:o}=await Le.functions.invoke("assistant-get-conversation",{body:{reason:"bootstrap"}});if(!a||o)return;const u=i?.conversationId,c=i?.assistant;u&&c?.id&&kj({conversationId:u,assistant:{id:String(c.id),username:c.username??null,display_name:c.display_name??null,avatar_url:c.avatar_url??null},updatedAt:Date.now()})}catch{}})(),()=>{a=!1}},[e])}function _b(e,t){try{const i=new URLSearchParams(e).get(t);return i?String(i):null}catch{return null}}function Dj(e){const t=e.pathname;if(t.startsWith("/title/")){const i=t.split("/")[2]??null;return{surface:"title",context:i?{titleId:i}:{}}}if(t==="/swipe"||t.startsWith("/swipe/"))return{surface:"swipe",context:{sessionId:Ah()}};if(t==="/messages"||t.startsWith("/messages")){const a=t.split("/"),i=a.length>=3?a[2]:null;return i&&i!=="new"?{surface:"messages",context:{conversationId:i}}:{surface:"messages",context:{}}}if(t==="/diary"||t.startsWith("/diary/"))return{surface:"diary",context:{}};if(t==="/search"||t.startsWith("/search")){const a=_b(e.search,"q")??_b(e.search,"query");return{surface:"search",context:a?{query:a}:{}}}return{surface:"home",context:{}}}const jj=()=>{const e=ln(),{setLastVisitedTab:t}=ph(),{t:a}=IT();Nj();const{data:i}=vk(),o=Ot.useCallback((x,S)=>{const T=(x||S||"").replace(/^@/,"").trim();if(!T)return"?";const R=T.split(/\s+/);return R.length===1?R[0].slice(0,2).toUpperCase():(R[0][0]+R[1][0]).toUpperCase()},[]),u=Ot.useMemo(()=>[{key:"home",to:"/home",label:a("nav.home"),icon:ST},{key:"swipe",to:"/swipe",label:a("nav.swipe"),icon:wT},{key:"messages",to:"/messages",label:a("nav.messages"),icon:RT},{key:"search",to:"/search",label:a("nav.search"),icon:OT},{key:"profile",to:"/me",label:a("nav.profile"),icon:null}],[a]);Ot.useEffect(()=>{e.pathname==="/search"&&t("search")},[e.pathname,t]);const c=e.pathname.startsWith("/messages/")&&e.pathname!=="/messages",d=e.pathname==="/assistant"||e.pathname.startsWith("/assistant/"),m=e.pathname==="/swipe"||e.pathname.startsWith("/swipe/"),p=Ot.useMemo(()=>Dj(e),[e]),g=c||d?"relative z-10 mx-auto flex min-h-screen w-full max-w-5xl flex-1 flex-col px-0 pt-0 pb-0 sm:px-0 sm:pb-0":m?"relative z-10 mx-auto flex w-full max-w-5xl flex-1 flex-col px-0 pt-0 pb-0 sm:px-0 sm:pt-0 sm:pb-0":"relative z-10 mx-auto flex w-full max-w-5xl flex-1 flex-col px-4 pb-[calc(5.5rem+env(safe-area-inset-bottom))] pt-4 sm:px-5 sm:pb-[calc(6rem+env(safe-area-inset-bottom))]",v=c||d?"flex items-center justify-between gap-1 px-3 py-1.5 sm:px-4":"mx-auto flex max-w-5xl items-center justify-between gap-1 px-4 py-2 pb-[calc(env(safe-area-inset-bottom)+0.5rem)] sm:px-5",w=x=>{t(x)},_=Ot.useMemo(()=>{const x=i?.username;return!!(e.pathname==="/me"||x&&e.pathname===`/u/${x}`||x&&e.pathname.startsWith(`/u/${x}/`))},[i?.username,e.pathname]);return k.jsxs("div",{className:"relative flex min-h-screen flex-col bg-background text-foreground",children:[k.jsx("div",{className:g,children:k.jsx("main",{className:m?"flex-1 min-h-0 overflow-hidden":"flex-1 min-h-0",children:k.jsx(zb,{})})}),!d&&k.jsx(Rj,{surface:p.surface,context:p.context,className:c?"bottom-[7.75rem]":void 0}),!c&&!d&&k.jsx("nav",{className:"fixed inset-x-0 bottom-0 z-20 border-t border-border bg-background","aria-label":"Main",children:k.jsx("div",{className:v,children:u.map(x=>{const S=x.icon,A=x.key==="profile",T=A?_:void 0;return k.jsx(Vb,{to:x.to,onClick:()=>w(x.key),className:({isActive:R})=>["group flex min-h-11 flex-1 flex-col items-center gap-0.5 rounded-md px-2 py-1 text-xs font-medium transition sm:min-h-0","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",T??R?"text-primary":"text-muted-foreground hover:text-muted-foreground"].join(" "),"aria-label":x.label,"aria-current":T??void 0?"page":void 0,children:({isActive:R})=>{const C=T??R;return k.jsxs(k.Fragment,{children:[k.jsx("span",{className:["inline-flex h-7 w-7 items-center justify-center rounded-md border border-transparent bg-transparent transition",C?"border-primary/40 bg-background":""].join(" "),children:A?i?.avatarUrl?k.jsx("img",{src:i.avatarUrl,alt:i.displayName||i.username||"Profile",className:"h-5 w-5 rounded-full object-cover"}):k.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-muted text-[10px] font-semibold text-foreground",children:o(i?.displayName,i?.username)}):k.jsx(S,{className:"h-4 w-4","aria-hidden":"true"})}),k.jsx("span",{className:"mt-0.5",children:x.label})]})}},x.to)})})})]})},f_=({message:e="Loading MoviNesta"})=>k.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:k.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border bg-card/80 px-4 py-3 shadow-lg",children:[k.jsx(xT,{className:"h-5 w-5 animate-spin text-primary","aria-hidden":"true"}),k.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})}),Mj=()=>{const{user:e,loading:t}=un(),a=ln();if(t)return k.jsx(f_,{});if(!e)return k.jsx(vd,{to:"/auth/signin",replace:!0,state:{from:a}});const i=e?.user_metadata?.onboarded===!0,o=a.pathname.startsWith("/onboarding");return!i&&!o?k.jsx(vd,{to:"/onboarding",replace:!0,state:{from:a}}):k.jsx(zb,{})},gd="movinesta:lazy-retry",Uj=e=>e instanceof Error?/ChunkLoadError|Loading chunk [\d]+ failed|dynamically imported module/i.test(e.message):!1,je=e=>Ot.lazy(async()=>{const t=nw(gd)==="true";try{const a=await e();return t&&ak(gd),a}catch(a){throw!t&&Uj(a)&&(xh(gd,"true"),window.location.reload()),a}}),Lj=je(()=>De(()=>import("./SignInPage-nmTDNW84.js"),__vite__mapDeps([0,1,2]))),Pj=je(()=>De(()=>import("./SignUpPage-fx2nTOy-.js"),__vite__mapDeps([3,1,2]))),zj=je(()=>De(()=>import("./ForgotPasswordPage-DzQVf9tD.js"),__vite__mapDeps([4,1,5,6,7,8,9]))),Bj=je(()=>De(()=>import("./ResetPasswordPage-p9EvdGZn.js"),__vite__mapDeps([10,1,5,6,7,8]))),qj=je(()=>De(()=>import("./HomePage-DH6iRkAF.js"),__vite__mapDeps([11,1,12,13,14,7,2,15,16,17]))),$j=je(()=>De(()=>import("./SwipePage-B381YocA.js"),__vite__mapDeps([18,2,17,19,20,21,12,13,22,23,24,16,25,9,26]))),Ij=je(()=>De(()=>import("./SearchPage-YxdRw3Mm.js"),__vite__mapDeps([27,12,28,2,29,30,31,17,32,8,14,33,22,34,35,36,26,37]))),Hj=je(()=>De(()=>import("./DiaryPage-mpmKC22m.js"),__vite__mapDeps([38,39,40,31,21,8,7,36,14,17,41]))),Vj=je(()=>De(()=>import("./ProfilePage-bM_0_xRT.js"),__vite__mapDeps([42,12,9,28,43,33,37,17,40,44,13]))),Gj=je(()=>De(()=>import("./MePage-DQp0S8wk.js"),__vite__mapDeps([45,39,40]))),Kj=je(()=>De(()=>import("./SuggestedPeoplePage-ClRE0Xft.js"),__vite__mapDeps([46,39,40,15,16,9,37,33,22,23]))),Fj=je(()=>De(()=>import("./ListDetailPage-Ct1NA4PK.js"),__vite__mapDeps([47,39,40,44]))),Qj=je(()=>De(()=>import("./FollowersPage-CeZlwEVi.js"),__vite__mapDeps([48,49,31,39,40,33,34]))),Yj=je(()=>De(()=>import("./FollowingPage-Cd7frq1x.js"),__vite__mapDeps([50,49,31,39,40,33,34]))),Xj=je(()=>De(()=>import("./SettingsOverviewPage-CNLUAV6g.js"),__vite__mapDeps([51,52,39,40,53,35,54,55,56]))),Jj=je(()=>De(()=>import("./SettingsProfilePage-CXp870r4.js"),__vite__mapDeps([57,52,39,40,35,24,58]))),Wj=je(()=>De(()=>import("./SettingsAccountPage-D36quone.js"),__vite__mapDeps([59,39,40,21,9,54,24]))),Zj=je(()=>De(()=>import("./SettingsNotificationsPage-D-KCxHQR.js"),__vite__mapDeps([60,39,40,55,58,24]))),eM=je(()=>De(()=>import("./SettingsAppPage-BQdQfCKY.js"),__vite__mapDeps([61,39,40,8,7,56,24,58]))),tM=je(()=>De(()=>import("./NotFoundPage-BHl0UqNd.js"),__vite__mapDeps([62,39,40]))),nM=je(()=>De(()=>import("./OnboardingPage-l0uJb1Ai.js"),__vite__mapDeps([63,6,7,8]))),rM=je(()=>De(()=>import("./TasteOnboardingPage-DkF4-dcT.js"),__vite__mapDeps([64,28,29,22,58,13]))),aM=je(()=>De(()=>import("./MessagesPage-BLBk3ZXd.js"),__vite__mapDeps([65,2,66,12,41,20,54,55]))),iM=je(()=>De(()=>import("./NewMessagePage-DQKtVpmg.js"),__vite__mapDeps([67,2,30,37]))),sM=je(()=>De(()=>import("./ConversationPage-C_3dDGD7.js"),__vite__mapDeps([68,19,20,21,12,13,22,23,24,16,66,2,41,55,25,35,43]))),oM=je(()=>De(()=>import("./AssistantChatPage-LShis1V0.js"),[])),lM=je(()=>De(()=>import("./TitleDetailPageV2-BINaSl8p.js"),__vite__mapDeps([69,70,2,17,32]))),uM=je(()=>De(()=>import("./TitleReviewsPageV2-DqClnNSr.js"),__vite__mapDeps([71,70,2,12,28,25]))),cM=je(()=>De(()=>import("./ActivityPage-DqWXI1Ad.js"),__vite__mapDeps([72,39,40,33,53,22]))),fM=je(()=>De(()=>import("./FollowRequestsPage-OTTgbp8G.js"),__vite__mapDeps([73,39,40]))),dM=()=>k.jsx(Ot.Suspense,{fallback:k.jsx(f_,{}),children:k.jsxs(Fx,{children:[k.jsx(Te,{path:"/auth/signin",element:k.jsx(Lj,{})}),k.jsx(Te,{path:"/auth/signup",element:k.jsx(Pj,{})}),k.jsx(Te,{path:"/auth/forgot-password",element:k.jsx(zj,{})}),k.jsx(Te,{path:"/auth/reset-password",element:k.jsx(Bj,{})}),k.jsx(Te,{path:"/welcome",element:k.jsx(nM,{})}),k.jsxs(Te,{element:k.jsx(Mj,{}),children:[k.jsx(Te,{path:"/onboarding",element:k.jsx(rM,{})}),k.jsxs(Te,{element:k.jsx(jj,{}),children:[k.jsx(Te,{index:!0,element:k.jsx(vd,{to:"/search",replace:!0})}),k.jsx(Te,{path:"/home",element:k.jsx(qj,{})}),k.jsx(Te,{path:"/swipe",element:k.jsx($j,{})}),k.jsx(Te,{path:"/messages",element:k.jsx(aM,{})}),k.jsx(Te,{path:"/messages/new",element:k.jsx(iM,{})}),k.jsx(Te,{path:"/assistant",element:k.jsx(oM,{})}),k.jsx(Te,{path:"/messages/:conversationId",element:k.jsx(sM,{})}),k.jsx(Te,{path:"/search",element:k.jsx(Ij,{})}),k.jsx(Te,{path:"/diary",element:k.jsx(Hj,{})}),k.jsx(Te,{path:"/title/:titleId",element:k.jsx(lM,{})}),k.jsx(Te,{path:"/title/:titleId/reviews",element:k.jsx(uM,{})}),k.jsx(Te,{path:"/activity",element:k.jsx(cM,{})}),k.jsx(Te,{path:"/activity/requests",element:k.jsx(fM,{})}),k.jsx(Te,{path:"/me",element:k.jsx(Gj,{})}),k.jsx(Te,{path:"/u/:username",element:k.jsx(Vj,{})}),k.jsx(Te,{path:"/u/:username/followers",element:k.jsx(Qj,{})}),k.jsx(Te,{path:"/u/:username/following",element:k.jsx(Yj,{})}),k.jsx(Te,{path:"/suggested-people",element:k.jsx(Kj,{})}),k.jsx(Te,{path:"/lists/:listId",element:k.jsx(Fj,{})}),k.jsx(Te,{path:"/settings",element:k.jsx(Xj,{})}),k.jsx(Te,{path:"/settings/profile",element:k.jsx(Jj,{})}),k.jsx(Te,{path:"/settings/account",element:k.jsx(Wj,{})}),k.jsx(Te,{path:"/settings/notifications",element:k.jsx(Zj,{})}),k.jsx(Te,{path:"/settings/app",element:k.jsx(eM,{})})]})]}),k.jsx(Te,{path:"*",element:k.jsx(tM,{})})]})}),hM=()=>k.jsxs(hT,{children:[k.jsx(dM,{}),k.jsx(vj,{})]});function mM(e){const t={...da};if(!e)return t;for(const[a,i]of Object.entries(e))t[a]=i;return t}async function pM(e){const t=await Fs("public-app-settings",{},{signal:e?.signal,timeoutMs:e?.timeoutMs}),a=Number(t?.version??1)||1,i=mM(t?.settings??null);return{version:a,settings:i}}function d_(e,t,a){const i=e[t];return typeof i=="string"&&i.length?i:a}function h_(e,t,a){const i=e[t];return typeof i=="number"&&Number.isFinite(i)?i:a}const m_=b.createContext(null);function gM({children:e}){const t=b.useMemo(()=>O1(),[]),[a,i]=b.useState(!1),[o,u]=b.useState(t.version??1),[c,d]=b.useState(t.settings??{...da}),m=b.useCallback(async()=>{try{const w=await pM({timeoutMs:1e4});u(w.version),d(w.settings),T1(w.version,w.settings)}catch{}finally{i(!0)}},[]);b.useEffect(()=>{m()},[m]);const p=b.useCallback((w,_)=>h_(c,w,_),[c]),g=b.useCallback((w,_)=>d_(c,w,_),[c]),v=b.useMemo(()=>({ready:a,version:o,settings:c,refresh:m,getNumber:p,getString:g}),[a,o,c,m,p,g]);return k.jsx(m_.Provider,{value:v,children:e})}function yM(){const e=b.useContext(m_);return e||{ready:!1,version:1,settings:{...da},refresh:async()=>{},getNumber:(t,a)=>h_(da,t,a),getString:(t,a)=>d_(da,t,a)}}const p_=b.createContext(null);function yd(e,t,a,i){const o={};for(const u of Object.values(e))for(const c of u??[]){const d=c?.user_id;if(!d)continue;const m=o[d],p=typeof c.last_seen=="number"?c.last_seen:null;(!m||(p??0)>(m.last_seen??0))&&(o[d]={last_seen:p,status:"offline"})}for(const[u,c]of Object.entries(o)){const d=c.last_seen;if(d==null){c.status="offline";continue}const m=t-d;m<=a?c.status="online":m<=i?c.status="away":c.status="offline",o[u]=c}return o}function vM({children:e}){const{user:t}=un(),{getNumber:a,getString:i}=yM(),o=i("ux.presence.channel","presence:global"),u=a("ux.presence.online_ttl_ms",45e3),c=a("ux.presence.away_ttl_ms",2*6e4),d=a("ux.presence.heartbeat_ms",2e4),m=a("ux.presence.recompute_ms",5e3),p=a("ux.presence.db_touch_min_interval_ms",6e4),g=a("ux.presence.initial_sync_delay_ms",150),v=b.useRef(null),w=b.useRef("online"),_=b.useRef(0),[x,S]=b.useState({}),A=b.useRef({}),T=b.useCallback(()=>{S(yd(A.current,Date.now(),u,c))},[u,c]),R=b.useCallback(async()=>{if(!t?.id)return;const M=Date.now();if(!(M-_.current<p)){_.current=M;try{await Le.from("profiles").update({last_seen_at:new Date(M).toISOString()}).eq("id",t.id)}catch{}}},[p,t]),C=b.useCallback(async()=>{const M=v.current;if(!(!M||!t?.id)){try{await M.track({user_id:t.id,last_seen:Date.now(),status:w.current})}catch{}try{const H=M.presenceState();A.current=H,S(yd(H,Date.now(),u,c))}catch{}R()}},[c,u,R,t]);b.useEffect(()=>{if(!t?.id){S({});return}const M=Le.channel(o,{config:{presence:{key:t.id}}});v.current=M;const H=()=>{try{const ue=M.presenceState();A.current=ue,S(yd(ue,Date.now(),u,c))}catch{}};M.on("presence",{event:"sync"},H).on("presence",{event:"join"},H).on("presence",{event:"leave"},H);const Z=M.subscribe(ue=>{ue==="SUBSCRIBED"&&(C(),H(),window.setTimeout(H,g))}),J=()=>{const ue=document.visibilityState==="visible"?"online":"away";w.current!==ue&&(w.current=ue,C())};document.addEventListener("visibilitychange",J);const ee=window.setInterval(()=>{C()},d),ie=window.setInterval(()=>{T()},m);return()=>{window.clearInterval(ee),window.clearInterval(ie),document.removeEventListener("visibilitychange",J);try{Z.unsubscribe?.()}catch{}v.current&&Le.removeChannel(v.current),v.current=null}},[c,o,d,g,u,m,T,C,t?.id]);const P=b.useCallback(M=>x[M]?.last_seen??null,[x]),$=b.useCallback(M=>x[M]?.status??"offline",[x]),F=b.useMemo(()=>({getStatus:$,getLastSeen:P,snapshot:x}),[P,$,x]);return k.jsx(p_.Provider,{value:F,children:e})}function GM(){const e=b.useContext(p_);return e||{getStatus:()=>"offline",getLastSeen:()=>null,snapshot:{}}}YE.createRoot(document.getElementById("root")).render(k.jsx(Ot.StrictMode,{children:k.jsx(pk,{children:k.jsx(gM,{children:k.jsx(vM,{children:k.jsxs(eR,{client:sn,children:[(()=>{const e="/MoviNesta/".replace(/\/$/,"")||"/",t=typeof window<"u"&&window.location.hostname.endsWith("github.io"),a=t?bA:vA,i=t?"/":e;return k.jsx(a,{basename:i,children:k.jsx(hM,{})})})(),!1]})})})})}));export{zw as $,zM as A,vi as B,Ws as C,Bs as D,xT as E,Fs as F,wM as G,RM as H,bM as I,IM as J,GM as K,Hb as L,RT as M,V0 as N,Ur as O,Lr as P,lh as Q,Ot as R,OT as S,aN as T,Nr as U,u2 as V,Ai as W,Ow as X,$D as Y,Pw as Z,Mh as _,ln as a,p2 as a0,qk as a1,Qw as a2,dw as a3,cw as a4,ID as a5,HD as a6,fR as a7,OA as a8,IT as a9,cj as aA,fj as aB,s_ as aC,NM as aD,jM as aE,DM as aF,Dr as aG,kj as aH,xM as aI,ph as aa,Sj as ab,VM as ac,_j as ad,HM as ae,$M as af,_k as ag,EM as ah,C1 as ai,yM as aj,_M as ak,PM as al,F0 as am,pd as an,LM as ao,TM as ap,MM as aq,kM as ar,Hv as as,OM as at,CM as au,tw as av,J1 as aw,UM as ax,Ui as ay,W1 as az,un as b,Ni as c,_h as d,r0 as e,vk as f,AM as g,Ah as h,Ql as i,k as j,Qv as k,ok as l,B1 as m,Eh as n,ew as o,hd as p,Jn as q,b as r,Le as s,H0 as t,au as u,BM as v,s0 as w,qM as x,xi as y,f_ as z};
