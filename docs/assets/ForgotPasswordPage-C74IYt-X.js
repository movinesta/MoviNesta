import{r as o,j as e,L as p,s as x}from"./index-DLcJPtaT.js";import{u as b}from"./useDocumentTitle-BK3rDcS4.js";import{A as g}from"./AuthLayout-D608OmRQ.js";import"./brand-DTIDtbc4.js";import"./film-B1-3ac0G.js";import"./heart-handshake-BVGnBKCG.js";const h=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,S=()=>{b("Forgot password");const[t,c]=o.useState(""),[s,i]=o.useState(!1),[l,r]=o.useState(null),[d,m]=o.useState(null),f=async a=>{if(a.preventDefault(),r(null),m(null),!t){r("Please enter your email address.");return}if(!h.test(t)){r("Please enter a valid email address.");return}i(!0);try{const n=typeof window<"u"?`${window.location.origin}/auth/reset-password`:void 0,{error:u}=await x.auth.resetPasswordForEmail(t,{redirectTo:n});if(u){r(u.message||"We couldn't send the reset email. Please try again in a moment.");return}m("If an account exists for that email, we just sent a password reset link. Please check your inbox.")}catch(n){console.error(n),r("Something went wrong while requesting the reset link.")}finally{i(!1)}};return e.jsxs(g,{kicker:"Reset access",title:"Forgot your password?",description:"Enter the email you use for MoviNesta. We'll send a secure link to reset your password.",footer:e.jsx(p,{to:"/auth/signin",className:"font-medium text-mn-primary hover:underline",children:"Back to sign in"}),children:[l&&e.jsx("div",{role:"alert",className:"rounded-xl border border-mn-error/40 bg-mn-error/10 px-3 py-2 text-xs text-mn-error",children:l}),d&&e.jsx("div",{role:"status",className:"rounded-xl border border-emerald-400/40 bg-emerald-400/10 px-3 py-2 text-xs text-emerald-800",children:d}),e.jsxs("form",{onSubmit:f,className:"space-y-4",noValidate:!0,children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{htmlFor:"forgot-email",className:"text-xs font-medium text-mn-text-secondary",children:"Email address"}),e.jsx("input",{id:"forgot-email",type:"email",autoComplete:"email",required:!0,value:t,onChange:a=>c(a.target.value),disabled:s,className:"w-full rounded-lg border border-mn-border bg-mn-bg-input px-3 py-2 text-sm text-mn-text-primary placeholder:text-mn-text-muted focus:outline-none focus-visible:ring-2 focus-visible:ring-mn-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-mn-bg"})]}),e.jsx("button",{type:"submit",disabled:s||!t,"aria-busy":s,className:"inline-flex w-full items-center justify-center rounded-lg bg-mn-primary px-4 py-2 text-sm font-medium text-white shadow-mn-soft hover:bg-mn-primary-soft disabled:cursor-not-allowed disabled:opacity-60",children:s?"Sending reset linkâ€¦":"Send reset link"})]})]})};export{S as default};
