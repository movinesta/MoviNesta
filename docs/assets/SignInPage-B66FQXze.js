import{r as o,u as C,a as S,j as e,L as w,s as L}from"./index-n01z0Q-I.js";import{u as E}from"./useDocumentTitle-DUCKsSGw.js";import{M as n}from"./material-icon-ik9c9RPC.js";const _=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;function m(s,h){const a={};return s?_.test(s)||(a.email="Please enter a valid email address."):a.email="Email is required.",h||(a.password="Password is required."),a}const I=()=>{E("Sign in");const[s,h]=o.useState(""),[a,f]=o.useState(""),[b,v]=o.useState(!1),[c,u]=o.useState(!1),[l,i]=o.useState({}),[p,x]=o.useState(null),g=C(),k=S().state?.from?.pathname??"/search",j=!!s&&!!a&&Object.keys(m(s,a)).length===0,y=async t=>{t.preventDefault();const r=m(s,a);if(Object.keys(r).length>0){i(r),x(null);return}try{u(!0),x(null),i({});const{error:d}=await L.auth.signInWithPassword({email:s,password:a});if(d){const N=d.message==="Invalid login credentials"?"Incorrect email or password. Please try again.":d.message||"Sign-in failed. Please try again.";x(N);return}g(k,{replace:!0})}catch(d){console.error(d),x("Something went wrong while signing you in. Please try again.")}finally{u(!1)}};return e.jsx("div",{className:"min-h-screen bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-white",children:e.jsxs("div",{className:"relative mx-auto flex min-h-screen w-full max-w-5xl items-center justify-center px-4 py-10 sm:px-6 lg:px-12",children:[e.jsx("div",{className:"absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,_rgba(124,58,237,0.12),_transparent_45%)] dark:bg-[radial-gradient(circle_at_top,_rgba(124,58,237,0.2),_transparent_50%)]"}),e.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-slate-200/80 bg-white/90 p-6 shadow-xl shadow-slate-200/60 backdrop-blur sm:p-8 dark:border-white/10 dark:bg-slate-900/80 dark:shadow-none",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"button",onClick:()=>g(-1),className:"flex h-11 w-11 items-center justify-center rounded-full border border-transparent text-slate-700 transition-colors hover:border-slate-200 hover:bg-white dark:text-slate-200 dark:hover:border-white/10 dark:hover:bg-slate-800","aria-label":"Go back",children:e.jsx(n,{name:"arrow_back",className:"text-[20px]",ariaLabel:"Back"})}),e.jsx("span",{className:"rounded-full border border-slate-200/70 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-500 dark:border-white/10 dark:text-slate-300",children:"Sign in"})]}),e.jsxs("div",{className:"pt-6 text-center",children:[e.jsx("h1",{className:"text-3xl font-semibold leading-tight tracking-tight text-slate-900 dark:text-white",children:"Welcome back"}),e.jsx("p",{className:"mt-2 text-sm text-slate-500 dark:text-slate-400",children:"Sign in to continue managing your watchlist and recommendations."})]}),p&&e.jsxs("div",{role:"alert",className:"mt-6 flex items-start gap-2 rounded-2xl border border-red-200/70 bg-red-50 px-4 py-3 text-sm text-red-600 dark:border-red-500/30 dark:bg-red-500/10 dark:text-red-200",children:[e.jsx(n,{name:"error",className:"text-[18px]",ariaLabel:"Error"}),e.jsx("span",{children:p})]}),e.jsxs("form",{onSubmit:y,className:"mt-6 flex flex-col gap-4",noValidate:!0,children:[e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:["Email address",e.jsxs("span",{className:"relative flex items-center",children:[e.jsx(n,{name:"alternate_email",className:"absolute left-4 z-10 text-slate-400 dark:text-slate-500"}),e.jsx("input",{className:"h-12 w-full rounded-2xl border border-slate-200 bg-white pl-12 pr-4 text-base text-slate-900 placeholder:text-slate-400 shadow-sm transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-white/10 dark:bg-slate-900 dark:text-white dark:placeholder:text-slate-500",placeholder:"name@example.com",type:"text",autoComplete:"email",value:s,onChange:t=>{h(t.target.value),l.email&&i(r=>({...r,email:void 0}))},onBlur:()=>{const t=m(s,a);t.email&&i(r=>({...r,email:t.email}))},disabled:c})]})]}),l.email&&e.jsx("p",{className:"text-xs text-red-500",children:l.email}),e.jsxs("label",{className:"flex flex-col gap-2 text-sm font-medium text-slate-700 dark:text-slate-200",children:["Password",e.jsxs("span",{className:"relative flex items-center",children:[e.jsx(n,{name:"lock",className:"absolute left-4 z-10 text-slate-400 dark:text-slate-500"}),e.jsx("input",{className:"h-12 w-full rounded-2xl border border-slate-200 bg-white pl-12 pr-12 text-base text-slate-900 placeholder:text-slate-400 shadow-sm transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-white/10 dark:bg-slate-900 dark:text-white dark:placeholder:text-slate-500",placeholder:"Enter your password",type:b?"text":"password",autoComplete:"current-password",value:a,onChange:t=>{f(t.target.value),l.password&&i(r=>({...r,password:void 0}))},onBlur:()=>{const t=m(s,a);t.password&&i(r=>({...r,password:t.password}))},disabled:c}),e.jsx("button",{type:"button",onClick:()=>v(t=>!t),className:"absolute right-1.5 z-10 icon-hit text-slate-400 hover:text-slate-700 dark:text-slate-500 dark:hover:text-white hover:bg-slate-100/70 dark:hover:bg-white/10","aria-label":b?"Hide password":"Show password",children:e.jsx(n,{name:b?"visibility":"visibility_off"})})]})]}),l.password&&e.jsx("p",{id:"signin-password-error",className:"text-xs text-red-500",children:l.password}),e.jsx(w,{to:"/auth/forgot-password",className:"text-right text-xs font-semibold text-slate-500 transition-colors hover:text-primary dark:text-slate-400",children:"Forgot password?"}),e.jsxs("button",{type:"submit",disabled:c||!j,className:"mt-2 flex h-12 w-full items-center justify-center gap-2 rounded-2xl bg-primary text-sm font-semibold text-white shadow-lg shadow-primary/30 transition-all hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-primary/40 disabled:cursor-not-allowed disabled:opacity-60",children:[c?"Signing you inâ€¦":"Sign In",e.jsx(n,{name:"arrow_forward",className:"text-[18px]",ariaLabel:"Submit"})]})]}),e.jsxs("div",{className:"relative flex items-center py-6",children:[e.jsx("div",{className:"flex-grow border-t border-slate-200 dark:border-white/10"}),e.jsx("span",{className:"mx-4 flex-shrink text-[11px] font-semibold uppercase tracking-[0.2em] text-slate-400 dark:text-slate-500",children:"Or continue with"}),e.jsx("div",{className:"flex-grow border-t border-slate-200 dark:border-white/10"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("button",{type:"button",className:"relative flex h-12 items-center justify-center rounded-2xl border border-slate-200 bg-white shadow-sm transition-all hover:-translate-y-0.5 hover:bg-slate-50 dark:border-white/10 dark:bg-slate-900 dark:hover:bg-slate-800","aria-label":"Sign in with Google",children:e.jsxs("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("path",{d:"M43.6191 20.0076H24.2862V27.9174H35.4984C34.4601 30.7303 32.7099 32.9691 30.229 34.4055L30.1983 34.619L36.313 39.4623L36.6568 39.4996C40.6622 35.8459 43.1558 30.6713 43.6191 20.0076Z",fill:"#4285F4"}),e.jsx("path",{d:"M24.2862 44C30.4079 44 35.6322 41.9368 39.6738 38.3075L30.229 34.4055C27.6047 36.1423 24.3297 37.218 24.2862 37.218C18.4552 37.218 13.4357 33.3283 11.5976 28.187L11.2372 28.211L4.85695 33.197L4.74751 33.3136C8.80775 41.6508 15.9324 44 24.2862 44Z",fill:"#34A853"}),e.jsx("path",{d:"M11.5975 28.187C11.1394 26.8532 10.899 25.4379 10.899 24C10.899 22.5621 11.1394 21.1468 11.5975 19.813L11.5833 19.664L4.90823 14.733L4.7475 14.808C3.1207 18.0674 2.22754 21.9079 2.22754 26C2.22754 30.0921 3.1207 33.9326 4.7475 37.192L11.5975 28.187Z",fill:"#FBBC04"}),e.jsx("path",{d:"M24.2862 10.7788C27.5684 10.7788 29.8706 12.0006 31.4392 13.4795L39.8662 5.617C35.6111 2.05942 30.4079 0 24.2862 0C15.9324 0 8.80775 2.34919 4.74751 10.6864L11.5975 19.664C13.4357 14.5227 18.4552 10.7788 24.2862 10.7788Z",fill:"#EA4335"})]})}),e.jsx("button",{type:"button",className:"flex h-12 items-center justify-center rounded-2xl border border-slate-200 bg-white shadow-sm transition-all hover:-translate-y-0.5 hover:bg-slate-50 dark:border-white/10 dark:bg-slate-900 dark:hover:bg-slate-800","aria-label":"Sign in with another provider",children:e.jsx("svg",{className:"h-6 w-6 text-slate-800 dark:text-white",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M17.4745 16.5164C18.9912 15.1118 20 13.1783 20 11C20 6.02944 15.9706 2 11 2C6.02944 2 2 6.02944 2 11C2 15.9706 6.02944 20 11 20C12.8715 20 14.6053 19.4542 16.0353 18.5283C16.1042 19.1601 16.5815 20.0906 17 21L17.4745 16.5164ZM11 18C7.13401 18 4 14.866 4 11C4 7.13401 7.13401 4 11 4C14.866 4 18 7.13401 18 11C18 12.9157 17.1685 14.6543 15.826 15.826L11 18Z"})})}),e.jsx("button",{type:"button",className:"flex h-12 items-center justify-center rounded-2xl border border-slate-200 bg-white shadow-sm transition-all hover:-translate-y-0.5 hover:bg-slate-50 dark:border-white/10 dark:bg-slate-900 dark:hover:bg-slate-800","aria-label":"Sign in with Facebook",children:e.jsx("svg",{className:"h-6 w-6 text-[#0866FF]",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})})})]}),e.jsx("div",{className:"mt-8 flex flex-col items-center gap-4 text-center",children:e.jsxs("p",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:["Don't have an account?"," ",e.jsx(w,{to:"/auth/signup",className:"font-semibold text-primary hover:underline",children:"Sign Up"})]})})]})]})})};export{I as default};
