import{D as C,ab as A,ac as M,r as d,ad as T,ae as L,af as P,j as e,ag as B,B as D}from"./index-BhYCkKJ1.js";import{T as E}from"./TopBar-Bg4ZNmLN.js";import{F as I}from"./film-DzeGNKC8.js";import{S as Q}from"./sparkles-DiUSdMk5.js";import{M as U}from"./monitor-BpPXuNzO.js";import{C as x}from"./circle-alert-BzPyYlSk.js";import{C as m}from"./circle-check-Bz691XLV.js";import"./arrow-left-BlxqK35Q.js";const $=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],F=C("moon",$),O=()=>{const{t:s}=A(),{startTab:u,setStartTab:g,reduceMotion:p,setReduceMotion:b,language:f,setLanguage:h}=M(),[l,r]=d.useState("idle"),{data:j}=T(),v=L(),i=j??{enabled:!0,proactivityLevel:1},n=P(),[y,N]=d.useState(!1);d.useEffect(()=>{N(Date.now()<n)},[n]);const o=()=>{r("saved"),setTimeout(()=>r("idle"),2e3)},k=()=>{r("error"),setTimeout(()=>r("idle"),2e3)},c=t=>{v.mutate(t,{onSuccess:()=>o(),onError:()=>k()})},w=()=>{try{r("saved"),setTimeout(()=>r("idle"),2e3)}catch{r("error")}};return e.jsxs("div",{className:"flex flex-1 flex-col gap-[var(--section-gap)] pb-[var(--page-pad-y)]",children:[e.jsx(E,{title:s("settings.app.title")}),e.jsxs("section",{className:"space-y-[var(--section-gap)] page-pad pb-2",children:[e.jsxs("div",{className:"space-y-3 rounded-2xl border border-border/60 bg-card/80 p-[var(--card-pad)] shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-border/50",children:e.jsx(I,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h2",{className:"text-sm font-heading font-semibold text-foreground",children:s("settings.start.title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("settings.start.description")})]})]}),e.jsx("div",{className:"mt-2 grid grid-cols-3 gap-2 text-[12px]",children:[{key:"home",label:"Home"},{key:"swipe",label:"Swipe"},{key:"profile",label:"Profile"}].map(t=>{const a=u===t.key;return e.jsx("button",{type:"button",onClick:()=>g(t.key),className:`flex items-center justify-center gap-1 rounded-full border px-3 py-1.5 text-xs transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background ${a?"border-primary bg-primary/20 text-primary":"border-border bg-background text-muted-foreground hover:border-border hover:bg-card"}`,children:e.jsx("span",{children:t.label})},t.key)})}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:s("settings.start.note")})]}),e.jsxs("div",{className:"space-y-3 rounded-2xl border border-border/60 bg-card/80 p-[var(--card-pad)] shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-border/50",children:e.jsx(Q,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h2",{className:"text-sm font-heading font-semibold text-foreground",children:s("assistant.settings.title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("assistant.settings.description")})]})]}),e.jsxs("label",{className:"mt-2 flex items-center justify-between gap-3 text-[12px]",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-foreground",children:s("assistant.settings.enabled")}),e.jsx("span",{className:"block text-xs text-muted-foreground",children:s("assistant.settings.enabledDetail")})]}),e.jsx("input",{type:"checkbox",checked:i.enabled,onChange:t=>c({enabled:t.target.checked}),className:"h-4 w-4 rounded border-border bg-background text-primary","aria-label":s("assistant.settings.enabled")})]}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-2",children:s("assistant.settings.proactivity")}),e.jsx("div",{className:"grid grid-cols-2 gap-2 text-[12px]",children:[{level:1,label:s("assistant.settings.proactivityBalanced")},{level:2,label:s("assistant.settings.proactivityBold")}].map(t=>{const a=i.proactivityLevel===t.level;return e.jsx("button",{type:"button",disabled:!i.enabled,onClick:()=>c({proactivityLevel:t.level}),className:`flex items-center justify-center gap-1 rounded-full border px-3 py-1.5 text-xs transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background ${a?"border-primary bg-primary/20 text-primary":"border-border bg-background text-muted-foreground hover:border-border hover:bg-card"} ${i.enabled?"":"opacity-50 cursor-not-allowed"}`,children:e.jsx("span",{children:t.label})},t.level)})}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:s("assistant.settings.proactivityNote")})]}),y&&e.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-md bg-muted/80 px-3 py-2 text-xs text-muted-foreground",children:[e.jsxs("span",{children:[s("assistant.settings.paused")," ",new Date(n).toLocaleTimeString()]}),e.jsx("button",{type:"button",className:"text-primary hover:underline",onClick:()=>{B(),o()},children:s("assistant.settings.resume")})]})]}),e.jsxs("div",{className:"space-y-3 rounded-2xl border border-border/60 bg-card/80 p-[var(--card-pad)] shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-border/50",children:e.jsx(U,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h2",{className:"text-sm font-heading font-semibold text-foreground",children:s("settings.language.title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("settings.language.description")})]})]}),e.jsx("div",{className:"mt-2 flex flex-wrap gap-2 text-[12px]",children:["system","en","es"].map(t=>{const a={system:s("settings.language.matchSystem"),en:s("settings.language.english"),es:s("settings.language.spanish")},S=f===t;return e.jsx("button",{type:"button",onClick:()=>h(t),className:`inline-flex items-center gap-1.5 rounded-full border px-3 py-1.5 text-xs transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background ${S?"border-primary bg-primary/20 text-primary":"border-border bg-background text-muted-foreground hover:border-border hover:bg-card"}`,children:e.jsx("span",{children:a[t]})},t)})}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:s("settings.language.note")}),e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-md bg-muted/80 px-3 py-2 text-xs text-muted-foreground",children:[e.jsx(x,{className:"h-3 w-3","aria-hidden":"true"}),e.jsx("span",{children:s("settings.language.comingSoon")})]})]}),e.jsxs("div",{className:"space-y-3 rounded-2xl border border-border/60 bg-card/80 p-[var(--card-pad)] shadow-sm",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-border/50",children:e.jsx(F,{className:"h-4 w-4 text-muted-foreground","aria-hidden":"true"})}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("h2",{className:"text-sm font-heading font-semibold text-foreground",children:s("settings.motion.title")}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s("settings.motion.description")})]})]}),e.jsxs("label",{className:"mt-2 flex items-center justify-between gap-3 text-[12px]",children:[e.jsxs("div",{children:[e.jsx("span",{className:"block text-foreground",children:s("settings.motion.reduceMotion")}),e.jsx("span",{className:"block text-xs text-muted-foreground",children:s("settings.motion.detail")})]}),e.jsx("input",{type:"checkbox",checked:p,onChange:t=>b(t.target.checked),className:"h-4 w-4 rounded border-border bg-background text-primary","aria-label":s("settings.motion.reduceMotion")})]})]}),e.jsxs("div",{className:"flex items-center justify-between gap-3 pt-1",children:[e.jsxs("div",{className:"min-h-[20px] flex-1 text-xs",children:[l==="saved"&&e.jsxs("div",{className:"flex items-center gap-1.5 text-emerald-400",children:[e.jsx(m,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{children:s("settings.save.success")})]}),l==="error"&&e.jsxs("div",{className:"flex items-center gap-1.5 text-destructive",children:[e.jsx(x,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{children:s("settings.save.error")})]})]}),e.jsxs(D,{type:"button",size:"sm",onClick:w,children:[e.jsx(m,{className:"h-3.5 w-3.5","aria-hidden":"true"}),e.jsx("span",{children:s("settings.save.cta")})]})]})]})]})};export{O as default};
