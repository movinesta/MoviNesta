import{C as J,j as e,B as ue,u as ce,e as me,b as xe,A as fe,r as d,R as he,aj as pe,ak as ge,K as be,L as je,al as c,s as Ne,am as D}from"./index-DuL1-P9A.js";import{M as b}from"./material-icon-CWnTyIbw.js";import{B as ve,u as we,M as ye,c as Me,w as ke}from"./useAssistantCache-CF9Pl63N.js";import{C as Ce,u as N}from"./conversationsCache-B1vzQYCS.js";import{D as Ue,a as Se,c as Ie}from"./dialog-ClweDY8b.js";import{M as Pe}from"./mail-Bpk1tvBk.js";import{B as _e}from"./bell-BESSsy5p.js";import"./clock-C1hCzrJG.js";const Ae=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Le=J("eye-off",Ae);const Oe=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],Re=J("mail-open",Oe),_=({icon:n,title:i,description:m,onClick:t,destructive:g})=>e.jsxs("button",{type:"button",onClick:t,className:"flex w-full items-center gap-3 rounded-2xl px-3 py-3 text-left transition hover:bg-muted/60 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/30"+(g?" text-destructive":""),children:[e.jsx("span",{className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-muted/80",children:n}),e.jsxs("span",{className:"min-w-0 flex-1",children:[e.jsx("span",{className:"block truncate text-sm font-semibold",children:i}),m?e.jsx("span",{className:"block truncate text-xs text-muted-foreground",children:m}):null]})]}),He=({open:n,onOpenChange:i,conversation:m,isMuted:t,isHidden:g,onToggleMute:l,onToggleHidden:p,onMarkRead:k,onMarkUnread:w,onOpenConversation:C})=>{const j=()=>i(!1),o=x=>{x(),j()},U=!!m?.lastMessageId;return e.jsx(Ue,{open:n,onOpenChange:i,children:e.jsxs(Se,{className:"left-0 right-0 top-auto bottom-0 w-full max-w-none translate-x-0 translate-y-0 rounded-t-3xl rounded-b-none border border-border bg-card p-4",children:[e.jsx("div",{className:"mx-auto mb-2 h-1.5 w-12 rounded-full bg-muted","aria-hidden":!0}),e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx(Ie,{className:"text-center text-base text-foreground",children:m?.title??"Conversation"}),e.jsx("p",{className:"mt-1 text-center text-xs text-muted-foreground",children:"Quick actions"})]}),e.jsx("button",{type:"button",onClick:j,className:"rounded-full p-2 text-muted-foreground transition hover:bg-muted/60 hover:text-foreground","aria-label":"Close",children:e.jsx(b,{name:"close"})})]}),e.jsxs("div",{className:"mt-3 space-y-1",children:[e.jsx(_,{icon:e.jsx(Ce,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),title:"Open chat",description:"Jump back into this conversation",onClick:()=>o(C)}),m?.hasUnread?e.jsx(_,{icon:e.jsx(Re,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),title:"Mark as read",description:U?"Clear unread badge":"No messages yet",onClick:()=>o(k)}):e.jsx(_,{icon:e.jsx(Pe,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),title:"Mark as unread",description:"Bring it back to your attention",onClick:()=>o(w)}),e.jsx(_,{icon:t?e.jsx(_e,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}):e.jsx(ve,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),title:t?"Unmute":"Mute",description:"Stops message notifications on all devices",onClick:()=>o(l)}),e.jsx(_,{icon:e.jsx(Le,{className:"h-5 w-5 text-muted-foreground","aria-hidden":!0}),title:g?"Unhide":"Hide",description:"Removes it from your inbox list",onClick:()=>o(p)})]}),e.jsx("div",{className:"pt-3",children:e.jsx(ue,{type:"button",variant:"ghost",className:"w-full rounded-2xl border border-border bg-muted/60 text-foreground hover:bg-muted",onClick:j,children:"Cancel"})})]})})},Te="movinesta",Be=()=>e.jsxs("div",{className:"flex min-h-screen flex-1 flex-col overflow-hidden bg-background text-foreground",children:[e.jsxs("header",{className:"sticky top-0 z-10 bg-background px-4 pb-2 pt-6",children:[e.jsxs("div",{className:"mb-4 mt-2 flex items-center justify-between",children:[e.jsx("div",{className:"h-9 w-40 rounded-xl bg-muted animate-pulse","aria-hidden":!0}),e.jsx("div",{className:"h-10 w-10 rounded-full bg-muted animate-pulse","aria-hidden":!0})]}),e.jsx("div",{className:"relative mb-4",children:e.jsx("div",{className:"h-12 w-full rounded-full bg-muted animate-pulse","aria-hidden":!0})}),e.jsxs("div",{className:"-mt-1 mb-3 flex items-center gap-2",children:[e.jsx("div",{className:"h-6 w-24 rounded-full bg-muted animate-pulse","aria-hidden":!0}),e.jsx("div",{className:"h-6 w-28 rounded-full bg-muted animate-pulse","aria-hidden":!0}),e.jsx("div",{className:"ml-auto h-4 w-12 rounded bg-muted animate-pulse","aria-hidden":!0})]}),e.jsx("div",{className:"-mx-4 flex space-x-4 overflow-x-auto border-b border-border/60 pb-4 pl-4 pr-4 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:Array.from({length:7}).map((n,i)=>e.jsxs("div",{className:"flex shrink-0 flex-col items-center gap-1",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-muted animate-pulse","aria-hidden":!0}),e.jsx("div",{className:"h-3 w-12 rounded bg-muted animate-pulse","aria-hidden":!0})]},i))})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pb-32 pt-2",children:[e.jsx("div",{className:"py-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Recent Chats"}),e.jsx("ul",{className:"space-y-1",children:Array.from({length:8}).map((n,i)=>e.jsx("li",{className:"rounded-2xl p-3",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-muted animate-pulse","aria-hidden":!0}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("div",{className:"h-4 w-44 max-w-[70%] rounded bg-muted animate-pulse","aria-hidden":!0}),e.jsx("div",{className:"h-3 w-12 rounded bg-muted animate-pulse","aria-hidden":!0})]}),e.jsx("div",{className:"mt-2 h-3 w-64 max-w-[85%] rounded bg-muted animate-pulse","aria-hidden":!0})]})]})},i))})]})]}),Ee=450,K=({conversation:n,isMuted:i,onOpenActions:m,dimmed:t=!1})=>{const{getStatus:g}=be(),l=n.participants??[],p=l.find(u=>!u.isSelf)??l[0]??null,k=n.lastMessageAtLabel??"Now",w=n.isGroup,C=l.length,j=!w&&p?.id?g(p.id)==="online":!1,o=d.useRef({timeoutId:null,fired:!1}),U=u=>{u.pointerType&&u.pointerType!=="touch"||(o.current.fired=!1,o.current.timeoutId!=null&&window.clearTimeout(o.current.timeoutId),o.current.timeoutId=window.setTimeout(()=>{o.current.fired=!0,m(n)},Ee))},x=()=>{o.current.timeoutId!=null&&(window.clearTimeout(o.current.timeoutId),o.current.timeoutId=null)};return e.jsx("li",{className:"py-1",children:e.jsxs(je,{to:`/messages/${n.id}`,className:"group flex items-center gap-4 rounded-2xl p-3 transition-colors hover:bg-muted/60"+(t?" opacity-70":""),onPointerDown:U,onPointerUp:x,onPointerCancel:x,onPointerLeave:x,onContextMenu:u=>{u.preventDefault(),x(),m(n)},onClick:u=>{o.current.fired&&(u.preventDefault(),u.stopPropagation(),o.current.fired=!1)},children:[e.jsx("div",{className:"relative shrink-0",children:w&&C>1?e.jsx("div",{className:"grid h-16 w-16 grid-cols-2 gap-0.5 overflow-hidden rounded-full bg-muted",children:l.slice(0,4).map(u=>e.jsx("div",{className:"h-full w-full bg-cover bg-center",style:u.avatarUrl?{backgroundImage:`url(${u.avatarUrl})`}:void 0},u.id))}):e.jsxs("div",{className:"relative h-16 w-16 overflow-hidden rounded-full border-2 border-primary/50",children:[p?.avatarUrl?e.jsx("img",{src:p.avatarUrl,alt:p.displayName??void 0,className:"h-full w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center text-sm font-semibold text-foreground",children:(p?.displayName??"?").slice(0,1).toUpperCase()}),j&&e.jsx("span",{className:"absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-background bg-green-500",title:"Online"})]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("h3",{className:"truncate text-base font-bold text-foreground",children:n.title}),e.jsx("span",{className:"whitespace-nowrap text-xs font-medium text-primary",children:k})]}),e.jsxs("div",{className:"mt-0.5 flex items-center gap-2",children:[e.jsxs("p",{className:"truncate text-sm text-muted-foreground",children:[j&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"font-semibold text-green-500",children:"Online"}),e.jsx("span",{className:"mx-1",children:"•"})]}),n.lastMessagePreview??"Start chatting"]}),i&&e.jsx(b,{name:"notifications_off",className:"text-sm text-muted-foreground",ariaLabel:"Muted"}),n.hasUnread&&e.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-primary"})]})]}),e.jsx("button",{type:"button",className:"ml-1 flex h-9 w-9 shrink-0 items-center justify-center rounded-full text-muted-foreground transition hover:bg-muted/70 hover:text-foreground","aria-label":"Conversation actions",onClick:u=>{u.preventDefault(),u.stopPropagation(),x(),m(n)},children:e.jsx(b,{name:"more_horiz",className:"text-xl",ariaLabel:"More"})})]})})},Ke=()=>{const n=ce(),i=me(),{user:m}=xe(),t=m?.id??null,g=we(),{data:l,isLoading:p,isError:k,error:w,refetch:C,isFetching:j}=fe(),[o,U]=d.useState(""),[x,u]=d.useState(!1),S=d.useCallback(s=>g?.conversationId&&s.id===g.conversationId?!0:s.participants.some(r=>!r.isSelf&&r.username?.toLowerCase()===Te),[g?.conversationId]),y=d.useMemo(()=>(l??[]).find(s=>S(s))??null,[l,S]),[A,Q]=d.useState(!1),Z=d.useCallback(async()=>{if(t&&!A){Q(!0);try{n("/assistant")}finally{Q(!1)}}},[A,n,t]);he.useEffect(()=>{pe(t).then(()=>{t&&i.invalidateQueries({queryKey:ge(t)})})},[t,i]);const M=o.trim().toLowerCase(),z=d.useMemo(()=>(l??[]).filter(s=>M?[s.title,s.subtitle,s.lastMessagePreview??"",...s.participants.map(a=>a.displayName),...s.participants.map(a=>a.username).filter(a=>!!a)].join(" ").toLowerCase().includes(M):!0),[l,M]),{visibleConversations:O,hiddenConversations:L}=d.useMemo(()=>{const s=[],r=[];z.forEach(f=>{f.isHidden?r.push(f):s.push(f)});const v=s.filter(f=>!S(f)),P=r.filter(f=>!S(f));return{visibleConversations:v,hiddenConversations:P}},[z,S]),F=d.useMemo(()=>(l??[]).filter(s=>s.isHidden).length,[l]),$=d.useMemo(()=>(l??[]).filter(s=>s.isMuted).length,[l]),R=d.useMemo(()=>!M,[M]),W=d.useMemo(()=>!!(R||O.length>0||x&&L.length>0),[R,O.length,x,L.length]),[X,H]=d.useState(!1),[I,Y]=d.useState(null),h=d.useMemo(()=>I?(l??[]).find(s=>s.id===I)??null:null,[I,l]),[ee,q]=d.useState(!1),[T,se]=d.useState(null),B=d.useMemo(()=>T?(l??[]).find(s=>s.id===T)??null:null,[T,l]),te=s=>{se(s.id),q(!0)},V=s=>{Y(s.id),H(!0)},ae=s=>{if(!t){c.error("Please sign in to manage messages.");return}if(s.isMuted){const r=s.mutedUntil??null;N(i,t,s.id,a=>({...a,isMuted:!1,mutedUntil:null})),c.show("Unmuted notifications."),D(t,s.id,{muted:!1,hidden:s.isHidden,mutedUntil:null}).then(({ok:a})=>{a||(N(i,t,s.id,v=>({...v,isMuted:!0,mutedUntil:r})),c.error("Couldn't update preferences."))});return}te(s)},re=(s,r)=>{if(!t){c.error("Please sign in to manage messages.");return}const a=s.isMuted,v=s.mutedUntil??null;let P=!1,f=null;r.kind==="indefinite"?(P=!0,f=null):(P=!1,f=new Date(Date.now()+r.minutes*6e4).toISOString()),N(i,t,s.id,E=>({...E,isMuted:!0,mutedUntil:f})),c.show(`Muted notifications for ${r.label}.`),D(t,s.id,{muted:P,hidden:s.isHidden,mutedUntil:f}).then(({ok:E})=>{E||(N(i,t,s.id,oe=>({...oe,isMuted:a,mutedUntil:v})),c.error("Couldn't update preferences."))})},ne=s=>{if(!t){c.error("Please sign in to manage messages.");return}const r=!s.isHidden;N(i,t,s.id,a=>({...a,isHidden:r})),c.show(r?"Conversation hidden.":"Conversation restored."),D(t,s.id,{muted:s.isMuted,hidden:r,mutedUntil:s.mutedUntil??null}).then(({ok:a})=>{a||(N(i,t,s.id,v=>({...v,isHidden:!r})),c.error("Couldn't update preferences."))})},ie=async s=>{if(!t){c.error("Please sign in to manage messages.");return}if(!s.lastMessageId){c.show("No messages to mark as read.");return}const{error:r}=await Ne.rpc("mark_conversation_read",{p_conversation_id:s.id,p_last_message_id:s.lastMessageId});r&&await ke({conversation_id:s.id,user_id:t,last_read_message_id:s.lastMessageId,last_read_at:new Date().toISOString()}),N(i,t,s.id,a=>a.hasUnread?{...a,hasUnread:!1}:a)},le=async s=>{if(!t){c.error("Please sign in to manage messages.");return}const r=await Me(s.id,t);r.ok||(console.warn("[MessagesPage] Failed to clear read receipt (mark unread)",r.error),c.show("Marked as unread locally. Server update may have failed.")),N(i,t,s.id,a=>a.hasUnread?a:{...a,hasUnread:!0})},de=d.useMemo(()=>{const s=new Map;return(l??[]).forEach(r=>{r.isHidden||r.participants.filter(a=>!a.isSelf).forEach(a=>{s.has(a.id)||s.set(a.id,{id:a.id,name:a.displayName,avatarUrl:a.avatarUrl,conversationId:r.id})})}),Array.from(s.values()).slice(0,8)},[l]),G=()=>{n("/messages/new")};return p?e.jsx(Be,{}):k?e.jsxs("div",{className:"flex flex-1 flex-col items-center justify-center px-4 py-12 text-sm text-foreground",children:[e.jsx("p",{className:"font-semibold",children:"Unable to load messages."}),e.jsx("p",{className:"mt-1 text-xs text-muted-foreground",children:w?.message??"Please try again in a moment."}),e.jsx("button",{type:"button",onClick:()=>C(),className:"mt-4 rounded-full bg-primary px-4 py-2 text-xs font-semibold text-primary-foreground",children:"Try again"})]}):e.jsxs("div",{className:"flex min-h-screen flex-1 flex-col overflow-hidden bg-background text-foreground",children:[e.jsxs("header",{className:"sticky top-0 z-10 bg-background px-4 pb-2 pt-6",children:[e.jsxs("div",{className:"mb-4 mt-2 flex items-center justify-between",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Messages"}),e.jsx("button",{type:"button",onClick:G,className:"flex h-10 w-10 items-center justify-center rounded-full bg-primary/10 text-primary transition-colors hover:bg-primary/20","aria-label":"New message",children:e.jsx(b,{name:"edit_square",className:"text-xl",ariaLabel:"New message"})})]}),e.jsxs("div",{className:"relative mb-4",children:[e.jsx("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:e.jsx(b,{name:"search",className:"text-muted-foreground"})}),e.jsx("input",{className:"block w-full rounded-full border border-input bg-card py-3 pl-10 pr-3 text-sm text-foreground placeholder:text-muted-foreground shadow-sm focus:outline-none focus:ring-2 focus:ring-primary",placeholder:"Search friends or titles...",value:o,onChange:s=>U(s.target.value)})]}),e.jsxs("div",{className:"-mt-1 mb-3 flex items-center gap-2",children:[F>0&&e.jsxs("button",{type:"button",onClick:()=>u(s=>!s),className:"inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-semibold transition "+(x?"bg-foreground text-background":"bg-muted/60 text-muted-foreground hover:bg-muted"),children:[e.jsx(b,{name:"visibility_off",className:"text-base",ariaLabel:"Hidden"}),"Hidden (",F,")"]}),$>0&&e.jsxs("span",{className:"ml-auto inline-flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(b,{name:"notifications_off",className:"text-base",ariaLabel:"Muted"}),$]})]}),e.jsxs("div",{className:"-mx-4 flex space-x-4 overflow-x-auto border-b border-border/60 pb-4 pl-4 pr-4 [scrollbar-width:none] [&::-webkit-scrollbar]:hidden",children:[e.jsxs("button",{type:"button",onClick:G,className:"flex shrink-0 flex-col items-center gap-1",children:[e.jsx("div",{className:"relative flex h-16 w-16 items-center justify-center rounded-full border-2 border-dashed border-primary/50",children:e.jsx(b,{name:"add",className:"text-3xl text-primary"})}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"New"})]}),de.map(s=>e.jsxs("button",{type:"button",className:"flex shrink-0 flex-col items-center gap-1",onClick:()=>n(`/messages/${s.conversationId}`),children:[e.jsx("div",{className:"relative h-16 w-16 overflow-hidden rounded-full border-2 border-primary/50",children:s.avatarUrl?e.jsx("img",{src:s.avatarUrl,alt:s.name,className:"h-full w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted text-xs font-semibold text-foreground",children:s.name.slice(0,1).toUpperCase()})}),e.jsx("span",{className:"max-w-[64px] truncate text-xs font-medium text-foreground",children:s.name})]},s.id))]})]}),e.jsxs("main",{className:"flex-1 overflow-y-auto px-4 pb-32 pt-2",children:[e.jsx("div",{className:"py-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Recent Chats"}),W?e.jsxs(e.Fragment,{children:[e.jsxs("ul",{children:[R&&e.jsx("li",{className:"py-1",children:e.jsxs("button",{type:"button",onClick:Z,disabled:!t||A,className:"group flex w-full items-center gap-4 rounded-2xl p-3 text-left transition-colors hover:bg-muted/60 "+(A?" opacity-70":""),children:[e.jsx("div",{className:"relative shrink-0",children:e.jsxs("div",{className:"relative h-16 w-16 overflow-hidden rounded-full border-2 border-primary/60",children:[y?.participants?.find(s=>!s.isSelf)?.avatarUrl?e.jsx("img",{src:y.participants.find(s=>!s.isSelf)?.avatarUrl??void 0,alt:"MoviNesta",className:"h-full w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-muted text-sm font-semibold text-foreground",children:"M"}),y?.hasUnread?e.jsx("span",{className:"absolute -right-0.5 -top-0.5 h-3 w-3 rounded-full bg-primary"}):null]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("div",{className:"truncate text-sm font-semibold text-foreground",children:"MoviNesta Assistant"}),y?.lastMessageAtLabel?e.jsx("div",{className:"shrink-0 text-xs text-muted-foreground",children:y.lastMessageAtLabel}):null]}),e.jsx("div",{className:"mt-1 truncate text-xs text-muted-foreground",children:y?.lastMessagePreview??"Ask for recommendations, refine your taste, plan watch goals."})]})]})}),O.map(s=>e.jsx(K,{conversation:s,isMuted:s.isMuted,onOpenActions:V},s.id))]}),x&&L.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"py-2 text-xs font-semibold uppercase tracking-wider text-muted-foreground",children:"Hidden chats"}),e.jsx("button",{type:"button",onClick:()=>u(!1),className:"rounded-full bg-muted/60 px-3 py-1 text-xs font-semibold text-muted-foreground hover:bg-muted",children:"Hide"})]}),e.jsx("ul",{children:L.map(s=>e.jsx(K,{conversation:s,isMuted:s.isMuted,onOpenActions:V,dimmed:!0},s.id))})]})]}):e.jsx("div",{className:"mt-6 rounded-2xl border border-border/60 bg-card/60 p-4 text-center text-xs text-muted-foreground",children:M?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold",children:"No matches."}),e.jsx("p",{className:"mt-1",children:"Try a different search."})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"font-semibold",children:"No conversations yet."}),e.jsx("p",{className:"mt-1",children:"Start a chat with your crew."})]})})]}),e.jsx(He,{open:X,onOpenChange:H,conversation:h,isMuted:!!h?.isMuted,isHidden:!!h?.isHidden,onOpenConversation:()=>{I&&(H(!1),n(`/messages/${I}`))},onToggleMute:()=>{h&&ae(h)},onToggleHidden:()=>{h&&ne(h)},onMarkRead:()=>{h&&ie(h)},onMarkUnread:()=>{h&&le(h)}}),e.jsx(ye,{open:ee,onOpenChange:q,conversationTitle:B?.title,onSelect:s=>{B&&re(B,s)}}),j&&e.jsxs("div",{className:"pointer-events-none fixed bottom-24 right-4 flex items-center gap-2 rounded-full border border-border bg-background/90 px-3 py-1 text-xs text-muted-foreground shadow-md",children:[e.jsx(b,{name:"sync",className:"text-base"}),"Syncing…"]})]})};export{Ke as default};
