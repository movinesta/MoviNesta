const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SignInPage-CpfgSrfx.js","assets/useDocumentTitle-DKB_EjEW.js","assets/material-icon-DzJ3uwwf.js","assets/SignUpPage-Wy2BuEHr.js","assets/ForgotPasswordPage-DtLTWd9j.js","assets/AuthLayout-DeLh2E8i.js","assets/brand-DrP4SEi4.js","assets/sparkles-DiUSdMk5.js","assets/film-DzeGNKC8.js","assets/appUrl-BIFKGN0O.js","assets/ResetPasswordPage-B9j8jXuq.js","assets/HomePage-DWl2tS1G.js","assets/dialog-DKXGxth9.js","assets/plus-C69Lhyvl.js","assets/star-BI9e52uT.js","assets/VerifiedBadge-Bqpsp2OE.js","assets/dropdown-menu-DgwTfZ5k.js","assets/index-D2Ybm6Xt.js","assets/useDiaryLibrary-DjiZyGrD.js","assets/SwipePage-EPM57DtO.js","assets/scroll-area-BOIyfGIP.js","assets/conversationsCache-BwsAQT1F.js","assets/format-BXv9LLlt.js","assets/external-link-D4YkaPzQ.js","assets/x-7msmISva.js","assets/copy-BS5PHfYr.js","assets/circle-alert-BzPyYlSk.js","assets/textarea-x-0MfePo.js","assets/FriendAvatarStack-BsWxiBgE.js","assets/SearchPage-CBw5cEQ8.js","assets/input-WYf2XWmQ.js","assets/useSearchTitles-DlKCyeKV.js","assets/useSearchPeople-DfdiF1dA.js","assets/index-CU6THGDM.js","assets/catalogSync-i5cCA8pA.js","assets/useToggleFollow-DfXcO5k7.js","assets/user-plus-C5L0vSdA.js","assets/user-DFAZFA4c.js","assets/users-BOZAcCjM.js","assets/useSuggestedPeople-AvbYDKYw.js","assets/DiaryPage-B9qpsw4h.js","assets/TopBar-Bg4ZNmLN.js","assets/arrow-left-BlxqK35Q.js","assets/clock-D5sp4i7x.js","assets/ProfilePage-UkL0nvFP.js","assets/useUserLastActive-B3ynIkGR.js","assets/share-2-BUCL3I_Q.js","assets/MePage-BbaA7bYU.js","assets/SuggestedPeoplePage-DTIDhvF4.js","assets/ellipsis-qoQNJLa2.js","assets/ListDetailPage-Cp52OKJF.js","assets/FollowersPage-BbhHSfRh.js","assets/ConnectionsPage-CO2UfaAJ.js","assets/FollowingPage-CFcjrtWG.js","assets/SettingsOverviewPage-DD8ZLEoG.js","assets/PageChrome-2wTYAvaE.js","assets/chevron-right-B7_0lCeN.js","assets/mail-rhWRaCcH.js","assets/bell-p7JEW6s7.js","assets/monitor-BpPXuNzO.js","assets/SettingsProfilePage-BNiC0soA.js","assets/circle-check-Bz691XLV.js","assets/SettingsAccountPage-r2JqowQL.js","assets/SettingsNotificationsPage-6A8XoCYx.js","assets/SettingsAppPage-CLjNQdbv.js","assets/NotFoundPage-CHVMPEoG.js","assets/OnboardingPage-B2s7RMiJ.js","assets/TasteOnboardingPage-CGhMzsHU.js","assets/VerificationHelpPage-DisIInMO.js","assets/MessagesPage-Bk2Tw69Z.js","assets/useAssistantCache-vISaEJCQ.js","assets/NewMessagePage-BIgKmzS_.js","assets/ConversationPage-C8GajO-T.js","assets/TitleDetailPageV2-Ba30IZw_.js","assets/skeleton-B-kLBQo6.js","assets/TitleReviewsPageV2-vJVJrRbP.js","assets/ActivityPage-DbyEYDcJ.js","assets/FollowRequestsPage-CwFC167P.js"])))=>i.map(i=>d[i]);
function JE(e,t){for(var i=0;i<t.length;i++){const a=t[i];if(typeof a!="string"&&!Array.isArray(a)){for(const o in a)if(o!=="default"&&!(o in e)){const u=Object.getOwnPropertyDescriptor(a,o);u&&Object.defineProperty(e,o,u.get?u:{enumerable:!0,get:()=>a[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function i(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(o){if(o.ep)return;o.ep=!0;const u=i(o);fetch(o.href,u)}})();function ih(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qf={exports:{}},Ms={};var Ky;function XE(){if(Ky)return Ms;Ky=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,u){var c=null;if(u!==void 0&&(c=""+u),o.key!==void 0&&(c=""+o.key),"key"in o){u={};for(var f in o)f!=="key"&&(u[f]=o[f])}else u=o;return o=u.ref,{$$typeof:e,type:a,key:c,ref:o!==void 0?o:null,props:u}}return Ms.Fragment=t,Ms.jsx=i,Ms.jsxs=i,Ms}var Fy;function WE(){return Fy||(Fy=1,qf.exports=XE()),qf.exports}var k=WE(),$f={exports:{}},ge={};var Qy;function ZE(){if(Qy)return ge;Qy=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function _(D){return D===null||typeof D!="object"?null:(D=b&&D[b]||D["@@iterator"],typeof D=="function"?D:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,A={};function R(D,F,J){this.props=D,this.context=F,this.refs=A,this.updater=J||x}R.prototype.isReactComponent={},R.prototype.setState=function(D,F){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,F,"setState")},R.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=R.prototype;function O(D,F,J){this.props=D,this.context=F,this.refs=A,this.updater=J||x}var M=O.prototype=new T;M.constructor=O,S(M,R.prototype),M.isPureReactComponent=!0;var I=Array.isArray;function K(){}var U={H:null,A:null,T:null,S:null},H=Object.prototype.hasOwnProperty;function Z(D,F,J){var W=J.ref;return{$$typeof:e,type:D,key:F,ref:W!==void 0?W:null,props:J}}function ue(D,F){return Z(D.type,F,D.props)}function ae(D){return typeof D=="object"&&D!==null&&D.$$typeof===e}function X(D){var F={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(J){return F[J]})}var ee=/\/+/g;function me(D,F){return typeof D=="object"&&D!==null&&D.key!=null?X(""+D.key):F.toString(36)}function Re(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(K,K):(D.status="pending",D.then(function(F){D.status==="pending"&&(D.status="fulfilled",D.value=F)},function(F){D.status==="pending"&&(D.status="rejected",D.reason=F)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function z(D,F,J,W,he){var ye=typeof D;(ye==="undefined"||ye==="boolean")&&(D=null);var oe=!1;if(D===null)oe=!0;else switch(ye){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(D.$$typeof){case e:case t:oe=!0;break;case g:return oe=D._init,z(oe(D._payload),F,J,W,he)}}if(oe)return he=he(D),oe=W===""?"."+me(D,0):W,I(he)?(J="",oe!=null&&(J=oe.replace(ee,"$&/")+"/"),z(he,F,J,"",function(Kt){return Kt})):he!=null&&(ae(he)&&(he=ue(he,J+(he.key==null||D&&D.key===he.key?"":(""+he.key).replace(ee,"$&/")+"/")+oe)),F.push(he)),1;oe=0;var Xe=W===""?".":W+":";if(I(D))for(var Pe=0;Pe<D.length;Pe++)W=D[Pe],ye=Xe+me(W,Pe),oe+=z(W,F,J,ye,he);else if(Pe=_(D),typeof Pe=="function")for(D=Pe.call(D),Pe=0;!(W=D.next()).done;)W=W.value,ye=Xe+me(W,Pe++),oe+=z(W,F,J,ye,he);else if(ye==="object"){if(typeof D.then=="function")return z(Re(D),F,J,W,he);throw F=String(D),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return oe}function Y(D,F,J){if(D==null)return D;var W=[],he=0;return z(D,W,"","",function(ye){return F.call(J,ye,he++)}),W}function $(D){if(D._status===-1){var F=D._result;F=F(),F.then(function(J){(D._status===0||D._status===-1)&&(D._status=1,D._result=J)},function(J){(D._status===0||D._status===-1)&&(D._status=2,D._result=J)}),D._status===-1&&(D._status=0,D._result=F)}if(D._status===1)return D._result.default;throw D._result}var pe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},be={map:Y,forEach:function(D,F,J){Y(D,function(){F.apply(this,arguments)},J)},count:function(D){var F=0;return Y(D,function(){F++}),F},toArray:function(D){return Y(D,function(F){return F})||[]},only:function(D){if(!ae(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return ge.Activity=y,ge.Children=be,ge.Component=R,ge.Fragment=i,ge.Profiler=o,ge.PureComponent=O,ge.StrictMode=a,ge.Suspense=h,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,ge.__COMPILER_RUNTIME={__proto__:null,c:function(D){return U.H.useMemoCache(D)}},ge.cache=function(D){return function(){return D.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(D,F,J){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var W=S({},D.props),he=D.key;if(F!=null)for(ye in F.key!==void 0&&(he=""+F.key),F)!H.call(F,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&F.ref===void 0||(W[ye]=F[ye]);var ye=arguments.length-2;if(ye===1)W.children=J;else if(1<ye){for(var oe=Array(ye),Xe=0;Xe<ye;Xe++)oe[Xe]=arguments[Xe+2];W.children=oe}return Z(D.type,he,W)},ge.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},ge.createElement=function(D,F,J){var W,he={},ye=null;if(F!=null)for(W in F.key!==void 0&&(ye=""+F.key),F)H.call(F,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(he[W]=F[W]);var oe=arguments.length-2;if(oe===1)he.children=J;else if(1<oe){for(var Xe=Array(oe),Pe=0;Pe<oe;Pe++)Xe[Pe]=arguments[Pe+2];he.children=Xe}if(D&&D.defaultProps)for(W in oe=D.defaultProps,oe)he[W]===void 0&&(he[W]=oe[W]);return Z(D,ye,he)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(D){return{$$typeof:f,render:D}},ge.isValidElement=ae,ge.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:$}},ge.memo=function(D,F){return{$$typeof:p,type:D,compare:F===void 0?null:F}},ge.startTransition=function(D){var F=U.T,J={};U.T=J;try{var W=D(),he=U.S;he!==null&&he(J,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(K,pe)}catch(ye){pe(ye)}finally{F!==null&&J.types!==null&&(F.types=J.types),U.T=F}},ge.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},ge.use=function(D){return U.H.use(D)},ge.useActionState=function(D,F,J){return U.H.useActionState(D,F,J)},ge.useCallback=function(D,F){return U.H.useCallback(D,F)},ge.useContext=function(D){return U.H.useContext(D)},ge.useDebugValue=function(){},ge.useDeferredValue=function(D,F){return U.H.useDeferredValue(D,F)},ge.useEffect=function(D,F){return U.H.useEffect(D,F)},ge.useEffectEvent=function(D){return U.H.useEffectEvent(D)},ge.useId=function(){return U.H.useId()},ge.useImperativeHandle=function(D,F,J){return U.H.useImperativeHandle(D,F,J)},ge.useInsertionEffect=function(D,F){return U.H.useInsertionEffect(D,F)},ge.useLayoutEffect=function(D,F){return U.H.useLayoutEffect(D,F)},ge.useMemo=function(D,F){return U.H.useMemo(D,F)},ge.useOptimistic=function(D,F){return U.H.useOptimistic(D,F)},ge.useReducer=function(D,F,J){return U.H.useReducer(D,F,J)},ge.useRef=function(D){return U.H.useRef(D)},ge.useState=function(D){return U.H.useState(D)},ge.useSyncExternalStore=function(D,F,J){return U.H.useSyncExternalStore(D,F,J)},ge.useTransition=function(){return U.H.useTransition()},ge.version="19.2.3",ge}var Yy;function ah(){return Yy||(Yy=1,$f.exports=ZE()),$f.exports}var w=ah();const _t=ih(w),sh=JE({__proto__:null,default:_t},[w]);var Hf={exports:{}},Us={},Vf={exports:{}},Gf={};var Jy;function ex(){return Jy||(Jy=1,(function(e){function t(z,Y){var $=z.length;z.push(Y);e:for(;0<$;){var pe=$-1>>>1,be=z[pe];if(0<o(be,Y))z[pe]=Y,z[$]=be,$=pe;else break e}}function i(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var Y=z[0],$=z.pop();if($!==Y){z[0]=$;e:for(var pe=0,be=z.length,D=be>>>1;pe<D;){var F=2*(pe+1)-1,J=z[F],W=F+1,he=z[W];if(0>o(J,$))W<be&&0>o(he,J)?(z[pe]=he,z[W]=$,pe=W):(z[pe]=J,z[F]=$,pe=F);else if(W<be&&0>o(he,$))z[pe]=he,z[W]=$,pe=W;else break e}}return Y}function o(z,Y){var $=z.sortIndex-Y.sortIndex;return $!==0?$:z.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;e.unstable_now=function(){return u.now()}}else{var c=Date,f=c.now();e.unstable_now=function(){return c.now()-f}}var h=[],p=[],g=1,y=null,b=3,_=!1,x=!1,S=!1,A=!1,R=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function M(z){for(var Y=i(p);Y!==null;){if(Y.callback===null)a(p);else if(Y.startTime<=z)a(p),Y.sortIndex=Y.expirationTime,t(h,Y);else break;Y=i(p)}}function I(z){if(S=!1,M(z),!x)if(i(h)!==null)x=!0,K||(K=!0,X());else{var Y=i(p);Y!==null&&Re(I,Y.startTime-z)}}var K=!1,U=-1,H=5,Z=-1;function ue(){return A?!0:!(e.unstable_now()-Z<H)}function ae(){if(A=!1,K){var z=e.unstable_now();Z=z;var Y=!0;try{e:{x=!1,S&&(S=!1,T(U),U=-1),_=!0;var $=b;try{t:{for(M(z),y=i(h);y!==null&&!(y.expirationTime>z&&ue());){var pe=y.callback;if(typeof pe=="function"){y.callback=null,b=y.priorityLevel;var be=pe(y.expirationTime<=z);if(z=e.unstable_now(),typeof be=="function"){y.callback=be,M(z),Y=!0;break t}y===i(h)&&a(h),M(z)}else a(h);y=i(h)}if(y!==null)Y=!0;else{var D=i(p);D!==null&&Re(I,D.startTime-z),Y=!1}}break e}finally{y=null,b=$,_=!1}Y=void 0}}finally{Y?X():K=!1}}}var X;if(typeof O=="function")X=function(){O(ae)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=ae,X=function(){me.postMessage(null)}}else X=function(){R(ae,0)};function Re(z,Y){U=R(function(){z(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(z){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var $=b;b=Y;try{return z()}finally{b=$}},e.unstable_requestPaint=function(){A=!0},e.unstable_runWithPriority=function(z,Y){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=b;b=z;try{return Y()}finally{b=$}},e.unstable_scheduleCallback=function(z,Y,$){var pe=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?pe+$:pe):$=pe,z){case 1:var be=-1;break;case 2:be=250;break;case 5:be=1073741823;break;case 4:be=1e4;break;default:be=5e3}return be=$+be,z={id:g++,callback:Y,priorityLevel:z,startTime:$,expirationTime:be,sortIndex:-1},$>pe?(z.sortIndex=$,t(p,z),i(h)===null&&z===i(p)&&(S?(T(U),U=-1):S=!0,Re(I,$-pe))):(z.sortIndex=be,t(h,z),x||_||(x=!0,K||(K=!0,X()))),z},e.unstable_shouldYield=ue,e.unstable_wrapCallback=function(z){var Y=b;return function(){var $=b;b=Y;try{return z.apply(this,arguments)}finally{b=$}}}})(Gf)),Gf}var Xy;function tx(){return Xy||(Xy=1,Vf.exports=ex()),Vf.exports}var Kf={exports:{}},vt={};var Wy;function nx(){if(Wy)return vt;Wy=1;var e=ah();function t(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(h,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:y==null?null:""+y,children:h,containerInfo:p,implementation:g}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return vt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,vt.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return u(h,p,null,g)},vt.flushSync=function(h){var p=c.T,g=a.p;try{if(c.T=null,a.p=2,h)return h()}finally{c.T=p,a.p=g,a.d.f()}},vt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(h,p))},vt.prefetchDNS=function(h){typeof h=="string"&&a.d.D(h)},vt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin),b=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?a.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:_}):g==="script"&&a.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},vt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=f(p.as,p.crossOrigin);a.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(h)},vt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=f(g,p.crossOrigin);a.d.L(h,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},vt.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=f(p.as,p.crossOrigin);a.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(h)},vt.requestFormReset=function(h){a.d.r(h)},vt.unstable_batchedUpdates=function(h,p){return h(p)},vt.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},vt.useFormStatus=function(){return c.H.useHostTransitionStatus()},vt.version="19.2.3",vt}var Zy;function jb(){if(Zy)return Kf.exports;Zy=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Kf.exports=nx(),Kf.exports}var ev;function rx(){if(ev)return Us;ev=1;var e=tx(),t=ah(),i=jb();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)r+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,s=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(s=r.return),n=r.return;while(n)}return r.tag===3?s:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function f(n){if(n.tag===31){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(u(n)!==n)throw Error(a(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(a(188));return r!==n?null:n}for(var s=n,l=r;;){var d=s.return;if(d===null)break;var m=d.alternate;if(m===null){if(l=d.return,l!==null){s=l;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===s)return h(d),n;if(m===l)return h(d),r;m=m.sibling}throw Error(a(188))}if(s.return!==l.return)s=d,l=m;else{for(var v=!1,E=d.child;E;){if(E===s){v=!0,s=d,l=m;break}if(E===l){v=!0,l=d,s=m;break}E=E.sibling}if(!v){for(E=m.child;E;){if(E===s){v=!0,s=m,l=d;break}if(E===l){v=!0,l=m,s=d;break}E=E.sibling}if(!v)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),H=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ue=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function X(n){return n===null||typeof n!="object"?null:(n=ae&&n[ae]||n["@@iterator"],typeof n=="function"?n:null)}var ee=Symbol.for("react.client.reference");function me(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===ee?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case S:return"Fragment";case R:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case K:return"SuspenseList";case Z:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case O:return n.displayName||"Context";case T:return(n._context.displayName||"Context")+".Consumer";case M:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return r=n.displayName||null,r!==null?r:me(n.type)||"Memo";case H:r=n._payload,n=n._init;try{return me(n(r))}catch{}}return null}var Re=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},pe=[],be=-1;function D(n){return{current:n}}function F(n){0>be||(n.current=pe[be],pe[be]=null,be--)}function J(n,r){be++,pe[be]=n.current,n.current=r}var W=D(null),he=D(null),ye=D(null),oe=D(null);function Xe(n,r){switch(J(ye,r),J(he,n),J(W,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?py(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=py(r),n=gy(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}F(W),J(W,n)}function Pe(){F(W),F(he),F(ye)}function Kt(n){n.memoizedState!==null&&J(oe,n);var r=W.current,s=gy(r,n.type);r!==s&&(J(he,n),J(W,s))}function bn(n){he.current===n&&(F(W),F(he)),oe.current===n&&(F(oe),ks._currentValue=$)}var wn,$r;function Hr(n){if(wn===void 0)try{throw Error()}catch(s){var r=s.stack.trim().match(/\n( *(at )?)/);wn=r&&r[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wn+n+$r}var Eu=!1;function xu(n,r){if(!n||Eu)return"";Eu=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var B=q}Reflect.construct(n,[],Q)}else{try{Q.call()}catch(q){B=q}n.call(Q.prototype)}}else{try{throw Error()}catch(q){B=q}(Q=n())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),v=m[0],E=m[1];if(v&&E){var C=v.split(`
`),P=E.split(`
`);for(d=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;d<P.length&&!P[d].includes("DetermineComponentFrameRoot");)d++;if(l===C.length||d===P.length)for(l=C.length-1,d=P.length-1;1<=l&&0<=d&&C[l]!==P[d];)d--;for(;1<=l&&0<=d;l--,d--)if(C[l]!==P[d]){if(l!==1||d!==1)do if(l--,d--,0>d||C[l]!==P[d]){var V=`
`+C[l].replace(" at new "," at ");return n.displayName&&V.includes("<anonymous>")&&(V=V.replace("<anonymous>",n.displayName)),V}while(1<=l&&0<=d);break}}}finally{Eu=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?Hr(s):""}function T_(n,r){switch(n.tag){case 26:case 27:case 5:return Hr(n.type);case 16:return Hr("Lazy");case 13:return n.child!==r&&r!==null?Hr("Suspense Fallback"):Hr("Suspense");case 19:return Hr("SuspenseList");case 0:case 15:return xu(n.type,!1);case 11:return xu(n.type.render,!1);case 1:return xu(n.type,!0);case 31:return Hr("Activity");default:return""}}function Kh(n){try{var r="",s=null;do r+=T_(n,s),s=n,n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Au=Object.prototype.hasOwnProperty,Ru=e.unstable_scheduleCallback,Tu=e.unstable_cancelCallback,O_=e.unstable_shouldYield,C_=e.unstable_requestPaint,kt=e.unstable_now,k_=e.unstable_getCurrentPriorityLevel,Fh=e.unstable_ImmediatePriority,Qh=e.unstable_UserBlockingPriority,lo=e.unstable_NormalPriority,N_=e.unstable_LowPriority,Yh=e.unstable_IdlePriority,D_=e.log,j_=e.unstable_setDisableYieldValue,$a=null,Nt=null;function rr(n){if(typeof D_=="function"&&j_(n),Nt&&typeof Nt.setStrictMode=="function")try{Nt.setStrictMode($a,n)}catch{}}var Dt=Math.clz32?Math.clz32:L_,M_=Math.log,U_=Math.LN2;function L_(n){return n>>>=0,n===0?32:31-(M_(n)/U_|0)|0}var uo=256,co=262144,fo=4194304;function Vr(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ho(n,r,s){var l=n.pendingLanes;if(l===0)return 0;var d=0,m=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var E=l&134217727;return E!==0?(l=E&~m,l!==0?d=Vr(l):(v&=E,v!==0?d=Vr(v):s||(s=E&~n,s!==0&&(d=Vr(s))))):(E=l&~m,E!==0?d=Vr(E):v!==0?d=Vr(v):s||(s=l&~n,s!==0&&(d=Vr(s)))),d===0?0:r!==0&&r!==d&&(r&m)===0&&(m=d&-d,s=r&-r,m>=s||m===32&&(s&4194048)!==0)?r:d}function Ha(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function P_(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jh(){var n=fo;return fo<<=1,(fo&62914560)===0&&(fo=4194304),n}function Ou(n){for(var r=[],s=0;31>s;s++)r.push(n);return r}function Va(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function z_(n,r,s,l,d,m){var v=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var E=n.entanglements,C=n.expirationTimes,P=n.hiddenUpdates;for(s=v&~s;0<s;){var V=31-Dt(s),Q=1<<V;E[V]=0,C[V]=-1;var B=P[V];if(B!==null)for(P[V]=null,V=0;V<B.length;V++){var q=B[V];q!==null&&(q.lane&=-536870913)}s&=~Q}l!==0&&Xh(n,l,0),m!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=m&~(v&~r))}function Xh(n,r,s){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-Dt(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|s&261930}function Wh(n,r){var s=n.entangledLanes|=r;for(n=n.entanglements;s;){var l=31-Dt(s),d=1<<l;d&r|n[l]&r&&(n[l]|=r),s&=~d}}function Zh(n,r){var s=r&-r;return s=(s&42)!==0?1:Cu(s),(s&(n.suspendedLanes|r))!==0?0:s}function Cu(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ku(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function em(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:By(n.type))}function tm(n,r){var s=Y.p;try{return Y.p=n,r()}finally{Y.p=s}}var ir=Math.random().toString(36).slice(2),ft="__reactFiber$"+ir,St="__reactProps$"+ir,Si="__reactContainer$"+ir,Nu="__reactEvents$"+ir,B_="__reactListeners$"+ir,I_="__reactHandles$"+ir,nm="__reactResources$"+ir,Ga="__reactMarker$"+ir;function Du(n){delete n[ft],delete n[St],delete n[Nu],delete n[B_],delete n[I_]}function Ei(n){var r=n[ft];if(r)return r;for(var s=n.parentNode;s;){if(r=s[Si]||s[ft]){if(s=r.alternate,r.child!==null||s!==null&&s.child!==null)for(n=Ey(n);n!==null;){if(s=n[ft])return s;n=Ey(n)}return r}n=s,s=n.parentNode}return null}function xi(n){if(n=n[ft]||n[Si]){var r=n.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return n}return null}function Ka(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function Ai(n){var r=n[nm];return r||(r=n[nm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(n){n[Ga]=!0}var rm=new Set,im={};function Gr(n,r){Ri(n,r),Ri(n+"Capture",r)}function Ri(n,r){for(im[n]=r,n=0;n<r.length;n++)rm.add(r[n])}var q_=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),am={},sm={};function $_(n){return Au.call(sm,n)?!0:Au.call(am,n)?!1:q_.test(n)?sm[n]=!0:(am[n]=!0,!1)}function mo(n,r,s){if($_(r))if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+s)}}function po(n,r,s){if(s===null)n.removeAttribute(r);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+s)}}function Nn(n,r,s,l){if(l===null)n.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(r,s,""+l)}}function Ft(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function om(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function H_(n,r,s){var l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r);if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,m=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){s=""+v,m.call(this,v)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(v){s=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function ju(n){if(!n._valueTracker){var r=om(n)?"checked":"value";n._valueTracker=H_(n,r,""+n[r])}}function lm(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var s=r.getValue(),l="";return n&&(l=om(n)?n.checked?"true":"false":n.value),n=l,n!==s?(r.setValue(n),!0):!1}function go(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var V_=/[\n"\\]/g;function Qt(n){return n.replace(V_,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Mu(n,r,s,l,d,m,v,E){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+Ft(r)):n.value!==""+Ft(r)&&(n.value=""+Ft(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?Uu(n,v,Ft(r)):s!=null?Uu(n,v,Ft(s)):l!=null&&n.removeAttribute("value"),d==null&&m!=null&&(n.defaultChecked=!!m),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+Ft(E):n.removeAttribute("name")}function um(n,r,s,l,d,m,v,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),r!=null||s!=null){if(!(m!=="submit"&&m!=="reset"||r!=null)){ju(n);return}s=s!=null?""+Ft(s):"",r=r!=null?""+Ft(r):s,E||r===n.value||(n.value=r),n.defaultValue=r}l=l??d,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=E?n.checked:!!l,n.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v),ju(n)}function Uu(n,r,s){r==="number"&&go(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function Ti(n,r,s,l){if(n=n.options,r){r={};for(var d=0;d<s.length;d++)r["$"+s[d]]=!0;for(s=0;s<n.length;s++)d=r.hasOwnProperty("$"+n[s].value),n[s].selected!==d&&(n[s].selected=d),d&&l&&(n[s].defaultSelected=!0)}else{for(s=""+Ft(s),r=null,d=0;d<n.length;d++){if(n[d].value===s){n[d].selected=!0,l&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function cm(n,r,s){if(r!=null&&(r=""+Ft(r),r!==n.value&&(n.value=r),s==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=s!=null?""+Ft(s):""}function fm(n,r,s,l){if(r==null){if(l!=null){if(s!=null)throw Error(a(92));if(Re(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),r=s}s=Ft(r),n.defaultValue=s,l=n.textContent,l===s&&l!==""&&l!==null&&(n.value=l),ju(n)}function Oi(n,r){if(r){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=r;return}}n.textContent=r}var G_=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function dm(n,r,s){var l=r.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,s):typeof s!="number"||s===0||G_.has(r)?r==="float"?n.cssFloat=s:n[r]=(""+s).trim():n[r]=s+"px"}function hm(n,r,s){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var d in r)l=r[d],r.hasOwnProperty(d)&&s[d]!==l&&dm(n,d,l)}else for(var m in r)r.hasOwnProperty(m)&&dm(n,m,r[m])}function Lu(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var K_=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),F_=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yo(n){return F_.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Dn(){}var Pu=null;function zu(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ci=null,ki=null;function mm(n){var r=xi(n);if(r&&(n=r.stateNode)){var s=n[St]||null;e:switch(n=r.stateNode,r.type){case"input":if(Mu(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),r=s.name,s.type==="radio"&&r!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Qt(""+r)+'"][type="radio"]'),r=0;r<s.length;r++){var l=s[r];if(l!==n&&l.form===n.form){var d=l[St]||null;if(!d)throw Error(a(90));Mu(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<s.length;r++)l=s[r],l.form===n.form&&lm(l)}break e;case"textarea":cm(n,s.value,s.defaultValue);break e;case"select":r=s.value,r!=null&&Ti(n,!!s.multiple,r,!1)}}}var Bu=!1;function pm(n,r,s){if(Bu)return n(r,s);Bu=!0;try{var l=n(r);return l}finally{if(Bu=!1,(Ci!==null||ki!==null)&&(il(),Ci&&(r=Ci,n=ki,ki=Ci=null,mm(r),n)))for(r=0;r<n.length;r++)mm(n[r])}}function Fa(n,r){var s=n.stateNode;if(s===null)return null;var l=s[St]||null;if(l===null)return null;s=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,r,typeof s));return s}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Iu=!1;if(jn)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){Iu=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{Iu=!1}var ar=null,qu=null,vo=null;function gm(){if(vo)return vo;var n,r=qu,s=r.length,l,d="value"in ar?ar.value:ar.textContent,m=d.length;for(n=0;n<s&&r[n]===d[n];n++);var v=s-n;for(l=1;l<=v&&r[s-l]===d[m-l];l++);return vo=d.slice(n,1<l?1-l:void 0)}function bo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function wo(){return!0}function ym(){return!1}function Et(n){function r(s,l,d,m,v){this._reactName=s,this._targetInst=d,this.type=l,this.nativeEvent=m,this.target=v,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(s=n[E],this[E]=s?s(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?wo:ym,this.isPropagationStopped=ym,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),r}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_o=Et(Kr),Ya=y({},Kr,{view:0,detail:0}),Q_=Et(Ya),$u,Hu,Ja,So=y({},Ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ja&&(Ja&&n.type==="mousemove"?($u=n.screenX-Ja.screenX,Hu=n.screenY-Ja.screenY):Hu=$u=0,Ja=n),$u)},movementY:function(n){return"movementY"in n?n.movementY:Hu}}),vm=Et(So),Y_=y({},So,{dataTransfer:0}),J_=Et(Y_),X_=y({},Ya,{relatedTarget:0}),Vu=Et(X_),W_=y({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Z_=Et(W_),eS=y({},Kr,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),tS=Et(eS),nS=y({},Kr,{data:0}),bm=Et(nS),rS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sS(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=aS[n])?!!r[n]:!1}function Gu(){return sS}var oS=y({},Ya,{key:function(n){if(n.key){var r=rS[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=bo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?iS[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(n){return n.type==="keypress"?bo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?bo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),lS=Et(oS),uS=y({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=Et(uS),cS=y({},Ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),fS=Et(cS),dS=y({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),hS=Et(dS),mS=y({},So,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),pS=Et(mS),gS=y({},Kr,{newState:0,oldState:0}),yS=Et(gS),vS=[9,13,27,32],Ku=jn&&"CompositionEvent"in window,Xa=null;jn&&"documentMode"in document&&(Xa=document.documentMode);var bS=jn&&"TextEvent"in window&&!Xa,_m=jn&&(!Ku||Xa&&8<Xa&&11>=Xa),Sm=" ",Em=!1;function xm(n,r){switch(n){case"keyup":return vS.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Am(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ni=!1;function wS(n,r){switch(n){case"compositionend":return Am(r);case"keypress":return r.which!==32?null:(Em=!0,Sm);case"textInput":return n=r.data,n===Sm&&Em?null:n;default:return null}}function _S(n,r){if(Ni)return n==="compositionend"||!Ku&&xm(n,r)?(n=gm(),vo=qu=ar=null,Ni=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _m&&r.locale!=="ko"?null:r.data;default:return null}}var SS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rm(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!SS[n.type]:r==="textarea"}function Tm(n,r,s,l){Ci?ki?ki.push(l):ki=[l]:Ci=l,r=fl(r,"onChange"),0<r.length&&(s=new _o("onChange","change",null,s,l),n.push({event:s,listeners:r}))}var Wa=null,Za=null;function ES(n){uy(n,0)}function Eo(n){var r=Ka(n);if(lm(r))return n}function Om(n,r){if(n==="change")return r}var Cm=!1;if(jn){var Fu;if(jn){var Qu="oninput"in document;if(!Qu){var km=document.createElement("div");km.setAttribute("oninput","return;"),Qu=typeof km.oninput=="function"}Fu=Qu}else Fu=!1;Cm=Fu&&(!document.documentMode||9<document.documentMode)}function Nm(){Wa&&(Wa.detachEvent("onpropertychange",Dm),Za=Wa=null)}function Dm(n){if(n.propertyName==="value"&&Eo(Za)){var r=[];Tm(r,Za,n,zu(n)),pm(ES,r)}}function xS(n,r,s){n==="focusin"?(Nm(),Wa=r,Za=s,Wa.attachEvent("onpropertychange",Dm)):n==="focusout"&&Nm()}function AS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Eo(Za)}function RS(n,r){if(n==="click")return Eo(r)}function TS(n,r){if(n==="input"||n==="change")return Eo(r)}function OS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var jt=typeof Object.is=="function"?Object.is:OS;function es(n,r){if(jt(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var s=Object.keys(n),l=Object.keys(r);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var d=s[l];if(!Au.call(r,d)||!jt(n[d],r[d]))return!1}return!0}function jm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mm(n,r){var s=jm(n);n=0;for(var l;s;){if(s.nodeType===3){if(l=n+s.textContent.length,n<=r&&l>=r)return{node:s,offset:r-n};n=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=jm(s)}}function Um(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Um(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Lm(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=go(n.document);r instanceof n.HTMLIFrameElement;){try{var s=typeof r.contentWindow.location.href=="string"}catch{s=!1}if(s)n=r.contentWindow;else break;r=go(n.document)}return r}function Yu(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var CS=jn&&"documentMode"in document&&11>=document.documentMode,Di=null,Ju=null,ts=null,Xu=!1;function Pm(n,r,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xu||Di==null||Di!==go(l)||(l=Di,"selectionStart"in l&&Yu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ts&&es(ts,l)||(ts=l,l=fl(Ju,"onSelect"),0<l.length&&(r=new _o("onSelect","select",null,r,s),n.push({event:r,listeners:l}),r.target=Di)))}function Fr(n,r){var s={};return s[n.toLowerCase()]=r.toLowerCase(),s["Webkit"+n]="webkit"+r,s["Moz"+n]="moz"+r,s}var ji={animationend:Fr("Animation","AnimationEnd"),animationiteration:Fr("Animation","AnimationIteration"),animationstart:Fr("Animation","AnimationStart"),transitionrun:Fr("Transition","TransitionRun"),transitionstart:Fr("Transition","TransitionStart"),transitioncancel:Fr("Transition","TransitionCancel"),transitionend:Fr("Transition","TransitionEnd")},Wu={},zm={};jn&&(zm=document.createElement("div").style,"AnimationEvent"in window||(delete ji.animationend.animation,delete ji.animationiteration.animation,delete ji.animationstart.animation),"TransitionEvent"in window||delete ji.transitionend.transition);function Qr(n){if(Wu[n])return Wu[n];if(!ji[n])return n;var r=ji[n],s;for(s in r)if(r.hasOwnProperty(s)&&s in zm)return Wu[n]=r[s];return n}var Bm=Qr("animationend"),Im=Qr("animationiteration"),qm=Qr("animationstart"),kS=Qr("transitionrun"),NS=Qr("transitionstart"),DS=Qr("transitioncancel"),$m=Qr("transitionend"),Hm=new Map,Zu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zu.push("scrollEnd");function un(n,r){Hm.set(n,r),Gr(r,[n])}var xo=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Yt=[],Mi=0,ec=0;function Ao(){for(var n=Mi,r=ec=Mi=0;r<n;){var s=Yt[r];Yt[r++]=null;var l=Yt[r];Yt[r++]=null;var d=Yt[r];Yt[r++]=null;var m=Yt[r];if(Yt[r++]=null,l!==null&&d!==null){var v=l.pending;v===null?d.next=d:(d.next=v.next,v.next=d),l.pending=d}m!==0&&Vm(s,d,m)}}function Ro(n,r,s,l){Yt[Mi++]=n,Yt[Mi++]=r,Yt[Mi++]=s,Yt[Mi++]=l,ec|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function tc(n,r,s,l){return Ro(n,r,s,l),To(n)}function Yr(n,r){return Ro(n,null,null,r),To(n)}function Vm(n,r,s){n.lanes|=s;var l=n.alternate;l!==null&&(l.lanes|=s);for(var d=!1,m=n.return;m!==null;)m.childLanes|=s,l=m.alternate,l!==null&&(l.childLanes|=s),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(d=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,d&&r!==null&&(d=31-Dt(s),n=m.hiddenUpdates,l=n[d],l===null?n[d]=[r]:l.push(r),r.lane=s|536870912),m):null}function To(n){if(50<Es)throw Es=0,ff=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Ui={};function jS(n,r,s,l){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mt(n,r,s,l){return new jS(n,r,s,l)}function nc(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Mn(n,r){var s=n.alternate;return s===null?(s=Mt(n.tag,r,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=r,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&65011712,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,r=n.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Gm(n,r){n.flags&=65011714;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,r=s.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Oo(n,r,s,l,d,m){var v=0;if(l=n,typeof n=="function")nc(n)&&(v=1);else if(typeof n=="string")v=zE(n,s,W.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case Z:return n=Mt(31,s,r,d),n.elementType=Z,n.lanes=m,n;case S:return Jr(s.children,d,m,r);case A:v=8,d|=24;break;case R:return n=Mt(12,s,r,d|2),n.elementType=R,n.lanes=m,n;case I:return n=Mt(13,s,r,d),n.elementType=I,n.lanes=m,n;case K:return n=Mt(19,s,r,d),n.elementType=K,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case O:v=10;break e;case T:v=9;break e;case M:v=11;break e;case U:v=14;break e;case H:v=16,l=null;break e}v=29,s=Error(a(130,n===null?"null":typeof n,"")),l=null}return r=Mt(v,s,r,d),r.elementType=n,r.type=l,r.lanes=m,r}function Jr(n,r,s,l){return n=Mt(7,n,l,r),n.lanes=s,n}function rc(n,r,s){return n=Mt(6,n,null,r),n.lanes=s,n}function Km(n){var r=Mt(18,null,null,0);return r.stateNode=n,r}function ic(n,r,s){return r=Mt(4,n.children!==null?n.children:[],n.key,r),r.lanes=s,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Fm=new WeakMap;function Jt(n,r){if(typeof n=="object"&&n!==null){var s=Fm.get(n);return s!==void 0?s:(r={value:n,source:r,stack:Kh(r)},Fm.set(n,r),r)}return{value:n,source:r,stack:Kh(r)}}var Li=[],Pi=0,Co=null,ns=0,Xt=[],Wt=0,sr=null,_n=1,Sn="";function Un(n,r){Li[Pi++]=ns,Li[Pi++]=Co,Co=n,ns=r}function Qm(n,r,s){Xt[Wt++]=_n,Xt[Wt++]=Sn,Xt[Wt++]=sr,sr=n;var l=_n;n=Sn;var d=32-Dt(l)-1;l&=~(1<<d),s+=1;var m=32-Dt(r)+d;if(30<m){var v=d-d%5;m=(l&(1<<v)-1).toString(32),l>>=v,d-=v,_n=1<<32-Dt(r)+d|s<<d|l,Sn=m+n}else _n=1<<m|s<<d|l,Sn=n}function ac(n){n.return!==null&&(Un(n,1),Qm(n,1,0))}function sc(n){for(;n===Co;)Co=Li[--Pi],Li[Pi]=null,ns=Li[--Pi],Li[Pi]=null;for(;n===sr;)sr=Xt[--Wt],Xt[Wt]=null,Sn=Xt[--Wt],Xt[Wt]=null,_n=Xt[--Wt],Xt[Wt]=null}function Ym(n,r){Xt[Wt++]=_n,Xt[Wt++]=Sn,Xt[Wt++]=sr,_n=r.id,Sn=r.overflow,sr=n}var dt=null,He=null,Te=!1,or=null,Zt=!1,oc=Error(a(519));function lr(n){var r=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rs(Jt(r,n)),oc}function Jm(n){var r=n.stateNode,s=n.type,l=n.memoizedProps;switch(r[ft]=n,r[St]=l,s){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(s=0;s<As.length;s++)Ee(As[s],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ee("invalid",r),um(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ee("invalid",r);break;case"textarea":Ee("invalid",r),fm(r,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||r.textContent===""+s||l.suppressHydrationWarning===!0||hy(r.textContent,s)?(l.popover!=null&&(Ee("beforetoggle",r),Ee("toggle",r)),l.onScroll!=null&&Ee("scroll",r),l.onScrollEnd!=null&&Ee("scrollend",r),l.onClick!=null&&(r.onclick=Dn),r=!0):r=!1,r||lr(n,!0)}function Xm(n){for(dt=n.return;dt;)switch(dt.tag){case 5:case 31:case 13:Zt=!1;return;case 27:case 3:Zt=!0;return;default:dt=dt.return}}function zi(n){if(n!==dt)return!1;if(!Te)return Xm(n),Te=!0,!1;var r=n.tag,s;if((s=r!==3&&r!==27)&&((s=r===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||Rf(n.type,n.memoizedProps)),s=!s),s&&He&&lr(n),Xm(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));He=Sy(n)}else if(r===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));He=Sy(n)}else r===27?(r=He,Sr(n.type)?(n=Nf,Nf=null,He=n):He=r):He=dt?tn(n.stateNode.nextSibling):null;return!0}function Xr(){He=dt=null,Te=!1}function lc(){var n=or;return n!==null&&(Tt===null?Tt=n:Tt.push.apply(Tt,n),or=null),n}function rs(n){or===null?or=[n]:or.push(n)}var uc=D(null),Wr=null,Ln=null;function ur(n,r,s){J(uc,r._currentValue),r._currentValue=s}function Pn(n){n._currentValue=uc.current,F(uc)}function cc(n,r,s){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===s)break;n=n.return}}function fc(n,r,s,l){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var m=d.dependencies;if(m!==null){var v=d.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=d;for(var C=0;C<r.length;C++)if(E.context===r[C]){m.lanes|=s,E=m.alternate,E!==null&&(E.lanes|=s),cc(m.return,s,n),l||(v=null);break e}m=E.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(a(341));v.lanes|=s,m=v.alternate,m!==null&&(m.lanes|=s),cc(v,s,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Bi(n,r,s,l){n=null;for(var d=r,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(a(387));if(v=v.memoizedProps,v!==null){var E=d.type;jt(d.pendingProps.value,v.value)||(n!==null?n.push(E):n=[E])}}else if(d===oe.current){if(v=d.alternate,v===null)throw Error(a(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(ks):n=[ks])}d=d.return}n!==null&&fc(r,n,s,l),r.flags|=262144}function ko(n){for(n=n.firstContext;n!==null;){if(!jt(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Zr(n){Wr=n,Ln=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function ht(n){return Wm(Wr,n)}function No(n,r){return Wr===null&&Zr(n),Wm(n,r)}function Wm(n,r){var s=r._currentValue;if(r={context:r,memoizedValue:s,next:null},Ln===null){if(n===null)throw Error(a(308));Ln=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Ln=Ln.next=r;return s}var MS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(s,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(s){return s()})}},US=e.unstable_scheduleCallback,LS=e.unstable_NormalPriority,et={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function dc(){return{controller:new MS,data:new Map,refCount:0}}function is(n){n.refCount--,n.refCount===0&&US(LS,function(){n.controller.abort()})}var as=null,hc=0,Ii=0,qi=null;function PS(n,r){if(as===null){var s=as=[];hc=0,Ii=yf(),qi={status:"pending",value:void 0,then:function(l){s.push(l)}}}return hc++,r.then(Zm,Zm),r}function Zm(){if(--hc===0&&as!==null){qi!==null&&(qi.status="fulfilled");var n=as;as=null,Ii=0,qi=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function zS(n,r){var s=[],l={status:"pending",value:null,reason:null,then:function(d){s.push(d)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var d=0;d<s.length;d++)(0,s[d])(r)},function(d){for(l.status="rejected",l.reason=d,d=0;d<s.length;d++)(0,s[d])(void 0)}),l}var ep=z.S;z.S=function(n,r){Pg=kt(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&PS(n,r),ep!==null&&ep(n,r)};var ei=D(null);function mc(){var n=ei.current;return n!==null?n:qe.pooledCache}function Do(n,r){r===null?J(ei,ei.current):J(ei,r.pool)}function tp(){var n=mc();return n===null?null:{parent:et._currentValue,pool:n}}var $i=Error(a(460)),pc=Error(a(474)),jo=Error(a(542)),Mo={then:function(){}};function np(n){return n=n.status,n==="fulfilled"||n==="rejected"}function rp(n,r,s){switch(s=n[s],s===void 0?n.push(r):s!==r&&(r.then(Dn,Dn),r=s),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ap(n),n;default:if(typeof r.status=="string")r.then(Dn,Dn);else{if(n=qe,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=l}},function(l){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ap(n),n}throw ni=r,$i}}function ti(n){try{var r=n._init;return r(n._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ni=s,$i):s}}var ni=null;function ip(){if(ni===null)throw Error(a(459));var n=ni;return ni=null,n}function ap(n){if(n===$i||n===jo)throw Error(a(483))}var Hi=null,ss=0;function Uo(n){var r=ss;return ss+=1,Hi===null&&(Hi=[]),rp(Hi,n,r)}function os(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function Lo(n,r){throw r.$$typeof===b?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function sp(n){function r(j,N){if(n){var L=j.deletions;L===null?(j.deletions=[N],j.flags|=16):L.push(N)}}function s(j,N){if(!n)return null;for(;N!==null;)r(j,N),N=N.sibling;return null}function l(j){for(var N=new Map;j!==null;)j.key!==null?N.set(j.key,j):N.set(j.index,j),j=j.sibling;return N}function d(j,N){return j=Mn(j,N),j.index=0,j.sibling=null,j}function m(j,N,L){return j.index=L,n?(L=j.alternate,L!==null?(L=L.index,L<N?(j.flags|=67108866,N):L):(j.flags|=67108866,N)):(j.flags|=1048576,N)}function v(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function E(j,N,L,G){return N===null||N.tag!==6?(N=rc(L,j.mode,G),N.return=j,N):(N=d(N,L),N.return=j,N)}function C(j,N,L,G){var le=L.type;return le===S?V(j,N,L.props.children,G,L.key):N!==null&&(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===H&&ti(le)===N.type)?(N=d(N,L.props),os(N,L),N.return=j,N):(N=Oo(L.type,L.key,L.props,null,j.mode,G),os(N,L),N.return=j,N)}function P(j,N,L,G){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=ic(L,j.mode,G),N.return=j,N):(N=d(N,L.children||[]),N.return=j,N)}function V(j,N,L,G,le){return N===null||N.tag!==7?(N=Jr(L,j.mode,G,le),N.return=j,N):(N=d(N,L),N.return=j,N)}function Q(j,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=rc(""+N,j.mode,L),N.return=j,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return L=Oo(N.type,N.key,N.props,null,j.mode,L),os(L,N),L.return=j,L;case x:return N=ic(N,j.mode,L),N.return=j,N;case H:return N=ti(N),Q(j,N,L)}if(Re(N)||X(N))return N=Jr(N,j.mode,L,null),N.return=j,N;if(typeof N.then=="function")return Q(j,Uo(N),L);if(N.$$typeof===O)return Q(j,No(j,N),L);Lo(j,N)}return null}function B(j,N,L,G){var le=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return le!==null?null:E(j,N,""+L,G);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return L.key===le?C(j,N,L,G):null;case x:return L.key===le?P(j,N,L,G):null;case H:return L=ti(L),B(j,N,L,G)}if(Re(L)||X(L))return le!==null?null:V(j,N,L,G,null);if(typeof L.then=="function")return B(j,N,Uo(L),G);if(L.$$typeof===O)return B(j,N,No(j,L),G);Lo(j,L)}return null}function q(j,N,L,G,le){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return j=j.get(L)||null,E(N,j,""+G,le);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case _:return j=j.get(G.key===null?L:G.key)||null,C(N,j,G,le);case x:return j=j.get(G.key===null?L:G.key)||null,P(N,j,G,le);case H:return G=ti(G),q(j,N,L,G,le)}if(Re(G)||X(G))return j=j.get(L)||null,V(N,j,G,le,null);if(typeof G.then=="function")return q(j,N,L,Uo(G),le);if(G.$$typeof===O)return q(j,N,L,No(N,G),le);Lo(N,G)}return null}function te(j,N,L,G){for(var le=null,ke=null,ie=N,we=N=0,Ae=null;ie!==null&&we<L.length;we++){ie.index>we?(Ae=ie,ie=null):Ae=ie.sibling;var Ne=B(j,ie,L[we],G);if(Ne===null){ie===null&&(ie=Ae);break}n&&ie&&Ne.alternate===null&&r(j,ie),N=m(Ne,N,we),ke===null?le=Ne:ke.sibling=Ne,ke=Ne,ie=Ae}if(we===L.length)return s(j,ie),Te&&Un(j,we),le;if(ie===null){for(;we<L.length;we++)ie=Q(j,L[we],G),ie!==null&&(N=m(ie,N,we),ke===null?le=ie:ke.sibling=ie,ke=ie);return Te&&Un(j,we),le}for(ie=l(ie);we<L.length;we++)Ae=q(ie,j,we,L[we],G),Ae!==null&&(n&&Ae.alternate!==null&&ie.delete(Ae.key===null?we:Ae.key),N=m(Ae,N,we),ke===null?le=Ae:ke.sibling=Ae,ke=Ae);return n&&ie.forEach(function(Tr){return r(j,Tr)}),Te&&Un(j,we),le}function ce(j,N,L,G){if(L==null)throw Error(a(151));for(var le=null,ke=null,ie=N,we=N=0,Ae=null,Ne=L.next();ie!==null&&!Ne.done;we++,Ne=L.next()){ie.index>we?(Ae=ie,ie=null):Ae=ie.sibling;var Tr=B(j,ie,Ne.value,G);if(Tr===null){ie===null&&(ie=Ae);break}n&&ie&&Tr.alternate===null&&r(j,ie),N=m(Tr,N,we),ke===null?le=Tr:ke.sibling=Tr,ke=Tr,ie=Ae}if(Ne.done)return s(j,ie),Te&&Un(j,we),le;if(ie===null){for(;!Ne.done;we++,Ne=L.next())Ne=Q(j,Ne.value,G),Ne!==null&&(N=m(Ne,N,we),ke===null?le=Ne:ke.sibling=Ne,ke=Ne);return Te&&Un(j,we),le}for(ie=l(ie);!Ne.done;we++,Ne=L.next())Ne=q(ie,j,we,Ne.value,G),Ne!==null&&(n&&Ne.alternate!==null&&ie.delete(Ne.key===null?we:Ne.key),N=m(Ne,N,we),ke===null?le=Ne:ke.sibling=Ne,ke=Ne);return n&&ie.forEach(function(YE){return r(j,YE)}),Te&&Un(j,we),le}function Ie(j,N,L,G){if(typeof L=="object"&&L!==null&&L.type===S&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case _:e:{for(var le=L.key;N!==null;){if(N.key===le){if(le=L.type,le===S){if(N.tag===7){s(j,N.sibling),G=d(N,L.props.children),G.return=j,j=G;break e}}else if(N.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===H&&ti(le)===N.type){s(j,N.sibling),G=d(N,L.props),os(G,L),G.return=j,j=G;break e}s(j,N);break}else r(j,N);N=N.sibling}L.type===S?(G=Jr(L.props.children,j.mode,G,L.key),G.return=j,j=G):(G=Oo(L.type,L.key,L.props,null,j.mode,G),os(G,L),G.return=j,j=G)}return v(j);case x:e:{for(le=L.key;N!==null;){if(N.key===le)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(j,N.sibling),G=d(N,L.children||[]),G.return=j,j=G;break e}else{s(j,N);break}else r(j,N);N=N.sibling}G=ic(L,j.mode,G),G.return=j,j=G}return v(j);case H:return L=ti(L),Ie(j,N,L,G)}if(Re(L))return te(j,N,L,G);if(X(L)){if(le=X(L),typeof le!="function")throw Error(a(150));return L=le.call(L),ce(j,N,L,G)}if(typeof L.then=="function")return Ie(j,N,Uo(L),G);if(L.$$typeof===O)return Ie(j,N,No(j,L),G);Lo(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(j,N.sibling),G=d(N,L),G.return=j,j=G):(s(j,N),G=rc(L,j.mode,G),G.return=j,j=G),v(j)):s(j,N)}return function(j,N,L,G){try{ss=0;var le=Ie(j,N,L,G);return Hi=null,le}catch(ie){if(ie===$i||ie===jo)throw ie;var ke=Mt(29,ie,null,j.mode);return ke.lanes=G,ke.return=j,ke}}}var ri=sp(!0),op=sp(!1),cr=!1;function gc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function dr(n,r,s){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(De&2)!==0){var d=l.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),l.pending=r,r=To(n),Vm(n,null,s),r}return Ro(n,l,r,s),To(n)}function ls(n,r,s){if(r=r.updateQueue,r!==null&&(r=r.shared,(s&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Wh(n,s)}}function vc(n,r){var s=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var d=null,m=null;if(s=s.firstBaseUpdate,s!==null){do{var v={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};m===null?d=m=v:m=m.next=v,s=s.next}while(s!==null);m===null?d=m=r:m=m.next=r}else d=m=r;s={baseState:l.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=r:n.next=r,s.lastBaseUpdate=r}var bc=!1;function us(){if(bc){var n=qi;if(n!==null)throw n}}function cs(n,r,s,l){bc=!1;var d=n.updateQueue;cr=!1;var m=d.firstBaseUpdate,v=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var C=E,P=C.next;C.next=null,v===null?m=P:v.next=P,v=C;var V=n.alternate;V!==null&&(V=V.updateQueue,E=V.lastBaseUpdate,E!==v&&(E===null?V.firstBaseUpdate=P:E.next=P,V.lastBaseUpdate=C))}if(m!==null){var Q=d.baseState;v=0,V=P=C=null,E=m;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(xe&B)===B:(l&B)===B){B!==0&&B===Ii&&(bc=!0),V!==null&&(V=V.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var te=n,ce=E;B=r;var Ie=s;switch(ce.tag){case 1:if(te=ce.payload,typeof te=="function"){Q=te.call(Ie,Q,B);break e}Q=te;break e;case 3:te.flags=te.flags&-65537|128;case 0:if(te=ce.payload,B=typeof te=="function"?te.call(Ie,Q,B):te,B==null)break e;Q=y({},Q,B);break e;case 2:cr=!0}}B=E.callback,B!==null&&(n.flags|=64,q&&(n.flags|=8192),q=d.callbacks,q===null?d.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},V===null?(P=V=q,C=Q):V=V.next=q,v|=B;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;q=E,E=q.next,q.next=null,d.lastBaseUpdate=q,d.shared.pending=null}}while(!0);V===null&&(C=Q),d.baseState=C,d.firstBaseUpdate=P,d.lastBaseUpdate=V,m===null&&(d.shared.lanes=0),yr|=v,n.lanes=v,n.memoizedState=Q}}function lp(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function up(n,r){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)lp(s[n],r)}var Vi=D(null),Po=D(0);function cp(n,r){n=Kn,J(Po,n),J(Vi,r),Kn=n|r.baseLanes}function wc(){J(Po,Kn),J(Vi,Vi.current)}function _c(){Kn=Po.current,F(Vi),F(Po)}var Ut=D(null),en=null;function hr(n){var r=n.alternate;J(We,We.current&1),J(Ut,n),en===null&&(r===null||Vi.current!==null||r.memoizedState!==null)&&(en=n)}function Sc(n){J(We,We.current),J(Ut,n),en===null&&(en=n)}function fp(n){n.tag===22?(J(We,We.current),J(Ut,n),en===null&&(en=n)):mr()}function mr(){J(We,We.current),J(Ut,Ut.current)}function Lt(n){F(Ut),en===n&&(en=null),F(We)}var We=D(0);function zo(n){for(var r=n;r!==null;){if(r.tag===13){var s=r.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Cf(s)||kf(s)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var zn=0,ve=null,ze=null,tt=null,Bo=!1,Gi=!1,ii=!1,Io=0,fs=0,Ki=null,BS=0;function Qe(){throw Error(a(321))}function Ec(n,r){if(r===null)return!1;for(var s=0;s<r.length&&s<n.length;s++)if(!jt(n[s],r[s]))return!1;return!0}function xc(n,r,s,l,d,m){return zn=m,ve=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=n===null||n.memoizedState===null?Qp:Bc,ii=!1,m=s(l,d),ii=!1,Gi&&(m=hp(r,s,l,d)),dp(n),m}function dp(n){z.H=ms;var r=ze!==null&&ze.next!==null;if(zn=0,tt=ze=ve=null,Bo=!1,fs=0,Ki=null,r)throw Error(a(300));n===null||nt||(n=n.dependencies,n!==null&&ko(n)&&(nt=!0))}function hp(n,r,s,l){ve=n;var d=0;do{if(Gi&&(Ki=null),fs=0,Gi=!1,25<=d)throw Error(a(301));if(d+=1,tt=ze=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}z.H=Yp,m=r(s,l)}while(Gi);return m}function IS(){var n=z.H,r=n.useState()[0];return r=typeof r.then=="function"?ds(r):r,n=n.useState()[0],(ze!==null?ze.memoizedState:null)!==n&&(ve.flags|=1024),r}function Ac(){var n=Io!==0;return Io=0,n}function Rc(n,r,s){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~s}function Tc(n){if(Bo){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Bo=!1}zn=0,tt=ze=ve=null,Gi=!1,fs=Io=0,Ki=null}function bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ve.memoizedState=tt=n:tt=tt.next=n,tt}function Ze(){if(ze===null){var n=ve.alternate;n=n!==null?n.memoizedState:null}else n=ze.next;var r=tt===null?ve.memoizedState:tt.next;if(r!==null)tt=r,ze=n;else{if(n===null)throw ve.alternate===null?Error(a(467)):Error(a(310));ze=n,n={memoizedState:ze.memoizedState,baseState:ze.baseState,baseQueue:ze.baseQueue,queue:ze.queue,next:null},tt===null?ve.memoizedState=tt=n:tt=tt.next=n}return tt}function qo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ds(n){var r=fs;return fs+=1,Ki===null&&(Ki=[]),n=rp(Ki,n,r),r=ve,(tt===null?r.memoizedState:tt.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?Qp:Bc),n}function $o(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return ds(n);if(n.$$typeof===O)return ht(n)}throw Error(a(438,String(n)))}function Oc(n){var r=null,s=ve.updateQueue;if(s!==null&&(r=s.memoCache),r==null){var l=ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),s===null&&(s=qo(),ve.updateQueue=s),s.memoCache=r,s=r.data[r.index],s===void 0)for(s=r.data[r.index]=Array(n),l=0;l<n;l++)s[l]=ue;return r.index++,s}function Bn(n,r){return typeof r=="function"?r(n):r}function Ho(n){var r=Ze();return Cc(r,ze,n)}function Cc(n,r,s){var l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var d=n.baseQueue,m=l.pending;if(m!==null){if(d!==null){var v=d.next;d.next=m.next,m.next=v}r.baseQueue=d=m,l.pending=null}if(m=n.baseState,d===null)n.memoizedState=m;else{r=d.next;var E=v=null,C=null,P=r,V=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(xe&Q)===Q:(zn&Q)===Q){var B=P.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Ii&&(V=!0);else if((zn&B)===B){P=P.next,B===Ii&&(V=!0);continue}else Q={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=Q,v=m):C=C.next=Q,ve.lanes|=B,yr|=B;Q=P.action,ii&&s(m,Q),m=P.hasEagerState?P.eagerState:s(m,Q)}else B={lane:Q,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=B,v=m):C=C.next=B,ve.lanes|=Q,yr|=Q;P=P.next}while(P!==null&&P!==r);if(C===null?v=m:C.next=E,!jt(m,n.memoizedState)&&(nt=!0,V&&(s=qi,s!==null)))throw s;n.memoizedState=m,n.baseState=v,n.baseQueue=C,l.lastRenderedState=m}return d===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function kc(n){var r=Ze(),s=r.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var l=s.dispatch,d=s.pending,m=r.memoizedState;if(d!==null){s.pending=null;var v=d=d.next;do m=n(m,v.action),v=v.next;while(v!==d);jt(m,r.memoizedState)||(nt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),s.lastRenderedState=m}return[m,l]}function mp(n,r,s){var l=ve,d=Ze(),m=Te;if(m){if(s===void 0)throw Error(a(407));s=s()}else s=r();var v=!jt((ze||d).memoizedState,s);if(v&&(d.memoizedState=s,nt=!0),d=d.queue,jc(yp.bind(null,l,d,n),[n]),d.getSnapshot!==r||v||tt!==null&&tt.memoizedState.tag&1){if(l.flags|=2048,Fi(9,{destroy:void 0},gp.bind(null,l,d,s,r),null),qe===null)throw Error(a(349));m||(zn&127)!==0||pp(l,r,s)}return s}function pp(n,r,s){n.flags|=16384,n={getSnapshot:r,value:s},r=ve.updateQueue,r===null?(r=qo(),ve.updateQueue=r,r.stores=[n]):(s=r.stores,s===null?r.stores=[n]:s.push(n))}function gp(n,r,s,l){r.value=s,r.getSnapshot=l,vp(r)&&bp(n)}function yp(n,r,s){return s(function(){vp(r)&&bp(n)})}function vp(n){var r=n.getSnapshot;n=n.value;try{var s=r();return!jt(n,s)}catch{return!0}}function bp(n){var r=Yr(n,2);r!==null&&Ot(r,n,2)}function Nc(n){var r=bt();if(typeof n=="function"){var s=n;if(n=s(),ii){rr(!0);try{s()}finally{rr(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:n},r}function wp(n,r,s,l){return n.baseState=s,Cc(n,ze,typeof l=="function"?l:Bn)}function qS(n,r,s,l,d){if(Ko(n))throw Error(a(485));if(n=r.action,n!==null){var m={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){m.listeners.push(v)}};z.T!==null?s(!0):m.isTransition=!1,l(m),s=r.pending,s===null?(m.next=r.pending=m,_p(r,m)):(m.next=s.next,r.pending=s.next=m)}}function _p(n,r){var s=r.action,l=r.payload,d=n.state;if(r.isTransition){var m=z.T,v={};z.T=v;try{var E=s(d,l),C=z.S;C!==null&&C(v,E),Sp(n,r,E)}catch(P){Dc(n,r,P)}finally{m!==null&&v.types!==null&&(m.types=v.types),z.T=m}}else try{m=s(d,l),Sp(n,r,m)}catch(P){Dc(n,r,P)}}function Sp(n,r,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ep(n,r,l)},function(l){return Dc(n,r,l)}):Ep(n,r,s)}function Ep(n,r,s){r.status="fulfilled",r.value=s,xp(r),n.state=s,r=n.pending,r!==null&&(s=r.next,s===r?n.pending=null:(s=s.next,r.next=s,_p(n,s)))}function Dc(n,r,s){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=s,xp(r),r=r.next;while(r!==l)}n.action=null}function xp(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ap(n,r){return r}function Rp(n,r){if(Te){var s=qe.formState;if(s!==null){e:{var l=ve;if(Te){if(He){t:{for(var d=He,m=Zt;d.nodeType!==8;){if(!m){d=null;break t}if(d=tn(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){He=tn(d.nextSibling),l=d.data==="F!";break e}}lr(l)}l=!1}l&&(r=s[0])}}return s=bt(),s.memoizedState=s.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ap,lastRenderedState:r},s.queue=l,s=Gp.bind(null,ve,l),l.dispatch=s,l=Nc(!1),m=zc.bind(null,ve,!1,l.queue),l=bt(),d={state:r,dispatch:null,action:n,pending:null},l.queue=d,s=qS.bind(null,ve,d,m,s),d.dispatch=s,l.memoizedState=n,[r,s,!1]}function Tp(n){var r=Ze();return Op(r,ze,n)}function Op(n,r,s){if(r=Cc(n,r,Ap)[0],n=Ho(Bn)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=ds(r)}catch(v){throw v===$i?jo:v}else l=r;r=Ze();var d=r.queue,m=d.dispatch;return s!==r.memoizedState&&(ve.flags|=2048,Fi(9,{destroy:void 0},$S.bind(null,d,s),null)),[l,m,n]}function $S(n,r){n.action=r}function Cp(n){var r=Ze(),s=ze;if(s!==null)return Op(r,s,n);Ze(),r=r.memoizedState,s=Ze();var l=s.queue.dispatch;return s.memoizedState=n,[r,l,!1]}function Fi(n,r,s,l){return n={tag:n,create:s,deps:l,inst:r,next:null},r=ve.updateQueue,r===null&&(r=qo(),ve.updateQueue=r),s=r.lastEffect,s===null?r.lastEffect=n.next=n:(l=s.next,s.next=n,n.next=l,r.lastEffect=n),n}function kp(){return Ze().memoizedState}function Vo(n,r,s,l){var d=bt();ve.flags|=n,d.memoizedState=Fi(1|r,{destroy:void 0},s,l===void 0?null:l)}function Go(n,r,s,l){var d=Ze();l=l===void 0?null:l;var m=d.memoizedState.inst;ze!==null&&l!==null&&Ec(l,ze.memoizedState.deps)?d.memoizedState=Fi(r,m,s,l):(ve.flags|=n,d.memoizedState=Fi(1|r,m,s,l))}function Np(n,r){Vo(8390656,8,n,r)}function jc(n,r){Go(2048,8,n,r)}function HS(n){ve.flags|=4;var r=ve.updateQueue;if(r===null)r=qo(),ve.updateQueue=r,r.events=[n];else{var s=r.events;s===null?r.events=[n]:s.push(n)}}function Dp(n){var r=Ze().memoizedState;return HS({ref:r,nextImpl:n}),function(){if((De&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}function jp(n,r){return Go(4,2,n,r)}function Mp(n,r){return Go(4,4,n,r)}function Up(n,r){if(typeof r=="function"){n=n();var s=r(n);return function(){typeof s=="function"?s():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Lp(n,r,s){s=s!=null?s.concat([n]):null,Go(4,4,Up.bind(null,r,n),s)}function Mc(){}function Pp(n,r){var s=Ze();r=r===void 0?null:r;var l=s.memoizedState;return r!==null&&Ec(r,l[1])?l[0]:(s.memoizedState=[n,r],n)}function zp(n,r){var s=Ze();r=r===void 0?null:r;var l=s.memoizedState;if(r!==null&&Ec(r,l[1]))return l[0];if(l=n(),ii){rr(!0);try{n()}finally{rr(!1)}}return s.memoizedState=[l,r],l}function Uc(n,r,s){return s===void 0||(zn&1073741824)!==0&&(xe&261930)===0?n.memoizedState=r:(n.memoizedState=s,n=Bg(),ve.lanes|=n,yr|=n,s)}function Bp(n,r,s,l){return jt(s,r)?s:Vi.current!==null?(n=Uc(n,s,l),jt(n,r)||(nt=!0),n):(zn&42)===0||(zn&1073741824)!==0&&(xe&261930)===0?(nt=!0,n.memoizedState=s):(n=Bg(),ve.lanes|=n,yr|=n,r)}function Ip(n,r,s,l,d){var m=Y.p;Y.p=m!==0&&8>m?m:8;var v=z.T,E={};z.T=E,zc(n,!1,r,s);try{var C=d(),P=z.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var V=zS(C,l);hs(n,r,V,Bt(n))}else hs(n,r,l,Bt(n))}catch(Q){hs(n,r,{then:function(){},status:"rejected",reason:Q},Bt())}finally{Y.p=m,v!==null&&E.types!==null&&(v.types=E.types),z.T=v}}function VS(){}function Lc(n,r,s,l){if(n.tag!==5)throw Error(a(476));var d=qp(n).queue;Ip(n,d,r,$,s===null?VS:function(){return $p(n),s(l)})}function qp(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:$},next:null};var s={};return r.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bn,lastRenderedState:s},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function $p(n){var r=qp(n);r.next===null&&(r=n.alternate.memoizedState),hs(n,r.next.queue,{},Bt())}function Pc(){return ht(ks)}function Hp(){return Ze().memoizedState}function Vp(){return Ze().memoizedState}function GS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var s=Bt();n=fr(s);var l=dr(r,n,s);l!==null&&(Ot(l,r,s),ls(l,r,s)),r={cache:dc()},n.payload=r;return}r=r.return}}function KS(n,r,s){var l=Bt();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ko(n)?Kp(r,s):(s=tc(n,r,s,l),s!==null&&(Ot(s,n,l),Fp(s,r,l)))}function Gp(n,r,s){var l=Bt();hs(n,r,s,l)}function hs(n,r,s,l){var d={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ko(n))Kp(r,d);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var v=r.lastRenderedState,E=m(v,s);if(d.hasEagerState=!0,d.eagerState=E,jt(E,v))return Ro(n,r,d,0),qe===null&&Ao(),!1}catch{}if(s=tc(n,r,d,l),s!==null)return Ot(s,n,l),Fp(s,r,l),!0}return!1}function zc(n,r,s,l){if(l={lane:2,revertLane:yf(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ko(n)){if(r)throw Error(a(479))}else r=tc(n,s,l,2),r!==null&&Ot(r,n,2)}function Ko(n){var r=n.alternate;return n===ve||r!==null&&r===ve}function Kp(n,r){Gi=Bo=!0;var s=n.pending;s===null?r.next=r:(r.next=s.next,s.next=r),n.pending=r}function Fp(n,r,s){if((s&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,s|=l,r.lanes=s,Wh(n,s)}}var ms={readContext:ht,use:$o,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe};ms.useEffectEvent=Qe;var Qp={readContext:ht,use:$o,useCallback:function(n,r){return bt().memoizedState=[n,r===void 0?null:r],n},useContext:ht,useEffect:Np,useImperativeHandle:function(n,r,s){s=s!=null?s.concat([n]):null,Vo(4194308,4,Up.bind(null,r,n),s)},useLayoutEffect:function(n,r){return Vo(4194308,4,n,r)},useInsertionEffect:function(n,r){Vo(4,2,n,r)},useMemo:function(n,r){var s=bt();r=r===void 0?null:r;var l=n();if(ii){rr(!0);try{n()}finally{rr(!1)}}return s.memoizedState=[l,r],l},useReducer:function(n,r,s){var l=bt();if(s!==void 0){var d=s(r);if(ii){rr(!0);try{s(r)}finally{rr(!1)}}}else d=r;return l.memoizedState=l.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},l.queue=n,n=n.dispatch=KS.bind(null,ve,n),[l.memoizedState,n]},useRef:function(n){var r=bt();return n={current:n},r.memoizedState=n},useState:function(n){n=Nc(n);var r=n.queue,s=Gp.bind(null,ve,r);return r.dispatch=s,[n.memoizedState,s]},useDebugValue:Mc,useDeferredValue:function(n,r){var s=bt();return Uc(s,n,r)},useTransition:function(){var n=Nc(!1);return n=Ip.bind(null,ve,n.queue,!0,!1),bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,s){var l=ve,d=bt();if(Te){if(s===void 0)throw Error(a(407));s=s()}else{if(s=r(),qe===null)throw Error(a(349));(xe&127)!==0||pp(l,r,s)}d.memoizedState=s;var m={value:s,getSnapshot:r};return d.queue=m,Np(yp.bind(null,l,m,n),[n]),l.flags|=2048,Fi(9,{destroy:void 0},gp.bind(null,l,m,s,r),null),s},useId:function(){var n=bt(),r=qe.identifierPrefix;if(Te){var s=Sn,l=_n;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,r="_"+r+"R_"+s,s=Io++,0<s&&(r+="H"+s.toString(32)),r+="_"}else s=BS++,r="_"+r+"r_"+s.toString(32)+"_";return n.memoizedState=r},useHostTransitionStatus:Pc,useFormState:Rp,useActionState:Rp,useOptimistic:function(n){var r=bt();r.memoizedState=r.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=s,r=zc.bind(null,ve,!0,s),s.dispatch=r,[n,r]},useMemoCache:Oc,useCacheRefresh:function(){return bt().memoizedState=GS.bind(null,ve)},useEffectEvent:function(n){var r=bt(),s={impl:n};return r.memoizedState=s,function(){if((De&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Bc={readContext:ht,use:$o,useCallback:Pp,useContext:ht,useEffect:jc,useImperativeHandle:Lp,useInsertionEffect:jp,useLayoutEffect:Mp,useMemo:zp,useReducer:Ho,useRef:kp,useState:function(){return Ho(Bn)},useDebugValue:Mc,useDeferredValue:function(n,r){var s=Ze();return Bp(s,ze.memoizedState,n,r)},useTransition:function(){var n=Ho(Bn)[0],r=Ze().memoizedState;return[typeof n=="boolean"?n:ds(n),r]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Pc,useFormState:Tp,useActionState:Tp,useOptimistic:function(n,r){var s=Ze();return wp(s,ze,n,r)},useMemoCache:Oc,useCacheRefresh:Vp};Bc.useEffectEvent=Dp;var Yp={readContext:ht,use:$o,useCallback:Pp,useContext:ht,useEffect:jc,useImperativeHandle:Lp,useInsertionEffect:jp,useLayoutEffect:Mp,useMemo:zp,useReducer:kc,useRef:kp,useState:function(){return kc(Bn)},useDebugValue:Mc,useDeferredValue:function(n,r){var s=Ze();return ze===null?Uc(s,n,r):Bp(s,ze.memoizedState,n,r)},useTransition:function(){var n=kc(Bn)[0],r=Ze().memoizedState;return[typeof n=="boolean"?n:ds(n),r]},useSyncExternalStore:mp,useId:Hp,useHostTransitionStatus:Pc,useFormState:Cp,useActionState:Cp,useOptimistic:function(n,r){var s=Ze();return ze!==null?wp(s,ze,n,r):(s.baseState=n,[n,s.queue.dispatch])},useMemoCache:Oc,useCacheRefresh:Vp};Yp.useEffectEvent=Dp;function Ic(n,r,s,l){r=n.memoizedState,s=s(l,r),s=s==null?r:y({},r,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var qc={enqueueSetState:function(n,r,s){n=n._reactInternals;var l=Bt(),d=fr(l);d.payload=r,s!=null&&(d.callback=s),r=dr(n,d,l),r!==null&&(Ot(r,n,l),ls(r,n,l))},enqueueReplaceState:function(n,r,s){n=n._reactInternals;var l=Bt(),d=fr(l);d.tag=1,d.payload=r,s!=null&&(d.callback=s),r=dr(n,d,l),r!==null&&(Ot(r,n,l),ls(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var s=Bt(),l=fr(s);l.tag=2,r!=null&&(l.callback=r),r=dr(n,l,s),r!==null&&(Ot(r,n,s),ls(r,n,s))}};function Jp(n,r,s,l,d,m,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,m,v):r.prototype&&r.prototype.isPureReactComponent?!es(s,l)||!es(d,m):!0}function Xp(n,r,s,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(s,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(s,l),r.state!==n&&qc.enqueueReplaceState(r,r.state,null)}function ai(n,r){var s=r;if("ref"in r){s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}if(n=n.defaultProps){s===r&&(s=y({},s));for(var d in n)s[d]===void 0&&(s[d]=n[d])}return s}function Wp(n){xo(n)}function Zp(n){console.error(n)}function eg(n){xo(n)}function Fo(n,r){try{var s=n.onUncaughtError;s(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function tg(n,r,s){try{var l=n.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $c(n,r,s){return s=fr(s),s.tag=3,s.payload={element:null},s.callback=function(){Fo(n,r)},s}function ng(n){return n=fr(n),n.tag=3,n}function rg(n,r,s,l){var d=s.type.getDerivedStateFromError;if(typeof d=="function"){var m=l.value;n.payload=function(){return d(m)},n.callback=function(){tg(r,s,l)}}var v=s.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){tg(r,s,l),typeof d!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function FS(n,r,s,l,d){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=s.alternate,r!==null&&Bi(r,s,d,!0),s=Ut.current,s!==null){switch(s.tag){case 31:case 13:return en===null?al():s.alternate===null&&Ye===0&&(Ye=3),s.flags&=-257,s.flags|=65536,s.lanes=d,l===Mo?s.flags|=16384:(r=s.updateQueue,r===null?s.updateQueue=new Set([l]):r.add(l),mf(n,l,d)),!1;case 22:return s.flags|=65536,l===Mo?s.flags|=16384:(r=s.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=r):(s=r.retryQueue,s===null?r.retryQueue=new Set([l]):s.add(l)),mf(n,l,d)),!1}throw Error(a(435,s.tag))}return mf(n,l,d),al(),!1}if(Te)return r=Ut.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,l!==oc&&(n=Error(a(422),{cause:l}),rs(Jt(n,s)))):(l!==oc&&(r=Error(a(423),{cause:l}),rs(Jt(r,s))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,l=Jt(l,s),d=$c(n.stateNode,l,d),vc(n,d),Ye!==4&&(Ye=2)),!1;var m=Error(a(520),{cause:l});if(m=Jt(m,s),Ss===null?Ss=[m]:Ss.push(m),Ye!==4&&(Ye=2),r===null)return!0;l=Jt(l,s),s=r;do{switch(s.tag){case 3:return s.flags|=65536,n=d&-d,s.lanes|=n,n=$c(s.stateNode,l,n),vc(s,n),!1;case 1:if(r=s.type,m=s.stateNode,(s.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(vr===null||!vr.has(m))))return s.flags|=65536,d&=-d,s.lanes|=d,d=ng(d),rg(d,n,s,l),vc(s,d),!1}s=s.return}while(s!==null);return!1}var Hc=Error(a(461)),nt=!1;function mt(n,r,s,l){r.child=n===null?op(r,null,s,l):ri(r,n.child,s,l)}function ig(n,r,s,l,d){s=s.render;var m=r.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Zr(r),l=xc(n,r,s,v,m,d),E=Ac(),n!==null&&!nt?(Rc(n,r,d),In(n,r,d)):(Te&&E&&ac(r),r.flags|=1,mt(n,r,l,d),r.child)}function ag(n,r,s,l,d){if(n===null){var m=s.type;return typeof m=="function"&&!nc(m)&&m.defaultProps===void 0&&s.compare===null?(r.tag=15,r.type=m,sg(n,r,m,l,d)):(n=Oo(s.type,null,l,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(m=n.child,!Xc(n,d)){var v=m.memoizedProps;if(s=s.compare,s=s!==null?s:es,s(v,l)&&n.ref===r.ref)return In(n,r,d)}return r.flags|=1,n=Mn(m,l),n.ref=r.ref,n.return=r,r.child=n}function sg(n,r,s,l,d){if(n!==null){var m=n.memoizedProps;if(es(m,l)&&n.ref===r.ref)if(nt=!1,r.pendingProps=l=m,Xc(n,d))(n.flags&131072)!==0&&(nt=!0);else return r.lanes=n.lanes,In(n,r,d)}return Vc(n,r,s,l,d)}function og(n,r,s,l){var d=l.children,m=n!==null?n.memoizedState:null;if(n===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((r.flags&128)!==0){if(m=m!==null?m.baseLanes|s:s,n!==null){for(l=r.child=n.child,d=0;l!==null;)d=d|l.lanes|l.childLanes,l=l.sibling;l=d&~m}else l=0,r.child=null;return lg(n,r,m,s,l)}if((s&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Do(r,m!==null?m.cachePool:null),m!==null?cp(r,m):wc(),fp(r);else return l=r.lanes=536870912,lg(n,r,m!==null?m.baseLanes|s:s,s,l)}else m!==null?(Do(r,m.cachePool),cp(r,m),mr(),r.memoizedState=null):(n!==null&&Do(r,null),wc(),mr());return mt(n,r,d,s),r.child}function ps(n,r){return n!==null&&n.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function lg(n,r,s,l,d){var m=mc();return m=m===null?null:{parent:et._currentValue,pool:m},r.memoizedState={baseLanes:s,cachePool:m},n!==null&&Do(r,null),wc(),fp(r),n!==null&&Bi(n,r,l,!0),r.childLanes=d,null}function Qo(n,r){return r=Jo({mode:r.mode,children:r.children},n.mode),r.ref=n.ref,n.child=r,r.return=n,r}function ug(n,r,s){return ri(r,n.child,null,s),n=Qo(r,r.pendingProps),n.flags|=2,Lt(r),r.memoizedState=null,n}function QS(n,r,s){var l=r.pendingProps,d=(r.flags&128)!==0;if(r.flags&=-129,n===null){if(Te){if(l.mode==="hidden")return n=Qo(r,l),r.lanes=536870912,ps(null,n);if(Sc(r),(n=He)?(n=_y(n,Zt),n=n!==null&&n.data==="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:sr!==null?{id:_n,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},s=Km(n),s.return=r,r.child=s,dt=r,He=null)):n=null,n===null)throw lr(r);return r.lanes=536870912,null}return Qo(r,l)}var m=n.memoizedState;if(m!==null){var v=m.dehydrated;if(Sc(r),d)if(r.flags&256)r.flags&=-257,r=ug(n,r,s);else if(r.memoizedState!==null)r.child=n.child,r.flags|=128,r=null;else throw Error(a(558));else if(nt||Bi(n,r,s,!1),d=(s&n.childLanes)!==0,nt||d){if(l=qe,l!==null&&(v=Zh(l,s),v!==0&&v!==m.retryLane))throw m.retryLane=v,Yr(n,v),Ot(l,n,v),Hc;al(),r=ug(n,r,s)}else n=m.treeContext,He=tn(v.nextSibling),dt=r,Te=!0,or=null,Zt=!1,n!==null&&Ym(r,n),r=Qo(r,l),r.flags|=4096;return r}return n=Mn(n.child,{mode:l.mode,children:l.children}),n.ref=r.ref,r.child=n,n.return=r,n}function Yo(n,r){var s=r.ref;if(s===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(r.flags|=4194816)}}function Vc(n,r,s,l,d){return Zr(r),s=xc(n,r,s,l,void 0,d),l=Ac(),n!==null&&!nt?(Rc(n,r,d),In(n,r,d)):(Te&&l&&ac(r),r.flags|=1,mt(n,r,s,d),r.child)}function cg(n,r,s,l,d,m){return Zr(r),r.updateQueue=null,s=hp(r,l,s,d),dp(n),l=Ac(),n!==null&&!nt?(Rc(n,r,m),In(n,r,m)):(Te&&l&&ac(r),r.flags|=1,mt(n,r,s,m),r.child)}function fg(n,r,s,l,d){if(Zr(r),r.stateNode===null){var m=Ui,v=s.contextType;typeof v=="object"&&v!==null&&(m=ht(v)),m=new s(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=qc,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},gc(r),v=s.contextType,m.context=typeof v=="object"&&v!==null?ht(v):Ui,m.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(Ic(r,s,v,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(v=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),v!==m.state&&qc.enqueueReplaceState(m,m.state,null),cs(r,l,m,d),us(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){m=r.stateNode;var E=r.memoizedProps,C=ai(s,E);m.props=C;var P=m.context,V=s.contextType;v=Ui,typeof V=="object"&&V!==null&&(v=ht(V));var Q=s.getDerivedStateFromProps;V=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=r.pendingProps!==E,V||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||P!==v)&&Xp(r,m,l,v),cr=!1;var B=r.memoizedState;m.state=B,cs(r,l,m,d),us(),P=r.memoizedState,E||B!==P||cr?(typeof Q=="function"&&(Ic(r,s,Q,l),P=r.memoizedState),(C=cr||Jp(r,s,C,l,B,P,v))?(V||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=P),m.props=l,m.state=P,m.context=v,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,yc(n,r),v=r.memoizedProps,V=ai(s,v),m.props=V,Q=r.pendingProps,B=m.context,P=s.contextType,C=Ui,typeof P=="object"&&P!==null&&(C=ht(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(v!==Q||B!==C)&&Xp(r,m,l,C),cr=!1,B=r.memoizedState,m.state=B,cs(r,l,m,d),us();var q=r.memoizedState;v!==Q||B!==q||cr||n!==null&&n.dependencies!==null&&ko(n.dependencies)?(typeof E=="function"&&(Ic(r,s,E,l),q=r.memoizedState),(V=cr||Jp(r,s,V,l,B,q,C)||n!==null&&n.dependencies!==null&&ko(n.dependencies))?(P||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=q),m.props=l,m.state=q,m.context=C,l=V):(typeof m.componentDidUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&B===n.memoizedState||(r.flags|=1024),l=!1)}return m=l,Yo(n,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,n!==null&&l?(r.child=ri(r,n.child,null,d),r.child=ri(r,null,s,d)):mt(n,r,s,d),r.memoizedState=m.state,n=r.child):n=In(n,r,d),n}function dg(n,r,s,l){return Xr(),r.flags|=256,mt(n,r,s,l),r.child}var Gc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kc(n){return{baseLanes:n,cachePool:tp()}}function Fc(n,r,s){return n=n!==null?n.childLanes&~s:0,r&&(n|=zt),n}function hg(n,r,s){var l=r.pendingProps,d=!1,m=(r.flags&128)!==0,v;if((v=m)||(v=n!==null&&n.memoizedState===null?!1:(We.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(Te){if(d?hr(r):mr(),(n=He)?(n=_y(n,Zt),n=n!==null&&n.data!=="&"?n:null,n!==null&&(r.memoizedState={dehydrated:n,treeContext:sr!==null?{id:_n,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},s=Km(n),s.return=r,r.child=s,dt=r,He=null)):n=null,n===null)throw lr(r);return kf(n)?r.lanes=32:r.lanes=536870912,null}var E=l.children;return l=l.fallback,d?(mr(),d=r.mode,E=Jo({mode:"hidden",children:E},d),l=Jr(l,d,s,null),E.return=r,l.return=r,E.sibling=l,r.child=E,l=r.child,l.memoizedState=Kc(s),l.childLanes=Fc(n,v,s),r.memoizedState=Gc,ps(null,l)):(hr(r),Qc(r,E))}var C=n.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(m)r.flags&256?(hr(r),r.flags&=-257,r=Yc(n,r,s)):r.memoizedState!==null?(mr(),r.child=n.child,r.flags|=128,r=null):(mr(),E=l.fallback,d=r.mode,l=Jo({mode:"visible",children:l.children},d),E=Jr(E,d,s,null),E.flags|=2,l.return=r,E.return=r,l.sibling=E,r.child=l,ri(r,n.child,null,s),l=r.child,l.memoizedState=Kc(s),l.childLanes=Fc(n,v,s),r.memoizedState=Gc,r=ps(null,l));else if(hr(r),kf(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(a(419)),l.stack="",l.digest=v,rs({value:l,source:null,stack:null}),r=Yc(n,r,s)}else if(nt||Bi(n,r,s,!1),v=(s&n.childLanes)!==0,nt||v){if(v=qe,v!==null&&(l=Zh(v,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,Yr(n,l),Ot(v,n,l),Hc;Cf(E)||al(),r=Yc(n,r,s)}else Cf(E)?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,He=tn(E.nextSibling),dt=r,Te=!0,or=null,Zt=!1,n!==null&&Ym(r,n),r=Qc(r,l.children),r.flags|=4096);return r}return d?(mr(),E=l.fallback,d=r.mode,C=n.child,P=C.sibling,l=Mn(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Mn(P,E):(E=Jr(E,d,s,null),E.flags|=2),E.return=r,l.return=r,l.sibling=E,r.child=l,ps(null,l),l=r.child,E=n.child.memoizedState,E===null?E=Kc(s):(d=E.cachePool,d!==null?(C=et._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=tp(),E={baseLanes:E.baseLanes|s,cachePool:d}),l.memoizedState=E,l.childLanes=Fc(n,v,s),r.memoizedState=Gc,ps(n.child,l)):(hr(r),s=n.child,n=s.sibling,s=Mn(s,{mode:"visible",children:l.children}),s.return=r,s.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=s,r.memoizedState=null,s)}function Qc(n,r){return r=Jo({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Jo(n,r){return n=Mt(22,n,null,r),n.lanes=0,n}function Yc(n,r,s){return ri(r,n.child,null,s),n=Qc(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function mg(n,r,s){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),cc(n.return,r,s)}function Jc(n,r,s,l,d,m){var v=n.memoizedState;v===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:d,treeForkCount:m}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=s,v.tailMode=d,v.treeForkCount=m)}function pg(n,r,s){var l=r.pendingProps,d=l.revealOrder,m=l.tail;l=l.children;var v=We.current,E=(v&2)!==0;if(E?(v=v&1|2,r.flags|=128):v&=1,J(We,v),mt(n,r,l,s),l=Te?ns:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&mg(n,s,r);else if(n.tag===19)mg(n,s,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(s=r.child,d=null;s!==null;)n=s.alternate,n!==null&&zo(n)===null&&(d=s),s=s.sibling;s=d,s===null?(d=r.child,r.child=null):(d=s.sibling,s.sibling=null),Jc(r,!1,d,s,m,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&zo(n)===null){r.child=d;break}n=d.sibling,d.sibling=s,s=d,d=n}Jc(r,!0,s,null,m,l);break;case"together":Jc(r,!1,null,null,void 0,l);break;default:r.memoizedState=null}return r.child}function In(n,r,s){if(n!==null&&(r.dependencies=n.dependencies),yr|=r.lanes,(s&r.childLanes)===0)if(n!==null){if(Bi(n,r,s,!1),(s&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,s=Mn(n,n.pendingProps),r.child=s,s.return=r;n.sibling!==null;)n=n.sibling,s=s.sibling=Mn(n,n.pendingProps),s.return=r;s.sibling=null}return r.child}function Xc(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&ko(n)))}function YS(n,r,s){switch(r.tag){case 3:Xe(r,r.stateNode.containerInfo),ur(r,et,n.memoizedState.cache),Xr();break;case 27:case 5:Kt(r);break;case 4:Xe(r,r.stateNode.containerInfo);break;case 10:ur(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sc(r),null;break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(hr(r),r.flags|=128,null):(s&r.child.childLanes)!==0?hg(n,r,s):(hr(r),n=In(n,r,s),n!==null?n.sibling:null);hr(r);break;case 19:var d=(n.flags&128)!==0;if(l=(s&r.childLanes)!==0,l||(Bi(n,r,s,!1),l=(s&r.childLanes)!==0),d){if(l)return pg(n,r,s);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),J(We,We.current),l)break;return null;case 22:return r.lanes=0,og(n,r,s,r.pendingProps);case 24:ur(r,et,n.memoizedState.cache)}return In(n,r,s)}function gg(n,r,s){if(n!==null)if(n.memoizedProps!==r.pendingProps)nt=!0;else{if(!Xc(n,s)&&(r.flags&128)===0)return nt=!1,YS(n,r,s);nt=(n.flags&131072)!==0}else nt=!1,Te&&(r.flags&1048576)!==0&&Qm(r,ns,r.index);switch(r.lanes=0,r.tag){case 16:e:{var l=r.pendingProps;if(n=ti(r.elementType),r.type=n,typeof n=="function")nc(n)?(l=ai(n,l),r.tag=1,r=fg(null,r,n,l,s)):(r.tag=0,r=Vc(null,r,n,l,s));else{if(n!=null){var d=n.$$typeof;if(d===M){r.tag=11,r=ig(null,r,n,l,s);break e}else if(d===U){r.tag=14,r=ag(null,r,n,l,s);break e}}throw r=me(n)||n,Error(a(306,r,""))}}return r;case 0:return Vc(n,r,r.type,r.pendingProps,s);case 1:return l=r.type,d=ai(l,r.pendingProps),fg(n,r,l,d,s);case 3:e:{if(Xe(r,r.stateNode.containerInfo),n===null)throw Error(a(387));l=r.pendingProps;var m=r.memoizedState;d=m.element,yc(n,r),cs(r,l,null,s);var v=r.memoizedState;if(l=v.cache,ur(r,et,l),l!==m.cache&&fc(r,[et],s,!0),us(),l=v.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){r=dg(n,r,l,s);break e}else if(l!==d){d=Jt(Error(a(424)),r),rs(d),r=dg(n,r,l,s);break e}else for(n=r.stateNode.containerInfo,n.nodeType===9?n=n.body:n=n.nodeName==="HTML"?n.ownerDocument.body:n,He=tn(n.firstChild),dt=r,Te=!0,or=null,Zt=!0,s=op(r,null,l,s),r.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xr(),l===d){r=In(n,r,s);break e}mt(n,r,l,s)}r=r.child}return r;case 26:return Yo(n,r),n===null?(s=Ty(r.type,null,r.pendingProps,null))?r.memoizedState=s:Te||(s=r.type,n=r.pendingProps,l=dl(ye.current).createElement(s),l[ft]=r,l[St]=n,pt(l,s,n),ut(l),r.stateNode=l):r.memoizedState=Ty(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Kt(r),n===null&&Te&&(l=r.stateNode=xy(r.type,r.pendingProps,ye.current),dt=r,Zt=!0,d=He,Sr(r.type)?(Nf=d,He=tn(l.firstChild)):He=d),mt(n,r,r.pendingProps.children,s),Yo(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Te&&((d=l=He)&&(l=AE(l,r.type,r.pendingProps,Zt),l!==null?(r.stateNode=l,dt=r,He=tn(l.firstChild),Zt=!1,d=!0):d=!1),d||lr(r)),Kt(r),d=r.type,m=r.pendingProps,v=n!==null?n.memoizedProps:null,l=m.children,Rf(d,m)?l=null:v!==null&&Rf(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=xc(n,r,IS,null,null,s),ks._currentValue=d),Yo(n,r),mt(n,r,l,s),r.child;case 6:return n===null&&Te&&((n=s=He)&&(s=RE(s,r.pendingProps,Zt),s!==null?(r.stateNode=s,dt=r,He=null,n=!0):n=!1),n||lr(r)),null;case 13:return hg(n,r,s);case 4:return Xe(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=ri(r,null,l,s):mt(n,r,l,s),r.child;case 11:return ig(n,r,r.type,r.pendingProps,s);case 7:return mt(n,r,r.pendingProps,s),r.child;case 8:return mt(n,r,r.pendingProps.children,s),r.child;case 12:return mt(n,r,r.pendingProps.children,s),r.child;case 10:return l=r.pendingProps,ur(r,r.type,l.value),mt(n,r,l.children,s),r.child;case 9:return d=r.type._context,l=r.pendingProps.children,Zr(r),d=ht(d),l=l(d),r.flags|=1,mt(n,r,l,s),r.child;case 14:return ag(n,r,r.type,r.pendingProps,s);case 15:return sg(n,r,r.type,r.pendingProps,s);case 19:return pg(n,r,s);case 31:return QS(n,r,s);case 22:return og(n,r,s,r.pendingProps);case 24:return Zr(r),l=ht(et),n===null?(d=mc(),d===null&&(d=qe,m=dc(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=s),d=m),r.memoizedState={parent:l,cache:d},gc(r),ur(r,et,d)):((n.lanes&s)!==0&&(yc(n,r),cs(r,null,null,s),us()),d=n.memoizedState,m=r.memoizedState,d.parent!==l?(d={parent:l,cache:l},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),ur(r,et,l)):(l=m.cache,ur(r,et,l),l!==d.cache&&fc(r,[et],s,!0))),mt(n,r,r.pendingProps.children,s),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function qn(n){n.flags|=4}function Wc(n,r,s,l,d){if((r=(n.mode&32)!==0)&&(r=!1),r){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Hg())n.flags|=8192;else throw ni=Mo,pc}else n.flags&=-16777217}function yg(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Dy(r))if(Hg())n.flags|=8192;else throw ni=Mo,pc}function Xo(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Jh():536870912,n.lanes|=r,Xi|=r)}function gs(n,r){if(!Te)switch(n.tailMode){case"hidden":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function Ve(n){var r=n.alternate!==null&&n.alternate.child===n.child,s=0,l=0;if(r)for(var d=n.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags&65011712,l|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)s|=d.lanes|d.childLanes,l|=d.subtreeFlags,l|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=l,n.childLanes=s,r}function JS(n,r,s){var l=r.pendingProps;switch(sc(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(r),null;case 1:return Ve(r),null;case 3:return s=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Pn(et),Pe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(zi(r)?qn(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,lc())),Ve(r),null;case 26:var d=r.type,m=r.memoizedState;return n===null?(qn(r),m!==null?(Ve(r),yg(r,m)):(Ve(r),Wc(r,d,null,l,s))):m?m!==n.memoizedState?(qn(r),Ve(r),yg(r,m)):(Ve(r),r.flags&=-16777217):(n=n.memoizedProps,n!==l&&qn(r),Ve(r),Wc(r,d,n,l,s)),null;case 27:if(bn(r),s=ye.current,d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&qn(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Ve(r),null}n=W.current,zi(r)?Jm(r):(n=xy(d,l,s),r.stateNode=n,qn(r))}return Ve(r),null;case 5:if(bn(r),d=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&qn(r);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Ve(r),null}if(m=W.current,zi(r))Jm(r);else{var v=dl(ye.current);switch(m){case 1:m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=v.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?m.multiple=!0:l.size&&(m.size=l.size);break;default:m=typeof l.is=="string"?v.createElement(d,{is:l.is}):v.createElement(d)}}m[ft]=r,m[St]=l;e:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)m.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break e;for(;v.sibling===null;){if(v.return===null||v.return===r)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=m;e:switch(pt(m,d,l),d){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&qn(r)}}return Ve(r),Wc(r,r.type,n===null?null:n.memoizedProps,r.pendingProps,s),null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&qn(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(n=ye.current,zi(r)){if(n=r.stateNode,s=r.memoizedProps,l=null,d=dt,d!==null)switch(d.tag){case 27:case 5:l=d.memoizedProps}n[ft]=r,n=!!(n.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||hy(n.nodeValue,s)),n||lr(r,!0)}else n=dl(n).createTextNode(l),n[ft]=r,r.stateNode=n}return Ve(r),null;case 31:if(s=r.memoizedState,n===null||n.memoizedState!==null){if(l=zi(r),s!==null){if(n===null){if(!l)throw Error(a(318));if(n=r.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(557));n[ft]=r}else Xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),n=!1}else s=lc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=s),n=!0;if(!n)return r.flags&256?(Lt(r),r):(Lt(r),null);if((r.flags&128)!==0)throw Error(a(558))}return Ve(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=zi(r),l!==null&&l.dehydrated!==null){if(n===null){if(!d)throw Error(a(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[ft]=r}else Xr(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ve(r),d=!1}else d=lc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(Lt(r),r):(Lt(r),null)}return Lt(r),(r.flags&128)!==0?(r.lanes=s,r):(s=l!==null,n=n!==null&&n.memoizedState!==null,s&&(l=r.child,d=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(d=l.alternate.memoizedState.cachePool.pool),m=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==d&&(l.flags|=2048)),s!==n&&s&&(r.child.flags|=8192),Xo(r,r.updateQueue),Ve(r),null);case 4:return Pe(),n===null&&_f(r.stateNode.containerInfo),Ve(r),null;case 10:return Pn(r.type),Ve(r),null;case 19:if(F(We),l=r.memoizedState,l===null)return Ve(r),null;if(d=(r.flags&128)!==0,m=l.rendering,m===null)if(d)gs(l,!1);else{if(Ye!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(m=zo(n),m!==null){for(r.flags|=128,gs(l,!1),n=m.updateQueue,r.updateQueue=n,Xo(r,n),r.subtreeFlags=0,n=s,s=r.child;s!==null;)Gm(s,n),s=s.sibling;return J(We,We.current&1|2),Te&&Un(r,l.treeForkCount),r.child}n=n.sibling}l.tail!==null&&kt()>nl&&(r.flags|=128,d=!0,gs(l,!1),r.lanes=4194304)}else{if(!d)if(n=zo(m),n!==null){if(r.flags|=128,d=!0,n=n.updateQueue,r.updateQueue=n,Xo(r,n),gs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!m.alternate&&!Te)return Ve(r),null}else 2*kt()-l.renderingStartTime>nl&&s!==536870912&&(r.flags|=128,d=!0,gs(l,!1),r.lanes=4194304);l.isBackwards?(m.sibling=r.child,r.child=m):(n=l.last,n!==null?n.sibling=m:r.child=m,l.last=m)}return l.tail!==null?(n=l.tail,l.rendering=n,l.tail=n.sibling,l.renderingStartTime=kt(),n.sibling=null,s=We.current,J(We,d?s&1|2:s&1),Te&&Un(r,l.treeForkCount),n):(Ve(r),null);case 22:case 23:return Lt(r),_c(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(s&536870912)!==0&&(r.flags&128)===0&&(Ve(r),r.subtreeFlags&6&&(r.flags|=8192)):Ve(r),s=r.updateQueue,s!==null&&Xo(r,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==s&&(r.flags|=2048),n!==null&&F(ei),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),r.memoizedState.cache!==s&&(r.flags|=2048),Pn(et),Ve(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function XS(n,r){switch(sc(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Pn(et),Pe(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return bn(r),null;case 31:if(r.memoizedState!==null){if(Lt(r),r.alternate===null)throw Error(a(340));Xr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 13:if(Lt(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Xr()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return F(We),null;case 4:return Pe(),null;case 10:return Pn(r.type),null;case 22:case 23:return Lt(r),_c(),n!==null&&F(ei),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Pn(et),null;case 25:return null;default:return null}}function vg(n,r){switch(sc(r),r.tag){case 3:Pn(et),Pe();break;case 26:case 27:case 5:bn(r);break;case 4:Pe();break;case 31:r.memoizedState!==null&&Lt(r);break;case 13:Lt(r);break;case 19:F(We);break;case 10:Pn(r.type);break;case 22:case 23:Lt(r),_c(),n!==null&&F(ei);break;case 24:Pn(et)}}function ys(n,r){try{var s=r.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var d=l.next;s=d;do{if((s.tag&n)===n){l=void 0;var m=s.create,v=s.inst;l=m(),v.destroy=l}s=s.next}while(s!==d)}}catch(E){Le(r,r.return,E)}}function pr(n,r,s){try{var l=r.updateQueue,d=l!==null?l.lastEffect:null;if(d!==null){var m=d.next;l=m;do{if((l.tag&n)===n){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,d=r;var C=s,P=E;try{P()}catch(V){Le(d,C,V)}}}l=l.next}while(l!==m)}}catch(V){Le(r,r.return,V)}}function bg(n){var r=n.updateQueue;if(r!==null){var s=n.stateNode;try{up(r,s)}catch(l){Le(n,n.return,l)}}}function wg(n,r,s){s.props=ai(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(l){Le(n,r,l)}}function vs(n,r){try{var s=n.ref;if(s!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof s=="function"?n.refCleanup=s(l):s.current=l}}catch(d){Le(n,r,d)}}function En(n,r){var s=n.ref,l=n.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(d){Le(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(d){Le(n,r,d)}else s.current=null}function _g(n){var r=n.type,s=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break e;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(d){Le(n,n.return,d)}}function Zc(n,r,s){try{var l=n.stateNode;bE(l,n.type,s,r),l[St]=r}catch(d){Le(n,n.return,d)}}function Sg(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Sr(n.type)||n.tag===4}function ef(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Sg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Sr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tf(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(n,r):(r=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,r.appendChild(n),s=s._reactRootContainer,s!=null||r.onclick!==null||(r.onclick=Dn));else if(l!==4&&(l===27&&Sr(n.type)&&(s=n.stateNode,r=null),n=n.child,n!==null))for(tf(n,r,s),n=n.sibling;n!==null;)tf(n,r,s),n=n.sibling}function Wo(n,r,s){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?s.insertBefore(n,r):s.appendChild(n);else if(l!==4&&(l===27&&Sr(n.type)&&(s=n.stateNode),n=n.child,n!==null))for(Wo(n,r,s),n=n.sibling;n!==null;)Wo(n,r,s),n=n.sibling}function Eg(n){var r=n.stateNode,s=n.memoizedProps;try{for(var l=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);pt(r,l,s),r[ft]=n,r[St]=s}catch(m){Le(n,n.return,m)}}var $n=!1,rt=!1,nf=!1,xg=typeof WeakSet=="function"?WeakSet:Set,ct=null;function WS(n,r){if(n=n.containerInfo,xf=bl,n=Lm(n),Yu(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var d=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{s.nodeType,m.nodeType}catch{s=null;break e}var v=0,E=-1,C=-1,P=0,V=0,Q=n,B=null;t:for(;;){for(var q;Q!==s||d!==0&&Q.nodeType!==3||(E=v+d),Q!==m||l!==0&&Q.nodeType!==3||(C=v+l),Q.nodeType===3&&(v+=Q.nodeValue.length),(q=Q.firstChild)!==null;)B=Q,Q=q;for(;;){if(Q===n)break t;if(B===s&&++P===d&&(E=v),B===m&&++V===l&&(C=v),(q=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(Af={focusedElem:n,selectionRange:s},bl=!1,ct=r;ct!==null;)if(r=ct,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,ct=n;else for(;ct!==null;){switch(r=ct,m=r.alternate,n=r.flags,r.tag){case 0:if((n&4)!==0&&(n=r.updateQueue,n=n!==null?n.events:null,n!==null))for(s=0;s<n.length;s++)d=n[s],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,s=r,d=m.memoizedProps,m=m.memoizedState,l=s.stateNode;try{var te=ai(s.type,d);n=l.getSnapshotBeforeUpdate(te,m),l.__reactInternalSnapshotBeforeUpdate=n}catch(ce){Le(s,s.return,ce)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,s=n.nodeType,s===9)Of(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Of(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,ct=n;break}ct=r.return}}function Ag(n,r,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Vn(n,s),l&4&&ys(5,s);break;case 1:if(Vn(n,s),l&4)if(n=s.stateNode,r===null)try{n.componentDidMount()}catch(v){Le(s,s.return,v)}else{var d=ai(s.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Le(s,s.return,v)}}l&64&&bg(s),l&512&&vs(s,s.return);break;case 3:if(Vn(n,s),l&64&&(n=s.updateQueue,n!==null)){if(r=null,s.child!==null)switch(s.child.tag){case 27:case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}try{up(n,r)}catch(v){Le(s,s.return,v)}}break;case 27:r===null&&l&4&&Eg(s);case 26:case 5:Vn(n,s),r===null&&l&4&&_g(s),l&512&&vs(s,s.return);break;case 12:Vn(n,s);break;case 31:Vn(n,s),l&4&&Og(n,s);break;case 13:Vn(n,s),l&4&&Cg(n,s),l&64&&(n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(s=oE.bind(null,s),TE(n,s))));break;case 22:if(l=s.memoizedState!==null||$n,!l){r=r!==null&&r.memoizedState!==null||rt,d=$n;var m=rt;$n=l,(rt=r)&&!m?Gn(n,s,(s.subtreeFlags&8772)!==0):Vn(n,s),$n=d,rt=m}break;case 30:break;default:Vn(n,s)}}function Rg(n){var r=n.alternate;r!==null&&(n.alternate=null,Rg(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Du(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ge=null,xt=!1;function Hn(n,r,s){for(s=s.child;s!==null;)Tg(n,r,s),s=s.sibling}function Tg(n,r,s){if(Nt&&typeof Nt.onCommitFiberUnmount=="function")try{Nt.onCommitFiberUnmount($a,s)}catch{}switch(s.tag){case 26:rt||En(s,r),Hn(n,r,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:rt||En(s,r);var l=Ge,d=xt;Sr(s.type)&&(Ge=s.stateNode,xt=!1),Hn(n,r,s),Ts(s.stateNode),Ge=l,xt=d;break;case 5:rt||En(s,r);case 6:if(l=Ge,d=xt,Ge=null,Hn(n,r,s),Ge=l,xt=d,Ge!==null)if(xt)try{(Ge.nodeType===9?Ge.body:Ge.nodeName==="HTML"?Ge.ownerDocument.body:Ge).removeChild(s.stateNode)}catch(m){Le(s,r,m)}else try{Ge.removeChild(s.stateNode)}catch(m){Le(s,r,m)}break;case 18:Ge!==null&&(xt?(n=Ge,by(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,s.stateNode),aa(n)):by(Ge,s.stateNode));break;case 4:l=Ge,d=xt,Ge=s.stateNode.containerInfo,xt=!0,Hn(n,r,s),Ge=l,xt=d;break;case 0:case 11:case 14:case 15:pr(2,s,r),rt||pr(4,s,r),Hn(n,r,s);break;case 1:rt||(En(s,r),l=s.stateNode,typeof l.componentWillUnmount=="function"&&wg(s,r,l)),Hn(n,r,s);break;case 21:Hn(n,r,s);break;case 22:rt=(l=rt)||s.memoizedState!==null,Hn(n,r,s),rt=l;break;default:Hn(n,r,s)}}function Og(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{aa(n)}catch(s){Le(r,r.return,s)}}}function Cg(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{aa(n)}catch(s){Le(r,r.return,s)}}function ZS(n){switch(n.tag){case 31:case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new xg),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new xg),r;default:throw Error(a(435,n.tag))}}function Zo(n,r){var s=ZS(n);r.forEach(function(l){if(!s.has(l)){s.add(l);var d=lE.bind(null,n,l);l.then(d,d)}})}function At(n,r){var s=r.deletions;if(s!==null)for(var l=0;l<s.length;l++){var d=s[l],m=n,v=r,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Sr(E.type)){Ge=E.stateNode,xt=!1;break e}break;case 5:Ge=E.stateNode,xt=!1;break e;case 3:case 4:Ge=E.stateNode.containerInfo,xt=!0;break e}E=E.return}if(Ge===null)throw Error(a(160));Tg(m,v,d),Ge=null,xt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)kg(r,n),r=r.sibling}var cn=null;function kg(n,r){var s=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:At(r,n),Rt(n),l&4&&(pr(3,n,n.return),ys(3,n),pr(5,n,n.return));break;case 1:At(r,n),Rt(n),l&512&&(rt||s===null||En(s,s.return)),l&64&&$n&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var d=cn;if(At(r,n),Rt(n),l&512&&(rt||s===null||En(s,s.return)),l&4){var m=s!==null?s.memoizedState:null;if(l=n.memoizedState,s===null)if(l===null)if(n.stateNode===null){e:{l=n.type,s=n.memoizedProps,d=d.ownerDocument||d;t:switch(l){case"title":m=d.getElementsByTagName("title")[0],(!m||m[Ga]||m[ft]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(l),d.head.insertBefore(m,d.querySelector("head > title"))),pt(m,l,s),m[ft]=n,ut(m),l=m;break e;case"link":var v=ky("link","href",d).get(l+(s.href||""));if(v){for(var E=0;E<v.length;E++)if(m=v[E],m.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&m.getAttribute("rel")===(s.rel==null?null:s.rel)&&m.getAttribute("title")===(s.title==null?null:s.title)&&m.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){v.splice(E,1);break t}}m=d.createElement(l),pt(m,l,s),d.head.appendChild(m);break;case"meta":if(v=ky("meta","content",d).get(l+(s.content||""))){for(E=0;E<v.length;E++)if(m=v[E],m.getAttribute("content")===(s.content==null?null:""+s.content)&&m.getAttribute("name")===(s.name==null?null:s.name)&&m.getAttribute("property")===(s.property==null?null:s.property)&&m.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&m.getAttribute("charset")===(s.charSet==null?null:s.charSet)){v.splice(E,1);break t}}m=d.createElement(l),pt(m,l,s),d.head.appendChild(m);break;default:throw Error(a(468,l))}m[ft]=n,ut(m),l=m}n.stateNode=l}else Ny(d,n.type,n.stateNode);else n.stateNode=Cy(d,l,n.memoizedProps);else m!==l?(m===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):m.count--,l===null?Ny(d,n.type,n.stateNode):Cy(d,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Zc(n,n.memoizedProps,s.memoizedProps)}break;case 27:At(r,n),Rt(n),l&512&&(rt||s===null||En(s,s.return)),s!==null&&l&4&&Zc(n,n.memoizedProps,s.memoizedProps);break;case 5:if(At(r,n),Rt(n),l&512&&(rt||s===null||En(s,s.return)),n.flags&32){d=n.stateNode;try{Oi(d,"")}catch(te){Le(n,n.return,te)}}l&4&&n.stateNode!=null&&(d=n.memoizedProps,Zc(n,d,s!==null?s.memoizedProps:d)),l&1024&&(nf=!0);break;case 6:if(At(r,n),Rt(n),l&4){if(n.stateNode===null)throw Error(a(162));l=n.memoizedProps,s=n.stateNode;try{s.nodeValue=l}catch(te){Le(n,n.return,te)}}break;case 3:if(pl=null,d=cn,cn=hl(r.containerInfo),At(r,n),cn=d,Rt(n),l&4&&s!==null&&s.memoizedState.isDehydrated)try{aa(r.containerInfo)}catch(te){Le(n,n.return,te)}nf&&(nf=!1,Ng(n));break;case 4:l=cn,cn=hl(n.stateNode.containerInfo),At(r,n),Rt(n),cn=l;break;case 12:At(r,n),Rt(n);break;case 31:At(r,n),Rt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zo(n,l)));break;case 13:At(r,n),Rt(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(tl=kt()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zo(n,l)));break;case 22:d=n.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=$n,V=rt;if($n=P||d,rt=V||C,At(r,n),rt=V,$n=P,Rt(n),l&8192)e:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(s===null||C||$n||rt||si(n)),s=null,r=n;;){if(r.tag===5||r.tag===26){if(s===null){C=s=r;try{if(m=C.stateNode,d)v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var Q=C.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(te){Le(C,C.return,te)}}}else if(r.tag===6){if(s===null){C=r;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(te){Le(C,C.return,te)}}}else if(r.tag===18){if(s===null){C=r;try{var q=C.stateNode;d?wy(q,!0):wy(C.stateNode,!1)}catch(te){Le(C,C.return,te)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;s===r&&(s=null),r=r.return}s===r&&(s=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Zo(n,s))));break;case 19:At(r,n),Rt(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Zo(n,l)));break;case 30:break;case 21:break;default:At(r,n),Rt(n)}}function Rt(n){var r=n.flags;if(r&2){try{for(var s,l=n.return;l!==null;){if(Sg(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var d=s.stateNode,m=ef(n);Wo(n,m,d);break;case 5:var v=s.stateNode;s.flags&32&&(Oi(v,""),s.flags&=-33);var E=ef(n);Wo(n,E,v);break;case 3:case 4:var C=s.stateNode.containerInfo,P=ef(n);tf(n,P,C);break;default:throw Error(a(161))}}catch(V){Le(n,n.return,V)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Ng(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Ng(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Vn(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ag(n,r.alternate,r),r=r.sibling}function si(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:pr(4,r,r.return),si(r);break;case 1:En(r,r.return);var s=r.stateNode;typeof s.componentWillUnmount=="function"&&wg(r,r.return,s),si(r);break;case 27:Ts(r.stateNode);case 26:case 5:En(r,r.return),si(r);break;case 22:r.memoizedState===null&&si(r);break;case 30:si(r);break;default:si(r)}n=n.sibling}}function Gn(n,r,s){for(s=s&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,d=n,m=r,v=m.flags;switch(m.tag){case 0:case 11:case 15:Gn(d,m,s),ys(4,m);break;case 1:if(Gn(d,m,s),l=m,d=l.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(P){Le(l,l.return,P)}if(l=m,d=l.updateQueue,d!==null){var E=l.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)lp(C[d],E)}catch(P){Le(l,l.return,P)}}s&&v&64&&bg(m),vs(m,m.return);break;case 27:Eg(m);case 26:case 5:Gn(d,m,s),s&&l===null&&v&4&&_g(m),vs(m,m.return);break;case 12:Gn(d,m,s);break;case 31:Gn(d,m,s),s&&v&4&&Og(d,m);break;case 13:Gn(d,m,s),s&&v&4&&Cg(d,m);break;case 22:m.memoizedState===null&&Gn(d,m,s),vs(m,m.return);break;case 30:break;default:Gn(d,m,s)}r=r.sibling}}function rf(n,r){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&is(s))}function af(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&is(n))}function fn(n,r,s,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Dg(n,r,s,l),r=r.sibling}function Dg(n,r,s,l){var d=r.flags;switch(r.tag){case 0:case 11:case 15:fn(n,r,s,l),d&2048&&ys(9,r);break;case 1:fn(n,r,s,l);break;case 3:fn(n,r,s,l),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&is(n)));break;case 12:if(d&2048){fn(n,r,s,l),n=r.stateNode;try{var m=r.memoizedProps,v=m.id,E=m.onPostCommit;typeof E=="function"&&E(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){Le(r,r.return,C)}}else fn(n,r,s,l);break;case 31:fn(n,r,s,l);break;case 13:fn(n,r,s,l);break;case 23:break;case 22:m=r.stateNode,v=r.alternate,r.memoizedState!==null?m._visibility&2?fn(n,r,s,l):bs(n,r):m._visibility&2?fn(n,r,s,l):(m._visibility|=2,Qi(n,r,s,l,(r.subtreeFlags&10256)!==0||!1)),d&2048&&rf(v,r);break;case 24:fn(n,r,s,l),d&2048&&af(r.alternate,r);break;default:fn(n,r,s,l)}}function Qi(n,r,s,l,d){for(d=d&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var m=n,v=r,E=s,C=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Qi(m,v,E,C,d),ys(8,v);break;case 23:break;case 22:var V=v.stateNode;v.memoizedState!==null?V._visibility&2?Qi(m,v,E,C,d):bs(m,v):(V._visibility|=2,Qi(m,v,E,C,d)),d&&P&2048&&rf(v.alternate,v);break;case 24:Qi(m,v,E,C,d),d&&P&2048&&af(v.alternate,v);break;default:Qi(m,v,E,C,d)}r=r.sibling}}function bs(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var s=n,l=r,d=l.flags;switch(l.tag){case 22:bs(s,l),d&2048&&rf(l.alternate,l);break;case 24:bs(s,l),d&2048&&af(l.alternate,l);break;default:bs(s,l)}r=r.sibling}}var ws=8192;function Yi(n,r,s){if(n.subtreeFlags&ws)for(n=n.child;n!==null;)jg(n,r,s),n=n.sibling}function jg(n,r,s){switch(n.tag){case 26:Yi(n,r,s),n.flags&ws&&n.memoizedState!==null&&BE(s,cn,n.memoizedState,n.memoizedProps);break;case 5:Yi(n,r,s);break;case 3:case 4:var l=cn;cn=hl(n.stateNode.containerInfo),Yi(n,r,s),cn=l;break;case 22:n.memoizedState===null&&(l=n.alternate,l!==null&&l.memoizedState!==null?(l=ws,ws=16777216,Yi(n,r,s),ws=l):Yi(n,r,s));break;default:Yi(n,r,s)}}function Mg(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function _s(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];ct=l,Lg(l,n)}Mg(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ug(n),n=n.sibling}function Ug(n){switch(n.tag){case 0:case 11:case 15:_s(n),n.flags&2048&&pr(9,n,n.return);break;case 3:_s(n);break;case 12:_s(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,el(n)):_s(n);break;default:_s(n)}}function el(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var s=0;s<r.length;s++){var l=r[s];ct=l,Lg(l,n)}Mg(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:pr(8,r,r.return),el(r);break;case 22:s=r.stateNode,s._visibility&2&&(s._visibility&=-3,el(r));break;default:el(r)}n=n.sibling}}function Lg(n,r){for(;ct!==null;){var s=ct;switch(s.tag){case 0:case 11:case 15:pr(8,s,r);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:is(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,ct=l;else e:for(s=n;ct!==null;){l=ct;var d=l.sibling,m=l.return;if(Rg(l),l===s){ct=null;break e}if(d!==null){d.return=m,ct=d;break e}ct=m}}}var eE={getCacheForType:function(n){var r=ht(et),s=r.data.get(n);return s===void 0&&(s=n(),r.data.set(n,s)),s},cacheSignal:function(){return ht(et).controller.signal}},tE=typeof WeakMap=="function"?WeakMap:Map,De=0,qe=null,Se=null,xe=0,Ue=0,Pt=null,gr=!1,Ji=!1,sf=!1,Kn=0,Ye=0,yr=0,oi=0,of=0,zt=0,Xi=0,Ss=null,Tt=null,lf=!1,tl=0,Pg=0,nl=1/0,rl=null,vr=null,at=0,br=null,Wi=null,Fn=0,uf=0,cf=null,zg=null,Es=0,ff=null;function Bt(){return(De&2)!==0&&xe!==0?xe&-xe:z.T!==null?yf():em()}function Bg(){if(zt===0)if((xe&536870912)===0||Te){var n=co;co<<=1,(co&3932160)===0&&(co=262144),zt=n}else zt=536870912;return n=Ut.current,n!==null&&(n.flags|=32),zt}function Ot(n,r,s){(n===qe&&(Ue===2||Ue===9)||n.cancelPendingCommit!==null)&&(Zi(n,0),wr(n,xe,zt,!1)),Va(n,s),((De&2)===0||n!==qe)&&(n===qe&&((De&2)===0&&(oi|=s),Ye===4&&wr(n,xe,zt,!1)),xn(n))}function Ig(n,r,s){if((De&6)!==0)throw Error(a(327));var l=!s&&(r&127)===0&&(r&n.expiredLanes)===0||Ha(n,r),d=l?iE(n,r):hf(n,r,!0),m=l;do{if(d===0){Ji&&!l&&wr(n,r,0,!1);break}else{if(s=n.current.alternate,m&&!nE(s)){d=hf(n,r,!1),m=!1;continue}if(d===2){if(m=r,n.errorRecoveryDisabledLanes&m)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var E=n;d=Ss;var C=E.current.memoizedState.isDehydrated;if(C&&(Zi(E,v).flags|=256),v=hf(E,v,!1),v!==2){if(sf&&!C){E.errorRecoveryDisabledLanes|=m,oi|=m,d=4;break e}m=Tt,Tt=d,m!==null&&(Tt===null?Tt=m:Tt.push.apply(Tt,m))}d=v}if(m=!1,d!==2)continue}}if(d===1){Zi(n,0),wr(n,r,0,!0);break}e:{switch(l=n,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:wr(l,r,zt,!gr);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(d=tl+300-kt(),10<d)){if(wr(l,r,zt,!gr),ho(l,0,!0)!==0)break e;Fn=r,l.timeoutHandle=yy(qg.bind(null,l,s,Tt,rl,lf,r,zt,oi,Xi,gr,m,"Throttled",-0,0),d);break e}qg(l,s,Tt,rl,lf,r,zt,oi,Xi,gr,m,null,-0,0)}}break}while(!0);xn(n)}function qg(n,r,s,l,d,m,v,E,C,P,V,Q,B,q){if(n.timeoutHandle=-1,Q=r.subtreeFlags,Q&8192||(Q&16785408)===16785408){Q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},jg(r,m,Q);var te=(m&62914560)===m?tl-kt():(m&4194048)===m?Pg-kt():0;if(te=IE(Q,te),te!==null){Fn=m,n.cancelPendingCommit=te(Yg.bind(null,n,r,m,s,l,d,v,E,C,V,Q,null,B,q)),wr(n,m,v,!P);return}}Yg(n,r,m,s,l,d,v,E,C)}function nE(n){for(var r=n;;){var s=r.tag;if((s===0||s===11||s===15)&&r.flags&16384&&(s=r.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var d=s[l],m=d.getSnapshot;d=d.value;try{if(!jt(m(),d))return!1}catch{return!1}}if(s=r.child,r.subtreeFlags&16384&&s!==null)s.return=r,r=s;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function wr(n,r,s,l){r&=~of,r&=~oi,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var d=r;0<d;){var m=31-Dt(d),v=1<<m;l[m]=-1,d&=~v}s!==0&&Xh(n,s,r)}function il(){return(De&6)===0?(xs(0),!1):!0}function df(){if(Se!==null){if(Ue===0)var n=Se.return;else n=Se,Ln=Wr=null,Tc(n),Hi=null,ss=0,n=Se;for(;n!==null;)vg(n.alternate,n),n=n.return;Se=null}}function Zi(n,r){var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,SE(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),Fn=0,df(),qe=n,Se=s=Mn(n.current,null),xe=r,Ue=0,Pt=null,gr=!1,Ji=Ha(n,r),sf=!1,Xi=zt=of=oi=yr=Ye=0,Tt=Ss=null,lf=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var d=31-Dt(l),m=1<<d;r|=n[d],l&=~m}return Kn=r,Ao(),s}function $g(n,r){ve=null,z.H=ms,r===$i||r===jo?(r=ip(),Ue=3):r===pc?(r=ip(),Ue=4):Ue=r===Hc?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Pt=r,Se===null&&(Ye=1,Fo(n,Jt(r,n.current)))}function Hg(){var n=Ut.current;return n===null?!0:(xe&4194048)===xe?en===null:(xe&62914560)===xe||(xe&536870912)!==0?n===en:!1}function Vg(){var n=z.H;return z.H=ms,n===null?ms:n}function Gg(){var n=z.A;return z.A=eE,n}function al(){Ye=4,gr||(xe&4194048)!==xe&&Ut.current!==null||(Ji=!0),(yr&134217727)===0&&(oi&134217727)===0||qe===null||wr(qe,xe,zt,!1)}function hf(n,r,s){var l=De;De|=2;var d=Vg(),m=Gg();(qe!==n||xe!==r)&&(rl=null,Zi(n,r)),r=!1;var v=Ye;e:do try{if(Ue!==0&&Se!==null){var E=Se,C=Pt;switch(Ue){case 8:df(),v=6;break e;case 3:case 2:case 9:case 6:Ut.current===null&&(r=!0);var P=Ue;if(Ue=0,Pt=null,ea(n,E,C,P),s&&Ji){v=0;break e}break;default:P=Ue,Ue=0,Pt=null,ea(n,E,C,P)}}rE(),v=Ye;break}catch(V){$g(n,V)}while(!0);return r&&n.shellSuspendCounter++,Ln=Wr=null,De=l,z.H=d,z.A=m,Se===null&&(qe=null,xe=0,Ao()),v}function rE(){for(;Se!==null;)Kg(Se)}function iE(n,r){var s=De;De|=2;var l=Vg(),d=Gg();qe!==n||xe!==r?(rl=null,nl=kt()+500,Zi(n,r)):Ji=Ha(n,r);e:do try{if(Ue!==0&&Se!==null){r=Se;var m=Pt;t:switch(Ue){case 1:Ue=0,Pt=null,ea(n,r,m,1);break;case 2:case 9:if(np(m)){Ue=0,Pt=null,Fg(r);break}r=function(){Ue!==2&&Ue!==9||qe!==n||(Ue=7),xn(n)},m.then(r,r);break e;case 3:Ue=7;break e;case 4:Ue=5;break e;case 7:np(m)?(Ue=0,Pt=null,Fg(r)):(Ue=0,Pt=null,ea(n,r,m,7));break;case 5:var v=null;switch(Se.tag){case 26:v=Se.memoizedState;case 5:case 27:var E=Se;if(v?Dy(v):E.stateNode.complete){Ue=0,Pt=null;var C=E.sibling;if(C!==null)Se=C;else{var P=E.return;P!==null?(Se=P,sl(P)):Se=null}break t}}Ue=0,Pt=null,ea(n,r,m,5);break;case 6:Ue=0,Pt=null,ea(n,r,m,6);break;case 8:df(),Ye=6;break e;default:throw Error(a(462))}}aE();break}catch(V){$g(n,V)}while(!0);return Ln=Wr=null,z.H=l,z.A=d,De=s,Se!==null?0:(qe=null,xe=0,Ao(),Ye)}function aE(){for(;Se!==null&&!O_();)Kg(Se)}function Kg(n){var r=gg(n.alternate,n,Kn);n.memoizedProps=n.pendingProps,r===null?sl(n):Se=r}function Fg(n){var r=n,s=r.alternate;switch(r.tag){case 15:case 0:r=cg(s,r,r.pendingProps,r.type,void 0,xe);break;case 11:r=cg(s,r,r.pendingProps,r.type.render,r.ref,xe);break;case 5:Tc(r);default:vg(s,r),r=Se=Gm(r,Kn),r=gg(s,r,Kn)}n.memoizedProps=n.pendingProps,r===null?sl(n):Se=r}function ea(n,r,s,l){Ln=Wr=null,Tc(r),Hi=null,ss=0;var d=r.return;try{if(FS(n,d,r,s,xe)){Ye=1,Fo(n,Jt(s,n.current)),Se=null;return}}catch(m){if(d!==null)throw Se=d,m;Ye=1,Fo(n,Jt(s,n.current)),Se=null;return}r.flags&32768?(Te||l===1?n=!0:Ji||(xe&536870912)!==0?n=!1:(gr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Ut.current,l!==null&&l.tag===13&&(l.flags|=16384))),Qg(r,n)):sl(r)}function sl(n){var r=n;do{if((r.flags&32768)!==0){Qg(r,gr);return}n=r.return;var s=JS(r.alternate,r,Kn);if(s!==null){Se=s;return}if(r=r.sibling,r!==null){Se=r;return}Se=r=n}while(r!==null);Ye===0&&(Ye=5)}function Qg(n,r){do{var s=XS(n.alternate,n);if(s!==null){s.flags&=32767,Se=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!r&&(n=n.sibling,n!==null)){Se=n;return}Se=n=s}while(n!==null);Ye=6,Se=null}function Yg(n,r,s,l,d,m,v,E,C){n.cancelPendingCommit=null;do ol();while(at!==0);if((De&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(m=r.lanes|r.childLanes,m|=ec,z_(n,s,m,v,E,C),n===qe&&(Se=qe=null,xe=0),Wi=r,br=n,Fn=s,uf=m,cf=d,zg=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,uE(lo,function(){return ey(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,d=Y.p,Y.p=2,v=De,De|=4;try{WS(n,r,s)}finally{De=v,Y.p=d,z.T=l}}at=1,Jg(),Xg(),Wg()}}function Jg(){if(at===1){at=0;var n=br,r=Wi,s=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=Y.p;Y.p=2;var d=De;De|=4;try{kg(r,n);var m=Af,v=Lm(n.containerInfo),E=m.focusedElem,C=m.selectionRange;if(v!==E&&E&&E.ownerDocument&&Um(E.ownerDocument.documentElement,E)){if(C!==null&&Yu(E)){var P=C.start,V=C.end;if(V===void 0&&(V=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(V,E.value.length);else{var Q=E.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var q=B.getSelection(),te=E.textContent.length,ce=Math.min(C.start,te),Ie=C.end===void 0?ce:Math.min(C.end,te);!q.extend&&ce>Ie&&(v=Ie,Ie=ce,ce=v);var j=Mm(E,ce),N=Mm(E,Ie);if(j&&N&&(q.rangeCount!==1||q.anchorNode!==j.node||q.anchorOffset!==j.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=Q.createRange();L.setStart(j.node,j.offset),q.removeAllRanges(),ce>Ie?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(Q=[],q=E;q=q.parentNode;)q.nodeType===1&&Q.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Q.length;E++){var G=Q[E];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}bl=!!xf,Af=xf=null}finally{De=d,Y.p=l,z.T=s}}n.current=r,at=2}}function Xg(){if(at===2){at=0;var n=br,r=Wi,s=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=Y.p;Y.p=2;var d=De;De|=4;try{Ag(n,r.alternate,r)}finally{De=d,Y.p=l,z.T=s}}at=3}}function Wg(){if(at===4||at===3){at=0,C_();var n=br,r=Wi,s=Fn,l=zg;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?at=5:(at=0,Wi=br=null,Zg(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(vr=null),ku(s),r=r.stateNode,Nt&&typeof Nt.onCommitFiberRoot=="function")try{Nt.onCommitFiberRoot($a,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=z.T,d=Y.p,Y.p=2,z.T=null;try{for(var m=n.onRecoverableError,v=0;v<l.length;v++){var E=l[v];m(E.value,{componentStack:E.stack})}}finally{z.T=r,Y.p=d}}(Fn&3)!==0&&ol(),xn(n),d=n.pendingLanes,(s&261930)!==0&&(d&42)!==0?n===ff?Es++:(Es=0,ff=n):Es=0,xs(0)}}function Zg(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,is(r)))}function ol(){return Jg(),Xg(),Wg(),ey()}function ey(){if(at!==5)return!1;var n=br,r=uf;uf=0;var s=ku(Fn),l=z.T,d=Y.p;try{Y.p=32>s?32:s,z.T=null,s=cf,cf=null;var m=br,v=Fn;if(at=0,Wi=br=null,Fn=0,(De&6)!==0)throw Error(a(331));var E=De;if(De|=4,Ug(m.current),Dg(m,m.current,v,s),De=E,xs(0,!1),Nt&&typeof Nt.onPostCommitFiberRoot=="function")try{Nt.onPostCommitFiberRoot($a,m)}catch{}return!0}finally{Y.p=d,z.T=l,Zg(n,r)}}function ty(n,r,s){r=Jt(s,r),r=$c(n.stateNode,r,2),n=dr(n,r,2),n!==null&&(Va(n,2),xn(n))}function Le(n,r,s){if(n.tag===3)ty(n,n,s);else for(;r!==null;){if(r.tag===3){ty(r,n,s);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(vr===null||!vr.has(l))){n=Jt(s,n),s=ng(2),l=dr(r,s,2),l!==null&&(rg(s,l,r,n),Va(l,2),xn(l));break}}r=r.return}}function mf(n,r,s){var l=n.pingCache;if(l===null){l=n.pingCache=new tE;var d=new Set;l.set(r,d)}else d=l.get(r),d===void 0&&(d=new Set,l.set(r,d));d.has(s)||(sf=!0,d.add(s),n=sE.bind(null,n,r,s),r.then(n,n))}function sE(n,r,s){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,qe===n&&(xe&s)===s&&(Ye===4||Ye===3&&(xe&62914560)===xe&&300>kt()-tl?(De&2)===0&&Zi(n,0):of|=s,Xi===xe&&(Xi=0)),xn(n)}function ny(n,r){r===0&&(r=Jh()),n=Yr(n,r),n!==null&&(Va(n,r),xn(n))}function oE(n){var r=n.memoizedState,s=0;r!==null&&(s=r.retryLane),ny(n,s)}function lE(n,r){var s=0;switch(n.tag){case 31:case 13:var l=n.stateNode,d=n.memoizedState;d!==null&&(s=d.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(r),ny(n,s)}function uE(n,r){return Ru(n,r)}var ll=null,ta=null,pf=!1,ul=!1,gf=!1,_r=0;function xn(n){n!==ta&&n.next===null&&(ta===null?ll=ta=n:ta=ta.next=n),ul=!0,pf||(pf=!0,fE())}function xs(n,r){if(!gf&&ul){gf=!0;do for(var s=!1,l=ll;l!==null;){if(n!==0){var d=l.pendingLanes;if(d===0)var m=0;else{var v=l.suspendedLanes,E=l.pingedLanes;m=(1<<31-Dt(42|n)+1)-1,m&=d&~(v&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(s=!0,sy(l,m))}else m=xe,m=ho(l,l===qe?m:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(m&3)===0||Ha(l,m)||(s=!0,sy(l,m));l=l.next}while(s);gf=!1}}function cE(){ry()}function ry(){ul=pf=!1;var n=0;_r!==0&&_E()&&(n=_r);for(var r=kt(),s=null,l=ll;l!==null;){var d=l.next,m=iy(l,r);m===0?(l.next=null,s===null?ll=d:s.next=d,d===null&&(ta=s)):(s=l,(n!==0||(m&3)!==0)&&(ul=!0)),l=d}at!==0&&at!==5||xs(n),_r!==0&&(_r=0)}function iy(n,r){for(var s=n.suspendedLanes,l=n.pingedLanes,d=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var v=31-Dt(m),E=1<<v,C=d[v];C===-1?((E&s)===0||(E&l)!==0)&&(d[v]=P_(E,r)):C<=r&&(n.expiredLanes|=E),m&=~E}if(r=qe,s=xe,s=ho(n,n===r?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,s===0||n===r&&(Ue===2||Ue===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Tu(l),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ha(n,s)){if(r=s&-s,r===n.callbackPriority)return r;switch(l!==null&&Tu(l),ku(s)){case 2:case 8:s=Qh;break;case 32:s=lo;break;case 268435456:s=Yh;break;default:s=lo}return l=ay.bind(null,n),s=Ru(s,l),n.callbackPriority=r,n.callbackNode=s,r}return l!==null&&l!==null&&Tu(l),n.callbackPriority=2,n.callbackNode=null,2}function ay(n,r){if(at!==0&&at!==5)return n.callbackNode=null,n.callbackPriority=0,null;var s=n.callbackNode;if(ol()&&n.callbackNode!==s)return null;var l=xe;return l=ho(n,n===qe?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Ig(n,l,r),iy(n,kt()),n.callbackNode!=null&&n.callbackNode===s?ay.bind(null,n):null)}function sy(n,r){if(ol())return null;Ig(n,r,!0)}function fE(){EE(function(){(De&6)!==0?Ru(Fh,cE):ry()})}function yf(){if(_r===0){var n=Ii;n===0&&(n=uo,uo<<=1,(uo&261888)===0&&(uo=256)),_r=n}return _r}function oy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:yo(""+n)}function ly(n,r){var s=r.ownerDocument.createElement("input");return s.name=r.name,s.value=r.value,n.id&&s.setAttribute("form",n.id),r.parentNode.insertBefore(s,r),n=new FormData(n),s.parentNode.removeChild(s),n}function dE(n,r,s,l,d){if(r==="submit"&&s&&s.stateNode===d){var m=oy((d[St]||null).action),v=l.submitter;v&&(r=(r=v[St]||null)?oy(r.formAction):v.getAttribute("formAction"),r!==null&&(m=r,v=null));var E=new _o("action","action",null,l,d);n.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(_r!==0){var C=v?ly(d,v):new FormData(d);Lc(s,{pending:!0,data:C,method:d.method,action:m},null,C)}}else typeof m=="function"&&(E.preventDefault(),C=v?ly(d,v):new FormData(d),Lc(s,{pending:!0,data:C,method:d.method,action:m},m,C))},currentTarget:d}]})}}for(var vf=0;vf<Zu.length;vf++){var bf=Zu[vf],hE=bf.toLowerCase(),mE=bf[0].toUpperCase()+bf.slice(1);un(hE,"on"+mE)}un(Bm,"onAnimationEnd"),un(Im,"onAnimationIteration"),un(qm,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(kS,"onTransitionRun"),un(NS,"onTransitionStart"),un(DS,"onTransitionCancel"),un($m,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Gr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(As));function uy(n,r){r=(r&4)!==0;for(var s=0;s<n.length;s++){var l=n[s],d=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=P;try{m(d)}catch(V){xo(V)}d.currentTarget=null,m=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,P=E.currentTarget,E=E.listener,C!==m&&d.isPropagationStopped())break e;m=E,d.currentTarget=P;try{m(d)}catch(V){xo(V)}d.currentTarget=null,m=C}}}}function Ee(n,r){var s=r[Nu];s===void 0&&(s=r[Nu]=new Set);var l=n+"__bubble";s.has(l)||(cy(r,n,2,!1),s.add(l))}function wf(n,r,s){var l=0;r&&(l|=4),cy(s,n,l,r)}var cl="_reactListening"+Math.random().toString(36).slice(2);function _f(n){if(!n[cl]){n[cl]=!0,rm.forEach(function(s){s!=="selectionchange"&&(pE.has(s)||wf(s,!1,n),wf(s,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[cl]||(r[cl]=!0,wf("selectionchange",!1,r))}}function cy(n,r,s,l){switch(By(r)){case 2:var d=HE;break;case 8:d=VE;break;default:d=Lf}s=d.bind(null,r,s,n),d=void 0,!Iu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),l?d!==void 0?n.addEventListener(r,s,{capture:!0,passive:d}):n.addEventListener(r,s,!0):d!==void 0?n.addEventListener(r,s,{passive:d}):n.addEventListener(r,s,!1)}function Sf(n,r,s,l,d){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===d)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;E!==null;){if(v=Ei(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=m=v;continue e}E=E.parentNode}}l=l.return}pm(function(){var P=m,V=zu(s),Q=[];e:{var B=Hm.get(n);if(B!==void 0){var q=_o,te=n;switch(n){case"keypress":if(bo(s)===0)break e;case"keydown":case"keyup":q=lS;break;case"focusin":te="focus",q=Vu;break;case"focusout":te="blur",q=Vu;break;case"beforeblur":case"afterblur":q=Vu;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=J_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=fS;break;case Bm:case Im:case qm:q=Z_;break;case $m:q=hS;break;case"scroll":case"scrollend":q=Q_;break;case"wheel":q=pS;break;case"copy":case"cut":case"paste":q=tS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=wm;break;case"toggle":case"beforetoggle":q=yS}var ce=(r&4)!==0,Ie=!ce&&(n==="scroll"||n==="scrollend"),j=ce?B!==null?B+"Capture":null:B;ce=[];for(var N=P,L;N!==null;){var G=N;if(L=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||L===null||j===null||(G=Fa(N,j),G!=null&&ce.push(Rs(N,G,L))),Ie)break;N=N.return}0<ce.length&&(B=new q(B,te,null,s,V),Q.push({event:B,listeners:ce}))}}if((r&7)===0){e:{if(B=n==="mouseover"||n==="pointerover",q=n==="mouseout"||n==="pointerout",B&&s!==Pu&&(te=s.relatedTarget||s.fromElement)&&(Ei(te)||te[Si]))break e;if((q||B)&&(B=V.window===V?V:(B=V.ownerDocument)?B.defaultView||B.parentWindow:window,q?(te=s.relatedTarget||s.toElement,q=P,te=te?Ei(te):null,te!==null&&(Ie=u(te),ce=te.tag,te!==Ie||ce!==5&&ce!==27&&ce!==6)&&(te=null)):(q=null,te=P),q!==te)){if(ce=vm,G="onMouseLeave",j="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(ce=wm,G="onPointerLeave",j="onPointerEnter",N="pointer"),Ie=q==null?B:Ka(q),L=te==null?B:Ka(te),B=new ce(G,N+"leave",q,s,V),B.target=Ie,B.relatedTarget=L,G=null,Ei(V)===P&&(ce=new ce(j,N+"enter",te,s,V),ce.target=L,ce.relatedTarget=Ie,G=ce),Ie=G,q&&te)t:{for(ce=gE,j=q,N=te,L=0,G=j;G;G=ce(G))L++;G=0;for(var le=N;le;le=ce(le))G++;for(;0<L-G;)j=ce(j),L--;for(;0<G-L;)N=ce(N),G--;for(;L--;){if(j===N||N!==null&&j===N.alternate){ce=j;break t}j=ce(j),N=ce(N)}ce=null}else ce=null;q!==null&&fy(Q,B,q,ce,!1),te!==null&&Ie!==null&&fy(Q,Ie,te,ce,!0)}}e:{if(B=P?Ka(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var ke=Om;else if(Rm(B))if(Cm)ke=TS;else{ke=AS;var ie=xS}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Lu(P.elementType)&&(ke=Om):ke=RS;if(ke&&(ke=ke(n,P))){Tm(Q,ke,s,V);break e}ie&&ie(n,B,P),n==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Uu(B,"number",B.value)}switch(ie=P?Ka(P):window,n){case"focusin":(Rm(ie)||ie.contentEditable==="true")&&(Di=ie,Ju=P,ts=null);break;case"focusout":ts=Ju=Di=null;break;case"mousedown":Xu=!0;break;case"contextmenu":case"mouseup":case"dragend":Xu=!1,Pm(Q,s,V);break;case"selectionchange":if(CS)break;case"keydown":case"keyup":Pm(Q,s,V)}var we;if(Ku)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else Ni?xm(n,s)&&(Ae="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Ae="onCompositionStart");Ae&&(_m&&s.locale!=="ko"&&(Ni||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&Ni&&(we=gm()):(ar=V,qu="value"in ar?ar.value:ar.textContent,Ni=!0)),ie=fl(P,Ae),0<ie.length&&(Ae=new bm(Ae,n,null,s,V),Q.push({event:Ae,listeners:ie}),we?Ae.data=we:(we=Am(s),we!==null&&(Ae.data=we)))),(we=bS?wS(n,s):_S(n,s))&&(Ae=fl(P,"onBeforeInput"),0<Ae.length&&(ie=new bm("onBeforeInput","beforeinput",null,s,V),Q.push({event:ie,listeners:Ae}),ie.data=we)),dE(Q,n,P,s,V)}uy(Q,r)})}function Rs(n,r,s){return{instance:n,listener:r,currentTarget:s}}function fl(n,r){for(var s=r+"Capture",l=[];n!==null;){var d=n,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=Fa(n,s),d!=null&&l.unshift(Rs(n,d,m)),d=Fa(n,r),d!=null&&l.push(Rs(n,d,m))),n.tag===3)return l;n=n.return}return[]}function gE(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function fy(n,r,s,l,d){for(var m=r._reactName,v=[];s!==null&&s!==l;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||P===null||(C=P,d?(P=Fa(s,m),P!=null&&v.unshift(Rs(s,P,C))):d||(P=Fa(s,m),P!=null&&v.push(Rs(s,P,C)))),s=s.return}v.length!==0&&n.push({event:r,listeners:v})}var yE=/\r\n?/g,vE=/\u0000|\uFFFD/g;function dy(n){return(typeof n=="string"?n:""+n).replace(yE,`
`).replace(vE,"")}function hy(n,r){return r=dy(r),dy(n)===r}function Be(n,r,s,l,d,m){switch(s){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Oi(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Oi(n,""+l);break;case"className":po(n,"class",l);break;case"tabIndex":po(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":po(n,s,l);break;case"style":hm(n,l,m);break;case"data":if(r!=="object"){po(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||s!=="href")){n.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=yo(""+l),n.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(s==="formAction"?(r!=="input"&&Be(n,r,"name",d.name,d,null),Be(n,r,"formEncType",d.formEncType,d,null),Be(n,r,"formMethod",d.formMethod,d,null),Be(n,r,"formTarget",d.formTarget,d,null)):(Be(n,r,"encType",d.encType,d,null),Be(n,r,"method",d.method,d,null),Be(n,r,"target",d.target,d,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(s);break}l=yo(""+l),n.setAttribute(s,l);break;case"onClick":l!=null&&(n.onclick=Dn);break;case"onScroll":l!=null&&Ee("scroll",n);break;case"onScrollEnd":l!=null&&Ee("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}s=yo(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""+l):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":l===!0?n.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(s,l):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(s,l):n.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(s):n.setAttribute(s,l);break;case"popover":Ee("beforetoggle",n),Ee("toggle",n),mo(n,"popover",l);break;case"xlinkActuate":Nn(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Nn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Nn(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Nn(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Nn(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Nn(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Nn(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mo(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=K_.get(s)||s,mo(n,s,l))}}function Ef(n,r,s,l,d,m){switch(s){case"style":hm(n,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(d.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof l=="string"?Oi(n,l):(typeof l=="number"||typeof l=="bigint")&&Oi(n,""+l);break;case"onScroll":l!=null&&Ee("scroll",n);break;case"onScrollEnd":l!=null&&Ee("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!im.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(d=s.endsWith("Capture"),r=s.slice(2,d?s.length-7:void 0),m=n[St]||null,m=m!=null?m[s]:null,typeof m=="function"&&n.removeEventListener(r,m,d),typeof l=="function")){typeof m!="function"&&m!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(r,l,d);break e}s in n?n[s]=l:l===!0?n.setAttribute(s,""):mo(n,s,l)}}}function pt(n,r,s){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",n),Ee("load",n);var l=!1,d=!1,m;for(m in s)if(s.hasOwnProperty(m)){var v=s[m];if(v!=null)switch(m){case"src":l=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Be(n,r,m,v,s,null)}}d&&Be(n,r,"srcSet",s.srcSet,s,null),l&&Be(n,r,"src",s.src,s,null);return;case"input":Ee("invalid",n);var E=m=v=d=null,C=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var V=s[l];if(V!=null)switch(l){case"name":d=V;break;case"type":v=V;break;case"checked":C=V;break;case"defaultChecked":P=V;break;case"value":m=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,r));break;default:Be(n,r,l,V,s,null)}}um(n,m,E,C,P,v,d,!1);return;case"select":Ee("invalid",n),l=v=m=null;for(d in s)if(s.hasOwnProperty(d)&&(E=s[d],E!=null))switch(d){case"value":m=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:Be(n,r,d,E,s,null)}r=m,s=v,n.multiple=!!l,r!=null?Ti(n,!!l,r,!1):s!=null&&Ti(n,!!l,s,!0);return;case"textarea":Ee("invalid",n),m=d=l=null;for(v in s)if(s.hasOwnProperty(v)&&(E=s[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":d=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Be(n,r,v,E,s,null)}fm(n,l,d,m);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?n.selected=l&&typeof l!="function"&&typeof l!="symbol":Be(n,r,C,l,s,null));return;case"dialog":Ee("beforetoggle",n),Ee("toggle",n),Ee("cancel",n),Ee("close",n);break;case"iframe":case"object":Ee("load",n);break;case"video":case"audio":for(l=0;l<As.length;l++)Ee(As[l],n);break;case"image":Ee("error",n),Ee("load",n);break;case"details":Ee("toggle",n);break;case"embed":case"source":case"link":Ee("error",n),Ee("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Be(n,r,P,l,s,null)}return;default:if(Lu(r)){for(V in s)s.hasOwnProperty(V)&&(l=s[V],l!==void 0&&Ef(n,r,V,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Be(n,r,E,l,s,null))}function bE(n,r,s,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,v=null,E=null,C=null,P=null,V=null;for(q in s){var Q=s[q];if(s.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Q;default:l.hasOwnProperty(q)||Be(n,r,q,null,l,Q)}}for(var B in l){var q=l[B];if(Q=s[B],l.hasOwnProperty(B)&&(q!=null||Q!=null))switch(B){case"type":m=q;break;case"name":d=q;break;case"checked":P=q;break;case"defaultChecked":V=q;break;case"value":v=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,r));break;default:q!==Q&&Be(n,r,B,q,l,Q)}}Mu(n,v,E,C,P,V,m,d);return;case"select":q=v=E=B=null;for(m in s)if(C=s[m],s.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(m)||Be(n,r,m,null,l,C)}for(d in l)if(m=l[d],C=s[d],l.hasOwnProperty(d)&&(m!=null||C!=null))switch(d){case"value":B=m;break;case"defaultValue":E=m;break;case"multiple":v=m;default:m!==C&&Be(n,r,d,m,l,C)}r=E,s=v,l=q,B!=null?Ti(n,!!s,B,!1):!!l!=!!s&&(r!=null?Ti(n,!!s,r,!0):Ti(n,!!s,s?[]:"",!1));return;case"textarea":q=B=null;for(E in s)if(d=s[E],s.hasOwnProperty(E)&&d!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Be(n,r,E,null,l,d)}for(v in l)if(d=l[v],m=s[v],l.hasOwnProperty(v)&&(d!=null||m!=null))switch(v){case"value":B=d;break;case"defaultValue":q=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Be(n,r,v,d,l,m)}cm(n,B,q);return;case"option":for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!=null&&!l.hasOwnProperty(te)&&(te==="selected"?n.selected=!1:Be(n,r,te,null,l,B));for(C in l)B=l[C],q=s[C],l.hasOwnProperty(C)&&B!==q&&(B!=null||q!=null)&&(C==="selected"?n.selected=B&&typeof B!="function"&&typeof B!="symbol":Be(n,r,C,B,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in s)B=s[ce],s.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce)&&Be(n,r,ce,null,l,B);for(P in l)if(B=l[P],q=s[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,r));break;default:Be(n,r,P,B,l,q)}return;default:if(Lu(r)){for(var Ie in s)B=s[Ie],s.hasOwnProperty(Ie)&&B!==void 0&&!l.hasOwnProperty(Ie)&&Ef(n,r,Ie,void 0,l,B);for(V in l)B=l[V],q=s[V],!l.hasOwnProperty(V)||B===q||B===void 0&&q===void 0||Ef(n,r,V,B,l,q);return}}for(var j in s)B=s[j],s.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&Be(n,r,j,null,l,B);for(Q in l)B=l[Q],q=s[Q],!l.hasOwnProperty(Q)||B===q||B==null&&q==null||Be(n,r,Q,B,l,q)}function my(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wE(){if(typeof performance.getEntriesByType=="function"){for(var n=0,r=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var d=s[l],m=d.transferSize,v=d.initiatorType,E=d.duration;if(m&&E&&my(v)){for(v=0,E=d.responseEnd,l+=1;l<s.length;l++){var C=s[l],P=C.startTime;if(P>E)break;var V=C.transferSize,Q=C.initiatorType;V&&my(Q)&&(C=C.responseEnd,v+=V*(C<E?1:(E-P)/(C-P)))}if(--l,r+=8*(m+v)/(d.duration/1e3),n++,10<n)break}}if(0<n)return r/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var xf=null,Af=null;function dl(n){return n.nodeType===9?n:n.ownerDocument}function py(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gy(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rf(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Tf=null;function _E(){var n=window.event;return n&&n.type==="popstate"?n===Tf?!1:(Tf=n,!0):(Tf=null,!1)}var yy=typeof setTimeout=="function"?setTimeout:void 0,SE=typeof clearTimeout=="function"?clearTimeout:void 0,vy=typeof Promise=="function"?Promise:void 0,EE=typeof queueMicrotask=="function"?queueMicrotask:typeof vy<"u"?function(n){return vy.resolve(null).then(n).catch(xE)}:yy;function xE(n){setTimeout(function(){throw n})}function Sr(n){return n==="head"}function by(n,r){var s=r,l=0;do{var d=s.nextSibling;if(n.removeChild(s),d&&d.nodeType===8)if(s=d.data,s==="/$"||s==="/&"){if(l===0){n.removeChild(d),aa(r);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")Ts(n.ownerDocument.documentElement);else if(s==="head"){s=n.ownerDocument.head,Ts(s);for(var m=s.firstChild;m;){var v=m.nextSibling,E=m.nodeName;m[Ga]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||s.removeChild(m),m=v}}else s==="body"&&Ts(n.ownerDocument.body);s=d}while(s);aa(r)}function wy(n,r){var s=n;n=0;do{var l=s.nextSibling;if(s.nodeType===1?r?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(r?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(n===0)break;n--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||n++;s=l}while(s)}function Of(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var s=r;switch(r=r.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Of(s),Du(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function AE(n,r,s,l){for(;n.nodeType===1;){var d=s;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[Ga])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=tn(n.nextSibling),n===null)break}return null}function RE(n,r,s){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=tn(n.nextSibling),n===null))return null;return n}function _y(n,r){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!r||(n=tn(n.nextSibling),n===null))return null;return n}function Cf(n){return n.data==="$?"||n.data==="$~"}function kf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function TE(n,r){var s=n.ownerDocument;if(n.data==="$~")n._reactRetry=r;else if(n.data!=="$?"||s.readyState!=="loading")r();else{var l=function(){r(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function tn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return n}var Nf=null;function Sy(n){n=n.nextSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="/$"||s==="/&"){if(r===0)return tn(n.nextSibling);r--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||r++}n=n.nextSibling}return null}function Ey(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(r===0)return n;r--}else s!=="/$"&&s!=="/&"||r++}n=n.previousSibling}return null}function xy(n,r,s){switch(r=dl(s),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function Ts(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Du(n)}var nn=new Map,Ay=new Set;function hl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Qn=Y.d;Y.d={f:OE,r:CE,D:kE,C:NE,L:DE,m:jE,X:UE,S:ME,M:LE};function OE(){var n=Qn.f(),r=il();return n||r}function CE(n){var r=xi(n);r!==null&&r.tag===5&&r.type==="form"?$p(r):Qn.r(n)}var na=typeof document>"u"?null:document;function Ry(n,r,s){var l=na;if(l&&typeof r=="string"&&r){var d=Qt(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof s=="string"&&(d+='[crossorigin="'+s+'"]'),Ay.has(d)||(Ay.add(d),n={rel:n,crossOrigin:s,href:r},l.querySelector(d)===null&&(r=l.createElement("link"),pt(r,"link",n),ut(r),l.head.appendChild(r)))}}function kE(n){Qn.D(n),Ry("dns-prefetch",n,null)}function NE(n,r){Qn.C(n,r),Ry("preconnect",n,r)}function DE(n,r,s){Qn.L(n,r,s);var l=na;if(l&&n&&r){var d='link[rel="preload"][as="'+Qt(r)+'"]';r==="image"&&s&&s.imageSrcSet?(d+='[imagesrcset="'+Qt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(d+='[imagesizes="'+Qt(s.imageSizes)+'"]')):d+='[href="'+Qt(n)+'"]';var m=d;switch(r){case"style":m=ra(n);break;case"script":m=ia(n)}nn.has(m)||(n=y({rel:"preload",href:r==="image"&&s&&s.imageSrcSet?void 0:n,as:r},s),nn.set(m,n),l.querySelector(d)!==null||r==="style"&&l.querySelector(Os(m))||r==="script"&&l.querySelector(Cs(m))||(r=l.createElement("link"),pt(r,"link",n),ut(r),l.head.appendChild(r)))}}function jE(n,r){Qn.m(n,r);var s=na;if(s&&n){var l=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+Qt(l)+'"][href="'+Qt(n)+'"]',m=d;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ia(n)}if(!nn.has(m)&&(n=y({rel:"modulepreload",href:n},r),nn.set(m,n),s.querySelector(d)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Cs(m)))return}l=s.createElement("link"),pt(l,"link",n),ut(l),s.head.appendChild(l)}}}function ME(n,r,s){Qn.S(n,r,s);var l=na;if(l&&n){var d=Ai(l).hoistableStyles,m=ra(n);r=r||"default";var v=d.get(m);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Os(m)))E.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":r},s),(s=nn.get(m))&&Df(n,s);var C=v=l.createElement("link");ut(C),pt(C,"link",n),C._p=new Promise(function(P,V){C.onload=P,C.onerror=V}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ml(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:E},d.set(m,v)}}}function UE(n,r){Qn.X(n,r);var s=na;if(s&&n){var l=Ai(s).hoistableScripts,d=ia(n),m=l.get(d);m||(m=s.querySelector(Cs(d)),m||(n=y({src:n,async:!0},r),(r=nn.get(d))&&jf(n,r),m=s.createElement("script"),ut(m),pt(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function LE(n,r){Qn.M(n,r);var s=na;if(s&&n){var l=Ai(s).hoistableScripts,d=ia(n),m=l.get(d);m||(m=s.querySelector(Cs(d)),m||(n=y({src:n,async:!0,type:"module"},r),(r=nn.get(d))&&jf(n,r),m=s.createElement("script"),ut(m),pt(m,"link",n),s.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(d,m))}}function Ty(n,r,s,l){var d=(d=ye.current)?hl(d):null;if(!d)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(r=ra(s.href),s=Ai(d).hoistableStyles,l=s.get(r),l||(l={type:"style",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=ra(s.href);var m=Ai(d).hoistableStyles,v=m.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,v),(m=d.querySelector(Os(n)))&&!m._p&&(v.instance=m,v.state.loading=5),nn.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},nn.set(n,s),m||PE(d,n,s,v.state))),r&&l===null)throw Error(a(528,""));return v}if(r&&l!==null)throw Error(a(529,""));return null;case"script":return r=s.async,s=s.src,typeof s=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=ia(s),s=Ai(d).hoistableScripts,l=s.get(r),l||(l={type:"script",instance:null,count:0,state:null},s.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function ra(n){return'href="'+Qt(n)+'"'}function Os(n){return'link[rel="stylesheet"]['+n+"]"}function Oy(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function PE(n,r,s,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),pt(r,"link",s),ut(r),n.head.appendChild(r))}function ia(n){return'[src="'+Qt(n)+'"]'}function Cs(n){return"script[async]"+n}function Cy(n,r,s){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Qt(s.href)+'"]');if(l)return r.instance=l,ut(l),l;var d=y({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),ut(l),pt(l,"style",d),ml(l,s.precedence,n),r.instance=l;case"stylesheet":d=ra(s.href);var m=n.querySelector(Os(d));if(m)return r.state.loading|=4,r.instance=m,ut(m),m;l=Oy(s),(d=nn.get(d))&&Df(l,d),m=(n.ownerDocument||n).createElement("link"),ut(m);var v=m;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),pt(m,"link",l),r.state.loading|=4,ml(m,s.precedence,n),r.instance=m;case"script":return m=ia(s.src),(d=n.querySelector(Cs(m)))?(r.instance=d,ut(d),d):(l=s,(d=nn.get(m))&&(l=y({},s),jf(l,d)),n=n.ownerDocument||n,d=n.createElement("script"),ut(d),pt(d,"link",l),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,ml(l,s.precedence,n));return r.instance}function ml(n,r,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=l.length?l[l.length-1]:null,m=d,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===r)m=E;else if(m!==d)break}m?m.parentNode.insertBefore(n,m.nextSibling):(r=s.nodeType===9?s.head:s,r.insertBefore(n,r.firstChild))}function Df(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function jf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var pl=null;function ky(n,r,s){if(pl===null){var l=new Map,d=pl=new Map;d.set(s,l)}else d=pl,l=d.get(s),l||(l=new Map,d.set(s,l));if(l.has(n))return l;for(l.set(n,null),s=s.getElementsByTagName(n),d=0;d<s.length;d++){var m=s[d];if(!(m[Ga]||m[ft]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var v=m.getAttribute(r)||"";v=n+v;var E=l.get(v);E?E.push(m):l.set(v,[m])}}return l}function Ny(n,r,s){n=n.ownerDocument||n,n.head.insertBefore(s,r==="title"?n.querySelector("head > title"):null)}function zE(n,r,s){if(s===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(n=r.disabled,typeof r.precedence=="string"&&n==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Dy(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function BE(n,r,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var d=ra(l.href),m=r.querySelector(Os(d));if(m){r=m._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(n.count++,n=gl.bind(n),r.then(n,n)),s.state.loading|=4,s.instance=m,ut(m);return}m=r.ownerDocument||r,l=Oy(l),(d=nn.get(d))&&Df(l,d),m=m.createElement("link"),ut(m);var v=m;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),pt(m,"link",l),s.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(n.count++,s=gl.bind(n),r.addEventListener("load",s),r.addEventListener("error",s))}}var Mf=0;function IE(n,r){return n.stylesheets&&n.count===0&&vl(n,n.stylesheets),0<n.count||0<n.imgCount?function(s){var l=setTimeout(function(){if(n.stylesheets&&vl(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+r);0<n.imgBytes&&Mf===0&&(Mf=62500*wE());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&vl(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>Mf?50:800)+r);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(l),clearTimeout(d)}}:null}function gl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vl(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var yl=null;function vl(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,yl=new Map,r.forEach(qE,n),yl=null,gl.call(n))}function qE(n,r){if(!(r.state.loading&4)){var s=yl.get(n);if(s)var l=s.get(null);else{s=new Map,yl.set(n,s);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var v=d[m];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(s.set(v.dataset.precedence,v),l=v)}l&&s.set(null,l)}d=r.instance,v=d.getAttribute("data-precedence"),m=s.get(v)||l,m===l&&s.set(null,d),s.set(v,d),this.count++,l=gl.bind(this),d.addEventListener("load",l),d.addEventListener("error",l),m?m.parentNode.insertBefore(d,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var ks={$$typeof:O,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function $E(n,r,s,l,d,m,v,E,C){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ou(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ou(0),this.hiddenUpdates=Ou(null),this.identifierPrefix=l,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function jy(n,r,s,l,d,m,v,E,C,P,V,Q){return n=new $E(n,r,s,v,C,P,V,Q,E),r=1,m===!0&&(r|=24),m=Mt(3,null,null,r),n.current=m,m.stateNode=n,r=dc(),r.refCount++,n.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:s,cache:r},gc(m),n}function My(n){return n?(n=Ui,n):Ui}function Uy(n,r,s,l,d,m){d=My(d),l.context===null?l.context=d:l.pendingContext=d,l=fr(r),l.payload={element:s},m=m===void 0?null:m,m!==null&&(l.callback=m),s=dr(n,l,r),s!==null&&(Ot(s,n,r),ls(s,n,r))}function Ly(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<r?s:r}}function Uf(n,r){Ly(n,r),(n=n.alternate)&&Ly(n,r)}function Py(n){if(n.tag===13||n.tag===31){var r=Yr(n,67108864);r!==null&&Ot(r,n,67108864),Uf(n,67108864)}}function zy(n){if(n.tag===13||n.tag===31){var r=Bt();r=Cu(r);var s=Yr(n,r);s!==null&&Ot(s,n,r),Uf(n,r)}}var bl=!0;function HE(n,r,s,l){var d=z.T;z.T=null;var m=Y.p;try{Y.p=2,Lf(n,r,s,l)}finally{Y.p=m,z.T=d}}function VE(n,r,s,l){var d=z.T;z.T=null;var m=Y.p;try{Y.p=8,Lf(n,r,s,l)}finally{Y.p=m,z.T=d}}function Lf(n,r,s,l){if(bl){var d=Pf(l);if(d===null)Sf(n,r,l,wl,s),Iy(n,l);else if(KE(d,n,r,s,l))l.stopPropagation();else if(Iy(n,l),r&4&&-1<GE.indexOf(n)){for(;d!==null;){var m=xi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var v=Vr(m.pendingLanes);if(v!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-Dt(v);E.entanglements[1]|=C,v&=~C}xn(m),(De&6)===0&&(nl=kt()+500,xs(0))}}break;case 31:case 13:E=Yr(m,2),E!==null&&Ot(E,m,2),il(),Uf(m,2)}if(m=Pf(l),m===null&&Sf(n,r,l,wl,s),m===d)break;d=m}d!==null&&l.stopPropagation()}else Sf(n,r,l,null,s)}}function Pf(n){return n=zu(n),zf(n)}var wl=null;function zf(n){if(wl=null,n=Ei(n),n!==null){var r=u(n);if(r===null)n=null;else{var s=r.tag;if(s===13){if(n=c(r),n!==null)return n;n=null}else if(s===31){if(n=f(r),n!==null)return n;n=null}else if(s===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return wl=n,null}function By(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(k_()){case Fh:return 2;case Qh:return 8;case lo:case N_:return 32;case Yh:return 268435456;default:return 32}default:return 32}}var Bf=!1,Er=null,xr=null,Ar=null,Ns=new Map,Ds=new Map,Rr=[],GE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Iy(n,r){switch(n){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":xr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Ns.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ds.delete(r.pointerId)}}function js(n,r,s,l,d,m){return n===null||n.nativeEvent!==m?(n={blockedOn:r,domEventName:s,eventSystemFlags:l,nativeEvent:m,targetContainers:[d]},r!==null&&(r=xi(r),r!==null&&Py(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function KE(n,r,s,l,d){switch(r){case"focusin":return Er=js(Er,n,r,s,l,d),!0;case"dragenter":return xr=js(xr,n,r,s,l,d),!0;case"mouseover":return Ar=js(Ar,n,r,s,l,d),!0;case"pointerover":var m=d.pointerId;return Ns.set(m,js(Ns.get(m)||null,n,r,s,l,d)),!0;case"gotpointercapture":return m=d.pointerId,Ds.set(m,js(Ds.get(m)||null,n,r,s,l,d)),!0}return!1}function qy(n){var r=Ei(n.target);if(r!==null){var s=u(r);if(s!==null){if(r=s.tag,r===13){if(r=c(s),r!==null){n.blockedOn=r,tm(n.priority,function(){zy(s)});return}}else if(r===31){if(r=f(s),r!==null){n.blockedOn=r,tm(n.priority,function(){zy(s)});return}}else if(r===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function _l(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var s=Pf(n.nativeEvent);if(s===null){s=n.nativeEvent;var l=new s.constructor(s.type,s);Pu=l,s.target.dispatchEvent(l),Pu=null}else return r=xi(s),r!==null&&Py(r),n.blockedOn=s,!1;r.shift()}return!0}function $y(n,r,s){_l(n)&&s.delete(r)}function FE(){Bf=!1,Er!==null&&_l(Er)&&(Er=null),xr!==null&&_l(xr)&&(xr=null),Ar!==null&&_l(Ar)&&(Ar=null),Ns.forEach($y),Ds.forEach($y)}function Sl(n,r){n.blockedOn===r&&(n.blockedOn=null,Bf||(Bf=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,FE)))}var El=null;function Hy(n){El!==n&&(El=n,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){El===n&&(El=null);for(var r=0;r<n.length;r+=3){var s=n[r],l=n[r+1],d=n[r+2];if(typeof l!="function"){if(zf(l||s)===null)continue;break}var m=xi(s);m!==null&&(n.splice(r,3),r-=3,Lc(m,{pending:!0,data:d,method:s.method,action:l},l,d))}}))}function aa(n){function r(C){return Sl(C,n)}Er!==null&&Sl(Er,n),xr!==null&&Sl(xr,n),Ar!==null&&Sl(Ar,n),Ns.forEach(r),Ds.forEach(r);for(var s=0;s<Rr.length;s++){var l=Rr[s];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Rr.length&&(s=Rr[0],s.blockedOn===null);)qy(s),s.blockedOn===null&&Rr.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var d=s[l],m=s[l+1],v=d[St]||null;if(typeof m=="function")v||Hy(s);else if(v){var E=null;if(m&&m.hasAttribute("formAction")){if(d=m,v=m[St]||null)E=v.formAction;else if(zf(d)!==null)continue}else E=v.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),Hy(s)}}}function Vy(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(v){return d=v})},focusReset:"manual",scroll:"manual"})}function r(){d!==null&&(d(),d=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),d!==null&&(d(),d=null)}}}function If(n){this._internalRoot=n}xl.prototype.render=If.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var s=r.current,l=Bt();Uy(s,l,n,r,null,null)},xl.prototype.unmount=If.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Uy(n.current,2,null,n,null,null),il(),r[Si]=null}};function xl(n){this._internalRoot=n}xl.prototype.unstable_scheduleHydration=function(n){if(n){var r=em();n={blockedOn:null,target:n,priority:r};for(var s=0;s<Rr.length&&r!==0&&r<Rr[s].priority;s++);Rr.splice(s,0,n),s===0&&qy(n)}};var Gy=t.version;if(Gy!=="19.2.3")throw Error(a(527,Gy,"19.2.3"));Y.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var QE={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Al.isDisabled&&Al.supportsFiber)try{$a=Al.inject(QE),Nt=Al}catch{}}return Us.createRoot=function(n,r){if(!o(n))throw Error(a(299));var s=!1,l="",d=Wp,m=Zp,v=eg;return r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=jy(n,1,!1,null,null,s,l,null,d,m,v,Vy),n[Si]=r.current,_f(n),new If(r)},Us.hydrateRoot=function(n,r,s){if(!o(n))throw Error(a(299));var l=!1,d="",m=Wp,v=Zp,E=eg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(v=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),r=jy(n,1,!0,r,s??null,l,d,C,m,v,E,Vy),r.context=My(null),s=r.current,l=Bt(),l=Cu(l),d=fr(l),d.callback=null,dr(s,d,l),s=l,r.current.lanes=s,Va(r,s),xn(r),n[Si]=r.current,_f(n),new xl(r)},Us.version="19.2.3",Us}var tv;function ix(){if(tv)return Hf.exports;tv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Hf.exports=rx(),Hf.exports}var ax=ix();const sx=ih(ax);var nv="popstate";function ox(e={}){function t(a,o){let{pathname:u,search:c,hash:f}=a.location;return Kl("",{pathname:u,search:c,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function i(a,o){return typeof o=="string"?o:Ta(o)}return Mb(t,i,null,e)}function lx(e={}){function t(o,u){let{pathname:c="/",search:f="",hash:h=""}=_i(o.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Kl("",{pathname:c,search:f,hash:h},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){let c=o.document.querySelector("base"),f="";if(c&&c.getAttribute("href")){let h=o.location.href,p=h.indexOf("#");f=p===-1?h:h.slice(0,p)}return f+"#"+(typeof u=="string"?u:Ta(u))}function a(o,u){Ct(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Mb(t,i,a,e)}function Ke(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ct(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ux(){return Math.random().toString(36).substring(2,10)}function rv(e,t){return{usr:e.state,key:e.key,idx:t}}function Kl(e,t,i=null,a){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_i(t):t,state:i,key:t&&t.key||a||ux()}}function Ta({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function _i(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let a=e.indexOf("?");a>=0&&(t.search=e.substring(a),e=e.substring(0,a)),e&&(t.pathname=e)}return t}function Mb(e,t,i,a={}){let{window:o=document.defaultView,v5Compat:u=!1}=a,c=o.history,f="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){f="POP";let A=g(),R=A==null?null:A-p;p=A,h&&h({action:f,location:S.location,delta:R})}function b(A,R){f="PUSH";let T=Kl(S.location,A,R);i&&i(T,A),p=g()+1;let O=rv(T,p),M=S.createHref(T);try{c.pushState(O,"",M)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(M)}u&&h&&h({action:f,location:S.location,delta:1})}function _(A,R){f="REPLACE";let T=Kl(S.location,A,R);i&&i(T,A),p=g();let O=rv(T,p),M=S.createHref(T);c.replaceState(O,"",M),u&&h&&h({action:f,location:S.location,delta:0})}function x(A){return cx(A)}let S={get action(){return f},get location(){return e(o,c)},listen(A){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(nv,y),h=A,()=>{o.removeEventListener(nv,y),h=null}},createHref(A){return t(o,A)},createURL:x,encodeLocation(A){let R=x(A);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:_,go(A){return c.go(A)}};return S}function cx(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Ke(i,"No window.location.(origin|href) available to create URL");let a=typeof e=="string"?e:Ta(e);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function Ub(e,t,i="/"){return fx(e,t,i,!1)}function fx(e,t,i,a){let o=typeof t=="string"?_i(t):t,u=Zn(o.pathname||"/",i);if(u==null)return null;let c=Lb(e);dx(c);let f=null;for(let h=0;f==null&&h<c.length;++h){let p=Ex(u);f=_x(c[h],p,a)}return f}function Lb(e,t=[],i=[],a="",o=!1){let u=(c,f,h=o,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(a)&&h)return;Ke(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length)}let y=Xn([a,g.relativePath]),b=i.concat(g);c.children&&c.children.length>0&&(Ke(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Lb(c.children,t,b,y,h)),!(c.path==null&&!c.index)&&t.push({path:y,score:bx(y,c.index),routesMeta:b})};return e.forEach((c,f)=>{if(c.path===""||!c.path?.includes("?"))u(c,f);else for(let h of Pb(c.path))u(c,f,!0,h)}),t}function Pb(e){let t=e.split("/");if(t.length===0)return[];let[i,...a]=t,o=i.endsWith("?"),u=i.replace(/\?$/,"");if(a.length===0)return o?[u,""]:[u];let c=Pb(a.join("/")),f=[];return f.push(...c.map(h=>h===""?u:[u,h].join("/"))),o&&f.push(...c),f.map(h=>e.startsWith("/")&&h===""?"/":h)}function dx(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:wx(t.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var hx=/^:[\w-]+$/,mx=3,px=2,gx=1,yx=10,vx=-2,iv=e=>e==="*";function bx(e,t){let i=e.split("/"),a=i.length;return i.some(iv)&&(a+=vx),t&&(a+=px),i.filter(o=>!iv(o)).reduce((o,u)=>o+(hx.test(u)?mx:u===""?gx:yx),a)}function wx(e,t){return e.length===t.length&&e.slice(0,-1).every((a,o)=>a===t[o])?e[e.length-1]-t[t.length-1]:0}function _x(e,t,i=!1){let{routesMeta:a}=e,o={},u="/",c=[];for(let f=0;f<a.length;++f){let h=a[f],p=f===a.length-1,g=u==="/"?t:t.slice(u.length)||"/",y=Fl({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),b=h.route;if(!y&&p&&i&&!a[a.length-1].route.index&&(y=Fl({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(o,y.params),c.push({params:o,pathname:Xn([u,y.pathname]),pathnameBase:Tx(Xn([u,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(u=Xn([u,y.pathnameBase]))}return c}function Fl(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,a]=Sx(e.path,e.caseSensitive,e.end),o=t.match(i);if(!o)return null;let u=o[0],c=u.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:a.reduce((p,{paramName:g,isOptional:y},b)=>{if(g==="*"){let x=f[b]||"";c=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const _=f[b];return y&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:u,pathnameBase:c,pattern:e}}function Sx(e,t=!1,i=!0){Ct(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let a=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,f,h)=>(a.push({paramName:f,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(a.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),a]}function Ex(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ct(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Zn(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,a=e.charAt(i);return a&&a!=="/"?null:e.slice(i)||"/"}var zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xx=e=>zb.test(e);function Ax(e,t="/"){let{pathname:i,search:a="",hash:o=""}=typeof e=="string"?_i(e):e,u;if(i)if(xx(i))u=i;else{if(i.includes("//")){let c=i;i=i.replace(/\/\/+/g,"/"),Ct(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${i}`)}i.startsWith("/")?u=av(i.substring(1),"/"):u=av(i,t)}else u=t;return{pathname:u,search:Ox(a),hash:Cx(o)}}function av(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?i.length>1&&i.pop():o!=="."&&i.push(o)}),i.length>1?i.join("/"):"/"}function Ff(e,t,i,a){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Rx(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function oh(e){let t=Rx(e);return t.map((i,a)=>a===t.length-1?i.pathname:i.pathnameBase)}function lh(e,t,i,a=!1){let o;typeof e=="string"?o=_i(e):(o={...e},Ke(!o.pathname||!o.pathname.includes("?"),Ff("?","pathname","search",o)),Ke(!o.pathname||!o.pathname.includes("#"),Ff("#","pathname","hash",o)),Ke(!o.search||!o.search.includes("#"),Ff("#","search","hash",o)));let u=e===""||o.pathname==="",c=u?"/":o.pathname,f;if(c==null)f=i;else{let y=t.length-1;if(!a&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}f=y>=0?t[y]:"/"}let h=Ax(o,f),p=c&&c!=="/"&&c.endsWith("/"),g=(u||c===".")&&i.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Xn=e=>e.join("/").replace(/\/\/+/g,"/"),Tx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ox=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Cx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,kx=class{constructor(e,t,i,a=!1){this.status=e,this.statusText=t||"",this.internal=a,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Nx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}function Dx(e){return e.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Bb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Ib(e,t){let i=e;if(typeof i!="string"||!zb.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let a=i,o=!1;if(Bb)try{let u=new URL(window.location.href),c=i.startsWith("//")?new URL(u.protocol+i):new URL(i),f=Zn(c.pathname,t);c.origin===u.origin&&f!=null?i=f+c.search+c.hash:o=!0}catch{Ct(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:o,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var qb=["POST","PUT","PATCH","DELETE"];new Set(qb);var jx=["GET",...qb];new Set(jx);var Da=w.createContext(null);Da.displayName="DataRouter";var cu=w.createContext(null);cu.displayName="DataRouterState";var Mx=w.createContext(!1),$b=w.createContext({isTransitioning:!1});$b.displayName="ViewTransition";var Ux=w.createContext(new Map);Ux.displayName="Fetchers";var Lx=w.createContext(null);Lx.displayName="Await";var Gt=w.createContext(null);Gt.displayName="Navigation";var to=w.createContext(null);to.displayName="Location";var sn=w.createContext({outlet:null,matches:[],isDataRoute:!1});sn.displayName="Route";var uh=w.createContext(null);uh.displayName="RouteError";var Hb="REACT_ROUTER_ERROR",Px="REDIRECT",zx="ROUTE_ERROR_RESPONSE";function Bx(e){if(e.startsWith(`${Hb}:${Px}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function Ix(e){if(e.startsWith(`${Hb}:${zx}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new kx(t.status,t.statusText,t.data)}catch{}}function qx(e,{relative:t}={}){Ke(ja(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=w.useContext(Gt),{hash:o,pathname:u,search:c}=no(e,{relative:t}),f=u;return i!=="/"&&(f=u==="/"?i:Xn([i,u])),a.createHref({pathname:f,search:c,hash:o})}function ja(){return w.useContext(to)!=null}function on(){return Ke(ja(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(to).location}var Vb="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Gb(e){w.useContext(Gt).static||w.useLayoutEffect(e)}function fu(){let{isDataRoute:e}=w.useContext(sn);return e?nA():$x()}function $x(){Ke(ja(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Da),{basename:t,navigator:i}=w.useContext(Gt),{matches:a}=w.useContext(sn),{pathname:o}=on(),u=JSON.stringify(oh(a)),c=w.useRef(!1);return Gb(()=>{c.current=!0}),w.useCallback((h,p={})=>{if(Ct(c.current,Vb),!c.current)return;if(typeof h=="number"){i.go(h);return}let g=lh(h,JSON.parse(u),o,p.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Xn([t,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[t,i,u,o,e])}var Hx=w.createContext(null);function Vx(e){let t=w.useContext(sn).outlet;return w.useMemo(()=>t&&w.createElement(Hx.Provider,{value:e},t),[t,e])}function XM(){let{matches:e}=w.useContext(sn),t=e[e.length-1];return t?t.params:{}}function no(e,{relative:t}={}){let{matches:i}=w.useContext(sn),{pathname:a}=on(),o=JSON.stringify(oh(i));return w.useMemo(()=>lh(e,JSON.parse(o),a,t==="path"),[e,o,a,t])}function Gx(e,t){return Kb(e,t)}function Kb(e,t,i,a,o){Ke(ja(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=w.useContext(Gt),{matches:c}=w.useContext(sn),f=c[c.length-1],h=f?f.params:{},p=f?f.pathname:"/",g=f?f.pathnameBase:"/",y=f&&f.route;{let T=y&&y.path||"";Qb(p,!y||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let b=on(),_;if(t){let T=typeof t=="string"?_i(t):t;Ke(g==="/"||T.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${T.pathname}" was given in the \`location\` prop.`),_=T}else _=b;let x=_.pathname||"/",S=x;if(g!=="/"){let T=g.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(T.length).join("/")}let A=Ub(e,{pathname:S});Ct(y||A!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Ct(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=Jx(A&&A.map(T=>Object.assign({},T,{params:Object.assign({},h,T.params),pathname:Xn([g,u.encodeLocation?u.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?g:Xn([g,u.encodeLocation?u.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),c,i,a,o);return t&&R?w.createElement(to.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},R):R}function Kx(){let e=tA(),t=Nx(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},u={padding:"2px 4px",backgroundColor:a},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:u},"ErrorBoundary")," or"," ",w.createElement("code",{style:u},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),i?w.createElement("pre",{style:o},i):null,c)}var Fx=w.createElement(Kx,null),Fb=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){let e=this.state.error;if(this.context&&typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){const i=Ix(e.digest);i&&(e=i)}let t=e!==void 0?w.createElement(sn.Provider,{value:this.props.routeContext},w.createElement(uh.Provider,{value:e,children:this.props.component})):this.props.children;return this.context?w.createElement(Qx,{error:e},t):t}};Fb.contextType=Mx;var Qf=new WeakMap;function Qx({children:e,error:t}){let{basename:i}=w.useContext(Gt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=Bx(t.digest);if(a){let o=Qf.get(t);if(o)throw o;let u=Ib(a.location,i);if(Bb&&!Qf.get(t))if(u.isExternal||a.reloadDocument)window.location.href=u.absoluteURL||u.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(u.to,{replace:a.replace}));throw Qf.set(t,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${u.absoluteURL||u.to}`})}}return e}function Yx({routeContext:e,match:t,children:i}){let a=w.useContext(Da);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(sn.Provider,{value:e},i)}function Jx(e,t=[],i=null,a=null,o=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let u=e,c=i?.errors;if(c!=null){let g=u.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Ke(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let f=!1,h=-1;if(i)for(let g=0;g<u.length;g++){let y=u[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:b,errors:_}=i,x=y.route.loader&&!b.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||x){f=!0,h>=0?u=u.slice(0,h+1):u=[u[0]];break}}}let p=i&&a?(g,y)=>{a(g,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Dx(i.matches),errorInfo:y})}:void 0;return u.reduceRight((g,y,b)=>{let _,x=!1,S=null,A=null;i&&(_=c&&y.route.id?c[y.route.id]:void 0,S=y.route.errorElement||Fx,f&&(h<0&&b===0?(Qb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):h===b&&(x=!0,A=y.route.hydrateFallbackElement||null)));let R=t.concat(u.slice(0,b+1)),T=()=>{let O;return _?O=S:x?O=A:y.route.Component?O=w.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=g,w.createElement(Yx,{match:y,routeContext:{outlet:g,matches:R,isDataRoute:i!=null},children:O})};return i&&(y.route.ErrorBoundary||y.route.errorElement||b===0)?w.createElement(Fb,{location:i.location,revalidation:i.revalidation,component:S,error:_,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0},onError:p}):T()},null)}function ch(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Xx(e){let t=w.useContext(Da);return Ke(t,ch(e)),t}function Wx(e){let t=w.useContext(cu);return Ke(t,ch(e)),t}function Zx(e){let t=w.useContext(sn);return Ke(t,ch(e)),t}function fh(e){let t=Zx(e),i=t.matches[t.matches.length-1];return Ke(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function eA(){return fh("useRouteId")}function tA(){let e=w.useContext(uh),t=Wx("useRouteError"),i=fh("useRouteError");return e!==void 0?e:t.errors?.[i]}function nA(){let{router:e}=Xx("useNavigate"),t=fh("useNavigate"),i=w.useRef(!1);return Gb(()=>{i.current=!0}),w.useCallback(async(o,u={})=>{Ct(i.current,Vb),i.current&&(typeof o=="number"?await e.navigate(o):await e.navigate(o,{fromRouteId:t,...u}))},[e,t])}var sv={};function Qb(e,t,i){!t&&!sv[e]&&(sv[e]=!0,Ct(!1,i))}w.memo(rA);function rA({routes:e,future:t,state:i,onError:a}){return Kb(e,void 0,i,a,t)}function Ad({to:e,replace:t,state:i,relative:a}){Ke(ja(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=w.useContext(Gt);Ct(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=w.useContext(sn),{pathname:c}=on(),f=fu(),h=lh(e,oh(u),c,a==="path"),p=JSON.stringify(h);return w.useEffect(()=>{f(JSON.parse(p),{replace:t,state:i,relative:a})},[f,p,a,t,i]),null}function Yb(e){return Vx(e.context)}function Oe(e){Ke(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jb({basename:e="/",children:t=null,location:i,navigationType:a="POP",navigator:o,static:u=!1,unstable_useTransitions:c}){Ke(!ja(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=e.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:f,navigator:o,static:u,unstable_useTransitions:c,future:{}}),[f,o,u,c]);typeof i=="string"&&(i=_i(i));let{pathname:p="/",search:g="",hash:y="",state:b=null,key:_="default"}=i,x=w.useMemo(()=>{let S=Zn(p,f);return S==null?null:{location:{pathname:S,search:g,hash:y,state:b,key:_},navigationType:a}},[f,p,g,y,b,_,a]);return Ct(x!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:w.createElement(Gt.Provider,{value:h},w.createElement(to.Provider,{children:t,value:x}))}function iA({children:e,location:t}){return Gx(Rd(e),t)}function Rd(e,t=[]){let i=[];return w.Children.forEach(e,(a,o)=>{if(!w.isValidElement(a))return;let u=[...t,o];if(a.type===w.Fragment){i.push.apply(i,Rd(a.props.children,u));return}Ke(a.type===Oe,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ke(!a.props.index||!a.props.children,"An index route cannot have child routes.");let c={id:a.props.id||u.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,middleware:a.props.middleware,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(c.children=Rd(a.props.children,u)),i.push(c)}),i}var ql="get",$l="application/x-www-form-urlencoded";function du(e){return typeof HTMLElement<"u"&&e instanceof HTMLElement}function aA(e){return du(e)&&e.tagName.toLowerCase()==="button"}function sA(e){return du(e)&&e.tagName.toLowerCase()==="form"}function oA(e){return du(e)&&e.tagName.toLowerCase()==="input"}function lA(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function uA(e,t){return e.button===0&&(!t||t==="_self")&&!lA(e)}function Td(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,i)=>{let a=e[i];return t.concat(Array.isArray(a)?a.map(o=>[i,o]):[[i,a]])},[]))}function cA(e,t){let i=Td(e);return t&&t.forEach((a,o)=>{i.has(o)||t.getAll(o).forEach(u=>{i.append(o,u)})}),i}var Rl=null;function fA(){if(Rl===null)try{new FormData(document.createElement("form"),0),Rl=!1}catch{Rl=!0}return Rl}var dA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(e){return e!=null&&!dA.has(e)?(Ct(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$l}"`),null):e}function hA(e,t){let i,a,o,u,c;if(sA(e)){let f=e.getAttribute("action");a=f?Zn(f,t):null,i=e.getAttribute("method")||ql,o=Yf(e.getAttribute("enctype"))||$l,u=new FormData(e)}else if(aA(e)||oA(e)&&(e.type==="submit"||e.type==="image")){let f=e.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||f.getAttribute("action");if(a=h?Zn(h,t):null,i=e.getAttribute("formmethod")||f.getAttribute("method")||ql,o=Yf(e.getAttribute("formenctype"))||Yf(f.getAttribute("enctype"))||$l,u=new FormData(f,e),!fA()){let{name:p,type:g,value:y}=e;if(g==="image"){let b=p?`${p}.`:"";u.append(`${b}x`,"0"),u.append(`${b}y`,"0")}else p&&u.append(p,y)}}else{if(du(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=ql,a=null,o=$l,c=e}return u&&o==="text/plain"&&(c=u,u=void 0),{action:a,method:i.toLowerCase(),encType:o,formData:u,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function dh(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function mA(e,t,i,a){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return i?o.pathname.endsWith("/")?o.pathname=`${o.pathname}_.${a}`:o.pathname=`${o.pathname}.${a}`:o.pathname==="/"?o.pathname=`_root.${a}`:t&&Zn(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${a}`,o}async function pA(e,t){if(e.id in t)return t[e.id];try{let i=await import(e.module);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gA(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yA(e,t,i){let a=await Promise.all(e.map(async o=>{let u=t.routes[o.route.id];if(u){let c=await pA(u,i);return c.links?c.links():[]}return[]}));return _A(a.flat(1).filter(gA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ov(e,t,i,a,o,u){let c=(h,p)=>i[p]?h.route.id!==i[p].route.id:!0,f=(h,p)=>i[p].pathname!==h.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==h.params["*"];return u==="assets"?t.filter((h,p)=>c(h,p)||f(h,p)):u==="data"?t.filter((h,p)=>{let g=a.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||f(h,p))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function vA(e,t,{includeHydrateFallback:i}={}){return bA(e.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),i&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function bA(e){return[...new Set(e)]}function wA(e){let t={},i=Object.keys(e).sort();for(let a of i)t[a]=e[a];return t}function _A(e,t){let i=new Set;return new Set(t),e.reduce((a,o)=>{let u=JSON.stringify(wA(o));return i.has(u)||(i.add(u),a.push({key:u,link:o})),a},[])}function Xb(){let e=w.useContext(Da);return dh(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function SA(){let e=w.useContext(cu);return dh(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var hh=w.createContext(void 0);hh.displayName="FrameworkContext";function Wb(){let e=w.useContext(hh);return dh(e,"You must render this element inside a <HydratedRouter> element"),e}function EA(e,t){let i=w.useContext(hh),[a,o]=w.useState(!1),[u,c]=w.useState(!1),{onFocus:f,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=t,b=w.useRef(null);w.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let S=R=>{R.forEach(T=>{c(T.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return b.current&&A.observe(b.current),()=>{A.disconnect()}}},[e]),w.useEffect(()=>{if(a){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[a]);let _=()=>{o(!0)},x=()=>{o(!1),c(!1)};return i?e!=="intent"?[u,b,{}]:[u,b,{onFocus:Ls(f,_),onBlur:Ls(h,x),onMouseEnter:Ls(p,_),onMouseLeave:Ls(g,x),onTouchStart:Ls(y,_)}]:[!1,b,{}]}function Ls(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function xA({page:e,...t}){let{router:i}=Xb(),a=w.useMemo(()=>Ub(i.routes,e,i.basename),[i.routes,e,i.basename]);return a?w.createElement(RA,{page:e,matches:a,...t}):null}function AA(e){let{manifest:t,routeModules:i}=Wb(),[a,o]=w.useState([]);return w.useEffect(()=>{let u=!1;return yA(e,t,i).then(c=>{u||o(c)}),()=>{u=!0}},[e,t,i]),a}function RA({page:e,matches:t,...i}){let a=on(),{future:o,manifest:u,routeModules:c}=Wb(),{basename:f}=Xb(),{loaderData:h,matches:p}=SA(),g=w.useMemo(()=>ov(e,t,p,u,a,"data"),[e,t,p,u,a]),y=w.useMemo(()=>ov(e,t,p,u,a,"assets"),[e,t,p,u,a]),b=w.useMemo(()=>{if(e===a.pathname+a.search+a.hash)return[];let S=new Set,A=!1;if(t.forEach(T=>{let O=u.routes[T.route.id];!O||!O.hasLoader||(!g.some(M=>M.route.id===T.route.id)&&T.route.id in h&&c[T.route.id]?.shouldRevalidate||O.hasClientLoader?A=!0:S.add(T.route.id))}),S.size===0)return[];let R=mA(e,f,o.unstable_trailingSlashAwareDataRequests,"data");return A&&S.size>0&&R.searchParams.set("_routes",t.filter(T=>S.has(T.route.id)).map(T=>T.route.id).join(",")),[R.pathname+R.search]},[f,o.unstable_trailingSlashAwareDataRequests,h,a,u,g,t,e,c]),_=w.useMemo(()=>vA(y,u),[y,u]),x=AA(y);return w.createElement(w.Fragment,null,b.map(S=>w.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...i})),_.map(S=>w.createElement("link",{key:S,rel:"modulepreload",href:S,...i})),x.map(({key:S,link:A})=>w.createElement("link",{key:S,nonce:i.nonce,...A})))}function TA(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var OA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OA&&(window.__reactRouterVersion="7.12.0")}catch{}function CA({basename:e,children:t,unstable_useTransitions:i,window:a}){let o=w.useRef();o.current==null&&(o.current=ox({window:a,v5Compat:!0}));let u=o.current,[c,f]=w.useState({action:u.action,location:u.location}),h=w.useCallback(p=>{i===!1?f(p):w.startTransition(()=>f(p))},[i]);return w.useLayoutEffect(()=>u.listen(h),[u,h]),w.createElement(Jb,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:i})}function kA({basename:e,children:t,unstable_useTransitions:i,window:a}){let o=w.useRef();o.current==null&&(o.current=lx({window:a,v5Compat:!0}));let u=o.current,[c,f]=w.useState({action:u.action,location:u.location}),h=w.useCallback(p=>{i===!1?f(p):w.startTransition(()=>f(p))},[i]);return w.useLayoutEffect(()=>u.listen(h),[u,h]),w.createElement(Jb,{basename:e,children:t,location:c.location,navigationType:c.action,navigator:u,unstable_useTransitions:i})}var Zb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,e0=w.forwardRef(function({onClick:t,discover:i="render",prefetch:a="none",relative:o,reloadDocument:u,replace:c,state:f,target:h,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b,..._},x){let{basename:S,unstable_useTransitions:A}=w.useContext(Gt),R=typeof p=="string"&&Zb.test(p),T=Ib(p,S);p=T.to;let O=qx(p,{relative:o}),[M,I,K]=EA(a,_),U=jA(p,{replace:c,state:f,target:h,preventScrollReset:g,relative:o,viewTransition:y,unstable_defaultShouldRevalidate:b,unstable_useTransitions:A});function H(ue){t&&t(ue),ue.defaultPrevented||U(ue)}let Z=w.createElement("a",{..._,...K,href:T.absoluteURL||O,onClick:T.isExternal||u?t:H,ref:TA(x,I),target:h,"data-discover":!R&&i==="render"?"true":void 0});return M&&!R?w.createElement(w.Fragment,null,Z,w.createElement(xA,{page:O})):Z});e0.displayName="Link";var t0=w.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:a="",end:o=!1,style:u,to:c,viewTransition:f,children:h,...p},g){let y=no(c,{relative:p.relative}),b=on(),_=w.useContext(cu),{navigator:x,basename:S}=w.useContext(Gt),A=_!=null&&zA(y)&&f===!0,R=x.encodeLocation?x.encodeLocation(y).pathname:y.pathname,T=b.pathname,O=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(T=T.toLowerCase(),O=O?O.toLowerCase():null,R=R.toLowerCase()),O&&S&&(O=Zn(O,S)||O);const M=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let I=T===R||!o&&T.startsWith(R)&&T.charAt(M)==="/",K=O!=null&&(O===R||!o&&O.startsWith(R)&&O.charAt(R.length)==="/"),U={isActive:I,isPending:K,isTransitioning:A},H=I?t:void 0,Z;typeof a=="function"?Z=a(U):Z=[a,I?"active":null,K?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let ue=typeof u=="function"?u(U):u;return w.createElement(e0,{...p,"aria-current":H,className:Z,ref:g,style:ue,to:c,viewTransition:f},typeof h=="function"?h(U):h)});t0.displayName="NavLink";var NA=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:a,replace:o,state:u,method:c=ql,action:f,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b,..._},x)=>{let{unstable_useTransitions:S}=w.useContext(Gt),A=LA(),R=PA(f,{relative:p}),T=c.toLowerCase()==="get"?"get":"post",O=typeof f=="string"&&Zb.test(f),M=I=>{if(h&&h(I),I.defaultPrevented)return;I.preventDefault();let K=I.nativeEvent.submitter,U=K?.getAttribute("formmethod")||c,H=()=>A(K||I.currentTarget,{fetcherKey:t,method:U,navigate:i,replace:o,state:u,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:b});S&&i!==!1?w.startTransition(()=>H()):H()};return w.createElement("form",{ref:x,method:T,action:R,onSubmit:a?h:M,..._,"data-discover":!O&&e==="render"?"true":void 0})});NA.displayName="Form";function DA(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function n0(e){let t=w.useContext(Da);return Ke(t,DA(e)),t}function jA(e,{target:t,replace:i,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f,unstable_useTransitions:h}={}){let p=fu(),g=on(),y=no(e,{relative:u});return w.useCallback(b=>{if(uA(b,t)){b.preventDefault();let _=i!==void 0?i:Ta(g)===Ta(y),x=()=>p(e,{replace:_,state:a,preventScrollReset:o,relative:u,viewTransition:c,unstable_defaultShouldRevalidate:f});h?w.startTransition(()=>x()):x()}},[g,p,y,i,a,t,e,o,u,c,f,h])}function WM(e){Ct(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(Td(e)),i=w.useRef(!1),a=on(),o=w.useMemo(()=>cA(a.search,i.current?null:t.current),[a.search]),u=fu(),c=w.useCallback((f,h)=>{const p=Td(typeof f=="function"?f(new URLSearchParams(o)):f);i.current=!0,u("?"+p,h)},[u,o]);return[o,c]}var MA=0,UA=()=>`__${String(++MA)}__`;function LA(){let{router:e}=n0("useSubmit"),{basename:t}=w.useContext(Gt),i=eA(),a=e.fetch,o=e.navigate;return w.useCallback(async(u,c={})=>{let{action:f,method:h,encType:p,formData:g,body:y}=hA(u,t);if(c.navigate===!1){let b=c.fetcherKey||UA();await a(b,i,c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await o(c.action||f,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[a,o,t,i])}function PA(e,{relative:t}={}){let{basename:i}=w.useContext(Gt),a=w.useContext(sn);Ke(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),u={...no(e||".",{relative:t})},c=on();if(e==null){u.search=c.search;let f=new URLSearchParams(u.search),h=f.getAll("index");if(h.some(g=>g==="")){f.delete("index"),h.filter(y=>y).forEach(y=>f.append("index",y));let g=f.toString();u.search=g?`?${g}`:""}}return(!e||e===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(u.pathname=u.pathname==="/"?i:Xn([i,u.pathname])),Ta(u)}function zA(e,{relative:t}={}){let i=w.useContext($b);Ke(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=n0("useViewTransitionState"),o=no(e,{relative:t});if(!i.isTransitioning)return!1;let u=Zn(i.currentLocation.pathname,a)||i.currentLocation.pathname,c=Zn(i.nextLocation.pathname,a)||i.nextLocation.pathname;return Fl(o.pathname,c)!=null||Fl(o.pathname,u)!=null}var mh=jb();const BA=ih(mh);var Ma=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},IA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qA=class{#e=IA;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},mi=new qA;function $A(e){setTimeout(e,0)}var vi=typeof window>"u"||"Deno"in globalThis;function wt(){}function HA(e,t){return typeof e=="function"?e(t):e}function Od(e){return typeof e=="number"&&e>=0&&e!==1/0}function r0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function jr(e,t){return typeof e=="function"?e(t):e}function rn(e,t){return typeof e=="function"?e(t):e}function lv(e,t){const{type:i="all",exact:a,fetchStatus:o,predicate:u,queryKey:c,stale:f}=e;if(c){if(a){if(t.queryHash!==ph(c,t.options))return!1}else if(!Ks(t.queryKey,c))return!1}if(i!=="all"){const h=t.isActive();if(i==="active"&&!h||i==="inactive"&&h)return!1}return!(typeof f=="boolean"&&t.isStale()!==f||o&&o!==t.state.fetchStatus||u&&!u(t))}function uv(e,t){const{exact:i,status:a,predicate:o,mutationKey:u}=e;if(u){if(!t.options.mutationKey)return!1;if(i){if(bi(t.options.mutationKey)!==bi(u))return!1}else if(!Ks(t.options.mutationKey,u))return!1}return!(a&&t.state.status!==a||o&&!o(t))}function ph(e,t){return(t?.queryKeyHashFn||bi)(e)}function bi(e){return JSON.stringify(e,(t,i)=>Cd(i)?Object.keys(i).sort().reduce((a,o)=>(a[o]=i[o],a),{}):i)}function Ks(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(i=>Ks(e[i],t[i])):!1}var VA=Object.prototype.hasOwnProperty;function i0(e,t,i=0){if(e===t)return e;if(i>500)return t;const a=cv(e)&&cv(t);if(!a&&!(Cd(e)&&Cd(t)))return t;const u=(a?e:Object.keys(e)).length,c=a?t:Object.keys(t),f=c.length,h=a?new Array(f):{};let p=0;for(let g=0;g<f;g++){const y=a?g:c[g],b=e[y],_=t[y];if(b===_){h[y]=b,(a?g<u:VA.call(e,y))&&p++;continue}if(b===null||_===null||typeof b!="object"||typeof _!="object"){h[y]=_;continue}const x=i0(b,_,i+1);h[y]=x,x===b&&p++}return u===f&&p===u?e:h}function Ql(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}function cv(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Cd(e){if(!fv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const i=t.prototype;return!(!fv(i)||!i.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function fv(e){return Object.prototype.toString.call(e)==="[object Object]"}function GA(e){return new Promise(t=>{mi.setTimeout(t,e)})}function kd(e,t,i){return typeof i.structuralSharing=="function"?i.structuralSharing(e,t):i.structuralSharing!==!1?i0(e,t):t}function ZM(e){return e}function KA(e,t,i=0){const a=[...e,t];return i&&a.length>i?a.slice(1):a}function FA(e,t,i=0){const a=[t,...e];return i&&a.length>i?a.slice(0,-1):a}var gh=Symbol();function a0(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===gh?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function yh(e,t){return typeof e=="function"?e(...t):!!e}function QA(e,t,i){let a=!1,o;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(o??=t(),a||(a=!0,o.aborted?i():o.addEventListener("abort",i,{once:!0})),o)}),e}var YA=class extends Ma{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!vi&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},vh=new YA;function Nd(){let e,t;const i=new Promise((o,u)=>{e=o,t=u});i.status="pending",i.catch(()=>{});function a(o){Object.assign(i,o),delete i.resolve,delete i.reject}return i.resolve=o=>{a({status:"fulfilled",value:o}),e(o)},i.reject=o=>{a({status:"rejected",reason:o}),t(o)},i}var JA=$A;function XA(){let e=[],t=0,i=f=>{f()},a=f=>{f()},o=JA;const u=f=>{t?e.push(f):o(()=>{i(f)})},c=()=>{const f=e;e=[],f.length&&o(()=>{a(()=>{f.forEach(h=>{i(h)})})})};return{batch:f=>{let h;t++;try{h=f()}finally{t--,t||c()}return h},batchCalls:f=>(...h)=>{u(()=>{f(...h)})},schedule:u,setNotifyFunction:f=>{i=f},setBatchNotifyFunction:f=>{a=f},setScheduler:f=>{o=f}}}var lt=XA(),WA=class extends Ma{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!vi&&window.addEventListener){const t=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",i)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(i=>{i(e)}))}isOnline(){return this.#e}},Yl=new WA;function ZA(e){return Math.min(1e3*2**e,3e4)}function s0(e){return(e??"online")==="online"?Yl.isOnline():!0}var Dd=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function o0(e){let t=!1,i=0,a;const o=Nd(),u=()=>o.status!=="pending",c=S=>{if(!u()){const A=new Dd(S);b(A),e.onCancel?.(A)}},f=()=>{t=!0},h=()=>{t=!1},p=()=>vh.isFocused()&&(e.networkMode==="always"||Yl.isOnline())&&e.canRun(),g=()=>s0(e.networkMode)&&e.canRun(),y=S=>{u()||(a?.(),o.resolve(S))},b=S=>{u()||(a?.(),o.reject(S))},_=()=>new Promise(S=>{a=A=>{(u()||p())&&S(A)},e.onPause?.()}).then(()=>{a=void 0,u()||e.onContinue?.()}),x=()=>{if(u())return;let S;const A=i===0?e.initialPromise:void 0;try{S=A??e.fn()}catch(R){S=Promise.reject(R)}Promise.resolve(S).then(y).catch(R=>{if(u())return;const T=e.retry??(vi?0:3),O=e.retryDelay??ZA,M=typeof O=="function"?O(i,R):O,I=T===!0||typeof T=="number"&&i<T||typeof T=="function"&&T(i,R);if(t||!I){b(R);return}i++,e.onFail?.(i,R),GA(M).then(()=>p()?void 0:_()).then(()=>{t?b(R):x()})})};return{promise:o,status:()=>o.status,cancel:c,continue:()=>(a?.(),o),cancelRetry:f,continueRetry:h,canStart:g,start:()=>(g()?x():_().then(x),o)}}var l0=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Od(this.gcTime)&&(this.#e=mi.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(vi?1/0:300*1e3))}clearGcTimeout(){this.#e&&(mi.clearTimeout(this.#e),this.#e=void 0)}},eR=class extends l0{#e;#t;#n;#i;#r;#s;#o;constructor(e){super(),this.#o=!1,this.#s=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#i=e.client,this.#n=this.#i.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=hv(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#s,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=hv(this.options);t.data!==void 0&&(this.setState(dv(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const i=kd(this.state.data,e,this.options);return this.#a({data:i,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),i}setState(e,t){this.#a({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(wt).catch(wt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gh||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>jr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!r0(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#a({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const i=new AbortController,a=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(this.#o=!0,i.signal)})},o=()=>{const f=a0(this.options,t),p=(()=>{const g={client:this.#i,queryKey:this.queryKey,meta:this.meta};return a(g),g})();return this.#o=!1,this.options.persister?this.options.persister(f,p,this):f(p)},c=(()=>{const f={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#i,state:this.state,fetchFn:o};return a(f),f})();this.options.behavior?.onFetch(c,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==c.fetchOptions?.meta)&&this.#a({type:"fetch",meta:c.fetchOptions?.meta}),this.#r=o0({initialPromise:t?.initialPromise,fn:c.fetchFn,onCancel:f=>{f instanceof Dd&&f.revert&&this.setState({...this.#t,fetchStatus:"idle"}),i.abort()},onFail:(f,h)=>{this.#a({type:"failed",failureCount:f,error:h})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0});try{const f=await this.#r.start();if(f===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(f),this.#n.config.onSuccess?.(f,this),this.#n.config.onSettled?.(f,this.state.error,this),f}catch(f){if(f instanceof Dd){if(f.silent)return this.#r.promise;if(f.revert){if(this.state.data===void 0)throw f;return this.state.data}}throw this.#a({type:"error",error:f}),this.#n.config.onError?.(f,this),this.#n.config.onSettled?.(this.state.data,f,this),f}finally{this.scheduleGc()}}#a(e){const t=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...u0(i.data,this.options),fetchMeta:e.meta??null};case"success":const a={...i,...dv(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?a:void 0,a;case"error":const o=e.error;return{...i,error:o,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=t(this.state),lt.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function u0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function dv(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,i=t!==void 0,a=i?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:i?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:i?"success":"pending",fetchStatus:"idle"}}var c0=class extends Ma{constructor(e,t){super(),this.options=t,this.#e=e,this.#a=null,this.#o=Nd(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#i=void 0;#r;#s;#o;#a;#p;#d;#h;#u;#c;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),mv(this.#t,this.options)?this.#f():this.updateResult(),this.#b())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return jd(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return jd(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#w(),this.#_(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,i=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof rn(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#S(),this.#t.setOptions(this.options),t._defaulted&&!Ql(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const a=this.hasListeners();a&&pv(this.#t,i,this.options,t)&&this.#f(),this.updateResult(),a&&(this.#t!==i||rn(this.options.enabled,this.#t)!==rn(t.enabled,this.#t)||jr(this.options.staleTime,this.#t)!==jr(t.staleTime,this.#t))&&this.#g();const o=this.#y();a&&(this.#t!==i||rn(this.options.enabled,this.#t)!==rn(t.enabled,this.#t)||o!==this.#l)&&this.#v(o)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),i=this.createResult(t,e);return nR(this,i)&&(this.#i=i,this.#s=this.options,this.#r=this.#t.state),i}getCurrentResult(){return this.#i}trackResult(e,t){return new Proxy(e,{get:(i,a)=>(this.trackProp(a),t?.(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,a))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),i=this.#e.getQueryCache().build(this.#e,t);return i.fetch().then(()=>this.createResult(i,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#S();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(wt)),t}#g(){this.#w();const e=jr(this.options.staleTime,this.#t);if(vi||this.#i.isStale||!Od(e))return;const i=r0(this.#i.dataUpdatedAt,e)+1;this.#u=mi.setTimeout(()=>{this.#i.isStale||this.updateResult()},i)}#y(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#v(e){this.#_(),this.#l=e,!(vi||rn(this.options.enabled,this.#t)===!1||!Od(this.#l)||this.#l===0)&&(this.#c=mi.setInterval(()=>{(this.options.refetchIntervalInBackground||vh.isFocused())&&this.#f()},this.#l))}#b(){this.#g(),this.#v(this.#y())}#w(){this.#u&&(mi.clearTimeout(this.#u),this.#u=void 0)}#_(){this.#c&&(mi.clearInterval(this.#c),this.#c=void 0)}createResult(e,t){const i=this.#t,a=this.options,o=this.#i,u=this.#r,c=this.#s,h=e!==i?e.state:this.#n,{state:p}=e;let g={...p},y=!1,b;if(t._optimisticResults){const H=this.hasListeners(),Z=!H&&mv(e,t),ue=H&&pv(e,i,t,a);(Z||ue)&&(g={...g,...u0(p.data,e.options)}),t._optimisticResults==="isRestoring"&&(g.fetchStatus="idle")}let{error:_,errorUpdatedAt:x,status:S}=g;b=g.data;let A=!1;if(t.placeholderData!==void 0&&b===void 0&&S==="pending"){let H;o?.isPlaceholderData&&t.placeholderData===c?.placeholderData?(H=o.data,A=!0):H=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,H!==void 0&&(S="success",b=kd(o?.data,H,t),y=!0)}if(t.select&&b!==void 0&&!A)if(o&&b===u?.data&&t.select===this.#p)b=this.#d;else try{this.#p=t.select,b=t.select(b),b=kd(o?.data,b,t),this.#d=b,this.#a=null}catch(H){this.#a=H}this.#a&&(_=this.#a,b=this.#d,x=Date.now(),S="error");const R=g.fetchStatus==="fetching",T=S==="pending",O=S==="error",M=T&&R,I=b!==void 0,U={status:S,fetchStatus:g.fetchStatus,isPending:T,isSuccess:S==="success",isError:O,isInitialLoading:M,isLoading:M,data:b,dataUpdatedAt:g.dataUpdatedAt,error:_,errorUpdatedAt:x,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>h.dataUpdateCount||g.errorUpdateCount>h.errorUpdateCount,isFetching:R,isRefetching:R&&!T,isLoadingError:O&&!I,isPaused:g.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:O&&I,isStale:bh(e,t),refetch:this.refetch,promise:this.#o,isEnabled:rn(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const H=U.data!==void 0,Z=U.status==="error"&&!H,ue=ee=>{Z?ee.reject(U.error):H&&ee.resolve(U.data)},ae=()=>{const ee=this.#o=U.promise=Nd();ue(ee)},X=this.#o;switch(X.status){case"pending":e.queryHash===i.queryHash&&ue(X);break;case"fulfilled":(Z||U.data!==X.value)&&ae();break;case"rejected":(!Z||U.error!==X.reason)&&ae();break}}return U}updateResult(){const e=this.#i,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#s=this.options,this.#r.data!==void 0&&(this.#h=this.#t),Ql(t,e))return;this.#i=t;const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!this.#m.size)return!0;const u=new Set(o??this.#m);return this.options.throwOnError&&u.add("error"),Object.keys(this.#i).some(c=>{const f=c;return this.#i[f]!==e[f]&&u.has(f)})};this.#E({listeners:i()})}#S(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#b()}#E(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#i)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function tR(e,t){return rn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function mv(e,t){return tR(e,t)||e.state.data!==void 0&&jd(e,t,t.refetchOnMount)}function jd(e,t,i){if(rn(t.enabled,e)!==!1&&jr(t.staleTime,e)!=="static"){const a=typeof i=="function"?i(e):i;return a==="always"||a!==!1&&bh(e,t)}return!1}function pv(e,t,i,a){return(e!==t||rn(a.enabled,e)===!1)&&(!i.suspense||e.state.status!=="error")&&bh(e,i)}function bh(e,t){return rn(t.enabled,e)!==!1&&e.isStaleByTime(jr(t.staleTime,e))}function nR(e,t){return!Ql(e.getCurrentResult(),t)}function Jl(e){return{onFetch:(t,i)=>{const a=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,u=t.state.data?.pages||[],c=t.state.data?.pageParams||[];let f={pages:[],pageParams:[]},h=0;const p=async()=>{let g=!1;const y=x=>{QA(x,()=>t.signal,()=>g=!0)},b=a0(t.options,t.fetchOptions),_=async(x,S,A)=>{if(g)return Promise.reject();if(S==null&&x.pages.length)return Promise.resolve(x);const T=(()=>{const K={client:t.client,queryKey:t.queryKey,pageParam:S,direction:A?"backward":"forward",meta:t.options.meta};return y(K),K})(),O=await b(T),{maxPages:M}=t.options,I=A?FA:KA;return{pages:I(x.pages,O,M),pageParams:I(x.pageParams,S,M)}};if(o&&u.length){const x=o==="backward",S=x?f0:Md,A={pages:u,pageParams:c},R=S(a,A);f=await _(A,R,x)}else{const x=e??u.length;do{const S=h===0?c[0]??a.initialPageParam:Md(a,f);if(h>0&&S==null)break;f=await _(f,S),h++}while(h<x)}return f};t.options.persister?t.fetchFn=()=>t.options.persister?.(p,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},i):t.fetchFn=p}}}function Md(e,{pages:t,pageParams:i}){const a=t.length-1;return t.length>0?e.getNextPageParam(t[a],t,i[a],i):void 0}function f0(e,{pages:t,pageParams:i}){return t.length>0?e.getPreviousPageParam?.(t[0],t,i[0],i):void 0}function rR(e,t){return t?Md(e,t)!=null:!1}function iR(e,t){return!t||!e.getPreviousPageParam?!1:f0(e,t)!=null}var aR=class extends c0{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:Jl()})}getOptimisticResult(e){return e.behavior=Jl(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:i}=e,a=super.createResult(e,t),{isFetching:o,isRefetching:u,isError:c,isRefetchError:f}=a,h=i.fetchMeta?.fetchMore?.direction,p=c&&h==="forward",g=o&&h==="forward",y=c&&h==="backward",b=o&&h==="backward";return{...a,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:rR(t,i.data),hasPreviousPage:iR(t,i.data),isFetchNextPageError:p,isFetchingNextPage:g,isFetchPreviousPageError:y,isFetchingPreviousPage:b,isRefetchError:f&&!p&&!y,isRefetching:u&&!g&&!b}}},sR=class extends l0{#e;#t;#n;#i;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||d0(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#i?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},i={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#i=o0({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(u,c)=>{this.#r({type:"failed",failureCount:u,error:c})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const a=this.state.status==="pending",o=!this.#i.canStart();try{if(a)t();else{this.#r({type:"pending",variables:e,isPaused:o}),await this.#n.config.onMutate?.(e,this,i);const c=await this.options.onMutate?.(e,i);c!==this.state.context&&this.#r({type:"pending",context:c,variables:e,isPaused:o})}const u=await this.#i.start();return await this.#n.config.onSuccess?.(u,e,this.state.context,this,i),await this.options.onSuccess?.(u,e,this.state.context,i),await this.#n.config.onSettled?.(u,null,this.state.variables,this.state.context,this,i),await this.options.onSettled?.(u,null,e,this.state.context,i),this.#r({type:"success",data:u}),u}catch(u){try{await this.#n.config.onError?.(u,e,this.state.context,this,i)}catch(c){Promise.reject(c)}try{await this.options.onError?.(u,e,this.state.context,i)}catch(c){Promise.reject(c)}try{await this.#n.config.onSettled?.(void 0,u,this.state.variables,this.state.context,this,i)}catch(c){Promise.reject(c)}try{await this.options.onSettled?.(void 0,u,e,this.state.context,i)}catch(c){Promise.reject(c)}throw this.#r({type:"error",error:u}),u}finally{this.#n.runNext(this)}}#r(e){const t=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),lt.batch(()=>{this.#t.forEach(i=>{i.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function d0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var oR=class extends Ma{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,i){const a=new sR({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:i});return this.add(a),a}add(e){this.#e.add(e);const t=Tl(e);if(typeof t=="string"){const i=this.#t.get(t);i?i.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=Tl(e);if(typeof t=="string"){const i=this.#t.get(t);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Tl(e);if(typeof t=="string"){const a=this.#t.get(t)?.find(o=>o.state.status==="pending");return!a||a===e}else return!0}runNext(e){const t=Tl(e);return typeof t=="string"?this.#t.get(t)?.find(a=>a!==e&&a.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lt.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(i=>uv(t,i))}findAll(e={}){return this.getAll().filter(t=>uv(e,t))}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return lt.batch(()=>Promise.all(e.map(t=>t.continue().catch(wt))))}};function Tl(e){return e.options.scope?.id}var lR=class extends Ma{#e;#t=void 0;#n;#i;constructor(t,i){super(),this.#e=t,this.setOptions(i),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const i=this.options;this.options=this.#e.defaultMutationOptions(t),Ql(this.options,i)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),i?.mutationKey&&this.options.mutationKey&&bi(i.mutationKey)!==bi(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#s(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#s()}mutate(t,i){return this.#i=i,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??d0();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){lt.batch(()=>{if(this.#i&&this.hasListeners()){const i=this.#t.variables,a=this.#t.context,o={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#i.onSuccess?.(t.data,i,a,o)}catch(u){Promise.reject(u)}try{this.#i.onSettled?.(t.data,null,i,a,o)}catch(u){Promise.reject(u)}}else if(t?.type==="error"){try{this.#i.onError?.(t.error,i,a,o)}catch(u){Promise.reject(u)}try{this.#i.onSettled?.(void 0,t.error,i,a,o)}catch(u){Promise.reject(u)}}}this.listeners.forEach(i=>{i(this.#t)})})}},uR=class extends Ma{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,i){const a=t.queryKey,o=t.queryHash??ph(a,t);let u=this.get(o);return u||(u=new eR({client:e,queryKey:a,queryHash:o,options:e.defaultQueryOptions(t),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(u)),u}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(i=>lv(t,i))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(i=>lv(e,i)):t}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},cR=class{#e;#t;#n;#i;#r;#s;#o;#a;constructor(e={}){this.#e=e.queryCache||new uR,this.#t=e.mutationCache||new oR,this.#n=e.defaultOptions||{},this.#i=new Map,this.#r=new Map,this.#s=0}mount(){this.#s++,this.#s===1&&(this.#o=vh.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#a=Yl.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#s--,this.#s===0&&(this.#o?.(),this.#o=void 0,this.#a?.(),this.#a=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),i=this.#e.build(this,t),a=i.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&i.isStaleByTime(jr(t.staleTime,i))&&this.prefetchQuery(t),Promise.resolve(a))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:i})=>{const a=i.data;return[t,a]})}setQueryData(e,t,i){const a=this.defaultQueryOptions({queryKey:e}),u=this.#e.get(a.queryHash)?.state.data,c=HA(t,u);if(c!==void 0)return this.#e.build(this,a).setData(c,{...i,manual:!0})}setQueriesData(e,t,i){return lt.batch(()=>this.#e.findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,t,i)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;lt.batch(()=>{t.findAll(e).forEach(i=>{t.remove(i)})})}resetQueries(e,t){const i=this.#e;return lt.batch(()=>(i.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const i={revert:!0,...t},a=lt.batch(()=>this.#e.findAll(e).map(o=>o.cancel(i)));return Promise.all(a).then(wt).catch(wt)}invalidateQueries(e,t={}){return lt.batch(()=>(this.#e.findAll(e).forEach(i=>{i.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const i={...t,cancelRefetch:t.cancelRefetch??!0},a=lt.batch(()=>this.#e.findAll(e).filter(o=>!o.isDisabled()&&!o.isStatic()).map(o=>{let u=o.fetch(void 0,i);return i.throwOnError||(u=u.catch(wt)),o.state.fetchStatus==="paused"?Promise.resolve():u}));return Promise.all(a).then(wt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const i=this.#e.build(this,t);return i.isStaleByTime(jr(t.staleTime,i))?i.fetch(t):Promise.resolve(i.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(wt).catch(wt)}fetchInfiniteQuery(e){return e.behavior=Jl(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(wt).catch(wt)}ensureInfiniteQueryData(e){return e.behavior=Jl(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Yl.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#i.set(bi(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#i.values()],i={};return t.forEach(a=>{Ks(e,a.queryKey)&&Object.assign(i,a.defaultOptions)}),i}setMutationDefaults(e,t){this.#r.set(bi(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],i={};return t.forEach(a=>{Ks(e,a.mutationKey)&&Object.assign(i,a.defaultOptions)}),i}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=ph(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===gh&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},h0=w.createContext(void 0),m0=e=>{const t=w.useContext(h0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},fR=({client:e,children:t})=>(w.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),k.jsx(h0.Provider,{value:e,children:t})),p0=w.createContext(!1),dR=()=>w.useContext(p0);p0.Provider;function hR(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mR=w.createContext(hR()),pR=()=>w.useContext(mR),gR=(e,t,i)=>{const a=i?.state.error&&typeof e.throwOnError=="function"?yh(e.throwOnError,[i.state.error,i]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(t.isReset()||(e.retryOnMount=!1))},yR=e=>{w.useEffect(()=>{e.clearReset()},[e])},vR=({result:e,errorResetBoundary:t,throwOnError:i,query:a,suspense:o})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(o&&e.data===void 0||yh(i,[e.error,a])),bR=e=>{if(e.suspense){const i=o=>o==="static"?o:Math.max(o??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...o)=>i(a(...o)):i(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},wR=(e,t)=>e.isLoading&&e.isFetching&&!t,_R=(e,t)=>e?.suspense&&t.isPending,gv=(e,t,i)=>t.fetchOptimistic(e).catch(()=>{i.clearReset()});function g0(e,t,i){const a=dR(),o=pR(),u=m0(),c=u.defaultQueryOptions(e);u.getDefaultOptions().queries?._experimental_beforeQuery?.(c);const f=u.getQueryCache().get(c.queryHash);c._optimisticResults=a?"isRestoring":"optimistic",bR(c),gR(c,o,f),yR(o);const h=!u.getQueryCache().get(c.queryHash),[p]=w.useState(()=>new t(u,c)),g=p.getOptimisticResult(c),y=!a&&e.subscribed!==!1;if(w.useSyncExternalStore(w.useCallback(b=>{const _=y?p.subscribe(lt.batchCalls(b)):wt;return p.updateResult(),_},[p,y]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),w.useEffect(()=>{p.setOptions(c)},[c,p]),_R(c,g))throw gv(c,p,o);if(vR({result:g,errorResetBoundary:o,throwOnError:c.throwOnError,query:f,suspense:c.suspense}))throw g.error;return u.getDefaultOptions().queries?._experimental_afterQuery?.(c,g),c.experimental_prefetchInRender&&!vi&&wR(g,a)&&(h?gv(c,p,o):f?.promise)?.catch(wt).finally(()=>{p.updateResult()}),c.notifyOnChangeProps?g:p.trackResult(g)}function Ua(e,t){return g0(e,c0)}function y0(e,t){const i=m0(),[a]=w.useState(()=>new lR(i,e));w.useEffect(()=>{a.setOptions(e)},[a,e]);const o=w.useSyncExternalStore(w.useCallback(c=>a.subscribe(lt.batchCalls(c)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),u=w.useCallback((c,f)=>{a.mutate(c,f).catch(wt)},[a]);if(o.error&&yh(a.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:u,mutateAsync:o.mutate}}function SR(e,t){return g0(e,aR)}const ER="modulepreload",xR=function(e){return"/MoviNesta/"+e},yv={},je=function(t,i,a){let o=Promise.resolve();if(i&&i.length>0){let h=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),f=c?.nonce||c?.getAttribute("nonce");o=h(i.map(p=>{if(p=xR(p),p in yv)return;yv[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const b=document.createElement("link");if(b.rel=g?"stylesheet":ER,g||(b.as="script"),b.crossOrigin="",b.href=p,f&&b.setAttribute("nonce",f),document.head.appendChild(b),g)return new Promise((_,x)=>{b.addEventListener("load",_),b.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function u(c){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=c,window.dispatchEvent(f),!f.defaultPrevented)throw c}return o.then(c=>{for(const f of c||[])f.status==="rejected"&&u(f.reason);return t().catch(u)})};var An=function(){return An=Object.assign||function(t){for(var i,a=1,o=arguments.length;a<o;a++){i=arguments[a];for(var u in i)Object.prototype.hasOwnProperty.call(i,u)&&(t[u]=i[u])}return t},An.apply(this,arguments)};function La(e,t){var i={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(i[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(e);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(e,a[o])&&(i[a[o]]=e[a[o]]);return i}function AR(e,t,i,a){function o(u){return u instanceof i?u:new i(function(c){c(u)})}return new(i||(i=Promise))(function(u,c){function f(g){try{p(a.next(g))}catch(y){c(y)}}function h(g){try{p(a.throw(g))}catch(y){c(y)}}function p(g){g.done?u(g.value):o(g.value).then(f,h)}p((a=a.apply(e,t||[])).next())})}function RR(e,t,i){if(i||arguments.length===2)for(var a=0,o=t.length,u;a<o;a++)(u||!(a in t))&&(u||(u=Array.prototype.slice.call(t,0,a)),u[a]=t[a]);return e.concat(u||Array.prototype.slice.call(t))}const TR=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class wh extends Error{constructor(t,i="FunctionsError",a){super(t),this.name=i,this.context=a}}class OR extends wh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class vv extends wh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class bv extends wh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ud;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ud||(Ud={}));class CR{constructor(t,{headers:i={},customFetch:a,region:o=Ud.Any}={}){this.url=t,this.headers=i,this.region=o,this.fetch=TR(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return AR(this,arguments,void 0,function*(i,a={}){var o;let u,c;try{const{headers:f,method:h,body:p,signal:g,timeout:y}=a;let b={},{region:_}=a;_||(_=this.region);const x=new URL(`${this.url}/${i}`);_&&_!=="any"&&(b["x-region"]=_,x.searchParams.set("forceFunctionRegion",_));let S;p&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",S=p):typeof p=="string"?(b["Content-Type"]="text/plain",S=p):typeof FormData<"u"&&p instanceof FormData?S=p:(b["Content-Type"]="application/json",S=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?S=JSON.stringify(p):S=p;let A=g;y&&(c=new AbortController,u=setTimeout(()=>c.abort(),y),g?(A=c.signal,g.addEventListener("abort",()=>c.abort())):A=c.signal);const R=yield this.fetch(x.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),f),body:S,signal:A}).catch(I=>{throw new OR(I)}),T=R.headers.get("x-relay-error");if(T&&T==="true")throw new vv(R);if(!R.ok)throw new bv(R);let O=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),M;return O==="application/json"?M=yield R.json():O==="application/octet-stream"||O==="application/pdf"?M=yield R.blob():O==="text/event-stream"?M=R:O==="multipart/form-data"?M=yield R.formData():M=yield R.text(),{data:M,error:null,response:R}}catch(f){return{data:null,error:f,response:f instanceof bv||f instanceof vv?f.context:void 0}}finally{u&&clearTimeout(u)}})}}var kR=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},NR=class{constructor(e){var t,i;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(i=e.isMaybeSingle)!==null&&i!==void 0?i:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var i=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let c=null,f=null,h=null,p=u.status,g=u.statusText;if(u.ok){var y,b;if(i.method!=="HEAD"){var _;const R=await u.text();R===""||(i.headers.get("Accept")==="text/csv"||i.headers.get("Accept")&&(!((_=i.headers.get("Accept"))===null||_===void 0)&&_.includes("application/vnd.pgrst.plan+text"))?f=R:f=JSON.parse(R))}const S=(y=i.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),A=(b=u.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");S&&A&&A.length>1&&(h=parseInt(A[1])),i.isMaybeSingle&&i.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,g="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{var x;const S=await u.text();try{c=JSON.parse(S),Array.isArray(c)&&u.status===404&&(f=[],c=null,p=200,g="OK")}catch{u.status===404&&S===""?(p=204,g="No Content"):c={message:S}}if(c&&i.isMaybeSingle&&(!(c==null||(x=c.details)===null||x===void 0)&&x.includes("0 rows"))&&(c=null,p=200,g="OK"),c&&i.shouldThrowOnError)throw new kR(c)}return{error:c,data:f,count:h,status:p,statusText:g}});return this.shouldThrowOnError||(o=o.catch(u=>{var c;let f="";const h=u?.cause;if(h){var p,g,y,b;const x=(p=h?.message)!==null&&p!==void 0?p:"",S=(g=h?.code)!==null&&g!==void 0?g:"";f=`${(y=u?.name)!==null&&y!==void 0?y:"FetchError"}: ${u?.message}`,f+=`

Caused by: ${(b=h?.name)!==null&&b!==void 0?b:"Error"}: ${x}`,S&&(f+=` (${S})`),h?.stack&&(f+=`
${h.stack}`)}else{var _;f=(_=u?.stack)!==null&&_!==void 0?_:""}return{error:{message:`${(c=u?.name)!==null&&c!==void 0?c:"FetchError"}: ${u?.message}`,details:f,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},DR=class extends NR{select(e){let t=!1;const i=(e??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",i),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:i,foreignTable:a,referencedTable:o=a}={}){const u=o?`${o}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${e}.${t?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:i=t}={}){const a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(a,`${e}`),this}range(e,t,{foreignTable:i,referencedTable:a=i}={}){const o=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(u,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:i=!1,buffers:a=!1,wal:o=!1,format:u="text"}={}){var c;const f=[e?"analyze":null,t?"verbose":null,i?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const wv=new RegExp("[,()]");var ya=class extends DR{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const i=Array.from(new Set(t)).map(a=>typeof a=="string"&&wv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}notIn(e,t){const i=Array.from(new Set(t)).map(a=>typeof a=="string"&&wv.test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(e,`not.in.(${i})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:i,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${o}fts${u}.${t}`),this}match(e){return Object.entries(e).forEach(([t,i])=>{this.url.searchParams.append(t,`eq.${i}`)}),this}not(e,t,i){return this.url.searchParams.append(e,`not.${t}.${i}`),this}or(e,{foreignTable:t,referencedTable:i=t}={}){const a=i?`${i}.or`:"or";return this.url.searchParams.append(a,`(${e})`),this}filter(e,t,i){return this.url.searchParams.append(e,`${t}.${i}`),this}},jR=class{constructor(e,{headers:t={},schema:i,fetch:a}){this.url=e,this.headers=new Headers(t),this.schema=i,this.fetch=a}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:i=!1,count:a}=t??{},o=i?"HEAD":"GET";let u=!1;const c=(e??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join(""),{url:f,headers:h}=this.cloneRequestState();return f.searchParams.set("select",c),a&&h.append("Prefer",`count=${a}`),new ya({method:o,url:f,headers:h,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:i=!0}={}){var a;const o="POST",{url:u,headers:c}=this.cloneRequestState();if(t&&c.append("Prefer",`count=${t}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){const f=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(f.length>0){const h=[...new Set(f)].map(p=>`"${p}"`);u.searchParams.set("columns",h.join(","))}}return new ya({method:o,url:u,headers:c,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:i=!1,count:a,defaultToNull:o=!0}={}){var u;const c="POST",{url:f,headers:h}=this.cloneRequestState();if(h.append("Prefer",`resolution=${i?"ignore":"merge"}-duplicates`),t!==void 0&&f.searchParams.set("on_conflict",t),a&&h.append("Prefer",`count=${a}`),o||h.append("Prefer","missing=default"),Array.isArray(e)){const p=e.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);f.searchParams.set("columns",g.join(","))}}return new ya({method:c,url:f,headers:h,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:t}={}){var i;const a="PATCH",{url:o,headers:u}=this.cloneRequestState();return t&&u.append("Prefer",`count=${t}`),new ya({method:a,url:o,headers:u,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}delete({count:e}={}){var t;const i="DELETE",{url:a,headers:o}=this.cloneRequestState();return e&&o.append("Prefer",`count=${e}`),new ya({method:i,url:a,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},MR=class v0{constructor(t,{headers:i={},schema:a,fetch:o}={}){this.url=t,this.headers=new Headers(i),this.schemaName=a,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new jR(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new v0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,i={},{head:a=!1,get:o=!1,count:u}={}){var c;let f;const h=new URL(`${this.url}/rpc/${t}`);let p;const g=_=>_!==null&&typeof _=="object"&&(!Array.isArray(_)||_.some(g)),y=a&&Object.values(i).some(g);y?(f="POST",p=i):a||o?(f=a?"HEAD":"GET",Object.entries(i).filter(([_,x])=>x!==void 0).map(([_,x])=>[_,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([_,x])=>{h.searchParams.append(_,x)})):(f="POST",p=i);const b=new Headers(this.headers);return y?b.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&b.set("Prefer",`count=${u}`),new ya({method:f,url:h,headers:b,schema:this.schemaName,body:p,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class UR{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const i=globalThis.process;if(i){const a=i.versions;if(a&&a.node){const o=a.node,u=parseInt(o.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let i=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(i+=`

Suggested solution: ${t.workaround}`),new Error(i)}static createWebSocket(t,i){const a=this.getWebSocketConstructor();return new a(t,i)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const LR="2.90.1",PR=`realtime-js/${LR}`,b0="1.0.0",zR="2.0.0",_v=b0,Ld=1e4,BR=1e3,IR=100;var Nr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Nr||(Nr={}));var ot;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ot||(ot={}));var mn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(mn||(mn={}));var Pd;(function(e){e.websocket="websocket"})(Pd||(Pd={}));var di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(di||(di={}));class qR{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,i){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return i(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return i(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(t){var i;return this._isArrayBuffer((i=t.payload)===null||i===void 0?void 0:i.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var i,a;const o=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var i,a;const o=(a=(i=t.payload)===null||i===void 0?void 0:i.payload)!==null&&a!==void 0?a:{},c=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(t,i,a){var o,u;const c=t.topic,f=(o=t.ref)!==null&&o!==void 0?o:"",h=(u=t.join_ref)!==null&&u!==void 0?u:"",p=t.payload.event,g=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+f.length+c.length+p.length+y.length,_=new ArrayBuffer(this.HEADER_LENGTH+b);let x=new DataView(_),S=0;x.setUint8(S++,this.KINDS.userBroadcastPush),x.setUint8(S++,h.length),x.setUint8(S++,f.length),x.setUint8(S++,c.length),x.setUint8(S++,p.length),x.setUint8(S++,y.length),x.setUint8(S++,i),Array.from(h,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(f,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(c,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(p,R=>x.setUint8(S++,R.charCodeAt(0))),Array.from(y,R=>x.setUint8(S++,R.charCodeAt(0)));var A=new Uint8Array(_.byteLength+a.byteLength);return A.set(new Uint8Array(_),0),A.set(new Uint8Array(a),_.byteLength),A.buffer}decode(t,i){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return i(a)}if(typeof t=="string"){const a=JSON.parse(t),[o,u,c,f,h]=a;return i({join_ref:o,ref:u,topic:c,event:f,payload:h})}return i({})}_binaryDecode(t){const i=new DataView(t),a=i.getUint8(0),o=new TextDecoder;if(a===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,i,o)}_decodeUserBroadcast(t,i,a){const o=i.getUint8(1),u=i.getUint8(2),c=i.getUint8(3),f=i.getUint8(4);let h=this.HEADER_LENGTH+4;const p=a.decode(t.slice(h,h+o));h=h+o;const g=a.decode(t.slice(h,h+u));h=h+u;const y=a.decode(t.slice(h,h+c));h=h+c;const b=t.slice(h,t.byteLength),_=f===this.JSON_ENCODING?JSON.parse(a.decode(b)):b,x={type:this.BROADCAST_EVENT,event:g,payload:_};return c>0&&(x.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(t){var i;return t instanceof ArrayBuffer||((i=t?.constructor)===null||i===void 0?void 0:i.name)==="ArrayBuffer"}_pick(t,i){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([a])=>i.includes(a)))}}class w0{constructor(t,i){this.callback=t,this.timerCalc=i,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=i}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($e||($e={}));const Sv=(e,t,i={})=>{var a;const o=(a=i.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((u,c)=>(u[c]=$R(c,e,t,o),u),{}):{}},$R=(e,t,i,a)=>{const o=t.find(f=>f.name===e),u=o?.type,c=i[e];return u&&!a.includes(u)?_0(u,c):zd(c)},_0=(e,t)=>{if(e.charAt(0)==="_"){const i=e.slice(1,e.length);return KR(t,i)}switch(e){case $e.bool:return HR(t);case $e.float4:case $e.float8:case $e.int2:case $e.int4:case $e.int8:case $e.numeric:case $e.oid:return VR(t);case $e.json:case $e.jsonb:return GR(t);case $e.timestamp:return FR(t);case $e.abstime:case $e.date:case $e.daterange:case $e.int4range:case $e.int8range:case $e.money:case $e.reltime:case $e.text:case $e.time:case $e.timestamptz:case $e.timetz:case $e.tsrange:case $e.tstzrange:return zd(t);default:return zd(t)}},zd=e=>e,HR=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},VR=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},GR=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},KR=(e,t)=>{if(typeof e!="string")return e;const i=e.length-1,a=e[i];if(e[0]==="{"&&a==="}"){let u;const c=e.slice(1,i);try{u=JSON.parse("["+c+"]")}catch{u=c?c.split(","):[]}return u.map(f=>_0(t,f))}return e},FR=e=>typeof e=="string"?e.replace(" ","T"):e,S0=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Jf{constructor(t,i,a={},o=Ld){this.channel=t,this.event=i,this.payload=a,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,i){var a;return this._hasReceived(t)&&i((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:i}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=i=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=i,this._matchReceive(i)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,i){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:i})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:i}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(i))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Ev;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Ev||(Ev={}));class $s{constructor(t,i){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=i?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$s.syncState(this.state,o,u,c),this.pendingDiffs.forEach(h=>{this.state=$s.syncDiff(this.state,h,u,c)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},o=>{const{onJoin:u,onLeave:c,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$s.syncDiff(this.state,o,u,c),f())}),this.onJoin((o,u,c)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:u,newPresences:c})}),this.onLeave((o,u,c)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:u,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,i,a,o){const u=this.cloneDeep(t),c=this.transformState(i),f={},h={};return this.map(u,(p,g)=>{c[p]||(h[p]=g)}),this.map(c,(p,g)=>{const y=u[p];if(y){const b=g.map(A=>A.presence_ref),_=y.map(A=>A.presence_ref),x=g.filter(A=>_.indexOf(A.presence_ref)<0),S=y.filter(A=>b.indexOf(A.presence_ref)<0);x.length>0&&(f[p]=x),S.length>0&&(h[p]=S)}else f[p]=g}),this.syncDiff(u,{joins:f,leaves:h},a,o)}static syncDiff(t,i,a,o){const{joins:u,leaves:c}={joins:this.transformState(i.joins),leaves:this.transformState(i.leaves)};return a||(a=()=>{}),o||(o=()=>{}),this.map(u,(f,h)=>{var p;const g=(p=t[f])!==null&&p!==void 0?p:[];if(t[f]=this.cloneDeep(h),g.length>0){const y=t[f].map(_=>_.presence_ref),b=g.filter(_=>y.indexOf(_.presence_ref)<0);t[f].unshift(...b)}a(f,g,h)}),this.map(c,(f,h)=>{let p=t[f];if(!p)return;const g=h.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),t[f]=p,o(f,p,h),p.length===0&&delete t[f]}),t}static map(t,i){return Object.getOwnPropertyNames(t).map(a=>i(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((i,a)=>{const o=t[a];return"metas"in o?i[a]=o.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):i[a]=o,i},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(xv||(xv={}));var Hs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hs||(Hs={}));var Jn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Jn||(Jn={}));class wa{constructor(t,i={config:{}},a){var o,u;if(this.topic=t,this.params=i,this.socket=a,this.bindings={},this.state=ot.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},i.config),this.timeout=this.socket.timeout,this.joinPush=new Jf(this,mn.join,this.params,this.timeout),this.rejoinTimer=new w0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ot.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ot.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=ot.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(c,f)=>{this._trigger(this._replyEventName(f),c)}),this.presence=new $s(this),this.broadcastEndpointURL=S0(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,i=this.timeout){var a,o,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ot.closed){const{config:{broadcast:c,presence:f,private:h}}=this.params,p=(o=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(_=>_.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Hs.PRESENCE]&&this.bindings[Hs.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,y={},b={broadcast:c,presence:Object.assign(Object.assign({},f),{enabled:g}),postgres_changes:p,private:h};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(_=>t?.(Jn.CHANNEL_ERROR,_)),this._onClose(()=>t?.(Jn.CLOSED)),this.updateJoinPayload(Object.assign({config:b},y)),this.joinedOnce=!0,this._rejoin(i),this.joinPush.receive("ok",async({postgres_changes:_})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),_===void 0){t?.(Jn.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,A=(x=S?.length)!==null&&x!==void 0?x:0,R=[];for(let T=0;T<A;T++){const O=S[T],{filter:{event:M,schema:I,table:K,filter:U}}=O,H=_&&_[T];if(H&&H.event===M&&wa.isFilterValueEqual(H.schema,I)&&wa.isFilterValueEqual(H.table,K)&&wa.isFilterValueEqual(H.filter,U))R.push(Object.assign(Object.assign({},O),{id:H.id}));else{this.unsubscribe(),this.state=ot.errored,t?.(Jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t(Jn.SUBSCRIBED);return}}).receive("error",_=>{this.state=ot.errored,t?.(Jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(_).join(", ")||"error")))}).receive("timeout",()=>{t?.(Jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,i={}){return await this.send({type:"presence",event:"track",payload:t},i.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,i,a){return this.state===ot.joined&&t===Hs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,i,a)}async httpSend(t,i,a={}){var o;if(i==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:i,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);if(f.status===202)return{success:!0};let h=f.statusText;try{const p=await f.json();h=p.error||p.message||h}catch{}return Promise.reject(new Error(h))}async send(t,i={}){var a,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:c}=t,f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var c,f,h;const p=this._push(t.type,t,i.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(f=(c=this.params)===null||c===void 0?void 0:c.config)===null||f===void 0?void 0:f.broadcast)===null||h===void 0)&&h.ack)&&u("ok"),p.receive("ok",()=>u("ok")),p.receive("error",()=>u("error")),p.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ot.leaving;const i=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(o=>{a=new Jf(this,mn.leave,{},t),a.receive("ok",()=>{i(),o("ok")}).receive("timeout",()=>{i(),o("timed out")}).receive("error",()=>{o("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ot.closed,this.bindings={}}async _fetchWithTimeout(t,i,a){const o=new AbortController,u=setTimeout(()=>o.abort(),a),c=await this.socket.fetch(t,Object.assign(Object.assign({},i),{signal:o.signal}));return clearTimeout(u),c}_push(t,i,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Jf(this,t,i,a);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>IR){const i=this.pushBuffer.shift();i&&(i.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${i.event}`,i.payload))}}_onMessage(t,i,a){return i}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,i,a){var o,u;const c=t.toLocaleLowerCase(),{close:f,error:h,leave:p,join:g}=mn;if(a&&[f,h,p,g].indexOf(c)>=0&&a!==this._joinRef())return;let b=this._onMessage(c,i,a);if(i&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(_=>{var x,S,A;return((x=_.filter)===null||x===void 0?void 0:x.event)==="*"||((A=(S=_.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===c}).map(_=>_.callback(b,a)):(u=this.bindings[c])===null||u===void 0||u.filter(_=>{var x,S,A,R,T,O,M,I;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in _){const K=_.id,U=(x=_.filter)===null||x===void 0?void 0:x.event;return K&&((S=i.ids)===null||S===void 0?void 0:S.includes(K))&&(U==="*"||U?.toLocaleLowerCase()===((A=i.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))&&(!(!((R=_.filter)===null||R===void 0)&&R.table)||_.filter.table===((T=i.data)===null||T===void 0?void 0:T.table))}else{const K=(M=(O=_?.filter)===null||O===void 0?void 0:O.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return K==="*"||K===((I=i?.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===c}).map(_=>{if(typeof b=="object"&&"ids"in b){const x=b.data,{schema:S,table:A,commit_timestamp:R,type:T,errors:O}=x;b=Object.assign(Object.assign({},{schema:S,table:A,commit_timestamp:R,eventType:T,new:{},old:{},errors:O}),this._getPayloadRecords(x))}_.callback(b,a)})}_isClosed(){return this.state===ot.closed}_isJoined(){return this.state===ot.joined}_isJoining(){return this.state===ot.joining}_isLeaving(){return this.state===ot.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,i,a){const o=t.toLocaleLowerCase(),u={type:o,filter:i,callback:a};return this.bindings[o]?this.bindings[o].push(u):this.bindings[o]=[u],this}_off(t,i){const a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(o=>{var u;return!(((u=o.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&wa.isEqual(o.filter,i))})),this}static isEqual(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const a in t)if(t[a]!==i[a])return!1;return!0}static isFilterValueEqual(t,i){return(t??void 0)===(i??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mn.close,{},t)}_onError(t){this._on(mn.error,{},i=>t(i))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ot.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const i={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(i.new=Sv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(i.old=Sv(t.columns,t.old_record)),i}}const Xf=()=>{},Ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QR=[1e3,2e3,5e3,1e4],YR=1e4,JR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XR{constructor(t,i){var a;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ld,this.transport=null,this.heartbeatIntervalMs=Ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Xf,this.ref=0,this.reconnectTimer=null,this.vsn=_v,this.logger=Xf,this.conn=null,this.sendBuffer=[],this.serializer=new qR,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...u)=>o(...u):(...u)=>fetch(...u),!(!((a=i?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=i.params.apikey,this.endPoint=`${t}/${Pd.websocket}`,this.httpEndpoint=S0(t),this._initializeOptions(i),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(i?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=UR.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const i=t.message;throw i.includes("Node.js")?new Error(`${i}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${i}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,i){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,i??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const i=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),i}async removeAllChannels(){const t=await Promise.all(this.channels.map(i=>i.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,i,a){this.logger(t,i,a)}connectionState(){switch(this.conn&&this.conn.readyState){case Nr.connecting:return di.Connecting;case Nr.open:return di.Open;case Nr.closing:return di.Closing;default:return di.Closed}}isConnected(){return this.connectionState()===di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,i={config:{}}){const a=`realtime:${t}`,o=this.getChannels().find(u=>u.topic===a);if(o)return o;{const u=new wa(`realtime:${t}`,i,this);return this.channels.push(u),u}}push(t){const{topic:i,event:a,payload:o,ref:u}=t,c=()=>{this.encode(t,f=>{var h;(h=this.conn)===null||h===void 0||h.send(f)})};this.log("push",`${i} ${a} (${u})`,o),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(i){this.log("error","error in heartbeat callback",i)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(i){this.log("error","error in heartbeat callback",i)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(BR,"heartbeat timeout"),setTimeout(()=>{var i;this.isConnected()||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout()},Ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(i){this.log("error","error in heartbeat callback",i)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let i=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));i&&(this.log("transport",`leaving duplicate topic "${t}"`),i.unsubscribe())}_remove(t){this.channels=this.channels.filter(i=>i.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,i=>{if(i.topic==="phoenix"&&i.event==="phx_reply"&&i.ref&&i.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(i.payload.status==="ok"?"ok":"error",p)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:a,event:o,payload:u,ref:c}=i,f=c?`(${c})`:"",h=u.status||"";this.log("receive",`${h} ${a} ${o} ${f}`.trim(),u),this.channels.filter(p=>p._isMember(a)).forEach(p=>p._trigger(o,u,c)),this._triggerStateCallbacks("message",i)})}_clearTimer(t){var i;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((i=this.reconnectTimer)===null||i===void 0||i.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Nr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Nr.open||this.conn.readyState===Nr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(i=>{this.log("error","error waiting for auth on connect",i),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=i=>{this.log("worker","worker error",i.message),this._terminateWorker()},this.workerRef.onmessage=i=>{i.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var i;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(i=this.reconnectTimer)===null||i===void 0||i.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(mn.error))}_appendParams(t,i){if(Object.keys(i).length===0)return t;const a=t.match(/\?/)?"&":"?",o=new URLSearchParams(i);return`${t}${a}${o}`}_workerObjectUrl(t){let i;if(t)i=t;else{const a=new Blob([JR],{type:"application/javascript"});i=URL.createObjectURL(a)}return i}_setConnectionState(t,i=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=i)}async _performAuth(t=null){let i,a=!1;if(t)i=t,a=!0;else if(this.accessToken)try{i=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),i=this.accessTokenValue}else i=this.accessTokenValue;a?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=i&&(this.accessTokenValue=i,this.channels.forEach(o=>{const u={access_token:i,version:PR};i&&o.updateJoinPayload(u),o.joinedOnce&&o._isJoined()&&o._push(mn.access_token,{access_token:i})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(i=>{this.log("error",`Error setting auth in ${t}`,i)})}_triggerStateCallbacks(t,i){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(i)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new w0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var i,a,o,u,c,f,h,p,g,y,b,_;switch(this.transport=(i=t?.transport)!==null&&i!==void 0?i:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Ld,this.heartbeatIntervalMs=(o=t?.heartbeatIntervalMs)!==null&&o!==void 0?o:Ol.HEARTBEAT_INTERVAL,this.worker=(u=t?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(c=t?.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(f=t?.heartbeatCallback)!==null&&f!==void 0?f:Xf,this.vsn=(h=t?.vsn)!==null&&h!==void 0?h:_v,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=t?.reconnectAfterMs)!==null&&p!==void 0?p:(x=>QR[x-1]||YR),this.vsn){case b0:this.encode=(g=t?.encode)!==null&&g!==void 0?g:((x,S)=>S(JSON.stringify(x))),this.decode=(y=t?.decode)!==null&&y!==void 0?y:((x,S)=>S(JSON.parse(x)));break;case zR:this.encode=(b=t?.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(_=t?.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}var Fs=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WR(e,t,i){const a=new URL(t,e);if(i)for(const[o,u]of Object.entries(i))u!==void 0&&a.searchParams.set(o,u);return a.toString()}async function ZR(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function eT(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:i,path:a,query:o,body:u,headers:c}){const f=WR(e.baseUrl,a,o),h=await ZR(e.auth),p=await t(f,{method:i,headers:{...u?{"Content-Type":"application/json"}:{},...h,...c},body:u?JSON.stringify(u):void 0}),g=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),b=y&&g?JSON.parse(g):g;if(!p.ok){const _=y?b:void 0,x=_?.error;throw new Fs(x?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:x?.type,icebergCode:x?.code,details:_})}return{status:p.status,headers:p.headers,data:b}}}}function Cl(e){return e.join("")}var tT=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Cl(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(e,t){const i={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:i})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Cl(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Cl(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Cl(e.namespace)}`}),!0}catch(t){if(t instanceof Fs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(i){if(i instanceof Fs&&i.status===409)return;throw i}}};function sa(e){return e.join("")}var nT=class{constructor(e,t="",i){this.client=e,this.prefix=t,this.accessDelegation=i}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sa(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const i={};return this.accessDelegation&&(i["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sa(e.namespace)}/tables`,body:t,headers:i})).data.metadata}async updateTable(e,t){const i=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sa(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":i.data["metadata-location"],metadata:i.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sa(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sa(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sa(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(i){if(i instanceof Fs&&i.status===404)return!1;throw i}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(i){if(i instanceof Fs&&i.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw i}}},rT=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const i=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=eT({baseUrl:i,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new tT(this.client,t),this.tableOps=new nT(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hu=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var iT=class extends hu{constructor(e,t,i){super(e),this.name="StorageApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Bd=class extends hu{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const _h=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aT=()=>Response,Id=e=>{if(Array.isArray(e))return e.map(i=>Id(i));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([i,a])=>{const o=i.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[o]=Id(a)}),t},sT=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oT=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Qs(e){"@babel/helpers - typeof";return Qs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qs(e)}function lT(e,t){if(Qs(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t);if(Qs(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uT(e){var t=lT(e,"string");return Qs(t)=="symbol"?t:t+""}function cT(e,t,i){return(t=uT(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Av(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,a)}return i}function de(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Av(Object(i),!0).forEach(function(a){cT(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Av(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}const Wf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},fT=async(e,t,i)=>{e instanceof await aT()&&!i?.noResolveJson?e.json().then(a=>{const o=e.status||500,u=a?.statusCode||o+"";t(new iT(Wf(a),o,u))}).catch(a=>{t(new Bd(Wf(a),a))}):t(new Bd(Wf(e),e))},dT=(e,t,i,a)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"||!a?o:(sT(a)?(o.headers=de({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,t?.duplex&&(o.duplex=t.duplex),de(de({},o),i))};async function ro(e,t,i,a,o,u){return new Promise((c,f)=>{e(i,dT(t,a,o,u)).then(h=>{if(!h.ok)throw h;return a?.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>fT(h,f,a))})}async function Ys(e,t,i,a){return ro(e,"GET",t,i,a)}async function hn(e,t,i,a,o){return ro(e,"POST",t,a,o,i)}async function qd(e,t,i,a,o){return ro(e,"PUT",t,a,o,i)}async function hT(e,t,i,a){return ro(e,"HEAD",t,de(de({},i),{},{noResolveJson:!0}),a)}async function Sh(e,t,i,a,o){return ro(e,"DELETE",t,a,o,i)}var mT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}}};let E0;E0=Symbol.toStringTag;var pT=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[E0]="BlobDownloadBuilder",this.promise=null}asStream(){return new mT(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Fe(t))return{data:null,error:t};throw t}}};const gT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var yT=class{constructor(e,t={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=i,this.fetch=_h(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,i,a){var o=this;try{let u;const c=de(de({},Rv),a);let f=de(de({},o.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),h&&u.append("metadata",o.encodeMetadata(h)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.has("cacheControl")||u.append("cacheControl",c.cacheControl),h&&!u.has("metadata")&&u.append("metadata",o.encodeMetadata(h))):(u=i,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType,h&&(f["x-metadata"]=o.toBase64(o.encodeMetadata(h))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!c.duplex&&(c.duplex="half")),a?.headers&&(f=de(de({},f),a.headers));const p=o._removeEmptyFolders(t),g=o._getFinalPath(p),y=await(e=="PUT"?qd:hn)(o.fetch,`${o.url}/object/${g}`,u,de({headers:f},c?.duplex?{duplex:c.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(u){if(o.shouldThrowOnError)throw u;if(Fe(u))return{data:null,error:u};throw u}}async upload(e,t,i){return this.uploadOrUpdate("POST",e,t,i)}async uploadToSignedUrl(e,t,i,a){var o=this;const u=o._removeEmptyFolders(e),c=o._getFinalPath(u),f=new URL(o.url+`/object/upload/sign/${c}`);f.searchParams.set("token",t);try{let h;const p=de({upsert:Rv.upsert},a),g=de(de({},o.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",p.cacheControl)):(h=i,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{data:{path:u,fullPath:(await qd(o.fetch,f.toString(),h,{headers:g})).Key},error:null}}catch(h){if(o.shouldThrowOnError)throw h;if(Fe(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(e,t){var i=this;try{let a=i._getFinalPath(e);const o=de({},i.headers);t?.upsert&&(o["x-upsert"]="true");const u=await hn(i.fetch,`${i.url}/object/upload/sign/${a}`,{},{headers:o}),c=new URL(i.url+u.url),f=c.searchParams.get("token");if(!f)throw new hu("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:f},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async update(e,t,i){return this.uploadOrUpdate("PUT",e,t,i)}async move(e,t,i){var a=this;try{return{data:await hn(a.fetch,`${a.url}/object/move`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async copy(e,t,i){var a=this;try{return{data:{path:(await hn(a.fetch,`${a.url}/object/copy`,{bucketId:a.bucketId,sourceKey:e,destinationKey:t,destinationBucket:i?.destinationBucket},{headers:a.headers})).Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,i){var a=this;try{let o=a._getFinalPath(e),u=await hn(a.fetch,`${a.url}/object/sign/${o}`,de({expiresIn:t},i?.transform?{transform:i.transform}:{}),{headers:a.headers});const c=i?.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${a.url}${u.signedURL}${c}`)},{data:u,error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,i){var a=this;try{const o=await hn(a.fetch,`${a.url}/object/sign/${a.bucketId}`,{expiresIn:t,paths:e},{headers:a.headers}),u=i?.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(c=>de(de({},c),{},{signedUrl:c.signedURL?encodeURI(`${a.url}${c.signedURL}${u}`):null})),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}download(e,t){const i=typeof t?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(t?.transform||{}),o=a?`?${a}`:"",u=this._getFinalPath(e),c=()=>Ys(this.fetch,`${this.url}/${i}/${u}${o}`,{headers:this.headers,noResolveJson:!0});return new pT(c,this.shouldThrowOnError)}async info(e){var t=this;const i=t._getFinalPath(e);try{return{data:Id(await Ys(t.fetch,`${t.url}/object/info/${i}`,{headers:t.headers})),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async exists(e){var t=this;const i=t._getFinalPath(e);try{return await hT(t.fetch,`${t.url}/object/${i}`,{headers:t.headers}),{data:!0,error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(Fe(a)&&a instanceof Bd){const o=a.originalError;if([400,404].includes(o?.status))return{data:!1,error:a}}throw a}}getPublicUrl(e,t){const i=this._getFinalPath(e),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);const u=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&a.push(c);let f=a.join("&");return f!==""&&(f=`?${f}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${f}`)}}}async remove(e){var t=this;try{return{data:await Sh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async list(e,t,i){var a=this;try{const o=de(de(de({},gT),t),{},{prefix:e||""});return{data:await hn(a.fetch,`${a.url}/object/list/${a.bucketId}`,o,{headers:a.headers},i),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Fe(o))return{data:null,error:o};throw o}}async listV2(e,t){var i=this;try{const a=de({},e);return{data:await hn(i.fetch,`${i.url}/object/list-v2/${i.bucketId}`,a,{headers:i.headers},t),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const x0="2.90.1",A0={"X-Client-Info":`storage-js/${x0}`};var vT=class{constructor(e,t={},i,a){this.shouldThrowOnError=!1;const o=new URL(e);a?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=de(de({},A0),t),this.fetch=_h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const i=t.listBucketOptionsToQueryString(e);return{data:await Ys(t.fetch,`${t.url}/bucket${i}`,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async getBucket(e){var t=this;try{return{data:await Ys(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async createBucket(e,t={public:!1}){var i=this;try{return{data:await hn(i.fetch,`${i.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async updateBucket(e,t){var i=this;try{return{data:await qd(i.fetch,`${i.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(Fe(a))return{data:null,error:a};throw a}}async emptyBucket(e){var t=this;try{return{data:await hn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async deleteBucket(e){var t=this;try{return{data:await Sh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},bT=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},A0),t),this.fetch=_h(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await hn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async listBuckets(e){var t=this;try{const i=new URLSearchParams;e?.limit!==void 0&&i.set("limit",e.limit.toString()),e?.offset!==void 0&&i.set("offset",e.offset.toString()),e?.sortColumn&&i.set("sortColumn",e.sortColumn),e?.sortOrder&&i.set("sortOrder",e.sortOrder),e?.search&&i.set("search",e.search);const a=i.toString(),o=a?`${t.url}/bucket?${a}`:`${t.url}/bucket`;return{data:await Ys(t.fetch,o,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}async deleteBucket(e){var t=this;try{return{data:await Sh(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if(Fe(i))return{data:null,error:i};throw i}}from(e){var t=this;if(!oT(e))throw new hu("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const i=new rT({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),a=this.shouldThrowOnError;return new Proxy(i,{get(o,u){const c=o[u];return typeof c!="function"?c:async(...f)=>{try{return{data:await c.apply(o,f),error:null}}catch(h){if(a)throw h;return{data:null,error:h}}}}})}};const Eh={"X-Client-Info":`storage-js/${x0}`,"Content-Type":"application/json"};var R0=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $t(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Zf=class extends R0{constructor(e,t,i){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},wT=class extends R0{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const xh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_T=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Tv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ST=async(e,t,i)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!i?.noResolveJson){const a=e.status||500,o=e;if(typeof o.json=="function")o.json().then(u=>{const c=u?.statusCode||u?.code||a+"";t(new Zf(Tv(u),a,c))}).catch(()=>{const u=a+"";t(new Zf(o.statusText||`HTTP ${a} error`,a,u))});else{const u=a+"";t(new Zf(o.statusText||`HTTP ${a} error`,a,u))}}else t(new wT(Tv(e),e))},ET=(e,t,i,a)=>{const o={method:e,headers:t?.headers||{}};return a?(_T(a)?(o.headers=de({"Content-Type":"application/json"},t?.headers),o.body=JSON.stringify(a)):o.body=a,de(de({},o),i)):o};async function xT(e,t,i,a,o,u){return new Promise((c,f)=>{e(i,ET(t,a,o,u)).then(h=>{if(!h.ok)throw h;if(a?.noResolveJson)return h;const p=h.headers.get("content-type");return!p||!p.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>ST(h,f,a))})}async function Ht(e,t,i,a,o){return xT(e,"POST",t,a,o,i)}var AT=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Eh),t),this.fetch=xh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async getIndex(e,t){var i=this;try{return{data:await Ht(i.fetch,`${i.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:i.headers}),error:null}}catch(a){if(i.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}}async listIndexes(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async deleteIndex(e,t){var i=this;try{return{data:await Ht(i.fetch,`${i.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:i.headers})||{},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if($t(a))return{data:null,error:a};throw a}}},RT=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Eh),t),this.fetch=xh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async getVectors(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Ht(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async queryVectors(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Ht(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}},TT=class{constructor(e,t={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=de(de({},Eh),t),this.fetch=xh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async getBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async listBuckets(e={}){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async deleteBucket(e){var t=this;try{return{data:await Ht(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(i){if(t.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}},OT=class extends TT{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new CT(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,i=this;return t().call(i,e)}async getBucket(e){var t=()=>super.getBucket,i=this;return t().call(i,e)}async listBuckets(e={}){var t=()=>super.listBuckets,i=this;return t().call(i,e)}async deleteBucket(e){var t=()=>super.deleteBucket,i=this;return t().call(i,e)}},CT=class extends AT{constructor(e,t,i,a){super(e,t,a),this.vectorBucketName=i}async createIndex(e){var t=()=>super.createIndex,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,i=this;return t().call(i,i.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,i=this;return t().call(i,i.vectorBucketName,e)}index(e){return new kT(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},kT=class extends RT{constructor(e,t,i,a,o){super(e,t,o),this.vectorBucketName=i,this.indexName=a}async putVectors(e){var t=()=>super.putVectors,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async getVectors(e){var t=()=>super.getVectors,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,i=this;return t().call(i,de(de({},e),{},{vectorBucketName:i.vectorBucketName,indexName:i.indexName}))}},NT=class extends vT{constructor(e,t={},i,a){super(e,t,i,a)}from(e){return new yT(this.url,this.headers,e,this.fetch)}get vectors(){return new OT(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new bT(this.url+"/iceberg",this.headers,this.fetch)}};const T0="2.90.1",va=30*1e3,$d=3,ed=$d*va,DT="http://localhost:9999",jT="supabase.auth.token",MT={"X-Client-Info":`gotrue-js/${T0}`},Hd="X-Supabase-Api-Version",O0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LT=600*1e3;class Js extends Error{constructor(t,i,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=i,this.code=a}}function se(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PT extends Js{constructor(t,i,a){super(t,i,a),this.name="AuthApiError",this.status=i,this.code=a}}function zT(e){return se(e)&&e.name==="AuthApiError"}class hi extends Js{constructor(t,i){super(t),this.name="AuthUnknownError",this.originalError=i}}class nr extends Js{constructor(t,i,a,o){super(t,a,o),this.name=i,this.status=a}}class It extends nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BT(e){return se(e)&&e.name==="AuthSessionMissingError"}class oa extends nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kl extends nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Nl extends nr{constructor(t,i=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function IT(e){return se(e)&&e.name==="AuthImplicitGrantRedirectError"}class Ov extends nr{constructor(t,i=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=i}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qT extends nr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vd extends nr{constructor(t,i){super(t,"AuthRetryableFetchError",i,void 0)}}function td(e){return se(e)&&e.name==="AuthRetryableFetchError"}class Cv extends nr{constructor(t,i,a){super(t,"AuthWeakPasswordError",i,"weak_password"),this.reasons=a}}class Gd extends nr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),kv=` 	
\r=`.split(""),$T=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<kv.length;t+=1)e[kv[t].charCodeAt(0)]=-2;for(let t=0;t<Xl.length;t+=1)e[Xl[t].charCodeAt(0)]=t;return e})();function Nv(e,t,i){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(Xl[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const a=t.queue>>t.queuedBits-6&63;i(Xl[a]),t.queuedBits-=6}}function C0(e,t,i){const a=$T[e];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)i(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Dv(e){const t=[],i=c=>{t.push(String.fromCodePoint(c))},a={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},u=c=>{GT(c,a,i)};for(let c=0;c<e.length;c+=1)C0(e.charCodeAt(c),o,u);return t.join("")}function HT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function VT(e,t){for(let i=0;i<e.length;i+=1){let a=e.charCodeAt(i);if(a>55295&&a<=56319){const o=(a-55296)*1024&65535;a=(e.charCodeAt(i+1)-56320&65535|o)+65536,i+=1}HT(a,t)}}function GT(e,t,i){if(t.utf8seq===0){if(e<=127){i(e);return}for(let a=1;a<6;a+=1)if((e>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&i(t.codepoint)}}function Sa(e){const t=[],i={queue:0,queuedBits:0},a=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)C0(e.charCodeAt(o),i,a);return new Uint8Array(t)}function KT(e){const t=[];return VT(e,i=>t.push(i)),new Uint8Array(t)}function pi(e){const t=[],i={queue:0,queuedBits:0},a=o=>{t.push(o)};return e.forEach(o=>Nv(o,i,a)),Nv(null,i,a),t.join("")}function FT(e){return Math.round(Date.now()/1e3)+e}function QT(){return Symbol("auth-callback")}const yt=()=>typeof window<"u"&&typeof document<"u",li={tested:!1,writable:!1},k0=()=>{if(!yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(li.tested)return li.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),li.tested=!0,li.writable=!0}catch{li.tested=!0,li.writable=!1}return li.writable};function YT(e){const t={},i=new URL(e);if(i.hash&&i.hash[0]==="#")try{new URLSearchParams(i.hash.substring(1)).forEach((o,u)=>{t[u]=o})}catch{}return i.searchParams.forEach((a,o)=>{t[o]=a}),t}const N0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),JT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ba=async(e,t,i)=>{await e.setItem(t,JSON.stringify(i))},ui=async(e,t)=>{const i=await e.getItem(t);if(!i)return null;try{return JSON.parse(i)}catch{return i}},gt=async(e,t)=>{await e.removeItem(t)};class mu{constructor(){this.promise=new mu.promiseConstructor((t,i)=>{this.resolve=t,this.reject=i})}}mu.promiseConstructor=Promise;function nd(e){const t=e.split(".");if(t.length!==3)throw new Gd("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!UT.test(t[a]))throw new Gd("JWT not in base64url format");return{header:JSON.parse(Dv(t[0])),payload:JSON.parse(Dv(t[1])),signature:Sa(t[2]),raw:{header:t[0],payload:t[1]}}}async function XT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WT(e,t){return new Promise((a,o)=>{(async()=>{for(let u=0;u<1/0;u++)try{const c=await e(u);if(!t(u,null,c)){a(c);return}}catch(c){if(!t(u,c)){o(c);return}}})()})}function ZT(e){return("0"+e.toString(16)).substr(-2)}function eO(){const t=new Uint32Array(56);if(typeof crypto>"u"){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=i.length;let o="";for(let u=0;u<56;u++)o+=i.charAt(Math.floor(Math.random()*a));return o}return crypto.getRandomValues(t),Array.from(t,ZT).join("")}async function tO(e){const i=new TextEncoder().encode(e),a=await crypto.subtle.digest("SHA-256",i),o=new Uint8Array(a);return Array.from(o).map(u=>String.fromCharCode(u)).join("")}async function nO(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const i=await tO(e);return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function la(e,t,i=!1){const a=eO();let o=a;i&&(o+="/PASSWORD_RECOVERY"),await ba(e,`${t}-code-verifier`,o);const u=await nO(a);return[u,a===u?"plain":"s256"]}const rO=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function iO(e){const t=e.headers.get(Hd);if(!t||!t.match(rO))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aO(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function sO(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const oO=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ua(e){if(!oO.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rd(){const e={};return new Proxy(e,{get:(t,i)=>{if(i==="__isUserNotAvailableProxy")return!0;if(typeof i=="symbol"){const a=i.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${i}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,i)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${i}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function lO(e,t){return new Proxy(e,{get:(i,a,o)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(i,a,o)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(i,a,o)}})}function jv(e){return JSON.parse(JSON.stringify(e))}const fi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uO=[502,503,504];async function Mv(e){var t;if(!JT(e))throw new Vd(fi(e),0);if(uO.includes(e.status))throw new Vd(fi(e),e.status);let i;try{i=await e.json()}catch(u){throw new hi(fi(u),u)}let a;const o=iO(e);if(o&&o.getTime()>=O0["2024-01-01"].timestamp&&typeof i=="object"&&i&&typeof i.code=="string"?a=i.code:typeof i=="object"&&i&&typeof i.error_code=="string"&&(a=i.error_code),a){if(a==="weak_password")throw new Cv(fi(i),e.status,((t=i.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new It}else if(typeof i=="object"&&i&&typeof i.weak_password=="object"&&i.weak_password&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.reasons.reduce((u,c)=>u&&typeof c=="string",!0))throw new Cv(fi(i),e.status,i.weak_password.reasons);throw new PT(fi(i),e.status||500,a)}const cO=(e,t,i,a)=>{const o={method:e,headers:t?.headers||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),o.body=JSON.stringify(a),Object.assign(Object.assign({},o),i))};async function fe(e,t,i,a){var o;const u=Object.assign({},a?.headers);u[Hd]||(u[Hd]=O0["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const c=(o=a?.query)!==null&&o!==void 0?o:{};a?.redirectTo&&(c.redirect_to=a.redirectTo);const f=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await fO(e,t,i+f,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(h):{data:Object.assign({},h),error:null}}async function fO(e,t,i,a,o,u){const c=cO(t,a,o,u);let f;try{f=await e(i,Object.assign({},c))}catch(h){throw console.error(h),new Vd(fi(h),0)}if(f.ok||await Mv(f),a?.noResolveJson)return f;try{return await f.json()}catch(h){await Mv(h)}}function dn(e){var t;let i=null;mO(e)&&(i=Object.assign({},e),e.expires_at||(i.expires_at=FT(e.expires_in)));const a=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:i,user:a},error:null}}function Uv(e){const t=dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Dr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dO(e){return{data:e,error:null}}function hO(e){const{action_link:t,email_otp:i,hashed_token:a,redirect_to:o,verification_type:u}=e,c=La(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:t,email_otp:i,hashed_token:a,redirect_to:o,verification_type:u},h=Object.assign({},c);return{data:{properties:f,user:h},error:null}}function Lv(e){return e}function mO(e){return e.access_token&&e.refresh_token&&e.expires_in}const id=["global","local","others"];class pO{constructor({url:t="",headers:i={},fetch:a}){this.url=t,this.headers=i,this.fetch=N0(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,i=id[0]){if(id.indexOf(i)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${id.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${i}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(se(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,i={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:i.data},headers:this.headers,redirectTo:i.redirectTo,xform:Dr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{const{options:i}=t,a=La(t,["options"]),o=Object.assign(Object.assign({},a),i);return"newEmail"in a&&(o.new_email=a?.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:hO,redirectTo:i?.redirectTo})}catch(i){if(se(i))return{data:{properties:null,user:null},error:i};throw i}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Dr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async listUsers(t){var i,a,o,u,c,f,h;try{const p={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Lv});if(g.error)throw g.error;const y=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);p[`${A}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(se(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){ua(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Dr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async updateUserById(t,i){ua(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:i,headers:this.headers,xform:Dr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,i=!1){ua(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:i},xform:Dr})}catch(a){if(se(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){ua(t.userId);try{const{data:i,error:a}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:i,error:a}}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteFactor(t){ua(t.userId),ua(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async _listOAuthClients(t){var i,a,o,u,c,f,h;try{const p={nextPage:null,lastPage:0,total:0},g=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(i=t?.page)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:"",per_page:(u=(o=t?.perPage)===null||o===void 0?void 0:o.toString())!==null&&u!==void 0?u:""},xform:Lv});if(g.error)throw g.error;const y=await g.json(),b=(c=g.headers.get("x-total-count"))!==null&&c!==void 0?c:0,_=(h=(f=g.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&h!==void 0?h:[];return _.length>0&&(_.forEach(x=>{const S=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(x.split(";")[1].split("=")[1]);p[`${A}Page`]=S}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(se(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _updateOAuthClient(t,i){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:i,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(se(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}}function Pv(e={}){return{getItem:t=>e[t]||null,setItem:(t,i)=>{e[t]=i},removeItem:t=>{delete e[t]}}}const ca={debug:!!(globalThis&&k0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class D0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class gO extends D0{}async function yO(e,t,i){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),ca.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async o=>{if(o){ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await i()}finally{ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw ca.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new gO(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ca.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await i()}}))}function vO(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function j0(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function bO(e){return parseInt(e,16)}function wO(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function _O(e){var t;const{chainId:i,domain:a,expirationTime:o,issuedAt:u=new Date,nonce:c,notBefore:f,requestId:h,resources:p,scheme:g,uri:y,version:b}=e;{if(!Number.isInteger(i))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${i}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const _=j0(e.address),x=g?`${g}://${a}`:a,S=e.statement?`${e.statement}
`:"",A=`${x} wants you to sign in with your Ethereum account:
${_}

${S}`;let R=`URI: ${y}
Version: ${b}
Chain ID: ${i}${c?`
Nonce: ${c}`:""}
Issued At: ${u.toISOString()}`;if(o&&(R+=`
Expiration Time: ${o.toISOString()}`),f&&(R+=`
Not Before: ${f.toISOString()}`),h&&(R+=`
Request ID: ${h}`),p){let T=`
Resources:`;for(const O of p){if(!O||typeof O!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${O}`);T+=`
- ${O}`}R+=T}return`${A}
${R}`}class it extends Error{constructor({message:t,code:i,cause:a,name:o}){var u;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=o??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=i}}class Wl extends it{constructor(t,i){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i,message:t}),this.name="WebAuthnUnknownError",this.originalError=i}}function SO({error:e,options:t}){var i,a,o;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((i=u.authenticatorSelection)===null||i===void 0?void 0:i.requireResidentKey)===!0)return new it({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new it({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new it({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new it({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new it({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new it({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const c=window.location.hostname;if(M0(c)){if(u.rp.id!==c)return new it({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new it({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function EO({error:e,options:t}){const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new it({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new it({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(M0(a)){if(i.rpId!==a)return new it({message:`The RP ID "${i.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new it({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new it({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new it({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class xO{createNewAbortSignal(){if(this.controller){const i=new Error("Cancelling existing WebAuthn API call for new one");i.name="AbortError",this.controller.abort(i)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const AO=new xO;function RO(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:i,excludeCredentials:a}=e,o=La(e,["challenge","user","excludeCredentials"]),u=Sa(t).buffer,c=Object.assign(Object.assign({},i),{id:Sa(i.id).buffer}),f=Object.assign(Object.assign({},o),{challenge:u,user:c});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let h=0;h<a.length;h++){const p=a[h];f.excludeCredentials[h]=Object.assign(Object.assign({},p),{id:Sa(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return f}function TO(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:i}=e,a=La(e,["challenge","allowCredentials"]),o=Sa(t).buffer,u=Object.assign(Object.assign({},a),{challenge:o});if(i&&i.length>0){u.allowCredentials=new Array(i.length);for(let c=0;c<i.length;c++){const f=i[c];u.allowCredentials[c]=Object.assign(Object.assign({},f),{id:Sa(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function OO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const i=e;return{id:e.id,rawId:e.id,response:{attestationObject:pi(new Uint8Array(e.response.attestationObject)),clientDataJSON:pi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function CO(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const i=e,a=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pi(new Uint8Array(o.authenticatorData)),clientDataJSON:pi(new Uint8Array(o.clientDataJSON)),signature:pi(new Uint8Array(o.signature)),userHandle:o.userHandle?pi(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=i.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function M0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function zv(){var e,t;return!!(yt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function kO(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",t)}:{data:null,error:new Wl("Empty credential response",t)}}catch(t){return{data:null,error:SO({error:t,options:e})}}}async function NO(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Wl("Browser returned unexpected credential type",t)}:{data:null,error:new Wl("Empty credential response",t)}}catch(t){return{data:null,error:EO({error:t,options:e})}}}const DO={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},jO={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Zl(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),i=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),a={};for(const o of e)if(o)for(const u in o){const c=o[u];if(c!==void 0)if(Array.isArray(c))a[u]=c;else if(i(c))a[u]=c;else if(t(c)){const f=a[u];t(f)?a[u]=Zl(f,c):a[u]=Zl(c)}else a[u]=c}return a}function MO(e,t){return Zl(DO,e,t||{})}function UO(e,t){return Zl(jO,e,t||{})}class LO{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:i,friendlyName:a,signal:o},u){try{const{data:c,error:f}=await this.client.mfa.challenge({factorId:t,webauthn:i});if(!c)return{data:null,error:f};const h=o??AO.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:p}=c.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${a}`),p.displayName||(p.displayName=p.name)}switch(c.webauthn.type){case"create":{const p=MO(c.webauthn.credential_options.publicKey,u?.create),{data:g,error:y}=await kO({publicKey:p,signal:h});return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}case"request":{const p=UO(c.webauthn.credential_options.publicKey,u?.request),{data:g,error:y}=await NO(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:p,signal:h}));return g?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:g}},error:null}:{data:null,error:y}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new hi("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:i,webauthn:a}){return this.client.mfa.verify({factorId:i,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Js("rpId is required for WebAuthn authentication")};try{if(!zv())return{data:null,error:new hi("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this.challenge({factorId:t,webauthn:{rpId:i,rpOrigins:a},signal:o},{request:u});if(!c)return{data:null,error:f};const{webauthn:h}=c;return this._verify({factorId:t,challengeId:c.challengeId,webauthn:{type:h.type,rpId:i,rpOrigins:a,credential_response:h.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new hi("Unexpected error in authenticate",c)}}}async _register({friendlyName:t,webauthn:{rpId:i=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},u){if(!i)return{data:null,error:new Js("rpId is required for WebAuthn registration")};try{if(!zv())return{data:null,error:new hi("Browser does not support WebAuthn",null)};const{data:c,error:f}=await this._enroll({friendlyName:t});if(!c)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:f};const{data:h,error:p}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:i,rpOrigins:a},signal:o},{create:u});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:i,rpOrigins:a,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:p}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new hi("Unexpected error in register",c)}}}}vO();const PO={url:DT,storageKey:jT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:MT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Bv(e,t,i){return await i()}const fa={};class Xs{get jwks(){var t,i;return(i=(t=fa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&i!==void 0?i:{keys:[]}}set jwks(t){fa[this.storageKey]=Object.assign(Object.assign({},fa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,i;return(i=(t=fa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&i!==void 0?i:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){fa[this.storageKey]=Object.assign(Object.assign({},fa[this.storageKey]),{cachedAt:t})}constructor(t){var i,a,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},PO),t);if(this.storageKey=u.storageKey,this.instanceID=(i=Xs.nextInstanceID[this.storageKey])!==null&&i!==void 0?i:0,Xs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&yt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new pO({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=N0(u.fetch),this.lock=u.lock||Bv,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&yt()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=yO:this.lock=Bv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new LO(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:k0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Pv(this.memoryStorage)),yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${T0}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let i={},a="none";if(yt()&&(i=YT(window.location.href),this._isImplicitGrantCallback(i)?a="implicit":await this._isPKCECallback(i)&&(a="pkce")),yt()&&this.detectSessionInUrl&&a!=="none"){const{data:o,error:u}=await this._getSessionFromURL(i,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),IT(u)){const h=(t=u.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:c,redirectType:f}=o;return this._debug("#_initialize()","detected session in URL",c,"redirect type",f),await this._saveSession(c),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(i){return se(i)?this._returnResult({error:i}):this._returnResult({error:new hi("Unexpected error during initialization",i)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var i,a,o;try{const u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(i=t?.options)===null||i===void 0?void 0:i.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:dn}),{data:c,error:f}=u;if(f||!c)return this._returnResult({data:{user:null,session:null},error:f});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(u){if(se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var i,a,o;try{let u;if("email"in t){const{email:g,password:y,options:b}=t;let _=null,x=null;this.flowType==="pkce"&&([_,x]=await la(this.storage,this.storageKey)),u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b?.emailRedirectTo,body:{email:g,password:y,data:(i=b?.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:b?.captchaToken},code_challenge:_,code_challenge_method:x},xform:dn})}else if("phone"in t){const{phone:g,password:y,options:b}=t;u=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(a=b?.data)!==null&&a!==void 0?a:{},channel:(o=b?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b?.captchaToken}},xform:dn})}else throw new kl("You must provide either an email or phone number and a password");const{data:c,error:f}=u;if(f||!c)return await gt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const h=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let i;if("email"in t){const{email:u,password:c,options:f}=t;i=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Uv})}else if("phone"in t){const{phone:u,password:c,options:f}=t;i=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:c,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Uv})}else throw new kl("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!a||!a.session||!a.user){const u=new oa;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOAuth(t){var i,a,o,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:i}=t;switch(i){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${i}"`)}}async signInWithEthereum(t){var i,a,o,u,c,f,h,p,g,y,b;let _,x;if("message"in t)_=t.message,x=t.signature;else{const{chain:S,wallet:A,statement:R,options:T}=t;let O;if(yt())if(typeof A=="object")O=A;else{const Z=window;if("ethereum"in Z&&typeof Z.ethereum=="object"&&"request"in Z.ethereum&&typeof Z.ethereum.request=="function")O=Z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!T?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=A}const M=new URL((i=T?.url)!==null&&i!==void 0?i:window.location.href),I=await O.request({method:"eth_requestAccounts"}).then(Z=>Z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const K=j0(I[0]);let U=(a=T?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!U){const Z=await O.request({method:"eth_chainId"});U=bO(Z)}const H={domain:M.host,address:K,statement:R,uri:M.href,version:"1",chainId:U,nonce:(o=T?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(c=(u=T?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(f=T?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(h=T?.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(p=T?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=T?.signInWithEthereum)===null||g===void 0?void 0:g.resources};_=_O(H),x=await O.request({method:"personal_sign",params:[wO(_),K]})}try{const{data:S,error:A}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:_,signature:x},!((y=t.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:dn});if(A)throw A;if(!S||!S.session||!S.user){const R=new oa;return this._returnResult({data:{user:null,session:null},error:R})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:A})}catch(S){if(se(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var i,a,o,u,c,f,h,p,g,y,b,_;let x,S;if("message"in t)x=t.message,S=t.signature;else{const{chain:A,wallet:R,statement:T,options:O}=t;let M;if(yt())if(typeof R=="object")M=R;else{const K=window;if("solana"in K&&typeof K.solana=="object"&&("signIn"in K.solana&&typeof K.solana.signIn=="function"||"signMessage"in K.solana&&typeof K.solana.signMessage=="function"))M=K.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!O?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=R}const I=new URL((i=O?.url)!==null&&i!==void 0?i:window.location.href);if("signIn"in M&&M.signIn){const K=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},O?.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),T?{statement:T}:null));let U;if(Array.isArray(K)&&K[0]&&typeof K[0]=="object")U=K[0];else if(K&&typeof K=="object"&&"signedMessage"in K&&"signature"in K)U=K;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in U&&"signature"in U&&(typeof U.signedMessage=="string"||U.signedMessage instanceof Uint8Array)&&U.signature instanceof Uint8Array)x=typeof U.signedMessage=="string"?U.signedMessage:new TextDecoder().decode(U.signedMessage),S=U.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${I.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(a=O?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((u=O?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${O.signInWithSolana.notBefore}`]:[],...!((c=O?.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${O.signInWithSolana.expirationTime}`]:[],...!((f=O?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${O.signInWithSolana.chainId}`]:[],...!((h=O?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${O.signInWithSolana.nonce}`]:[],...!((p=O?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${O.signInWithSolana.requestId}`]:[],...!((y=(g=O?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...O.signInWithSolana.resources.map(U=>`- ${U}`)]:[]].join(`
`);const K=await M.signMessage(new TextEncoder().encode(x),"utf8");if(!K||!(K instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=K}}try{const{data:A,error:R}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:pi(S)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(_=t.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:dn});if(R)throw R;if(!A||!A.session||!A.user){const T=new oa;return this._returnResult({data:{user:null,session:null},error:T})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:R})}catch(A){if(se(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const i=await ui(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(i??"").split("/");try{if(!a&&this.flowType==="pkce")throw new qT;const{data:u,error:c}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:dn});if(await gt(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!u||!u.session||!u.user){const f=new oa;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:o??null}),error:c})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:i,provider:a,token:o,access_token:u,nonce:c}=t,f=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:u,nonce:c,gotrue_meta_security:{captcha_token:i?.captchaToken}},xform:dn}),{data:h,error:p}=f;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h||!h.session||!h.user){const g=new oa;return this._returnResult({data:{user:null,session:null},error:g})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:p})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithOtp(t){var i,a,o,u,c;try{if("email"in t){const{email:f,options:h}=t;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await la(this.storage,this.storageKey));const{error:y}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(i=h?.data)!==null&&i!==void 0?i:{},create_user:(a=h?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in t){const{phone:f,options:h}=t,{data:p,error:g}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(o=h?.data)!==null&&o!==void 0?o:{},create_user:(u=h?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(c=h?.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new kl("You must provide either an email or phone number.")}catch(f){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(t){var i,a;try{let o,u;"options"in t&&(o=(i=t.options)===null||i===void 0?void 0:i.redirectTo,u=(a=t.options)===null||a===void 0?void 0:a.captchaToken);const{data:c,error:f}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:o,xform:dn});if(f)throw f;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,p=c.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:p,session:h},error:null})}catch(o){if(se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var i,a,o,u,c;try{let f=null,h=null;this.flowType==="pkce"&&([f,h]=await la(this.storage,this.storageKey));const p=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(i=t.options)===null||i===void 0?void 0:i.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:h}),headers:this.headers,xform:dO});return!((u=p.data)===null||u===void 0)&&u.url&&yt()&&!(!((c=t.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(f){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;if(a)throw a;if(!i)throw new It;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:i.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(se(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const i=`${this.url}/resend`;if("email"in t){const{email:a,type:o,options:u}=t,{error:c}=await fe(this.fetch,"POST",i,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in t){const{phone:a,type:o,options:u}=t,{data:c,error:f}=await fe(this.fetch,"POST",i,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c?.message_id},error:f})}throw new kl("You must provide either an email or phone number and a type")}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async i=>i))}async _acquireLock(t,i){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await a,await i()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=i();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const i=await this.__loadSession();return await t(i)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const i=await ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",i),i!==null&&(this._isValidSession(i)?t=i:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const a=t.expires_at?t.expires_at*1e3-Date.now()<ed:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.userStorage){const c=await ui(this.userStorage,this.storageKey+"-user");c?.user?t.user=c.user:t.user=rd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};t.user=lO(t.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const i=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return i.data.user&&(this.suppressGetSessionWarning=!0),i}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Dr}):await this._useSession(async i=>{var a,o,u;const{data:c,error:f}=i;if(f)throw f;return!(!((a=c.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new It}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(o=c.session)===null||o===void 0?void 0:o.access_token)!==null&&u!==void 0?u:void 0,xform:Dr})})}catch(i){if(se(i))return BT(i)&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:i});throw i}}async updateUser(t,i={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,i))}async _updateUser(t,i={}){try{return await this._useSession(async a=>{const{data:o,error:u}=a;if(u)throw u;if(!o.session)throw new It;const c=o.session;let f=null,h=null;this.flowType==="pkce"&&t.email!=null&&([f,h]=await la(this.storage,this.storageKey));const{data:p,error:g}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:i?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:f,code_challenge_method:h}),jwt:c.access_token,xform:Dr});if(g)throw g;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(a){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new It;const i=Date.now()/1e3;let a=i,o=!0,u=null;const{payload:c}=nd(t.access_token);if(c.exp&&(a=c.exp,o=a<=i),o){const{data:f,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:h}=await this._getUser(t.access_token);if(h)throw h;u={access_token:t.access_token,refresh_token:t.refresh_token,user:f.user,token_type:"bearer",expires_in:a-i,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async i=>{var a;if(!t){const{data:c,error:f}=i;if(f)throw f;t=(a=c.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new It;const{data:o,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async _getSessionFromURL(t,i){try{if(!yt())throw new Nl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Nl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(i){case"implicit":if(this.flowType==="pkce")throw new Ov("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nl("Not a valid implicit grant flow url.");break;default:}if(i==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ov("No code detected.");const{data:T,error:O}=await this._exchangeCodeForSession(t.code);if(O)throw O;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:o,access_token:u,refresh_token:c,expires_in:f,expires_at:h,token_type:p}=t;if(!u||!f||!c||!p)throw new Nl("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(f);let b=g+y;h&&(b=parseInt(h));const _=b-g;_*1e3<=va&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${y}s`);const x=b-y;g-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,b,g):g-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,b,g);const{data:S,error:A}=await this._getUser(u);if(A)throw A;const R={provider_token:a,provider_refresh_token:o,access_token:u,expires_in:y,expires_at:b,refresh_token:c,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(a){if(se(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const i=await ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&i)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async i=>{var a;const{data:o,error:u}=i;if(u)return this._returnResult({error:u});const c=(a=o.session)===null||a===void 0?void 0:a.access_token;if(c){const{error:f}=await this.admin.signOut(c,t);if(f&&!(zT(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return t!=="others"&&(await this._removeSession(),await gt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const i=QT(),a={id:i,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",i),this.stateChangeEmitters.delete(i)}};return this._debug("#onAuthStateChange()","registered callback with id",i),this.stateChangeEmitters.set(i,a),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(i)})))(),{data:{subscription:a}}}async _emitInitialSession(t){return await this._useSession(async i=>{var a,o;try{const{data:{session:u},error:c}=i;if(c)throw c;await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,i={}){let a=null,o=null;this.flowType==="pkce"&&([a,o]=await la(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:a,code_challenge_method:o,gotrue_meta_security:{captcha_token:i.captchaToken}},headers:this.headers,redirectTo:i.redirectTo})}catch(u){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:i,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(t=i.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var i;try{const{data:a,error:o}=await this._useSession(async u=>{var c,f,h,p,g;const{data:y,error:b}=u;if(b)throw b;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(c=t.options)===null||c===void 0?void 0:c.redirectTo,scopes:(f=t.options)===null||f===void 0?void 0:f.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",_,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return yt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:t.provider,url:a?.url},error:null})}catch(a){if(se(a))return this._returnResult({data:{provider:t.provider,url:null},error:a});throw a}}async linkIdentityIdToken(t){return await this._useSession(async i=>{var a;try{const{error:o,data:{session:u}}=i;if(o)throw o;const{options:c,provider:f,token:h,access_token:p,nonce:g}=t,y=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:h,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:dn}),{data:b,error:_}=y;return _?this._returnResult({data:{user:null,session:null},error:_}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new oa}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:_}))}catch(o){if(await gt(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async i=>{var a,o;const{data:u,error:c}=i;if(c)throw c;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _refreshAccessToken(t){const i=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{const a=Date.now();return await WT(async o=>(o>0&&await XT(200*Math.pow(2,o-1)),this._debug(i,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(o,u)=>{const c=200*Math.pow(2,o);return u&&td(u)&&Date.now()+c-a<va})}catch(a){if(this._debug(i,"error",a),se(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(i,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,i){const a=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:i.redirectTo,scopes:i.scopes,queryParams:i.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",i,"url",a),yt()&&!i.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}}async _recoverAndRefresh(){var t,i;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const o=await ui(this.storage,this.storageKey);if(o&&this.userStorage){let c=await ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:o.user},await ba(this.userStorage,this.storageKey+"-user",c)),o.user=(t=c?.user)!==null&&t!==void 0?t:rd()}else if(o&&!o.user&&!o.user){const c=await ui(this.storage,this.storageKey+"-user");c&&c?.user?(o.user=c.user,await gt(this.storage,this.storageKey+"-user"),await ba(this.storage,this.storageKey,o)):o.user=rd()}if(this._debug(a,"session from storage",o),!this._isValidSession(o)){this._debug(a,"session is not valid"),o!==null&&await this._removeSession();return}const u=((i=o.expires_at)!==null&&i!==void 0?i:1/0)*1e3-Date.now()<ed;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${ed}s`),u){if(this.autoRefreshToken&&o.refresh_token){const{error:c}=await this._callRefreshToken(o.refresh_token);c&&(console.error(c),td(c)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:f}=await this._getUser(o.access_token);!f&&c?.user?(o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(a,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(a,"error",o),console.error(o);return}finally{this._debug(a,"end")}}async _callRefreshToken(t){var i,a;if(!t)throw new It;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new mu;const{data:u,error:c}=await this._refreshAccessToken(t);if(c)throw c;if(!u.session)throw new It;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(o,"error",u),se(u)){const c={data:null,error:u};return td(u)||await this._removeSession(),(i=this.refreshingDeferred)===null||i===void 0||i.resolve(c),c}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,i,a=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",i,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:i});const u=[],c=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(t,i)}catch(h){u.push(h)}});if(await Promise.all(c),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await gt(this.storage,`${this.storageKey}-code-verifier`);const i=Object.assign({},t),a=i.user&&i.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&i.user&&await ba(this.userStorage,this.storageKey+"-user",{user:i.user});const o=Object.assign({},i);delete o.user;const u=jv(o);await ba(this.storage,this.storageKey,u)}else{const o=jv(i);await ba(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await gt(this.storage,this.storageKey),await gt(this.storage,this.storageKey+"-code-verifier"),await gt(this.storage,this.storageKey+"-user"),this.userStorage&&await gt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(i){console.error("removing visibilitychange callback failed",i)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),va);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const i=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=i,i&&typeof i=="object"&&typeof i.unref=="function"?i.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(i)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const i=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,i&&clearTimeout(i)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async i=>{const{data:{session:a}}=i;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((a.expires_at*1e3-t)/va);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${va}ms, refresh threshold is ${$d} ticks`),o<=$d&&await this._callRefreshToken(a.refresh_token)})}catch(i){console.error("Auto refresh tick failed with error. This is likely a transient error.",i)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof D0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const i=`#_onVisibilityChanged(${t})`;this._debug(i,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(i,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,i,a){const o=[`provider=${encodeURIComponent(i)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,c]=await la(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(c)}`});o.push(f.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);o.push(u.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async i=>{var a;const{data:o,error:u}=i;return u?this._returnResult({data:null,error:u}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _enroll(t){try{return await this._useSession(async i=>{var a,o;const{data:u,error:c}=i;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:h,error:p}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return p?this._returnResult({data:null,error:p}):(t.factorType==="totp"&&h.type==="totp"&&(!((o=h?.totp)===null||o===void 0)&&o.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const c=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?OO(t.webauthn.credential_response):CO(t.webauthn.credential_response)})}:{code:t.code}),{data:f,error:h}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:c,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:h}))})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async i=>{var a;const{data:o,error:u}=i;if(u)return this._returnResult({data:null,error:u});const c=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});if(c.error)return c;const{data:f}=c;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:RO(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:TO(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}})}async _challengeAndVerify(t){const{data:i,error:a}=await this._challenge({factorId:t.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:t.factorId,challengeId:i.id,code:t.code})}async _listFactors(){var t;const{data:{user:i},error:a}=await this.getUser();if(a)return{data:null,error:a};const o={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=i?.factors)!==null&&t!==void 0?t:[])o.all.push(u),u.status==="verified"&&o[u.factor_type].push(u);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,i;const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=nd(a.access_token);let c=null;u.aal&&(c=u.aal);let f=c;((i=(t=a.user.factors)===null||t===void 0?void 0:t.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(f="aal2");const p=u.amr||[];return{data:{currentLevel:c,nextLevel:f,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;return o?this._returnResult({data:null,error:o}):a?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new It})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _approveAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new It});const c=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&yt()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(t,i){try{return await this._useSession(async a=>{const{data:{session:o},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!o)return this._returnResult({data:null,error:new It});const c=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return c.data&&c.data.redirect_url&&yt()&&!i?.skipBrowserRedirect&&window.location.assign(c.data.redirect_url),c})}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:i},error:a}=t;return a?this._returnResult({data:null,error:a}):i?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new It})})}catch(t){if(se(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async i=>{const{data:{session:a},error:o}=i;return o?this._returnResult({data:null,error:o}):a?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new It})})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async fetchJwk(t,i={keys:[]}){let a=i.keys.find(f=>f.kid===t);if(a)return a;const o=Date.now();if(a=this.jwks.keys.find(f=>f.kid===t),a&&this.jwks_cached_at+LT>o)return a;const{data:u,error:c}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=o,a=u.keys.find(f=>f.kid===t),!a)?null:a}async getClaims(t,i={}){try{let a=t;if(!a){const{data:_,error:x}=await this.getSession();if(x||!_.session)return this._returnResult({data:null,error:x});a=_.session.access_token}const{header:o,payload:u,signature:c,raw:{header:f,payload:h}}=nd(a);i?.allowExpired||aO(u.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,i?.keys?{keys:i.keys}:i?.jwks);if(!p){const{error:_}=await this.getUser(a);if(_)throw _;return{data:{claims:u,header:o,signature:c},error:null}}const g=sO(o.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,c,KT(`${f}.${h}`)))throw new Gd("Invalid JWT signature");return{data:{claims:u,header:o,signature:c},error:null}}catch(a){if(se(a))return this._returnResult({data:null,error:a});throw a}}}Xs.nextInstanceID={};const zO=Xs,BO="2.90.1";let Bs="";typeof Deno<"u"?Bs="deno":typeof document<"u"?Bs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Bs="react-native":Bs="node";const IO={"X-Client-Info":`supabase-js-${Bs}/${BO}`},qO={headers:IO},$O={schema:"public"},HO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},VO={};function Ws(e){"@babel/helpers - typeof";return Ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ws(e)}function GO(e,t){if(Ws(e)!="object"||!e)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var a=i.call(e,t);if(Ws(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KO(e){var t=GO(e,"string");return Ws(t)=="symbol"?t:t+""}function FO(e,t,i){return(t=KO(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Iv(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,a)}return i}function Je(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?Iv(Object(i),!0).forEach(function(a){FO(e,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Iv(Object(i)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(i,a))})}return e}const QO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YO=()=>Headers,JO=(e,t,i)=>{const a=QO(i),o=YO();return async(u,c)=>{var f;const h=(f=await t())!==null&&f!==void 0?f:e;let p=new o(c?.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),a(u,Je(Je({},c),{},{headers:p}))}};function XO(e){return e.endsWith("/")?e:e+"/"}function WO(e,t){var i,a;const{db:o,auth:u,realtime:c,global:f}=e,{db:h,auth:p,realtime:g,global:y}=t,b={db:Je(Je({},h),o),auth:Je(Je({},p),u),realtime:Je(Je({},g),c),storage:{},global:Je(Je(Je({},y),f),{},{headers:Je(Je({},(i=y?.headers)!==null&&i!==void 0?i:{}),(a=f?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function ZO(e){const t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(XO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var eC=class extends zO{constructor(e){super(e)}},tC=class{constructor(e,t,i){var a,o;this.supabaseUrl=e,this.supabaseKey=t;const u=ZO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const c=`sb-${u.hostname.split(".")[0]}-auth-token`,f={db:$O,realtime:VO,auth:Je(Je({},HO),{},{storageKey:c}),global:qO},h=WO(i??{},f);if(this.storageKey=(a=h.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=h.global.headers)!==null&&o!==void 0?o:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=h.auth)!==null&&p!==void 0?p:{},this.headers,h.global.fetch)}this.fetch=JO(t,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Je({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new MR(new URL("rest/v1",u).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new NT(this.storageUrl.href,this.headers,this.fetch,i?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new CR(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,i)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,i;if(e.accessToken)return await e.accessToken();const{data:a}=await e.auth.getSession();return(t=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:o,storageKey:u,flowType:c,lock:f,debug:h,throwOnError:p},g,y){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new eC({url:this.authUrl.href,headers:Je(Je({},b),g),storageKey:u,autoRefreshToken:e,persistSession:t,detectSessionInUrl:i,storage:a,userStorage:o,flowType:c,lock:f,debug:h,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(_=>_.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new XR(this.realtimeUrl.href,Je(Je({},e),{},{params:Je(Je({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const nC=(e,t,i)=>new tC(e,t,i);function rC(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const i=t.match(/^v(\d+)\./);return i?parseInt(i[1],10)<=18:!1}rC()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const iC="https://strhxqxvsrecfilfojtc.supabase.co",aC="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0cmh4cXh2c3JlY2ZpbGZvanRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1OTUyNDAsImV4cCI6MjA3OTE3MTI0MH0.DZE2vpUTEqAAIMzT5GUxeV99d98RjDcG-a5IhUtasrI",Ce=nC(iC,aC,{global:{fetch:async(e,t)=>{const i=String(t?.method??"GET").toUpperCase(),a=i==="GET"||i==="HEAD"?2:0,o=200,u=f=>f===408||f===425||f===429||f>=500&&f<=599,c=f=>new Promise(h=>setTimeout(h,f));for(let f=0;f<=a;f++){try{const p=await fetch(e,t);if(p.ok||f>=a||!u(p.status))return p}catch(p){if(t?.signal?.aborted||f>=a)throw p}const h=Math.min(2e3,Math.round(o*Math.pow(2,f)));await c(h)}return fetch(e,t)}},auth:{persistSession:!0,autoRefreshToken:!0},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}}),gi={"ux.assistant.username":"movinesta","ux.presence.channel":"presence:global","ux.presence.label_online":"Online","ux.presence.label_active_recently":"Active recently","ux.presence.label_active_prefix":"Active","ux.presence.online_ttl_ms":45e3,"ux.presence.away_ttl_ms":2*6e4,"ux.presence.heartbeat_ms":2e4,"ux.presence.recompute_ms":5e3,"ux.presence.db_touch_min_interval_ms":6e4,"ux.presence.initial_sync_delay_ms":150,"ux.typing.inactivity_ms":3e3,"ux.typing.heartbeat_ms":2e3,"ux.typing.remote_ttl_ms":5e3,"ux.messages.max_message_chars":2e3,"ux.messages.composer_max_height_px":140,"ux.messages.search.min_query_chars":2,"ux.attachments.max_image_bytes":10*1024*1024,"ux.search.page_size":20,"ux.search.batch_sync_limit":5,"ux.search.min_query_chars":2,"ux.search.stale_time_ms":1e3*60*30,"ux.search.gc_time_ms":1e3*60*60,"ops.frontend.function_timeout_ms":2e4,"ops.search.timeout_ms":2e4},U0="movinesta.public_settings.v1";let pu=1,io={...gi};function L0(e){const t={...gi};if(!e)return t;for(const[i,a]of Object.entries(e))t[i]=a;return t}function sC(){if(!(typeof window>"u"))try{const e=window.localStorage.getItem(U0);if(!e)return;const t=JSON.parse(e),i=Number(t?.version??1)||1,a=t?.settings;a&&typeof a=="object"&&(pu=i,io=L0(a))}catch{}}function oC(){if(!(typeof window>"u"))try{const e={version:pu,settings:io};window.localStorage.setItem(U0,JSON.stringify(e))}catch{}}sC();function lC(e,t){pu=Number(e||1)||1,io=L0(t),oC()}function uC(){return{version:pu,settings:{...io}}}function cC(e,t){const i=io[e];return typeof i=="number"&&Number.isFinite(i)?i:t}let Wn={accessToken:null,expiresAtSec:null,initialized:!1},qv=!1;function eu(e){const t=e?.access_token??null,i=e?.expires_at??null;Wn={accessToken:t,expiresAtSec:typeof i=="number"?i:null,initialized:!0}}async function P0(){if(!Wn.initialized)try{const{data:e}=await Ce.auth.getSession();eu(e?.session)}catch{Wn={...Wn,initialized:!0}}if(!qv){qv=!0;const e=Ce.auth?.onAuthStateChange;typeof e=="function"&&e((t,i)=>{eu(i)})}}function fC(){return Wn.expiresAtSec?Wn.expiresAtSec*1e3:null}async function dC(e){if(await P0(),!Wn.accessToken)return e?.requireAuth,null;const t=fC(),i=Math.max(0,Math.min(5*6e4,e?.refreshIfExpiringWithinMs??3e4));if(t&&t-Date.now()<=i){const o=(await Ce.auth.refreshSession().catch(()=>null))?.data?.session;o?.access_token&&eu(o)}return Wn.accessToken}async function hC(){await P0();const t=(await Ce.auth.refreshSession().catch(()=>null))?.data?.session;return t?.access_token?(eu(t),t.access_token):Wn.accessToken}class Rn extends Error{status;code;details;requestId;retryAfterSeconds;constructor(t,i){super(t),this.name="ApiError",this.status=i?.status,this.code=i?.code,this.details=i?.details,this.requestId=i?.requestId,this.retryAfterSeconds=i?.retryAfterSeconds}}function mC(){try{return crypto.randomUUID()}catch{return`req_${Date.now()}_${Math.floor(Math.random()*1e9)}`}}function pC(){return"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0cmh4cXh2c3JlY2ZpbGZvanRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1OTUyNDAsImV4cCI6MjA3OTE3MTI0MH0.DZE2vpUTEqAAIMzT5GUxeV99d98RjDcG-a5IhUtasrI"}function gC(e){return new Promise(t=>setTimeout(t,e))}function ad(e){if(e==null)return;const t=typeof e=="number"?e:Number.parseInt(String(e),10);if(!(!Number.isFinite(t)||t<=0))return Math.min(3600,Math.max(1,Math.floor(t)))}function yC(e){const t=e;if(!t)return!1;const i=Number(t.status??0);if(i===546||i===408||i===425||i===429||i>=500&&i<=599)return!0;const a=String(t.name??"").toLowerCase();return a.includes("timeout")||a.includes("abort")}async function gn(e,t,i){if(i?.signal?.aborted)throw i.signal.reason??new DOMException("Aborted","AbortError");const a=new AbortController,o=i?.timeoutMs??cC("ops.frontend.function_timeout_ms",2e4),u=setTimeout(()=>a.abort(new DOMException("Timeout","TimeoutError")),o),c=()=>a.abort(i?.signal?.reason??new DOMException("Aborted","AbortError"));i?.signal?.addEventListener("abort",c);const f=mC(),h=Math.max(0,Math.min(5,Number(i?.retries??0))),p=Math.max(0,Math.min(1e4,Number(i?.retryDelayMs??250))),g=pC();let y=await dC({requireAuth:i?.requireAuth}),b=!1;if(i?.requireAuth&&!y)throw new Rn("Please sign in to continue.",{status:401,code:"AUTH_REQUIRED",requestId:f});try{for(let _=0;_<=h;_++)try{const x=await Ce.functions.invoke(e,{body:t,headers:{"x-request-id":f,apikey:g,...y?{Authorization:`Bearer ${y}`}:{}},signal:a.signal}),S=x?.data,A=x?.error,R=x?.response?.headers?.get?.("x-request-id")??(typeof S=="object"&&S&&typeof S.requestId=="string"?String(S.requestId):void 0),T=ad(x?.response?.headers?.get?.("retry-after"));if(A)throw new Rn(A.message,{status:A.status,requestId:R??f,retryAfterSeconds:T});if(S==null)throw new Rn(`Missing data from ${e}`,{requestId:R??f});if(typeof S=="object"&&S&&S.ok===!1){const O=S;throw new Rn(O.message??`Request failed: ${e}`,{status:S.status??void 0,code:O.code,details:O.details,requestId:O.requestId??R??f,retryAfterSeconds:ad(O.retryAfterSeconds??O.details?.retryAfterSeconds??T)})}return S}catch(x){const S=Number(x?.status??0);if(!b&&y&&(S===401||S===403)){b=!0;const O=await hC().catch(()=>null);if(O&&O!==y){y=O;continue}}if(_>=h||!i?.retries||!yC(x))throw x;const R=ad(x?.retryAfterSeconds),T=R?R*1e3:Math.round(p*Math.pow(2,_));await gC(T)}throw new Rn(`Request failed: ${e}`,{requestId:f})}finally{clearTimeout(u),i?.signal?.removeEventListener("abort",c)}}const vC={"nav.home":"Home","nav.swipe":"Swipe","nav.messages":"Messages","nav.search":"Search","nav.diary":"Diary","nav.profile":"Profile","settings.app.title":"App","settings.app.subtitle":"Customize how MoviNesta behaves on this device.","settings.start.title":"Start screen","settings.start.description":"Choose which tab you land on when you open MoviNesta.","settings.start.note":"This is stored locally. You can later hook it into navigation logic if needed.","assistant.settings.title":"Assistant","assistant.settings.description":"Proactive hints that can create lists, update your Diary, and help inside Messages.","assistant.settings.enabled":"Enable Assistant","assistant.settings.enabledDetail":"If disabled, the floating Hints chip will disappear.","assistant.settings.proactivity":"Proactivity","assistant.settings.proactivityBalanced":"Balanced","assistant.settings.proactivityBold":"Bold","assistant.settings.proactivityNote":"Balanced stays quieter. Bold shows ideas more often.","assistant.settings.paused":"Hints paused until","assistant.settings.resume":"Resume","settings.language.title":"Language","settings.language.description":"Language selector is coming soon. We start with English and Spanish while we wire full translations.","settings.language.matchSystem":"Match system","settings.language.english":"English","settings.language.spanish":"Espaol","settings.language.note":"We will remember this preference as we expand localization.","settings.language.comingSoon":"Coming soon: the language selector is local-only for now while we add full translations.","settings.motion.title":"Motion","settings.motion.description":"Reduce some of the more cinematic animations.","settings.motion.reduceMotion":"Reduce motion","settings.motion.detail":"Fewer transitions and subtle effects. Great if you prefer a calmer UI.","settings.save.success":"App settings saved to this device.","settings.save.error":"Couldn't save settings. Try again.","settings.save.cta":"Save settings"},bC={"nav.home":"Inicio","nav.swipe":"Descubrir","nav.messages":"Mensajes","nav.search":"Buscar","nav.diary":"Diario","nav.profile":"Perfil","settings.app.title":"Aplicacin","settings.app.subtitle":"Personaliza cmo se comporta MoviNesta en este dispositivo.","settings.start.title":"Pantalla inicial","settings.start.description":"Elige la pestaa que ves al abrir MoviNesta.","settings.start.note":"Se guarda localmente. Ms adelante podrs conectarlo a la navegacin.","assistant.settings.title":"Asistente","assistant.settings.description":"Sugerencias proactivas que pueden crear listas, actualizar tu Diario y ayudar en Mensajes.","assistant.settings.enabled":"Activar asistente","assistant.settings.enabledDetail":"Si lo desactivas, el botn flotante de Sugerencias desaparecer.","assistant.settings.proactivity":"Proactividad","assistant.settings.proactivityBalanced":"Equilibrado","assistant.settings.proactivityBold":"Atrevido","assistant.settings.proactivityNote":"Equilibrado aparece menos. Atrevido muestra ideas con ms frecuencia.","assistant.settings.paused":"Sugerencias en pausa hasta","assistant.settings.resume":"Reanudar","settings.language.title":"Idioma","settings.language.description":"El selector de idioma llegar pronto. Empezamos con ingls y espaol mientras aadimos ms traducciones.","settings.language.matchSystem":"Seguir el sistema","settings.language.english":"Ingls","settings.language.spanish":"Espaol","settings.language.note":"Guardaremos esta preferencia a medida que ampliemos la localizacin.","settings.language.comingSoon":"Prximamente: el selector de idioma solo se guarda localmente mientras aadimos traducciones completas.","settings.motion.title":"Movimiento","settings.motion.description":"Reduce algunas animaciones cinemticas.","settings.motion.reduceMotion":"Reducir movimiento","settings.motion.detail":"Menos transiciones y efectos sutiles. Ideal si prefieres una interfaz tranquila.","settings.save.success":"Configuracin guardada en este dispositivo.","settings.save.error":"No se pudo guardar la configuracin. Intntalo de nuevo.","settings.save.cta":"Guardar configuracin"},$v=e=>{let t;const i=new Set,a=(p,g)=>{const y=typeof p=="function"?p(t):p;if(!Object.is(y,t)){const b=t;t=g??(typeof y!="object"||y===null)?y:Object.assign({},t,y),i.forEach(_=>_(t,b))}},o=()=>t,f={setState:a,getState:o,getInitialState:()=>h,subscribe:p=>(i.add(p),()=>i.delete(p))},h=t=e(a,o,f);return f},wC=(e=>e?$v(e):$v),_C=e=>e;function SC(e,t=_C){const i=_t.useSyncExternalStore(e.subscribe,_t.useCallback(()=>t(e.getState()),[e,t]),_t.useCallback(()=>t(e.getInitialState()),[e,t]));return _t.useDebugValue(i),i}const EC=e=>{const t=wC(e),i=a=>SC(t,a);return Object.assign(i,t),i},xC=(e=>EC);function AC(e,t){let i;try{i=e()}catch{return}return{getItem:o=>{var u;const c=h=>h===null?null:JSON.parse(h,void 0),f=(u=i.getItem(o))!=null?u:null;return f instanceof Promise?f.then(c):c(f)},setItem:(o,u)=>i.setItem(o,JSON.stringify(u,void 0)),removeItem:o=>i.removeItem(o)}}const Kd=e=>t=>{try{const i=e(t);return i instanceof Promise?i:{then(a){return Kd(a)(i)},catch(a){return this}}}catch(i){return{then(a){return this},catch(a){return Kd(a)(i)}}}},RC=(e,t)=>(i,a,o)=>{let u={storage:AC(()=>localStorage),partialize:A=>A,version:0,merge:(A,R)=>({...R,...A}),...t},c=!1,f=0;const h=new Set,p=new Set;let g=u.storage;if(!g)return e((...A)=>{console.warn(`[zustand persist middleware] Unable to update item '${u.name}', the given storage is currently unavailable.`),i(...A)},a,o);const y=()=>{const A=u.partialize({...a()});return g.setItem(u.name,{state:A,version:u.version})},b=o.setState;o.setState=(A,R)=>(b(A,R),y());const _=e((...A)=>(i(...A),y()),a,o);o.getInitialState=()=>_;let x;const S=()=>{var A,R;if(!g)return;const T=++f;c=!1,h.forEach(M=>{var I;return M((I=a())!=null?I:_)});const O=((R=u.onRehydrateStorage)==null?void 0:R.call(u,(A=a())!=null?A:_))||void 0;return Kd(g.getItem.bind(g))(u.name).then(M=>{if(M)if(typeof M.version=="number"&&M.version!==u.version){if(u.migrate){const I=u.migrate(M.state,M.version);return I instanceof Promise?I.then(K=>[!0,K]):[!0,I]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,M.state];return[!1,void 0]}).then(M=>{var I;if(T!==f)return;const[K,U]=M;if(x=u.merge(U,(I=a())!=null?I:_),i(x,!0),K)return y()}).then(()=>{T===f&&(O?.(x,void 0),x=a(),c=!0,p.forEach(M=>M(x)))}).catch(M=>{T===f&&O?.(void 0,M)})};return o.persist={setOptions:A=>{u={...u,...A},A.storage&&(g=A.storage)},clearStorage:()=>{g?.removeItem(u.name)},getOptions:()=>u,rehydrate:()=>S(),hasHydrated:()=>c,onHydrate:A=>(h.add(A),()=>{h.delete(A)}),onFinishHydration:A=>(p.add(A),()=>{p.delete(A)})},u.skipHydration||S(),x||_},TC=RC,OC="moviNesta.ui",Ah=xC()(TC(e=>({lastVisitedTab:"home",startTab:"home",reduceMotion:!1,language:"system",setLastVisitedTab:t=>e({lastVisitedTab:t}),setStartTab:t=>e({startTab:t}),setReduceMotion:t=>e({reduceMotion:t}),setLanguage:t=>e({language:t})}),{name:OC,version:3,migrate:e=>{const i={...e||{}};delete i.theme;const a={...i};return a.lastVisitedTab==="diary"&&(a.lastVisitedTab="profile"),a.startTab==="diary"&&(a.startTab="profile"),a}})),sd={en:vC,es:bC};function CC(){return typeof navigator>"u"?"en":(navigator.language?.toLowerCase()??"en").startsWith("es")?"es":"en"}function z0(e){return e==="system"?CC():e==="es"?"es":"en"}function kC(){return z0(Ah.getState().language)==="es"?"es-ES":"en-US"}function NC(){const e=Ah(a=>a.language),t=w.useMemo(()=>z0(e),[e]);return{t:w.useCallback(a=>(sd[t]??sd.en)[a]??sd.en[a]??a,[t]),language:t}}async function DC(e,t,i){const a={path:e,params:{...e==="/configuration"?{}:{language:kC()},...t}};try{return(await gn("tmdb-proxy",a,{signal:i,retries:2,retryDelayMs:250})).data}catch(o){return console.warn(`[tmdb] Request error for ${e}:`,o),null}}const B0="movinesta_tmdb_config_cache_v1",jC=1440*60*1e3;let Is=null;function Vs(e){const t=String(e||"").trim();return t?t.endsWith("/")?t:`${t}/`:""}function MC(e){if(!e)return null;try{const t=JSON.parse(e);if(!t||typeof t!="object"||typeof t.fetchedAt!="number")return null;const i=t.images;return!i||typeof i!="object"||!Vs(i.secure_base_url??i.base_url??"")?null:{fetchedAt:t.fetchedAt,images:{...i,base_url:Vs(i.base_url??""),secure_base_url:Vs(i.secure_base_url??"")}}}catch{return null}}function I0(){if(Is)return Is;if(typeof window>"u")return null;try{return Is=MC(window.localStorage.getItem(B0)),Is}catch{return null}}function UC(e){if(Is=e,!(typeof window>"u"))try{window.localStorage.setItem(B0,JSON.stringify(e))}catch{}}function LC(){const e=I0(),t=e?.images?.secure_base_url??e?.images?.base_url??"";return Vs(t||"https://image.tmdb.org/t/p/")}async function PC(e){const t=!!e?.force,i=I0(),a=Date.now();if(!t&&i&&a-i.fetchedAt<jC)return;const u=(await DC("/configuration"))?.images;!u||!Vs(u.secure_base_url??u.base_url??"")||UC({fetchedAt:a,images:u})}function q0(e,t="w500"){return e?`${LC()}${t}${e}`:null}function Hv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Br(...e){return t=>{let i=!1;const a=e.map(o=>{const u=Hv(o,t);return!i&&typeof u=="function"&&(i=!0),u});if(i)return()=>{for(let o=0;o<a.length;o++){const u=a[o];typeof u=="function"?u():Hv(e[o],null)}}}}function Ir(...e){return w.useCallback(Br(...e),e)}var zC=Symbol.for("react.lazy"),tu=sh[" use ".trim().toString()];function BC(e){return typeof e=="object"&&e!==null&&"then"in e}function $0(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===zC&&"_payload"in e&&BC(e._payload)}function IC(e){const t=$C(e),i=w.forwardRef((a,o)=>{let{children:u,...c}=a;$0(u)&&typeof tu=="function"&&(u=tu(u._payload));const f=w.Children.toArray(u),h=f.find(VC);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}var qC=IC("Slot");function $C(e){const t=w.forwardRef((i,a)=>{let{children:o,...u}=i;if($0(o)&&typeof tu=="function"&&(o=tu(o._payload)),w.isValidElement(o)){const c=KC(o),f=GC(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var HC=Symbol("radix.slottable");function VC(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===HC}function GC(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function KC(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function H0(e){var t,i,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(i=H0(e[t]))&&(a&&(a+=" "),a+=i)}else for(i in e)e[i]&&(a&&(a+=" "),a+=i);return a}function V0(){for(var e,t,i=0,a="",o=arguments.length;i<o;i++)(e=arguments[i])&&(t=H0(e))&&(a&&(a+=" "),a+=t);return a}const Vv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Gv=V0,FC=(e,t)=>i=>{var a;if(t?.variants==null)return Gv(e,i?.class,i?.className);const{variants:o,defaultVariants:u}=t,c=Object.keys(o).map(p=>{const g=i?.[p],y=u?.[p];if(g===null)return null;const b=Vv(g)||Vv(y);return o[p][b]}),f=i&&Object.entries(i).reduce((p,g)=>{let[y,b]=g;return b===void 0||(p[y]=b),p},{}),h=t==null||(a=t.compoundVariants)===null||a===void 0?void 0:a.reduce((p,g)=>{let{class:y,className:b,..._}=g;return Object.entries(_).every(x=>{let[S,A]=x;return Array.isArray(A)?A.includes({...u,...f}[S]):{...u,...f}[S]===A})?[...p,y,b]:p},[]);return Gv(e,c,h,i?.class,i?.className)},QC=(e,t)=>{const i=new Array(e.length+t.length);for(let a=0;a<e.length;a++)i[a]=e[a];for(let a=0;a<t.length;a++)i[e.length+a]=t[a];return i},YC=(e,t)=>({classGroupId:e,validator:t}),G0=(e=new Map,t=null,i)=>({nextPart:e,validators:t,classGroupId:i}),nu="-",Kv=[],JC="arbitrary..",XC=e=>{const t=ZC(e),{conflictingClassGroups:i,conflictingClassGroupModifiers:a}=e;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return WC(c);const f=c.split(nu),h=f[0]===""&&f.length>1?1:0;return K0(f,h,t)},getConflictingClassGroupIds:(c,f)=>{if(f){const h=a[c],p=i[c];return h?p?QC(p,h):h:p||Kv}return i[c]||Kv}}},K0=(e,t,i)=>{if(e.length-t===0)return i.classGroupId;const o=e[t],u=i.nextPart.get(o);if(u){const p=K0(e,t+1,u);if(p)return p}const c=i.validators;if(c===null)return;const f=t===0?e.join(nu):e.slice(t).join(nu),h=c.length;for(let p=0;p<h;p++){const g=c[p];if(g.validator(f))return g.classGroupId}},WC=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),i=t.indexOf(":"),a=t.slice(0,i);return a?JC+a:void 0})(),ZC=e=>{const{theme:t,classGroups:i}=e;return e1(i,t)},e1=(e,t)=>{const i=G0();for(const a in e){const o=e[a];Rh(o,i,a,t)}return i},Rh=(e,t,i,a)=>{const o=e.length;for(let u=0;u<o;u++){const c=e[u];t1(c,t,i,a)}},t1=(e,t,i,a)=>{if(typeof e=="string"){n1(e,t,i);return}if(typeof e=="function"){r1(e,t,i,a);return}i1(e,t,i,a)},n1=(e,t,i)=>{const a=e===""?t:F0(t,e);a.classGroupId=i},r1=(e,t,i,a)=>{if(a1(e)){Rh(e(a),t,i,a);return}t.validators===null&&(t.validators=[]),t.validators.push(YC(i,e))},i1=(e,t,i,a)=>{const o=Object.entries(e),u=o.length;for(let c=0;c<u;c++){const[f,h]=o[c];Rh(h,F0(t,f),i,a)}},F0=(e,t)=>{let i=e;const a=t.split(nu),o=a.length;for(let u=0;u<o;u++){const c=a[u];let f=i.nextPart.get(c);f||(f=G0(),i.nextPart.set(c,f)),i=f}return i},a1=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,s1=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,i=Object.create(null),a=Object.create(null);const o=(u,c)=>{i[u]=c,t++,t>e&&(t=0,a=i,i=Object.create(null))};return{get(u){let c=i[u];if(c!==void 0)return c;if((c=a[u])!==void 0)return o(u,c),c},set(u,c){u in i?i[u]=c:o(u,c)}}},Fd="!",Fv=":",o1=[],Qv=(e,t,i,a,o)=>({modifiers:e,hasImportantModifier:t,baseClassName:i,maybePostfixModifierPosition:a,isExternal:o}),l1=e=>{const{prefix:t,experimentalParseClassName:i}=e;let a=o=>{const u=[];let c=0,f=0,h=0,p;const g=o.length;for(let S=0;S<g;S++){const A=o[S];if(c===0&&f===0){if(A===Fv){u.push(o.slice(h,S)),h=S+1;continue}if(A==="/"){p=S;continue}}A==="["?c++:A==="]"?c--:A==="("?f++:A===")"&&f--}const y=u.length===0?o:o.slice(h);let b=y,_=!1;y.endsWith(Fd)?(b=y.slice(0,-1),_=!0):y.startsWith(Fd)&&(b=y.slice(1),_=!0);const x=p&&p>h?p-h:void 0;return Qv(u,_,b,x)};if(t){const o=t+Fv,u=a;a=c=>c.startsWith(o)?u(c.slice(o.length)):Qv(o1,!1,c,void 0,!0)}if(i){const o=a;a=u=>i({className:u,parseClassName:o})}return a},u1=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((i,a)=>{t.set(i,1e6+a)}),i=>{const a=[];let o=[];for(let u=0;u<i.length;u++){const c=i[u],f=c[0]==="[",h=t.has(c);f||h?(o.length>0&&(o.sort(),a.push(...o),o=[]),a.push(c)):o.push(c)}return o.length>0&&(o.sort(),a.push(...o)),a}},c1=e=>({cache:s1(e.cacheSize),parseClassName:l1(e),sortModifiers:u1(e),...XC(e)}),f1=/\s+/,d1=(e,t)=>{const{parseClassName:i,getClassGroupId:a,getConflictingClassGroupIds:o,sortModifiers:u}=t,c=[],f=e.trim().split(f1);let h="";for(let p=f.length-1;p>=0;p-=1){const g=f[p],{isExternal:y,modifiers:b,hasImportantModifier:_,baseClassName:x,maybePostfixModifierPosition:S}=i(g);if(y){h=g+(h.length>0?" "+h:h);continue}let A=!!S,R=a(A?x.substring(0,S):x);if(!R){if(!A){h=g+(h.length>0?" "+h:h);continue}if(R=a(x),!R){h=g+(h.length>0?" "+h:h);continue}A=!1}const T=b.length===0?"":b.length===1?b[0]:u(b).join(":"),O=_?T+Fd:T,M=O+R;if(c.indexOf(M)>-1)continue;c.push(M);const I=o(R,A);for(let K=0;K<I.length;++K){const U=I[K];c.push(O+U)}h=g+(h.length>0?" "+h:h)}return h},h1=(...e)=>{let t=0,i,a,o="";for(;t<e.length;)(i=e[t++])&&(a=Q0(i))&&(o&&(o+=" "),o+=a);return o},Q0=e=>{if(typeof e=="string")return e;let t,i="";for(let a=0;a<e.length;a++)e[a]&&(t=Q0(e[a]))&&(i&&(i+=" "),i+=t);return i},m1=(e,...t)=>{let i,a,o,u;const c=h=>{const p=t.reduce((g,y)=>y(g),e());return i=c1(p),a=i.cache.get,o=i.cache.set,u=f,f(h)},f=h=>{const p=a(h);if(p)return p;const g=d1(h,i);return o(h,g),g};return u=c,(...h)=>u(h1(...h))},p1=[],st=e=>{const t=i=>i[e]||p1;return t.isThemeGetter=!0,t},Y0=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,J0=/^\((?:(\w[\w-]*):)?(.+)\)$/i,g1=/^\d+\/\d+$/,y1=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,v1=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b1=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,w1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_1=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,da=e=>g1.test(e),_e=e=>!!e&&!Number.isNaN(Number(e)),Or=e=>!!e&&Number.isInteger(Number(e)),od=e=>e.endsWith("%")&&_e(e.slice(0,-1)),Yn=e=>y1.test(e),S1=()=>!0,E1=e=>v1.test(e)&&!b1.test(e),X0=()=>!1,x1=e=>w1.test(e),A1=e=>_1.test(e),R1=e=>!ne(e)&&!re(e),T1=e=>Pa(e,ew,X0),ne=e=>Y0.test(e),ci=e=>Pa(e,tw,E1),ld=e=>Pa(e,D1,_e),Yv=e=>Pa(e,W0,X0),O1=e=>Pa(e,Z0,A1),Dl=e=>Pa(e,nw,x1),re=e=>J0.test(e),Ps=e=>za(e,tw),C1=e=>za(e,j1),Jv=e=>za(e,W0),k1=e=>za(e,ew),N1=e=>za(e,Z0),jl=e=>za(e,nw,!0),Pa=(e,t,i)=>{const a=Y0.exec(e);return a?a[1]?t(a[1]):i(a[2]):!1},za=(e,t,i=!1)=>{const a=J0.exec(e);return a?a[1]?t(a[1]):i:!1},W0=e=>e==="position"||e==="percentage",Z0=e=>e==="image"||e==="url",ew=e=>e==="length"||e==="size"||e==="bg-size",tw=e=>e==="length",D1=e=>e==="number",j1=e=>e==="family-name",nw=e=>e==="shadow",M1=()=>{const e=st("color"),t=st("font"),i=st("text"),a=st("font-weight"),o=st("tracking"),u=st("leading"),c=st("breakpoint"),f=st("container"),h=st("spacing"),p=st("radius"),g=st("shadow"),y=st("inset-shadow"),b=st("text-shadow"),_=st("drop-shadow"),x=st("blur"),S=st("perspective"),A=st("aspect"),R=st("ease"),T=st("animate"),O=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...M(),re,ne],K=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto","contain","none"],H=()=>[re,ne,h],Z=()=>[da,"full","auto",...H()],ue=()=>[Or,"none","subgrid",re,ne],ae=()=>["auto",{span:["full",Or,re,ne]},Or,re,ne],X=()=>[Or,"auto",re,ne],ee=()=>["auto","min","max","fr",re,ne],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],z=()=>["auto",...H()],Y=()=>[da,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...H()],$=()=>[e,re,ne],pe=()=>[...M(),Jv,Yv,{position:[re,ne]}],be=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",k1,T1,{size:[re,ne]}],F=()=>[od,Ps,ci],J=()=>["","none","full",p,re,ne],W=()=>["",_e,Ps,ci],he=()=>["solid","dashed","dotted","double"],ye=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],oe=()=>[_e,od,Jv,Yv],Xe=()=>["","none",x,re,ne],Pe=()=>["none",_e,re,ne],Kt=()=>["none",_e,re,ne],bn=()=>[_e,re,ne],wn=()=>[da,"full",...H()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Yn],breakpoint:[Yn],color:[S1],container:[Yn],"drop-shadow":[Yn],ease:["in","out","in-out"],font:[R1],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Yn],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Yn],shadow:[Yn],spacing:["px",_e],text:[Yn],"text-shadow":[Yn],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",da,ne,re,A]}],container:["container"],columns:[{columns:[_e,ne,re,f]}],"break-after":[{"break-after":O()}],"break-before":[{"break-before":O()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Z()}],"inset-x":[{"inset-x":Z()}],"inset-y":[{"inset-y":Z()}],start:[{start:Z()}],end:[{end:Z()}],top:[{top:Z()}],right:[{right:Z()}],bottom:[{bottom:Z()}],left:[{left:Z()}],visibility:["visible","invisible","collapse"],z:[{z:[Or,"auto",re,ne]}],basis:[{basis:[da,"full","auto",f,...H()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,da,"auto","initial","none",ne]}],grow:[{grow:["",_e,re,ne]}],shrink:[{shrink:["",_e,re,ne]}],order:[{order:[Or,"first","last","none",re,ne]}],"grid-cols":[{"grid-cols":ue()}],"col-start-end":[{col:ae()}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":ue()}],"row-start-end":[{row:ae()}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ee()}],"auto-rows":[{"auto-rows":ee()}],gap:[{gap:H()}],"gap-x":[{"gap-x":H()}],"gap-y":[{"gap-y":H()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:H()}],px:[{px:H()}],py:[{py:H()}],ps:[{ps:H()}],pe:[{pe:H()}],pt:[{pt:H()}],pr:[{pr:H()}],pb:[{pb:H()}],pl:[{pl:H()}],m:[{m:z()}],mx:[{mx:z()}],my:[{my:z()}],ms:[{ms:z()}],me:[{me:z()}],mt:[{mt:z()}],mr:[{mr:z()}],mb:[{mb:z()}],ml:[{ml:z()}],"space-x":[{"space-x":H()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":H()}],"space-y-reverse":["space-y-reverse"],size:[{size:Y()}],w:[{w:[f,"screen",...Y()]}],"min-w":[{"min-w":[f,"screen","none",...Y()]}],"max-w":[{"max-w":[f,"screen","none","prose",{screen:[c]},...Y()]}],h:[{h:["screen","lh",...Y()]}],"min-h":[{"min-h":["screen","lh","none",...Y()]}],"max-h":[{"max-h":["screen","lh",...Y()]}],"font-size":[{text:["base",i,Ps,ci]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[a,re,ld]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",od,ne]}],"font-family":[{font:[C1,ne,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,re,ne]}],"line-clamp":[{"line-clamp":[_e,"none",re,ld]}],leading:[{leading:[u,...H()]}],"list-image":[{"list-image":["none",re,ne]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",re,ne]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:$()}],"text-color":[{text:$()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...he(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",re,ci]}],"text-decoration-color":[{decoration:$()}],"underline-offset":[{"underline-offset":[_e,"auto",re,ne]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:H()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",re,ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",re,ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:pe()}],"bg-repeat":[{bg:be()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Or,re,ne],radial:["",re,ne],conic:[Or,re,ne]},N1,O1]}],"bg-color":[{bg:$()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:$()}],"gradient-via":[{via:$()}],"gradient-to":[{to:$()}],rounded:[{rounded:J()}],"rounded-s":[{"rounded-s":J()}],"rounded-e":[{"rounded-e":J()}],"rounded-t":[{"rounded-t":J()}],"rounded-r":[{"rounded-r":J()}],"rounded-b":[{"rounded-b":J()}],"rounded-l":[{"rounded-l":J()}],"rounded-ss":[{"rounded-ss":J()}],"rounded-se":[{"rounded-se":J()}],"rounded-ee":[{"rounded-ee":J()}],"rounded-es":[{"rounded-es":J()}],"rounded-tl":[{"rounded-tl":J()}],"rounded-tr":[{"rounded-tr":J()}],"rounded-br":[{"rounded-br":J()}],"rounded-bl":[{"rounded-bl":J()}],"border-w":[{border:W()}],"border-w-x":[{"border-x":W()}],"border-w-y":[{"border-y":W()}],"border-w-s":[{"border-s":W()}],"border-w-e":[{"border-e":W()}],"border-w-t":[{"border-t":W()}],"border-w-r":[{"border-r":W()}],"border-w-b":[{"border-b":W()}],"border-w-l":[{"border-l":W()}],"divide-x":[{"divide-x":W()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":W()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...he(),"hidden","none"]}],"divide-style":[{divide:[...he(),"hidden","none"]}],"border-color":[{border:$()}],"border-color-x":[{"border-x":$()}],"border-color-y":[{"border-y":$()}],"border-color-s":[{"border-s":$()}],"border-color-e":[{"border-e":$()}],"border-color-t":[{"border-t":$()}],"border-color-r":[{"border-r":$()}],"border-color-b":[{"border-b":$()}],"border-color-l":[{"border-l":$()}],"divide-color":[{divide:$()}],"outline-style":[{outline:[...he(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,re,ne]}],"outline-w":[{outline:["",_e,Ps,ci]}],"outline-color":[{outline:$()}],shadow:[{shadow:["","none",g,jl,Dl]}],"shadow-color":[{shadow:$()}],"inset-shadow":[{"inset-shadow":["none",y,jl,Dl]}],"inset-shadow-color":[{"inset-shadow":$()}],"ring-w":[{ring:W()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:$()}],"ring-offset-w":[{"ring-offset":[_e,ci]}],"ring-offset-color":[{"ring-offset":$()}],"inset-ring-w":[{"inset-ring":W()}],"inset-ring-color":[{"inset-ring":$()}],"text-shadow":[{"text-shadow":["none",b,jl,Dl]}],"text-shadow-color":[{"text-shadow":$()}],opacity:[{opacity:[_e,re,ne]}],"mix-blend":[{"mix-blend":[...ye(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ye()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":oe()}],"mask-image-linear-from-color":[{"mask-linear-from":$()}],"mask-image-linear-to-color":[{"mask-linear-to":$()}],"mask-image-t-from-pos":[{"mask-t-from":oe()}],"mask-image-t-to-pos":[{"mask-t-to":oe()}],"mask-image-t-from-color":[{"mask-t-from":$()}],"mask-image-t-to-color":[{"mask-t-to":$()}],"mask-image-r-from-pos":[{"mask-r-from":oe()}],"mask-image-r-to-pos":[{"mask-r-to":oe()}],"mask-image-r-from-color":[{"mask-r-from":$()}],"mask-image-r-to-color":[{"mask-r-to":$()}],"mask-image-b-from-pos":[{"mask-b-from":oe()}],"mask-image-b-to-pos":[{"mask-b-to":oe()}],"mask-image-b-from-color":[{"mask-b-from":$()}],"mask-image-b-to-color":[{"mask-b-to":$()}],"mask-image-l-from-pos":[{"mask-l-from":oe()}],"mask-image-l-to-pos":[{"mask-l-to":oe()}],"mask-image-l-from-color":[{"mask-l-from":$()}],"mask-image-l-to-color":[{"mask-l-to":$()}],"mask-image-x-from-pos":[{"mask-x-from":oe()}],"mask-image-x-to-pos":[{"mask-x-to":oe()}],"mask-image-x-from-color":[{"mask-x-from":$()}],"mask-image-x-to-color":[{"mask-x-to":$()}],"mask-image-y-from-pos":[{"mask-y-from":oe()}],"mask-image-y-to-pos":[{"mask-y-to":oe()}],"mask-image-y-from-color":[{"mask-y-from":$()}],"mask-image-y-to-color":[{"mask-y-to":$()}],"mask-image-radial":[{"mask-radial":[re,ne]}],"mask-image-radial-from-pos":[{"mask-radial-from":oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":oe()}],"mask-image-radial-from-color":[{"mask-radial-from":$()}],"mask-image-radial-to-color":[{"mask-radial-to":$()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":oe()}],"mask-image-conic-from-color":[{"mask-conic-from":$()}],"mask-image-conic-to-color":[{"mask-conic-to":$()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:pe()}],"mask-repeat":[{mask:be()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",re,ne]}],filter:[{filter:["","none",re,ne]}],blur:[{blur:Xe()}],brightness:[{brightness:[_e,re,ne]}],contrast:[{contrast:[_e,re,ne]}],"drop-shadow":[{"drop-shadow":["","none",_,jl,Dl]}],"drop-shadow-color":[{"drop-shadow":$()}],grayscale:[{grayscale:["",_e,re,ne]}],"hue-rotate":[{"hue-rotate":[_e,re,ne]}],invert:[{invert:["",_e,re,ne]}],saturate:[{saturate:[_e,re,ne]}],sepia:[{sepia:["",_e,re,ne]}],"backdrop-filter":[{"backdrop-filter":["","none",re,ne]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[_e,re,ne]}],"backdrop-contrast":[{"backdrop-contrast":[_e,re,ne]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,re,ne]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,re,ne]}],"backdrop-invert":[{"backdrop-invert":["",_e,re,ne]}],"backdrop-opacity":[{"backdrop-opacity":[_e,re,ne]}],"backdrop-saturate":[{"backdrop-saturate":[_e,re,ne]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,re,ne]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":H()}],"border-spacing-x":[{"border-spacing-x":H()}],"border-spacing-y":[{"border-spacing-y":H()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",re,ne]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",re,ne]}],ease:[{ease:["linear","initial",R,re,ne]}],delay:[{delay:[_e,re,ne]}],animate:[{animate:["none",T,re,ne]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[S,re,ne]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Pe()}],"rotate-x":[{"rotate-x":Pe()}],"rotate-y":[{"rotate-y":Pe()}],"rotate-z":[{"rotate-z":Pe()}],scale:[{scale:Kt()}],"scale-x":[{"scale-x":Kt()}],"scale-y":[{"scale-y":Kt()}],"scale-z":[{"scale-z":Kt()}],"scale-3d":["scale-3d"],skew:[{skew:bn()}],"skew-x":[{"skew-x":bn()}],"skew-y":[{"skew-y":bn()}],transform:[{transform:[re,ne,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:wn()}],"translate-x":[{"translate-x":wn()}],"translate-y":[{"translate-y":wn()}],"translate-z":[{"translate-z":wn()}],"translate-none":["translate-none"],accent:[{accent:$()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:$()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",re,ne]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":H()}],"scroll-mx":[{"scroll-mx":H()}],"scroll-my":[{"scroll-my":H()}],"scroll-ms":[{"scroll-ms":H()}],"scroll-me":[{"scroll-me":H()}],"scroll-mt":[{"scroll-mt":H()}],"scroll-mr":[{"scroll-mr":H()}],"scroll-mb":[{"scroll-mb":H()}],"scroll-ml":[{"scroll-ml":H()}],"scroll-p":[{"scroll-p":H()}],"scroll-px":[{"scroll-px":H()}],"scroll-py":[{"scroll-py":H()}],"scroll-ps":[{"scroll-ps":H()}],"scroll-pe":[{"scroll-pe":H()}],"scroll-pt":[{"scroll-pt":H()}],"scroll-pr":[{"scroll-pr":H()}],"scroll-pb":[{"scroll-pb":H()}],"scroll-pl":[{"scroll-pl":H()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",re,ne]}],fill:[{fill:["none",...$()]}],"stroke-w":[{stroke:[_e,Ps,ci,ld]}],stroke:[{stroke:["none",...$()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},U1=m1(M1);function ru(...e){return U1(V0(e))}const L1=FC("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 px-4 py-2",sm:"h-10 rounded-md px-3 text-xs",lg:"h-12 rounded-md px-8",icon:"h-11 w-11"}},defaultVariants:{variant:"default",size:"default"}}),Ea=w.forwardRef(({className:e,variant:t,size:i,asChild:a=!1,...o},u)=>{const c=a?qC:"button";return k.jsx(c,{className:ru(L1({variant:t,size:i,className:e})),ref:u,...o})});Ea.displayName="Button";class P1 extends _t.Component{constructor(t){super(t),this.state={hasError:!1}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,i){console.error("MoviNesta ErrorBoundary caught an error",t,i)}handleRetry=()=>{this.setState({hasError:!1,error:void 0})};handleReload=()=>{window.location.reload()};render(){return this.state.hasError?k.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-background px-4 py-8 text-center text-foreground",children:k.jsxs("div",{className:"w-full max-w-md space-y-3 rounded-3xl border border-border bg-card/80 p-6 shadow-lg",children:[k.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-primary/15 text-primary",children:k.jsx("span",{"aria-hidden":"true",children:""})}),k.jsx("h1",{className:"text-lg font-heading font-semibold",children:"Something went wrong"}),k.jsx("p",{className:"text-sm text-muted-foreground",children:"The last action caused the app to stumble. You can try again or reload MoviNesta."}),this.state.error&&k.jsx("pre",{className:"overflow-auto rounded-xl bg-background/70 p-3 text-left text-xs text-muted-foreground",children:this.state.error.message}),k.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 pt-1",children:[k.jsx(Ea,{type:"button",onClick:this.handleRetry,children:"Try again"}),k.jsx(Ea,{type:"button",variant:"outline",onClick:this.handleReload,children:"Reload app"})]})]})}):this.props.children}}const z1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),B1=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Xv=e=>{const t=B1(e);return t.charAt(0).toUpperCase()+t.slice(1)},rw=(...e)=>e.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),I1=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var q1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const $1=w.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:u,iconNode:c,...f},h)=>w.createElement("svg",{ref:h,...q1,width:t,height:t,stroke:e,strokeWidth:a?Number(i)*24/Number(t):i,className:rw("lucide",o),...!u&&!I1(f)&&{"aria-hidden":"true"},...f},[...c.map(([p,g])=>w.createElement(p,g)),...Array.isArray(u)?u:[u]]));const ao=(e,t)=>{const i=w.forwardRef(({className:a,...o},u)=>w.createElement($1,{ref:u,iconNode:t,className:rw(`lucide-${z1(Xv(e))}`,`lucide-${e}`,a),...o}));return i.displayName=Xv(e),i};const H1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],V1=ao("flame",H1);const G1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],K1=ao("house",G1);const F1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q1=ao("loader-circle",F1);const Y1=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],J1=ao("message-circle",Y1);const X1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],W1=ao("search",X1),Z1=1e3*15,pn=new cR({defaultOptions:{queries:{staleTime:Z1,gcTime:1e3*60*10,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:1},mutations:{retry:!1}}}),Ur={diaryLibrary:e=>["diary","library",e],diaryStats:e=>["diary","stats",e],homeForYou:e=>["home-for-you",e],homeFeed:e=>["home-feed",e],titleDiary:(e,t)=>["title-diary",e,t],titleDetail:e=>["title-detail",e],moreLikeThis:e=>["more-like-this",e],conversations:e=>["messages","conversations",e],friendsTitleReactions:(e,t)=>["title-friends-reactions",e,t],assistantSuggestions:(e,t,i)=>["assistant","suggestions",e,t,i],assistantPrefs:e=>["assistant","prefs",e],isAppAdmin:()=>["admin","is-app-admin"],assistantHealthSnapshot:()=>["admin","assistant-health-snapshot"]};function Wv(e){if(!e||typeof e!="object")return!1;const t=e;return typeof t.id=="string"&&typeof t.created_at=="string"&&typeof t.user_id=="string"&&typeof t.event_type=="string"}function Cr(e){return typeof e=="string"&&e.trim()?e:typeof e=="number"&&Number.isFinite(e)?e.toString():null}function ek(e){return typeof e=="boolean"?e:e==="true"?!0:e==="false"?!1:null}function tk(e,t){return{id:Cr(e?.id??t)??t,username:Cr(e?.username),display_name:Cr(e?.display_name),avatar_url:Cr(e?.avatar_url),is_verified:ek(e?.is_verified),verified_type:Cr(e?.verified_type),verified_label:Cr(e?.verified_label),verified_at:Cr(e?.verified_at),verified_by_org:Cr(e?.verified_by_org)}}async function nk(e){const t=Array.from(new Set(e.map(f=>typeof f.media_item_id=="string"?f.media_item_id:null).filter(f=>!!f))),i=Array.from(new Set(e.map(f=>f.user_id).filter(Boolean))),[a,o]=await Promise.all([t.length?Ce.from("media_items").select(`
            id,
            kind,
            omdb_title,
            omdb_year,
            omdb_poster,
            omdb_rated,
            omdb_imdb_rating,
            omdb_rating_rotten_tomatoes,
            omdb_imdb_id,
            omdb_language,
            tmdb_id,
            tmdb_title,
            tmdb_name,
            tmdb_original_title,
            tmdb_original_name,
            tmdb_poster_path,
            tmdb_backdrop_path,
            tmdb_release_date,
            tmdb_first_air_date,
            tmdb_original_language
          `).in("id",t):Promise.resolve({data:[],error:null}),i.length?Ce.from("profiles_public").select("id,username,display_name,avatar_url,is_verified,verified_type,verified_label,verified_at,verified_by_org").in("id",i):Promise.resolve({data:[],error:null})]),u=new Map;if(!a.error)for(const f of a.data??[])f?.id&&u.set(f.id,f);const c=new Map;if(!o.error)for(const f of o.data??[])f?.id&&c.set(String(f.id),f);return e.map(f=>{const h=typeof f.media_item_id=="string"?u.get(f.media_item_id)??null:null,p=c.get(f.user_id)??null;return{id:f.id,created_at:f.created_at,user_id:f.user_id,event_type:String(f.event_type),actor_profile:tk(p,f.user_id),media_item:h,media_item_id:f.media_item_id??null,payload:f.payload}})}function rk(e){if(!e||typeof e!="object")return!1;const t=e,i=typeof t.message=="string"?t.message:"";return t.code==="42P01"||i.includes("user_settings")||i.includes("relation")||i.includes("does not exist")}async function ik({userId:e,limit:t,cursorCreatedAt:i=null,cursorId:a=null,includeExtraRow:o=!1}){const{data:u,error:c}=await Ce.rpc("get_home_feed_v2",{p_user_id:e,p_limit:t,p_cursor_created_at:i,p_cursor_id:a});if(!c)return{rows:(Array.isArray(u)?u:[]).filter(Wv),usedFallback:!1};if(!rk(c))throw c;const{data:f,error:h}=await Ce.rpc("get_home_feed",{p_user_id:e,p_limit:o?t+1:t,p_cursor:i});if(h)throw h;const p=Array.isArray(f)?f:[];return{rows:(await nk(p)).filter(Wv),usedFallback:!0}}const ak=e=>{if(!e)return null;const t=Number(String(e).slice(0,4));return Number.isFinite(t)?t:null},sk=e=>{if(!e)return null;const t=String(e).match(/\d{4}/);if(!t)return null;const i=Number(t[0]);return Number.isFinite(i)?i:null},ok=e=>[e.omdb_title,e.tmdb_title,e.tmdb_name,e.tmdb_original_title,e.tmdb_original_name].find(a=>!!(a&&a.trim()))?.trim()||"Untitled",lk=e=>e?e==="movie"?"movie":e==="series"||e==="tv"?"series":e==="anime"?"anime":null:null,uk=(e,t="w500")=>e.omdb_poster&&e.omdb_poster.trim()?e.omdb_poster.trim():q0(e.tmdb_poster_path,t),ck=(e,t="w780")=>q0(e.tmdb_backdrop_path,t),fk=e=>{if(!e)return null;const t=String(e).match(/(\d{1,3})/);if(!t)return null;const i=Number(t[1]);return Number.isFinite(i)?i:null},dk=e=>e.tmdb_original_language?e.tmdb_original_language:e.omdb_language&&e.omdb_language.split(",")[0]?.trim()||null,hk=e=>{const t=e.tmdb_release_date??e.tmdb_first_air_date??null,i=ak(t)??sk(e.omdb_year);return{id:e.id,title:ok(e),year:i,type:lk(e.kind),posterUrl:uk(e),backdropUrl:ck(e),originalLanguage:dk(e),ageRating:e.omdb_rated??null,imdbRating:e.omdb_imdb_rating??null,rtTomatoMeter:fk(e.omdb_rating_rotten_tomatoes),imdbId:e.omdb_imdb_id??null,tmdbId:e.tmdb_id!=null?Number(e.tmdb_id):null}},iw=e=>{if(!e)return null;const t=new Date(e);if(Number.isNaN(t.getTime()))return null;const a=new Date().getTime()-t.getTime();if(a<=0)return"Just now";const o=Math.floor(a/1e3);if(o<45)return"Just now";const u=Math.floor(o/60);if(u<60)return`${u} min ago`;const c=Math.floor(u/60);if(c<24)return`${c} h ago`;const f=Math.floor(c/24);if(f===1)return"Yesterday";if(f<7)return`${f} days ago`;const h=Math.floor(f/7);if(h<4)return`${h} wk${h===1?"":"s"} ago`;const p=Math.floor(f/30);if(p<1)return`${h} wk${h===1?"":"s"} ago`;if(p<12)return`${p} mo${p===1?"":"s"} ago`;const g=Math.floor(p/12);return`${g} yr${g===1?"":"s"} ago`},Gs=e=>{if(e==null)return null;const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?Math.max(0,Math.min(5,t/2)):null},tU=e=>{if(e==null)return null;const t=typeof e=="number"?e:Number(e);return Number.isFinite(t)?Math.max(0,Math.min(10,t*2)):null};function mk(e){if(!e)return null;const t=e.toString(),[i,a]=t.split("|");return i?{createdAt:i,id:a||null}:null}function pk(e){return e?.createdAt?e.id?`${e.createdAt}|${e.id}`:e.createdAt:null}const ud=40,Zv=["teal","violet","orange"];function gk(e){let t=0;for(let i=0;i<e.length;i+=1)t=t*31+e.charCodeAt(i)>>>0;return Zv[t%Zv.length]}function yk(e,t){const i=e??{},a=i.id??t,o=i.display_name?.toString().trim()||i.username?.toString().trim()||"Someone",u=i.avatar_url?.toString().trim()||null;return{id:a,displayName:o,avatarUrl:u,avatarColor:gk(a),isVerified:typeof i.is_verified=="boolean"?i.is_verified:null,verifiedType:i.verified_type??null,verifiedLabel:i.verified_label??null,verifiedAt:i.verified_at??null,verifiedOrg:i.verified_by_org??null}}function vk(e){if(!e||typeof e!="object")return null;const t=hk(e);return{id:t.id,name:t.title,posterUrl:t.posterUrl??t.backdropUrl??null,mediaType:t.type??"movie",year:t.year??null,subtitle:null,backdropUrl:t.backdropUrl??null}}function cd(e,t){if(!e||typeof e!="object")return null;for(const i of t){const a=e[i];if(typeof a=="number"&&Number.isFinite(a))return a;if(typeof a=="string"){const o=Number(a);if(Number.isFinite(o))return o}}return null}function ha(e,t){if(!e||typeof e!="object")return null;for(const i of t){const a=e[i];if(typeof a=="string"&&a.trim())return a.trim()}return null}function bk(e){const t=e.created_at,i=iw(t)??"",a=yk(e.actor_profile,e.user_id),o=vk(e.media_item);if(!o)return null;const u=e.payload;switch(e.event_type){case"rating_created":{const c=Gs(cd(u,["rating","score","value"])??null);return c==null?null:{kind:"friend-rating",id:e.id,user:a,createdAt:t,relativeTime:i,title:o,rating:c,reviewSnippet:ha(u,["reviewSnippet","review","snippet","body","text"])??void 0,emoji:ha(u,["emoji","icon"])??void 0}}case"review_created":{const c=ha(u,["reviewSnippet","review","snippet","body","text"])??"",f=Gs(cd(u,["rating","score","value"])??null);return{kind:"friend-review",id:e.id,user:a,createdAt:t,relativeTime:i,title:o,rating:f??void 0,reviewSnippet:c,emoji:ha(u,["emoji","icon"])??void 0}}case"watched":return{kind:"friend-watched",id:e.id,user:a,createdAt:t,relativeTime:i,title:o,rating:Gs(cd(u,["rating","score","value"])??null)??void 0};case"watchlist_added":return{kind:"watchlist-add",id:e.id,user:a,createdAt:t,relativeTime:i,title:o,note:ha(u,["note","message","extra"])??void 0};case"watchlist_removed":return{kind:"watchlist-remove",id:e.id,user:a,createdAt:t,relativeTime:i,title:o};case"list_item_added":{const c=ha(u,["blurb","note","message"])??void 0;return{kind:"recommendation",id:e.id,user:a,createdAt:t,relativeTime:i,title:o,reason:c}}default:return null}}function wk(e){const t=[],a=o=>{const u=Date.parse(o);return Number.isFinite(u)?u:0};for(let o=0;o<e.length;o+=1){const u=e[o],c=e[o+1];if(!c){t.push(u);continue}const f=a(u.createdAt),h=a(c.createdAt),p=u.user.id===c.user.id,g=u.title.id===c.title.id,y=Math.abs(f-h)<=12e4,b=u.kind==="friend-watched"&&c.kind==="friend-rating",_=u.kind==="friend-rating"&&c.kind==="friend-watched";if(p&&g&&y&&(b||_)){const x=b?u:c,S=b?c:u,A={...x,kind:"friend-watched",rating:typeof x.rating=="number"?x.rating:S.rating,createdAt:f>=h?u.createdAt:c.createdAt,relativeTime:f>=h?u.relativeTime:c.relativeTime};t.push(A),o+=1;continue}t.push(u)}return t}async function _k(e){const t=new Set;for(const f of e){const h=f.user;h?.id&&(h.isVerified===null||typeof h.isVerified>"u")&&t.add(h.id)}if(t.size===0)return e;const i=Array.from(t),{data:a,error:o}=await Ce.from("profiles_public").select("id,is_verified,verified_type,verified_label,verified_at,verified_by_org").in("id",i);if(o||!a)return e;const u=a,c=new Map;for(const f of u)f?.id&&c.set(f.id,f);return e.map(f=>{const h=f.user,p=c.get(h.id);return p?{...f,user:{...h,isVerified:p.is_verified??null,verifiedType:p.verified_type??null,verifiedLabel:p.verified_label??null,verifiedAt:p.verified_at??null,verifiedOrg:p.verified_by_org??null}}:f})}async function Sk(e,t){const{rows:i}=await ik({userId:e,limit:ud,cursorCreatedAt:t?.createdAt??null,cursorId:t?.id??null,includeExtraRow:!0}),a=i.length>ud,o=a?i.slice(0,ud):i,u=o.map(bk).filter(Boolean),c=await _k(wk(u)),f=o.at(-1),h=a&&f?{createdAt:f.created_at,id:f.id}:null;return{items:c,nextCursor:h,hasMore:a}}async function aw(e,t=null){const i=mk(t),a=await Sk(e,i);return{items:a.items,nextCursor:pk(a.nextCursor),hasMore:a.hasMore}}function nU(){const{user:e}=ln(),t=e?.id??null,i=SR({queryKey:Ur.homeFeed(t),enabled:!!t,initialPageParam:null,queryFn:({pageParam:u})=>aw(t,u??null),getNextPageParam:u=>u.hasMore?u.nextCursor:void 0,staleTime:300*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0}),a=(i.data?.pages??[]).flatMap(u=>u.items),o=i.error instanceof Error?i.error.message:i.error?String(i.error):null;return{items:a,isLoading:i.isPending,error:o,hasMore:!!i.hasNextPage,isLoadingMore:i.isFetchingNextPage,loadMore:()=>i.fetchNextPage()}}const Qd={totalRated:0,totalWatched:0,averageRating:null,ratingDistribution:[],topGenres:[],watchCountByMonth:[]},Yd=(e,t)=>Ce.rpc(e,t??{}),Ek=e=>{if(!e)return Qd;const t=Array.isArray(e.rating_distribution)?e.rating_distribution.map(c=>{if(!c||typeof c!="object")return null;const f=Number(c.rating),h=Number(c.count);return Number.isNaN(f)||Number.isNaN(h)?null:{rating:Gs(f)??f,count:h}}).filter(Boolean):[],i=Array.isArray(e.top_genres)?e.top_genres.map(c=>{if(!c||typeof c!="object")return null;const f=c.genre,h=Number(c.count);return typeof f!="string"||Number.isNaN(h)?null:{genre:f,count:h}}).filter(Boolean):[],a=Array.isArray(e.watch_count_by_month)?e.watch_count_by_month.map(c=>{if(!c||typeof c!="object")return null;const f=c.month,h=Number(c.count);return typeof f!="string"||Number.isNaN(h)?null:{month:f,count:h}}).filter(Boolean):[],o=e.average_rating,u=o===null||typeof o>"u"?null:Gs(Number(o));return{totalRated:Number(e.total_rated??0),totalWatched:Number(e.total_watched??0),averageRating:u!==null&&Number.isNaN(u)?null:u,ratingDistribution:t,topGenres:i,watchCountByMonth:a}},sw=async e=>{const{data:t,error:i}=await Yd("get_diary_stats",{p_user_id:e});if(i)throw new Error(i.message);return Ek(t?.[0])},rU=()=>{const{user:e}=ln(),t=e?.id??null,i=Ua({queryKey:Ur.diaryStats(t),enabled:!!t,queryFn:async()=>t?sw(t):Qd,staleTime:300*1e3,refetchOnWindowFocus:!1,refetchOnReconnect:!0});return{stats:i.data??Qd,isLoading:i.isLoading,isError:i.isError,error:i.error?.message??null}},ow=e=>["conversations",e??"anon"],iU=e=>["conversation",e,"messages"],aU=e=>["conversation",e,"readReceipts"],sU=(e,t)=>["conversation",e,"deliveryReceipts","messageIds",t],oU=e=>["conversation",e,"reactions"],lU=e=>["conversation",e,"assistantReplyStatus"],yi=e=>typeof e=="object"&&e!==null&&!Array.isArray(e),lw=e=>{const t=e.trim();if(!t)return null;const i=t[0];if(i!=="{"&&i!=="[")return null;try{const a=JSON.parse(t);return yi(a)?a:null}catch{return null}},an=e=>typeof e=="string"?e:null,xk=e=>{if(!Array.isArray(e))return null;const t=e.map(i=>yi(i)?an(i.text):null).map(i=>i?.trim()??"").filter(Boolean);return t.length?t.join(`
`):null};function Ba(e){let t=null,i=null;if(typeof e=="string"){const h=lw(e);h?t=h:i=e}else yi(e)&&(t=e);const a=an(t?.message_type)??an(t?.type)??(i!=null?"text":"unknown"),o=an(t?.text)??an(t?.message)??xk(t?.blocks)??i??"",u=an(t?.clientId)??an(t?.client_id)??null,f={...yi(t?.meta)?t.meta:t??{}};for(const h of["deleted","deletedAt","editedAt","caption"]){const p=t?.[h];p!==void 0&&f[h]===void 0&&(f[h]=p)}return{type:a,text:typeof o=="string"?o:"",clientId:u,meta:f}}function uU(e){return Ba(e).type||"unknown"}function cU(e){return Ba(e).clientId}function fU(e){const i=Ba(e).meta??{},a={};return typeof i.deleted=="boolean"&&(a.deleted=i.deleted),typeof i.deletedAt=="string"&&(a.deletedAt=i.deletedAt),typeof i.editedAt=="string"&&(a.editedAt=i.editedAt),typeof i.caption=="string"&&(a.caption=i.caption),a}function Ak(e){const t=Ba(e),i=t.meta??{};if(i.deleted===!0)return"Message deleted";const o=t.type,u=typeof i.caption=="string"?i.caption:typeof i.text=="string"?i.text:null;if((o==="image"||o==="text+image")&&t.text.trim()===""){const f=typeof u=="string"?u.trim():"";return f||"Photo"}if((o==="audio"||o==="text+audio")&&t.text.trim()===""){const f=typeof u=="string"?u.trim():"";return f||"Audio"}if((o==="document"||o==="text+document")&&t.text.trim()===""){const f=typeof u=="string"?u.trim():"";return f||"Document"}const c=typeof t.text=="string"?t.text:"";return c.trim()?c.trim():""}function Rk(e,t=120){const i=Ba(e),a=i.meta??{},o=i.type,u=a.deleted===!0,c=Ak(e);let f=c;u?f=` ${c}`:o==="image"&&c==="Photo"?f=" Photo":o==="audio"&&c==="Audio"?f=" Audio":o==="document"&&c==="Document"&&(f=" Document"),typeof f!="string"&&(f="");const h=f.trim();return h?t>0&&h.length>t?h.slice(0,Math.max(0,t-1)).trimEnd()+"":h:null}function dU(e,t){const i=(typeof t=="string"?t:"").trim(),a=new Date().toISOString(),o=Ba(e),u={};if(yi(e))Object.assign(u,e);else if(typeof e=="string"){const p=lw(e);p&&Object.assign(u,p)}const c=an(u.message_type)??an(u.type)??o.type??"text";u.type=c;const f=an(u.clientId)??an(u.client_id)??o.clientId;f&&(u.clientId=f);const h=an(u.text)??o.text??"";return(c==="image"||c==="text+image")&&h.trim()===""?(u.caption=i,u.text=""):u.text=i,u.editedAt=a,yi(u.meta)?u.meta={...u.meta,editedAt:a}:u.meta={editedAt:a},yi(e)?u:JSON.stringify(u)}const eb=(e,t=0)=>{const i=new Date(e??"").getTime();return Number.isNaN(i)?t:i},Ml=new Map,tb=()=>Date.now(),nb=3600,Tk=6e4,Ok=e=>/^https?:\/\//i.test(e),Ck=e=>{try{const t=new URL(e);return t.hostname.endsWith(".supabase.co")||t.hostname==="localhost"||t.hostname==="127.0.0.1"}catch{return!1}};async function Th(e){if(!e)return null;if(Ok(e))return Ck(e)?e:null;const t=`avatars:${e}`,i=Ml.get(t);if(i&&i.expiresAt>tb())return i.url;if(i?.inFlight)return i.inFlight;const a=(async()=>{const{data:o,error:u}=await Ce.storage.from("avatars").createSignedUrl(e,nb);return u||!o?.signedUrl?null:o.signedUrl})();Ml.set(t,{url:null,expiresAt:0,inFlight:a});try{const o=await a,u=Math.max(0,nb*1e3-Tk);return Ml.set(t,{url:o,expiresAt:tb()+u}),o}catch{return Ml.delete(t),null}}const uw=e=>`movinesta.messages.conversation_prefs.v1:${e??"anon"}`,kk=e=>{if(!e)return{};try{const t=JSON.parse(e);return!t||typeof t!="object"?{}:t}catch{return{}}},Nk=e=>({muted:!!e?.muted,hidden:!!e?.hidden,mutedUntil:e?.mutedUntil??null}),Oh=e=>typeof window>"u"?{}:kk(window.localStorage.getItem(uw(e))),Jd=(e,t)=>{typeof window>"u"||window.localStorage.setItem(uw(e),JSON.stringify(t))},zs=(e,t,i)=>{if(!t)return;const a=Oh(e),u={...a[t]??{},...i},c=!u.muted&&!u.hidden&&!u.mutedUntil,f={...a};c?delete f[t]:f[t]=u,Jd(e,f)},Xd=e=>{const t=e?.message;if(!t)return!1;const i=t.toLowerCase();return i.includes("conversation_prefs")&&(i.includes("does not exist")||i.includes("relation")||i.includes("schema cache"))},cw=(e,t)=>{const i=e?.message;if(!i)return!1;const a=i.toLowerCase();return a.includes(t.toLowerCase())&&(a.includes("does not exist")||a.includes("column"))};let _a="unknown",qs="unknown";const fw=async()=>{if(_a!=="unknown")return _a==="yes";const{error:e}=await Ce.from("conversation_prefs").select("conversation_id").limit(1);return e?(_a=Xd(e)?"no":"unknown",!1):(_a="yes",!0)},dw=async()=>{if(qs!=="unknown")return qs==="yes";const{error:e}=await Ce.from("conversation_prefs").select("muted_until").limit(1);return e?(qs=cw(e,"muted_until")?"no":"unknown",!1):(qs="yes",!0)},hU=async(e,t,i)=>{if(!e||!t)return zs(e,t,i),{ok:!0,usedRemote:!1};if(!await fw())return zs(e,t,i),{ok:!0,usedRemote:!1};if(!i.muted&&!i.hidden&&!i.mutedUntil){const{error:f}=await Ce.from("conversation_prefs").delete().eq("user_id",e).eq("conversation_id",t);return f?Xd(f)?(_a="no",zs(e,t,i),{ok:!0,usedRemote:!1}):(console.error("[conversationPrefs] failed to delete prefs",f),{ok:!1,usedRemote:!0}):{ok:!0,usedRemote:!0}}const o=await dw(),u={user_id:e,conversation_id:t,muted:!!i.muted,hidden:!!i.hidden};o&&(u.muted_until=i.mutedUntil??null);const{error:c}=await Ce.from("conversation_prefs").upsert(u,{onConflict:"user_id,conversation_id"});if(c){if(Xd(c))return _a="no",zs(e,t,i),{ok:!0,usedRemote:!1};if(cw(c,"muted_until")){qs="no",i.mutedUntil&&zs(e,t,{mutedUntil:i.mutedUntil});const{error:f}=await Ce.from("conversation_prefs").upsert({user_id:e,conversation_id:t,muted:!!i.muted,hidden:!!i.hidden},{onConflict:"user_id,conversation_id"});return f?(console.error("[conversationPrefs] failed to upsert prefs (retry)",f),{ok:!1,usedRemote:!0}):{ok:!0,usedRemote:!0}}return console.error("[conversationPrefs] failed to upsert prefs",c),{ok:!1,usedRemote:!0}}return{ok:!0,usedRemote:!0}};let rb=!1;const mU=async e=>{if(!e||rb)return;rb=!0;const t=Oh(e),i=Object.entries(t);if(!i.length||!await fw())return;const o=await dw(),u=i.map(([f,h])=>{const p=Nk(h),g={user_id:e,conversation_id:f,muted:p.muted,hidden:p.hidden};return o&&(g.muted_until=p.mutedUntil),g}).filter(f=>!!f.muted||!!f.hidden||!!f.muted_until);if(!u.length){Jd(e,{});return}const{error:c}=await Ce.from("conversation_prefs").upsert(u,{onConflict:"user_id,conversation_id"});if(c){console.warn("[conversationPrefs] local->remote migration failed",c);return}Jd(e,{})},hw=async e=>{let t=[],i=!0;{const{data:b,error:_}=await Yd("get_conversation_summaries_v2",{p_user_id:e});if(_){i=!1;const{data:x,error:S}=await Yd("get_conversation_summaries",{p_user_id:e});if(S)throw console.error("[useConversations] Failed to load conversation summaries",S),new Error(S.message);t=x??[]}else t=b??[]}const a=Oh(e),o=i&&t.some(b=>Object.prototype.hasOwnProperty.call(b,"self_muted_until")),u=i&&t.some(b=>Object.prototype.hasOwnProperty.call(b,"self_hidden")),c=i&&t.some(b=>Object.prototype.hasOwnProperty.call(b,"self_muted")),f=t.map(b=>{const _=Array.isArray(b.participants)?b.participants:[],x=Array.isArray(b.participant_receipts)?b.participant_receipts:[],S=_.filter(X=>!X.isSelf),A=_.some(X=>X.isSelf),R=!!b.is_group;let T,O;if(R)T=b.title??(S.length>0?S.slice(0,3).map(X=>X.displayName??X.username??"Unknown user").join(", "):"Group conversation"),O=S.length>0?`${_.length} participants`:"Group conversation";else{const X=S[0]??_[0];T=X?.displayName??X?.username??b.title??"Direct message",O=X?.username!=null?`@${X.username}`:A&&S.length===0?"Just you":"Direct message"}const M=b.last_message_body?Rk(b.last_message_body):null,I=b.last_message_created_at??b.updated_at??b.created_at??null,K=iw(I),U=b.self_last_read_at??null,H=b.self_last_read_message_id??null,Z=!!b.last_message_id&&!!(H&&H!==b.last_message_id||!H&&I&&(!U||eb(I)>eb(U))),ue=b.last_message_user_id===e;let ae=!1;if(!R&&b.last_message_id&&ue&&I){const X=x.find(ee=>ee.userId!==e);if(X?.lastReadMessageId)ae=X.lastReadMessageId===b.last_message_id;else if(X?.lastReadAt){const ee=new Date(I).getTime(),me=new Date(X.lastReadAt).getTime();!Number.isNaN(ee)&&!Number.isNaN(me)&&me>=ee&&(ae=!0)}}return{id:b.conversation_id,isGroup:R,title:T,subtitle:O,participants:_.map(X=>({id:X.id,displayName:X.displayName??X.username??"Unknown user",username:X.username,avatarUrl:X.avatarUrl,isSelf:X.isSelf,isVerified:X.isVerified??null,verifiedType:X.verifiedType??null,verifiedLabel:X.verifiedLabel??null,verifiedAt:X.verifiedAt??null,verifiedByOrg:X.verifiedByOrg??null})),lastMessageId:b.last_message_id??null,lastMessagePreview:M,lastMessageAt:I??null,lastMessageAtLabel:K,hasUnread:Z,lastMessageIsFromSelf:ue,lastMessageSeenByOthers:ae,isMuted:(()=>{const X=a[b.conversation_id]??{},ee=X.mutedUntil??null,me=ee?Date.parse(ee):NaN,Re=!!X.muted||Number.isFinite(me)&&me>Date.now(),z=c?!!b.self_muted:!1;return i?o?z:z||Re:Re})(),mutedUntil:(()=>{const ee=(a[b.conversation_id]??{}).mutedUntil??null,me=b.self_muted_until??null;return i&&o?me:ee})(),isHidden:(()=>{const ee=!!(a[b.conversation_id]??{}).hidden,me=!!b.self_hidden;return i&&u?me:ee})()}});f.sort((b,_)=>{const x=b.lastMessageAt?Date.parse(b.lastMessageAt):0,S=_.lastMessageAt?Date.parse(_.lastMessageAt):0,A=Number.isFinite(x)?x:0,R=Number.isFinite(S)?S:0;return R!==A?R-A:b.id.localeCompare(_.id)});const h=new Set;if(f.forEach(b=>b.participants.forEach(_=>{_.avatarUrl&&h.add(_.avatarUrl)})),!h.size)return f;const p=new Map;await Promise.all(Array.from(h).map(async b=>{p.set(b,await Th(b))}));const g=new Set;f.forEach(b=>b.participants.forEach(_=>{_?.id&&g.add(_.id)}));const y=new Map;if(g.size){const{data:b,error:_}=await Ce.from("profiles_public").select("id,is_verified,verified_type,verified_label,verified_at,verified_by_org").in("id",Array.from(g));if(!_)for(const x of b??[])x?.id&&y.set(String(x.id),{isVerified:x.is_verified??null,verifiedType:x.verified_type??null,verifiedLabel:x.verified_label??null,verifiedAt:x.verified_at??null,verifiedByOrg:x.verified_by_org??null})}return f.map(b=>({...b,participants:b.participants.map(_=>{const x=y.get(_.id);return{..._,avatarUrl:_.avatarUrl?p.get(_.avatarUrl)??null:null,isVerified:x?.isVerified??_.isVerified??null,verifiedType:x?.verifiedType??_.verifiedType??null,verifiedLabel:x?.verifiedLabel??_.verifiedLabel??null,verifiedAt:x?.verifiedAt??_.verifiedAt??null,verifiedByOrg:x?.verifiedByOrg??_.verifiedByOrg??null}})}))},pU=()=>{const{user:e}=ln(),t=e?.id??null;return Ua({queryKey:ow(t),enabled:!!t,refetchOnWindowFocus:!1,refetchOnReconnect:!0,refetchInterval:t?()=>document?.hidden?!1:6e4:!1,refetchIntervalInBackground:!1,staleTime:6e4,queryFn:async()=>t?hw(t):[]})};function mw(e){try{return typeof window>"u"||!window.localStorage?null:window.localStorage.getItem(e)}catch{return null}}function gu(e,t){try{if(typeof window>"u"||!window.localStorage)return;window.localStorage.setItem(e,t)}catch{}}function pw(e){try{if(typeof window>"u"||!window.localStorage)return;window.localStorage.removeItem(e)}catch{}}function gw(e){try{return typeof window>"u"||!window.sessionStorage?null:window.sessionStorage.getItem(e)}catch{return null}}function Ch(e,t){try{if(typeof window>"u"||!window.sessionStorage)return;window.sessionStorage.setItem(e,t)}catch{}}function Dk(e){try{if(typeof window>"u"||!window.sessionStorage)return;window.sessionStorage.removeItem(e)}catch{}}function Oa(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function ib(e){return/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e)}function kh(){if(typeof window>"u")return"00000000-0000-0000-0000-000000000000";const e="mediaSwipeSessionId",t=mw(e);if(t&&ib(t))return t;t&&!ib(t)&&pw(e);const i=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Oa();return gu(e,i),i}function jk(){return typeof window>"u"?"00000000-0000-0000-0000-000000000000":(pw("mediaSwipeSessionId"),kh())}function Nh(e){if(!e)return null;let t=String(e).trim().toLowerCase();return t?(t=t.replace(/\s+/g,"_").replace(/-+/g,"_"),t==="for_you"||t==="for-you"||t==="foryou"?"for_you":t==="from_friends"||t==="from-friends"||t==="friends"?"friends":t==="trending"?"trending":t==="popular"?"popular":t==="combined"?"combined":t==="explore"?"explore":t==="search"?"search":t==="onboarding"?"onboarding":t==="unknown"?"unknown":t):null}const Mk="mn_swipe_deck_seed_v1",Uk="mn_swipe_last_ingest_v1";function yw(e){try{const t={...e,issues:Array.isArray(e.issues)?e.issues.slice(0,25):void 0};gu(Uk,JSON.stringify(t))}catch{}}function vw(e,t,i){return`${Mk}:${e}:${t}:${i??"*"}`}function ab(e,t,i){if(typeof window>"u")return Oa();const a=vw(e,t,i),o=gw(a)??mw(a);if(o)return o;const u=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Oa();try{Ch(a,u)}catch{}try{gu(a,u)}catch{}return u}function gU(e,t,i){if(typeof window>"u")return Oa();const a=vw(e,t,i),o=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Oa();try{Ch(a,o)}catch{}try{gu(a,o)}catch{}return o}function Dh(e){return e&&typeof e=="string"&&/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(e)?e:typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():Oa()}async function Lk(e,t){const i={...e,seed:e.seed&&typeof e.seed=="string"?e.seed:ab(e.sessionId,e.mode,e.kindFilter)},a=async y=>await gn("media-swipe-deck",y,{timeoutMs:t?.timeoutMs??25e3,requireAuth:!0});let o,u=0,c=i;for(;u<2;)try{o=await a(c);break}catch(y){const b=y;if((b instanceof Rn?b.code:String(b?.code??""))==="INVALID_SESSION"){const x=jk();c={...i,sessionId:x,seed:ab(x,i.mode,i.kindFilter)},u+=1;continue}throw y}if(o?.ok===!1&&o?.code==="INVALID_SESSION")throw new Error("Your swipe session expired. Please refresh and try again.");if(o?.ok===!1)throw new Error(o?.message||o?.code||"media-swipe-deck failed");const f=(o?.ok===!0,o),h=f?.deckId,p=f?.recRequestId??f?.rec_request_id??null,g=f?.cards;if(!h||!Array.isArray(g))throw new Error("Invalid media-swipe-deck response");return{deckId:h,recRequestId:p,cards:g}}function jh(e){if(typeof e!="string")return null;const t=e.trim();return t?t==="open"?"detail_open":t==="seen"?"detail_close":t:null}function Pk(e,t,i){const a=String(e??"").trim(),o=String(i??"").trim(),u=Number(t);return!a||!o||!Number.isFinite(u)||u<0?null:`${a}:${Math.trunc(u)}:${o}`}function Mh(e){const t=String(e?.dedupeKey??e?.dedupe_key??"").trim();return t||Pk(e?.recRequestId??e?.rec_request_id,e?.position,e?.mediaItemId)}async function yU(e,t){const i=(Array.isArray(e)?e:[]).map(o=>{const u=Mh(o),c=(Array.isArray(o?.events)?o.events:[]).map(y=>{const b=jh(y?.eventType);return b?{...y,eventType:b,clientEventId:Dh(y?.clientEventId)}:null}).filter(Boolean),f=o?.deckId!=null||o?.recRequestId!=null||o?.rec_request_id!=null||o?.position!=null||String(o?.dedupeKey??o?.dedupe_key??"").trim(),h=u?o?.deckId??null:null,p=u?o?.recRequestId??o?.rec_request_id??null:null,g=u?o?.position??null:null;return{...o,deckId:f&&!u?null:h,recRequestId:f&&!u?null:p,rec_request_id:f&&!u?null:o?.rec_request_id??p,position:f&&!u?null:g,dedupeKey:u??o?.dedupeKey??o?.dedupe_key??null,dedupe_key:u??o?.dedupe_key??o?.dedupeKey??null,source:Nh(o?.source)??o?.source??null,events:c}}).filter(o=>o.events.length>0);if(!i.length)return{ok:!0};const a={items:i};try{const o=await gn("media-swipe-event",a,{timeoutMs:t?.timeoutMs??2e4,requireAuth:!0});if(o?.ok===!0){const u=Array.isArray(o?.acceptedClientEventIds)?o.acceptedClientEventIds.filter(Boolean):[],c=Array.isArray(o?.rejectedClientEventIds)?o.rejectedClientEventIds.filter(Boolean):[],f=Array.isArray(o?.retryClientEventIds)?o.retryClientEventIds.filter(Boolean):[];return yw({at:Date.now(),requestId:typeof o?.requestId=="string"?o.requestId:void 0,accepted:u.length,rejected:c.length,retry:f.length,shouldRetry:!!o?.shouldRetry||f.length>0,issues:Array.isArray(o?.issues)?o.issues.map(h=>({code:typeof h?.code=="string"?h.code:void 0,message:typeof h?.message=="string"?h.message:void 0,clientEventId:typeof h?.clientEventId=="string"?h.clientEventId:void 0,eventType:typeof h?.eventType=="string"?h.eventType:void 0})):void 0}),{ok:!0,requestId:typeof o?.requestId=="string"?o.requestId:void 0,acceptedClientEventIds:u,rejectedClientEventIds:c,retryClientEventIds:f,shouldRetry:!!o?.shouldRetry||f.length>0,issues:Array.isArray(o?.issues)?o.issues:void 0}}return o?.ok===!1?{ok:!1,message:o?.message}:{ok:!0,acceptedClientEventIds:[],rejectedClientEventIds:[],retryClientEventIds:[],shouldRetry:!1}}catch(o){if(o instanceof Rn){const u=Number(o.status??0);if(o.code||u>=400&&u<500&&u!==401&&u!==403)return{ok:!1,message:o.message}}throw o}}async function zk(e,t){const i=(Array.isArray(e.events)?e.events:[]).map(g=>{const y=jh(g?.eventType);return y?{...g,eventType:y,clientEventId:Dh(g?.clientEventId)}:null}).filter(Boolean);if(!i.length)return{ok:!0};const a=Mh(e),o=e,u=o?.deckId!=null||o?.recRequestId!=null||o?.rec_request_id!=null||o?.position!=null||String(o?.dedupeKey??o?.dedupe_key??"").trim(),c=a?o?.deckId??null:null,f=a?o?.recRequestId??o?.rec_request_id??null:null,h=a?o?.position??null:null,p={...e,deckId:u&&!a?null:c,recRequestId:u&&!a?null:f,rec_request_id:u&&!a?null:o?.rec_request_id??f,position:u&&!a?null:h,dedupeKey:a??e.dedupeKey??null,dedupe_key:a??e.dedupe_key??null,source:Nh(e.source)??e.source??null,events:i};try{const g=await gn("media-swipe-event",p,{timeoutMs:t?.timeoutMs??2e4,requireAuth:!0});if(g?.ok===!0){const y=Array.isArray(g?.acceptedClientEventIds)?g.acceptedClientEventIds.filter(Boolean):[],b=Array.isArray(g?.rejectedClientEventIds)?g.rejectedClientEventIds.filter(Boolean):[],_=Array.isArray(g?.retryClientEventIds)?g.retryClientEventIds.filter(Boolean):[];return yw({at:Date.now(),requestId:typeof g?.requestId=="string"?g.requestId:void 0,accepted:y.length,rejected:b.length,retry:_.length,shouldRetry:!!g?.shouldRetry||_.length>0,issues:Array.isArray(g?.issues)?g.issues.map(x=>({code:typeof x?.code=="string"?x.code:void 0,message:typeof x?.message=="string"?x.message:void 0,clientEventId:typeof x?.clientEventId=="string"?x.clientEventId:void 0,eventType:typeof x?.eventType=="string"?x.eventType:void 0})):void 0}),{ok:!0,requestId:typeof g?.requestId=="string"?g.requestId:void 0,acceptedClientEventIds:y,rejectedClientEventIds:b,retryClientEventIds:_,shouldRetry:!!g?.shouldRetry||_.length>0,issues:Array.isArray(g?.issues)?g.issues:void 0}}return g?.ok===!1?{ok:!1,message:g?.message}:{ok:!0,acceptedClientEventIds:[],rejectedClientEventIds:[],retryClientEventIds:[],shouldRetry:!1}}catch(g){if(g instanceof Rn){const y=Number(g.status??0);if(g.code||y>=400&&y<500&&y!==401&&y!==403)return{ok:!1,message:g.message}}throw g}}async function vU(e,t){const i=e;if(Array.isArray(i?.events))return await zk(i,t);const a=jh(i.eventType);if(!a)return{ok:!0};const o=Mh(i),u=i?.deckId!=null||i?.recRequestId!=null||i?.rec_request_id!=null||i?.position!=null||String(i?.dedupeKey??i?.dedupe_key??"").trim(),c=o?i?.deckId??null:null,f=o?i?.recRequestId??i?.rec_request_id??null:null,h=o?i?.position??null:null,p={...e,deckId:u&&!o?null:c,recRequestId:u&&!o?null:f,rec_request_id:u&&!o?null:i?.rec_request_id??f,position:u&&!o?null:h,eventType:a,dedupeKey:o??e.dedupeKey??null,dedupe_key:o??e.dedupe_key??null,source:Nh(e.source)??e.source??null,clientEventId:Dh(e.clientEventId)};try{const g=await gn("media-swipe-event",p,{timeoutMs:t?.timeoutMs??2e4,requireAuth:!0});return g?.ok===!0?{ok:!0}:g?.ok===!1?{ok:!1,message:g?.message}:{ok:!0}}catch(g){if(g instanceof Rn){const y=Number(g.status??0);if(g.code||y>=400&&y<500&&y!==401&&y!==403)return{ok:!1,message:g.message}}throw g}}async function bU(e,t){const i={sessionId:e.sessionId,mediaItemIds:Array.isArray(e.mediaItemIds)?e.mediaItemIds:[],preferredGenres:Array.isArray(e.preferredGenres)?e.preferredGenres.map(a=>String(a).trim()).filter(Boolean).slice(0,20):void 0};try{const a=await gn("onboarding-initial-likes",i,{timeoutMs:t?.timeoutMs??25e3,requireAuth:!0});return a?.ok===!0?{ok:!0}:a?.ok===!1?{ok:!1,message:a?.message}:{ok:!0}}catch(a){if(a instanceof Rn){const o=Number(a.status??0);if(a.code||o>=400&&o<500&&o!==401&&o!==403)return{ok:!1,message:a.message}}throw a}}const sb=e=>["swipeDeck",{variant:e}];function Bk(e){return e==="trending"||e==="popular"?"trending":e==="from-friends"?"friends":e==="combined"?"combined":"for_you"}function Ik(e){if(!e)return null;const t=e.replace("-","_");return t==="for_you"?"for-you":t==="friends"?"from-friends":t==="trending"?"trending":t==="popular"?"popular":t==="combined"?"combined":t==="explore"?"explore":null}function qk(e){return e==="series"?"series":e==="anime"?"anime":"movie"}function $k(e,t,i,a){const o=Array.isArray(e.friendProfiles)?e.friendProfiles:void 0,u=Array.isArray(e.friendIds)?e.friendIds:void 0;return{id:String(e.mediaItemId??e.id),title:e.title??"Untitled",overview:e.overview??null,posterUrl:e.posterUrl??null,backdropUrl:e.backdropUrl??null,year:typeof e.releaseYear=="number"?e.releaseYear:null,type:qk(e.kind),releaseDate:e.releaseDate??null,runtimeMinutes:typeof e.runtimeMinutes=="number"?e.runtimeMinutes:null,director:e.director??null,writer:e.writer??null,actors:e.actors??null,rated:e.rated??null,metascore:e.metascore??null,imdbVotes:e.imdbVotes??null,awards:e.awards??null,boxOffice:e.boxOffice??null,genres:Array.isArray(e.genres)?e.genres:null,language:e.language??null,country:e.country??null,imdbRating:typeof e.imdbRating=="number"?e.imdbRating:null,rtTomatoMeter:typeof e.rtTomatoMeter=="number"?e.rtTomatoMeter:null,friendProfiles:o,friendIds:u,friendLikesCount:o?.length??0,deckId:t,position:i,source:Ik(e.source)??a,initialRating:typeof e.initialRating=="number"?e.initialRating:null,initiallyInWatchlist:typeof e.initiallyInWatchlist=="boolean"?e.initiallyInWatchlist:null}}async function Hk(e,t,i,a){const o=kh(),u=Bk(e),c=await Lk({sessionId:o,mode:u,limit:t,kindFilter:a?.kindFilter??null,skipRerank:a?.skipRerank}),f=c.deckId??null;return(Array.isArray(c.cards)?c.cards:[]).map((p,g)=>$k(p,f,g,e))}async function Vk(e,t,i){const a=i?.limit??20,o=e.getQueryData(sb(t));if(o&&o.status==="ready"&&o.cards.length>=Math.min(a,10))return;const u=await Hk(t,a,i?.weights,{kindFilter:i?.kindFilter??null,skipRerank:i?.skipRerank});e.setQueryData(sb(t),{status:u.length?"ready":"exhausted",cards:u,index:u.length?0:null,errorMessage:null})}const bw=w.createContext(void 0),Gk=({children:e})=>{const[t,i]=w.useState(null),[a,o]=w.useState(!0),u=w.useRef(null),c=w.useCallback(async()=>{o(!0);const{data:p,error:g}=await Ce.auth.getUser();g&&console.error("Error loading auth user:",g.message),i(p?.user??null),o(!1)},[]);w.useEffect(()=>{c();const{data:{subscription:p}}=Ce.auth.onAuthStateChange((g,y)=>{if(g==="INITIAL_SESSION"){y?.user&&(i(y.user),o(!1));return}i(y?.user??null),o(!1)});return()=>{p.unsubscribe()}},[c]),w.useEffect(()=>{const p=t?.id;if(!p){u.current=null;return}if(u.current===p)return;u.current=p;const g=["combined","for-you","from-friends","trending"];(async()=>await Promise.allSettled([pn.prefetchInfiniteQuery({queryKey:Ur.homeFeed(p),initialPageParam:null,queryFn:({pageParam:b})=>aw(p,b??null)}),pn.prefetchQuery({queryKey:ow(p),queryFn:()=>hw(p)}),pn.prefetchQuery({queryKey:Ur.diaryStats(p),queryFn:()=>sw(p)}),...g.map(b=>Vk(pn,b,{limit:b==="combined"?36:18,skipRerank:!0}))]))()},[t?.id]);const f=w.useCallback(async()=>{const{error:p}=await Ce.auth.signOut();p&&console.error("Error signing out:",p.message),pn.clear(),i(null)},[]),h={user:t,loading:a,signOut:f};return k.jsx(bw.Provider,{value:h,children:e})},ln=()=>{const e=w.useContext(bw);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},iu=e=>e?.code==="PGRST116",Kk=e=>/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-5][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}$/.test(e),Fk=e=>{if(!e)return null;const t=e.trim();return t?t.startsWith("@")?t.slice(1):t:null},wU=e=>{const{user:t}=ln(),i=Fk(e),a=i&&Kk(i)?"id":"username";return Ua({queryKey:["profile","byUsername",a,i,t?.id??null],enabled:!!i,queryFn:async()=>{if(!i)return null;const{data:o,error:u}=await Ce.from("profiles_public").select("id, username, display_name, avatar_url, bio, is_verified, verified_type, verified_label, verified_at, verified_by_org").eq(a,i).maybeSingle();if(u)throw iu(u)?new Error("Profile not found"):u;const c=o;if(!c)throw new Error("Profile not found");const f=c.id,h=await Th(c.avatar_url),[{count:p,error:g},{count:y,error:b}]=await Promise.all([Ce.from("follows").select("followed_id",{count:"exact",head:!0}).eq("followed_id",f),Ce.from("follows").select("follower_id",{count:"exact",head:!0}).eq("follower_id",f)]);if(g)throw g;if(b)throw b;let _=!1;if(t&&t.id!==f){const{data:x,error:S}=await Ce.from("follows").select("follower_id").eq("follower_id",t.id).eq("followed_id",f).maybeSingle();if(S&&!iu(S))throw S;_=!!x}return{id:f,username:c.username,displayName:c.display_name,avatarUrl:h,bio:c.bio,isVerified:!!c.is_verified,verifiedType:c.verified_type??null,verifiedLabel:c.verified_label??null,verifiedAt:c.verified_at??null,verifiedByOrg:c.verified_by_org??null,followersCount:p??0,followingCount:y??0,isFollowing:_,isCurrentUser:!!t&&t.id===f}}})},Qk=()=>{const{user:e}=ln();return Ua({queryKey:["profile","current",e?.id??null],enabled:!!e,queryFn:async()=>{if(!e)return null;const{data:t,error:i}=await Ce.from("profiles").select("id, username, display_name, avatar_url, bio").eq("id",e.id).maybeSingle();if(i)throw iu(i)?new Error("Profile not found for current user"):i;if(!t)throw new Error("Profile not found for current user");const a=t.id,o=await Th(t.avatar_url),{data:u,error:c}=await Ce.from("profiles_public").select("is_verified, verified_type, verified_label, verified_at, verified_by_org").eq("id",a).maybeSingle();if(c&&!iu(c))throw c;const f=u,{data:h,error:p}=await Ce.from("user_stats").select("followers_count, following_count").eq("user_id",a).maybeSingle();if(p)throw p;const g=h?.followers_count??0,y=h?.following_count??0;return{id:a,username:t.username,displayName:t.display_name,avatarUrl:o,bio:t.bio,isVerified:!!f?.is_verified,verifiedType:f?.verified_type??null,verifiedLabel:f?.verified_label??null,verifiedAt:f?.verified_at??null,verifiedByOrg:f?.verified_by_org??null,followersCount:g,followingCount:y,isFollowing:!1,isCurrentUser:!0}}})},Yk="inline-flex items-center gap-1 rounded-full px-2.5 py-0.5 text-xs font-medium",Jk={default:"bg-card/80 text-muted-foreground border border-border",outline:"border border-border text-muted-foreground bg-transparent",accent:"bg-primary/20 text-primary border border-primary/30"},Xk=({variant:e="default",className:t="",...i})=>{const a=[Yk,Jk[e],t].filter(Boolean).join(" ");return k.jsx("span",{className:a,...i})};function Mr(e,t,{checkForDefaultPrevented:i=!0}={}){return function(o){if(e?.(o),i===!1||!o.defaultPrevented)return t?.(o)}}function Wk(e,t=[]){let i=[];function a(u,c){const f=w.createContext(c),h=i.length;i=[...i,c];const p=y=>{const{scope:b,children:_,...x}=y,S=b?.[e]?.[h]||f,A=w.useMemo(()=>x,Object.values(x));return k.jsx(S.Provider,{value:A,children:_})};p.displayName=u+"Provider";function g(y,b){const _=b?.[e]?.[h]||f,x=w.useContext(_);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[p,g]}const o=()=>{const u=i.map(c=>w.createContext(c));return function(f){const h=f?.[e]||u;return w.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[a,Zk(o,...t)]}function Zk(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const c=a.reduce((f,{useScope:h,scopeName:p})=>{const y=h(u)[`__scope${p}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return i.scopeName=t.scopeName,i}function eN(e){const t=tN(e),i=w.forwardRef((a,o)=>{const{children:u,...c}=a,f=w.Children.toArray(u),h=f.find(rN);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}function tN(e){const t=w.forwardRef((i,a)=>{const{children:o,...u}=i;if(w.isValidElement(o)){const c=aN(o),f=iN(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var nN=Symbol("radix.slottable");function rN(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===nN}function iN(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function aN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var sN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ww=sN.reduce((e,t)=>{const i=eN(`Primitive.${t}`),a=w.forwardRef((o,u)=>{const{asChild:c,...f}=o,h=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(h,{...f,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function oN(e,t){e&&mh.flushSync(()=>e.dispatchEvent(t))}function Ca(e){const t=w.useRef(e);return w.useEffect(()=>{t.current=e}),w.useMemo(()=>(...i)=>t.current?.(...i),[])}function lN(e,t=globalThis?.document){const i=Ca(e);w.useEffect(()=>{const a=o=>{o.key==="Escape"&&i(o)};return t.addEventListener("keydown",a,{capture:!0}),()=>t.removeEventListener("keydown",a,{capture:!0})},[i,t])}var uN="DismissableLayer",Wd="dismissableLayer.update",cN="dismissableLayer.pointerDownOutside",fN="dismissableLayer.focusOutside",ob,_w=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Sw=w.forwardRef((e,t)=>{const{disableOutsidePointerEvents:i=!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:u,onInteractOutside:c,onDismiss:f,...h}=e,p=w.useContext(_w),[g,y]=w.useState(null),b=g?.ownerDocument??globalThis?.document,[,_]=w.useState({}),x=Ir(t,U=>y(U)),S=Array.from(p.layers),[A]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=S.indexOf(A),T=g?S.indexOf(g):-1,O=p.layersWithOutsidePointerEventsDisabled.size>0,M=T>=R,I=mN(U=>{const H=U.target,Z=[...p.branches].some(ue=>ue.contains(H));!M||Z||(o?.(U),c?.(U),U.defaultPrevented||f?.())},b),K=pN(U=>{const H=U.target;[...p.branches].some(ue=>ue.contains(H))||(u?.(U),c?.(U),U.defaultPrevented||f?.())},b);return lN(U=>{T===p.layers.size-1&&(a?.(U),!U.defaultPrevented&&f&&(U.preventDefault(),f()))},b),w.useEffect(()=>{if(g)return i&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(ob=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(g)),p.layers.add(g),lb(),()=>{i&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=ob)}},[g,b,i,p]),w.useEffect(()=>()=>{g&&(p.layers.delete(g),p.layersWithOutsidePointerEventsDisabled.delete(g),lb())},[g,p]),w.useEffect(()=>{const U=()=>_({});return document.addEventListener(Wd,U),()=>document.removeEventListener(Wd,U)},[]),k.jsx(ww.div,{...h,ref:x,style:{pointerEvents:O?M?"auto":"none":void 0,...e.style},onFocusCapture:Mr(e.onFocusCapture,K.onFocusCapture),onBlurCapture:Mr(e.onBlurCapture,K.onBlurCapture),onPointerDownCapture:Mr(e.onPointerDownCapture,I.onPointerDownCapture)})});Sw.displayName=uN;var dN="DismissableLayerBranch",hN=w.forwardRef((e,t)=>{const i=w.useContext(_w),a=w.useRef(null),o=Ir(t,a);return w.useEffect(()=>{const u=a.current;if(u)return i.branches.add(u),()=>{i.branches.delete(u)}},[i.branches]),k.jsx(ww.div,{...e,ref:o})});hN.displayName=dN;function mN(e,t=globalThis?.document){const i=Ca(e),a=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const u=f=>{if(f.target&&!a.current){let h=function(){Ew(cN,i,p,{discrete:!0})};const p={originalEvent:f};f.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=h,t.addEventListener("click",o.current,{once:!0})):h()}else t.removeEventListener("click",o.current);a.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",u)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",u),t.removeEventListener("click",o.current)}},[t,i]),{onPointerDownCapture:()=>a.current=!0}}function pN(e,t=globalThis?.document){const i=Ca(e),a=w.useRef(!1);return w.useEffect(()=>{const o=u=>{u.target&&!a.current&&Ew(fN,i,{originalEvent:u},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,i]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}function lb(){const e=new CustomEvent(Wd);document.dispatchEvent(e)}function Ew(e,t,i,{discrete:a}){const o=i.originalEvent.target,u=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:i});t&&o.addEventListener(e,t,{once:!0}),a?oN(o,u):o.dispatchEvent(u)}var fd=0;function gN(){w.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ub()),document.body.insertAdjacentElement("beforeend",e[1]??ub()),fd++,()=>{fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fd--}},[])}function ub(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}function yN(e){const t=vN(e),i=w.forwardRef((a,o)=>{const{children:u,...c}=a,f=w.Children.toArray(u),h=f.find(wN);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}function vN(e){const t=w.forwardRef((i,a)=>{const{children:o,...u}=i;if(w.isValidElement(o)){const c=SN(o),f=_N(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var bN=Symbol("radix.slottable");function wN(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===bN}function _N(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function SN(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var EN=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],xN=EN.reduce((e,t)=>{const i=yN(`Primitive.${t}`),a=w.forwardRef((o,u)=>{const{asChild:c,...f}=o,h=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(h,{...f,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),dd="focusScope.autoFocusOnMount",hd="focusScope.autoFocusOnUnmount",cb={bubbles:!1,cancelable:!0},AN="FocusScope",xw=w.forwardRef((e,t)=>{const{loop:i=!1,trapped:a=!1,onMountAutoFocus:o,onUnmountAutoFocus:u,...c}=e,[f,h]=w.useState(null),p=Ca(o),g=Ca(u),y=w.useRef(null),b=Ir(t,S=>h(S)),_=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(a){let S=function(O){if(_.paused||!f)return;const M=O.target;f.contains(M)?y.current=M:kr(y.current,{select:!0})},A=function(O){if(_.paused||!f)return;const M=O.relatedTarget;M!==null&&(f.contains(M)||kr(y.current,{select:!0}))},R=function(O){if(document.activeElement===document.body)for(const I of O)I.removedNodes.length>0&&kr(f)};document.addEventListener("focusin",S),document.addEventListener("focusout",A);const T=new MutationObserver(R);return f&&T.observe(f,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",S),document.removeEventListener("focusout",A),T.disconnect()}}},[a,f,_.paused]),w.useEffect(()=>{if(f){db.add(_);const S=document.activeElement;if(!f.contains(S)){const R=new CustomEvent(dd,cb);f.addEventListener(dd,p),f.dispatchEvent(R),R.defaultPrevented||(RN(NN(Aw(f)),{select:!0}),document.activeElement===S&&kr(f))}return()=>{f.removeEventListener(dd,p),setTimeout(()=>{const R=new CustomEvent(hd,cb);f.addEventListener(hd,g),f.dispatchEvent(R),R.defaultPrevented||kr(S??document.body,{select:!0}),f.removeEventListener(hd,g),db.remove(_)},0)}}},[f,p,g,_]);const x=w.useCallback(S=>{if(!i&&!a||_.paused)return;const A=S.key==="Tab"&&!S.altKey&&!S.ctrlKey&&!S.metaKey,R=document.activeElement;if(A&&R){const T=S.currentTarget,[O,M]=TN(T);O&&M?!S.shiftKey&&R===M?(S.preventDefault(),i&&kr(O,{select:!0})):S.shiftKey&&R===O&&(S.preventDefault(),i&&kr(M,{select:!0})):R===T&&S.preventDefault()}},[i,a,_.paused]);return k.jsx(xN.div,{tabIndex:-1,...c,ref:b,onKeyDown:x})});xw.displayName=AN;function RN(e,{select:t=!1}={}){const i=document.activeElement;for(const a of e)if(kr(a,{select:t}),document.activeElement!==i)return}function TN(e){const t=Aw(e),i=fb(t,e),a=fb(t.reverse(),e);return[i,a]}function Aw(e){const t=[],i=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:a=>{const o=a.tagName==="INPUT"&&a.type==="hidden";return a.disabled||a.hidden||o?NodeFilter.FILTER_SKIP:a.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;i.nextNode();)t.push(i.currentNode);return t}function fb(e,t){for(const i of e)if(!ON(i,{upTo:t}))return i}function ON(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function CN(e){return e instanceof HTMLInputElement&&"select"in e}function kr(e,{select:t=!1}={}){if(e&&e.focus){const i=document.activeElement;e.focus({preventScroll:!0}),e!==i&&CN(e)&&t&&e.select()}}var db=kN();function kN(){let e=[];return{add(t){const i=e[0];t!==i&&i?.pause(),e=hb(e,t),e.unshift(t)},remove(t){e=hb(e,t),e[0]?.resume()}}}function hb(e,t){const i=[...e],a=i.indexOf(t);return a!==-1&&i.splice(a,1),i}function NN(e){return e.filter(t=>t.tagName!=="A")}var Lr=globalThis?.document?w.useLayoutEffect:()=>{},DN=sh[" useId ".trim().toString()]||(()=>{}),jN=0;function MN(e){const[t,i]=w.useState(DN());return Lr(()=>{i(a=>a??String(jN++))},[e]),e||(t?`radix-${t}`:"")}const UN=["top","right","bottom","left"],Pr=Math.min,qt=Math.max,au=Math.round,Ul=Math.floor,On=e=>({x:e,y:e}),LN={left:"right",right:"left",bottom:"top",top:"bottom"},PN={start:"end",end:"start"};function Zd(e,t,i){return qt(e,Pr(t,i))}function er(e,t){return typeof e=="function"?e(t):e}function tr(e){return e.split("-")[0]}function Ia(e){return e.split("-")[1]}function Uh(e){return e==="x"?"y":"x"}function Lh(e){return e==="y"?"height":"width"}const zN=new Set(["top","bottom"]);function Tn(e){return zN.has(tr(e))?"y":"x"}function Ph(e){return Uh(Tn(e))}function BN(e,t,i){i===void 0&&(i=!1);const a=Ia(e),o=Ph(e),u=Lh(o);let c=o==="x"?a===(i?"end":"start")?"right":"left":a==="start"?"bottom":"top";return t.reference[u]>t.floating[u]&&(c=su(c)),[c,su(c)]}function IN(e){const t=su(e);return[eh(e),t,eh(t)]}function eh(e){return e.replace(/start|end/g,t=>PN[t])}const mb=["left","right"],pb=["right","left"],qN=["top","bottom"],$N=["bottom","top"];function HN(e,t,i){switch(e){case"top":case"bottom":return i?t?pb:mb:t?mb:pb;case"left":case"right":return t?qN:$N;default:return[]}}function VN(e,t,i,a){const o=Ia(e);let u=HN(tr(e),i==="start",a);return o&&(u=u.map(c=>c+"-"+o),t&&(u=u.concat(u.map(eh)))),u}function su(e){return e.replace(/left|right|bottom|top/g,t=>LN[t])}function GN(e){return{top:0,right:0,bottom:0,left:0,...e}}function Rw(e){return typeof e!="number"?GN(e):{top:e,right:e,bottom:e,left:e}}function ou(e){const{x:t,y:i,width:a,height:o}=e;return{width:a,height:o,top:i,left:t,right:t+a,bottom:i+o,x:t,y:i}}function gb(e,t,i){let{reference:a,floating:o}=e;const u=Tn(t),c=Ph(t),f=Lh(c),h=tr(t),p=u==="y",g=a.x+a.width/2-o.width/2,y=a.y+a.height/2-o.height/2,b=a[f]/2-o[f]/2;let _;switch(h){case"top":_={x:g,y:a.y-o.height};break;case"bottom":_={x:g,y:a.y+a.height};break;case"right":_={x:a.x+a.width,y};break;case"left":_={x:a.x-o.width,y};break;default:_={x:a.x,y:a.y}}switch(Ia(t)){case"start":_[c]-=b*(i&&p?-1:1);break;case"end":_[c]+=b*(i&&p?-1:1);break}return _}const KN=async(e,t,i)=>{const{placement:a="bottom",strategy:o="absolute",middleware:u=[],platform:c}=i,f=u.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let p=await c.getElementRects({reference:e,floating:t,strategy:o}),{x:g,y}=gb(p,a,h),b=a,_={},x=0;for(let S=0;S<f.length;S++){const{name:A,fn:R}=f[S],{x:T,y:O,data:M,reset:I}=await R({x:g,y,initialPlacement:a,placement:b,strategy:o,middlewareData:_,rects:p,platform:c,elements:{reference:e,floating:t}});g=T??g,y=O??y,_={..._,[A]:{..._[A],...M}},I&&x<=50&&(x++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(p=I.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:o}):I.rects),{x:g,y}=gb(p,b,h)),S=-1)}return{x:g,y,placement:b,strategy:o,middlewareData:_}};async function Zs(e,t){var i;t===void 0&&(t={});const{x:a,y:o,platform:u,rects:c,elements:f,strategy:h}=e,{boundary:p="clippingAncestors",rootBoundary:g="viewport",elementContext:y="floating",altBoundary:b=!1,padding:_=0}=er(t,e),x=Rw(_),A=f[b?y==="floating"?"reference":"floating":y],R=ou(await u.getClippingRect({element:(i=await(u.isElement==null?void 0:u.isElement(A)))==null||i?A:A.contextElement||await(u.getDocumentElement==null?void 0:u.getDocumentElement(f.floating)),boundary:p,rootBoundary:g,strategy:h})),T=y==="floating"?{x:a,y:o,width:c.floating.width,height:c.floating.height}:c.reference,O=await(u.getOffsetParent==null?void 0:u.getOffsetParent(f.floating)),M=await(u.isElement==null?void 0:u.isElement(O))?await(u.getScale==null?void 0:u.getScale(O))||{x:1,y:1}:{x:1,y:1},I=ou(u.convertOffsetParentRelativeRectToViewportRelativeRect?await u.convertOffsetParentRelativeRectToViewportRelativeRect({elements:f,rect:T,offsetParent:O,strategy:h}):T);return{top:(R.top-I.top+x.top)/M.y,bottom:(I.bottom-R.bottom+x.bottom)/M.y,left:(R.left-I.left+x.left)/M.x,right:(I.right-R.right+x.right)/M.x}}const FN=e=>({name:"arrow",options:e,async fn(t){const{x:i,y:a,placement:o,rects:u,platform:c,elements:f,middlewareData:h}=t,{element:p,padding:g=0}=er(e,t)||{};if(p==null)return{};const y=Rw(g),b={x:i,y:a},_=Ph(o),x=Lh(_),S=await c.getDimensions(p),A=_==="y",R=A?"top":"left",T=A?"bottom":"right",O=A?"clientHeight":"clientWidth",M=u.reference[x]+u.reference[_]-b[_]-u.floating[x],I=b[_]-u.reference[_],K=await(c.getOffsetParent==null?void 0:c.getOffsetParent(p));let U=K?K[O]:0;(!U||!await(c.isElement==null?void 0:c.isElement(K)))&&(U=f.floating[O]||u.floating[x]);const H=M/2-I/2,Z=U/2-S[x]/2-1,ue=Pr(y[R],Z),ae=Pr(y[T],Z),X=ue,ee=U-S[x]-ae,me=U/2-S[x]/2+H,Re=Zd(X,me,ee),z=!h.arrow&&Ia(o)!=null&&me!==Re&&u.reference[x]/2-(me<X?ue:ae)-S[x]/2<0,Y=z?me<X?me-X:me-ee:0;return{[_]:b[_]+Y,data:{[_]:Re,centerOffset:me-Re-Y,...z&&{alignmentOffset:Y}},reset:z}}}),QN=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var i,a;const{placement:o,middlewareData:u,rects:c,initialPlacement:f,platform:h,elements:p}=t,{mainAxis:g=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:_="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...A}=er(e,t);if((i=u.arrow)!=null&&i.alignmentOffset)return{};const R=tr(o),T=Tn(f),O=tr(f)===f,M=await(h.isRTL==null?void 0:h.isRTL(p.floating)),I=b||(O||!S?[su(f)]:IN(f)),K=x!=="none";!b&&K&&I.push(...VN(f,S,x,M));const U=[f,...I],H=await Zs(t,A),Z=[];let ue=((a=u.flip)==null?void 0:a.overflows)||[];if(g&&Z.push(H[R]),y){const me=BN(o,c,M);Z.push(H[me[0]],H[me[1]])}if(ue=[...ue,{placement:o,overflows:Z}],!Z.every(me=>me<=0)){var ae,X;const me=(((ae=u.flip)==null?void 0:ae.index)||0)+1,Re=U[me];if(Re&&(!(y==="alignment"?T!==Tn(Re):!1)||ue.every($=>Tn($.placement)===T?$.overflows[0]>0:!0)))return{data:{index:me,overflows:ue},reset:{placement:Re}};let z=(X=ue.filter(Y=>Y.overflows[0]<=0).sort((Y,$)=>Y.overflows[1]-$.overflows[1])[0])==null?void 0:X.placement;if(!z)switch(_){case"bestFit":{var ee;const Y=(ee=ue.filter($=>{if(K){const pe=Tn($.placement);return pe===T||pe==="y"}return!0}).map($=>[$.placement,$.overflows.filter(pe=>pe>0).reduce((pe,be)=>pe+be,0)]).sort(($,pe)=>$[1]-pe[1])[0])==null?void 0:ee[0];Y&&(z=Y);break}case"initialPlacement":z=f;break}if(o!==z)return{reset:{placement:z}}}return{}}}};function yb(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function vb(e){return UN.some(t=>e[t]>=0)}const YN=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:i}=t,{strategy:a="referenceHidden",...o}=er(e,t);switch(a){case"referenceHidden":{const u=await Zs(t,{...o,elementContext:"reference"}),c=yb(u,i.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:vb(c)}}}case"escaped":{const u=await Zs(t,{...o,altBoundary:!0}),c=yb(u,i.floating);return{data:{escapedOffsets:c,escaped:vb(c)}}}default:return{}}}}},Tw=new Set(["left","top"]);async function JN(e,t){const{placement:i,platform:a,elements:o}=e,u=await(a.isRTL==null?void 0:a.isRTL(o.floating)),c=tr(i),f=Ia(i),h=Tn(i)==="y",p=Tw.has(c)?-1:1,g=u&&h?-1:1,y=er(t,e);let{mainAxis:b,crossAxis:_,alignmentAxis:x}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return f&&typeof x=="number"&&(_=f==="end"?x*-1:x),h?{x:_*g,y:b*p}:{x:b*p,y:_*g}}const XN=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var i,a;const{x:o,y:u,placement:c,middlewareData:f}=t,h=await JN(t,e);return c===((i=f.offset)==null?void 0:i.placement)&&(a=f.arrow)!=null&&a.alignmentOffset?{}:{x:o+h.x,y:u+h.y,data:{...h,placement:c}}}}},WN=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:i,y:a,placement:o}=t,{mainAxis:u=!0,crossAxis:c=!1,limiter:f={fn:A=>{let{x:R,y:T}=A;return{x:R,y:T}}},...h}=er(e,t),p={x:i,y:a},g=await Zs(t,h),y=Tn(tr(o)),b=Uh(y);let _=p[b],x=p[y];if(u){const A=b==="y"?"top":"left",R=b==="y"?"bottom":"right",T=_+g[A],O=_-g[R];_=Zd(T,_,O)}if(c){const A=y==="y"?"top":"left",R=y==="y"?"bottom":"right",T=x+g[A],O=x-g[R];x=Zd(T,x,O)}const S=f.fn({...t,[b]:_,[y]:x});return{...S,data:{x:S.x-i,y:S.y-a,enabled:{[b]:u,[y]:c}}}}}},ZN=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:i,y:a,placement:o,rects:u,middlewareData:c}=t,{offset:f=0,mainAxis:h=!0,crossAxis:p=!0}=er(e,t),g={x:i,y:a},y=Tn(o),b=Uh(y);let _=g[b],x=g[y];const S=er(f,t),A=typeof S=="number"?{mainAxis:S,crossAxis:0}:{mainAxis:0,crossAxis:0,...S};if(h){const O=b==="y"?"height":"width",M=u.reference[b]-u.floating[O]+A.mainAxis,I=u.reference[b]+u.reference[O]-A.mainAxis;_<M?_=M:_>I&&(_=I)}if(p){var R,T;const O=b==="y"?"width":"height",M=Tw.has(tr(o)),I=u.reference[y]-u.floating[O]+(M&&((R=c.offset)==null?void 0:R[y])||0)+(M?0:A.crossAxis),K=u.reference[y]+u.reference[O]+(M?0:((T=c.offset)==null?void 0:T[y])||0)-(M?A.crossAxis:0);x<I?x=I:x>K&&(x=K)}return{[b]:_,[y]:x}}}},eD=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var i,a;const{placement:o,rects:u,platform:c,elements:f}=t,{apply:h=()=>{},...p}=er(e,t),g=await Zs(t,p),y=tr(o),b=Ia(o),_=Tn(o)==="y",{width:x,height:S}=u.floating;let A,R;y==="top"||y==="bottom"?(A=y,R=b===(await(c.isRTL==null?void 0:c.isRTL(f.floating))?"start":"end")?"left":"right"):(R=y,A=b==="end"?"top":"bottom");const T=S-g.top-g.bottom,O=x-g.left-g.right,M=Pr(S-g[A],T),I=Pr(x-g[R],O),K=!t.middlewareData.shift;let U=M,H=I;if((i=t.middlewareData.shift)!=null&&i.enabled.x&&(H=O),(a=t.middlewareData.shift)!=null&&a.enabled.y&&(U=T),K&&!b){const ue=qt(g.left,0),ae=qt(g.right,0),X=qt(g.top,0),ee=qt(g.bottom,0);_?H=x-2*(ue!==0||ae!==0?ue+ae:qt(g.left,g.right)):U=S-2*(X!==0||ee!==0?X+ee:qt(g.top,g.bottom))}await h({...t,availableWidth:H,availableHeight:U});const Z=await c.getDimensions(f.floating);return x!==Z.width||S!==Z.height?{reset:{rects:!0}}:{}}}};function yu(){return typeof window<"u"}function qa(e){return Ow(e)?(e.nodeName||"").toLowerCase():"#document"}function Vt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kn(e){var t;return(t=(Ow(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Ow(e){return yu()?e instanceof Node||e instanceof Vt(e).Node:!1}function yn(e){return yu()?e instanceof Element||e instanceof Vt(e).Element:!1}function Cn(e){return yu()?e instanceof HTMLElement||e instanceof Vt(e).HTMLElement:!1}function bb(e){return!yu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Vt(e).ShadowRoot}const tD=new Set(["inline","contents"]);function so(e){const{overflow:t,overflowX:i,overflowY:a,display:o}=vn(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+i)&&!tD.has(o)}const nD=new Set(["table","td","th"]);function rD(e){return nD.has(qa(e))}const iD=[":popover-open",":modal"];function vu(e){return iD.some(t=>{try{return e.matches(t)}catch{return!1}})}const aD=["transform","translate","scale","rotate","perspective"],sD=["transform","translate","scale","rotate","perspective","filter"],oD=["paint","layout","strict","content"];function zh(e){const t=Bh(),i=yn(e)?vn(e):e;return aD.some(a=>i[a]?i[a]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!t&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!t&&(i.filter?i.filter!=="none":!1)||sD.some(a=>(i.willChange||"").includes(a))||oD.some(a=>(i.contain||"").includes(a))}function lD(e){let t=zr(e);for(;Cn(t)&&!ka(t);){if(zh(t))return t;if(vu(t))return null;t=zr(t)}return null}function Bh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const uD=new Set(["html","body","#document"]);function ka(e){return uD.has(qa(e))}function vn(e){return Vt(e).getComputedStyle(e)}function bu(e){return yn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function zr(e){if(qa(e)==="html")return e;const t=e.assignedSlot||e.parentNode||bb(e)&&e.host||kn(e);return bb(t)?t.host:t}function Cw(e){const t=zr(e);return ka(t)?e.ownerDocument?e.ownerDocument.body:e.body:Cn(t)&&so(t)?t:Cw(t)}function eo(e,t,i){var a;t===void 0&&(t=[]),i===void 0&&(i=!0);const o=Cw(e),u=o===((a=e.ownerDocument)==null?void 0:a.body),c=Vt(o);if(u){const f=th(c);return t.concat(c,c.visualViewport||[],so(o)?o:[],f&&i?eo(f):[])}return t.concat(o,eo(o,[],i))}function th(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function kw(e){const t=vn(e);let i=parseFloat(t.width)||0,a=parseFloat(t.height)||0;const o=Cn(e),u=o?e.offsetWidth:i,c=o?e.offsetHeight:a,f=au(i)!==u||au(a)!==c;return f&&(i=u,a=c),{width:i,height:a,$:f}}function Ih(e){return yn(e)?e:e.contextElement}function xa(e){const t=Ih(e);if(!Cn(t))return On(1);const i=t.getBoundingClientRect(),{width:a,height:o,$:u}=kw(t);let c=(u?au(i.width):i.width)/a,f=(u?au(i.height):i.height)/o;return(!c||!Number.isFinite(c))&&(c=1),(!f||!Number.isFinite(f))&&(f=1),{x:c,y:f}}const cD=On(0);function Nw(e){const t=Vt(e);return!Bh()||!t.visualViewport?cD:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function fD(e,t,i){return t===void 0&&(t=!1),!i||t&&i!==Vt(e)?!1:t}function wi(e,t,i,a){t===void 0&&(t=!1),i===void 0&&(i=!1);const o=e.getBoundingClientRect(),u=Ih(e);let c=On(1);t&&(a?yn(a)&&(c=xa(a)):c=xa(e));const f=fD(u,i,a)?Nw(u):On(0);let h=(o.left+f.x)/c.x,p=(o.top+f.y)/c.y,g=o.width/c.x,y=o.height/c.y;if(u){const b=Vt(u),_=a&&yn(a)?Vt(a):a;let x=b,S=th(x);for(;S&&a&&_!==x;){const A=xa(S),R=S.getBoundingClientRect(),T=vn(S),O=R.left+(S.clientLeft+parseFloat(T.paddingLeft))*A.x,M=R.top+(S.clientTop+parseFloat(T.paddingTop))*A.y;h*=A.x,p*=A.y,g*=A.x,y*=A.y,h+=O,p+=M,x=Vt(S),S=th(x)}}return ou({width:g,height:y,x:h,y:p})}function wu(e,t){const i=bu(e).scrollLeft;return t?t.left+i:wi(kn(e)).left+i}function Dw(e,t){const i=e.getBoundingClientRect(),a=i.left+t.scrollLeft-wu(e,i),o=i.top+t.scrollTop;return{x:a,y:o}}function dD(e){let{elements:t,rect:i,offsetParent:a,strategy:o}=e;const u=o==="fixed",c=kn(a),f=t?vu(t.floating):!1;if(a===c||f&&u)return i;let h={scrollLeft:0,scrollTop:0},p=On(1);const g=On(0),y=Cn(a);if((y||!y&&!u)&&((qa(a)!=="body"||so(c))&&(h=bu(a)),Cn(a))){const _=wi(a);p=xa(a),g.x=_.x+a.clientLeft,g.y=_.y+a.clientTop}const b=c&&!y&&!u?Dw(c,h):On(0);return{width:i.width*p.x,height:i.height*p.y,x:i.x*p.x-h.scrollLeft*p.x+g.x+b.x,y:i.y*p.y-h.scrollTop*p.y+g.y+b.y}}function hD(e){return Array.from(e.getClientRects())}function mD(e){const t=kn(e),i=bu(e),a=e.ownerDocument.body,o=qt(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),u=qt(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight);let c=-i.scrollLeft+wu(e);const f=-i.scrollTop;return vn(a).direction==="rtl"&&(c+=qt(t.clientWidth,a.clientWidth)-o),{width:o,height:u,x:c,y:f}}const wb=25;function pD(e,t){const i=Vt(e),a=kn(e),o=i.visualViewport;let u=a.clientWidth,c=a.clientHeight,f=0,h=0;if(o){u=o.width,c=o.height;const g=Bh();(!g||g&&t==="fixed")&&(f=o.offsetLeft,h=o.offsetTop)}const p=wu(a);if(p<=0){const g=a.ownerDocument,y=g.body,b=getComputedStyle(y),_=g.compatMode==="CSS1Compat"&&parseFloat(b.marginLeft)+parseFloat(b.marginRight)||0,x=Math.abs(a.clientWidth-y.clientWidth-_);x<=wb&&(u-=x)}else p<=wb&&(u+=p);return{width:u,height:c,x:f,y:h}}const gD=new Set(["absolute","fixed"]);function yD(e,t){const i=wi(e,!0,t==="fixed"),a=i.top+e.clientTop,o=i.left+e.clientLeft,u=Cn(e)?xa(e):On(1),c=e.clientWidth*u.x,f=e.clientHeight*u.y,h=o*u.x,p=a*u.y;return{width:c,height:f,x:h,y:p}}function _b(e,t,i){let a;if(t==="viewport")a=pD(e,i);else if(t==="document")a=mD(kn(e));else if(yn(t))a=yD(t,i);else{const o=Nw(e);a={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return ou(a)}function jw(e,t){const i=zr(e);return i===t||!yn(i)||ka(i)?!1:vn(i).position==="fixed"||jw(i,t)}function vD(e,t){const i=t.get(e);if(i)return i;let a=eo(e,[],!1).filter(f=>yn(f)&&qa(f)!=="body"),o=null;const u=vn(e).position==="fixed";let c=u?zr(e):e;for(;yn(c)&&!ka(c);){const f=vn(c),h=zh(c);!h&&f.position==="fixed"&&(o=null),(u?!h&&!o:!h&&f.position==="static"&&!!o&&gD.has(o.position)||so(c)&&!h&&jw(e,c))?a=a.filter(g=>g!==c):o=f,c=zr(c)}return t.set(e,a),a}function bD(e){let{element:t,boundary:i,rootBoundary:a,strategy:o}=e;const c=[...i==="clippingAncestors"?vu(t)?[]:vD(t,this._c):[].concat(i),a],f=c[0],h=c.reduce((p,g)=>{const y=_b(t,g,o);return p.top=qt(y.top,p.top),p.right=Pr(y.right,p.right),p.bottom=Pr(y.bottom,p.bottom),p.left=qt(y.left,p.left),p},_b(t,f,o));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function wD(e){const{width:t,height:i}=kw(e);return{width:t,height:i}}function _D(e,t,i){const a=Cn(t),o=kn(t),u=i==="fixed",c=wi(e,!0,u,t);let f={scrollLeft:0,scrollTop:0};const h=On(0);function p(){h.x=wu(o)}if(a||!a&&!u)if((qa(t)!=="body"||so(o))&&(f=bu(t)),a){const _=wi(t,!0,u,t);h.x=_.x+t.clientLeft,h.y=_.y+t.clientTop}else o&&p();u&&!a&&o&&p();const g=o&&!a&&!u?Dw(o,f):On(0),y=c.left+f.scrollLeft-h.x-g.x,b=c.top+f.scrollTop-h.y-g.y;return{x:y,y:b,width:c.width,height:c.height}}function md(e){return vn(e).position==="static"}function Sb(e,t){if(!Cn(e)||vn(e).position==="fixed")return null;if(t)return t(e);let i=e.offsetParent;return kn(e)===i&&(i=i.ownerDocument.body),i}function Mw(e,t){const i=Vt(e);if(vu(e))return i;if(!Cn(e)){let o=zr(e);for(;o&&!ka(o);){if(yn(o)&&!md(o))return o;o=zr(o)}return i}let a=Sb(e,t);for(;a&&rD(a)&&md(a);)a=Sb(a,t);return a&&ka(a)&&md(a)&&!zh(a)?i:a||lD(e)||i}const SD=async function(e){const t=this.getOffsetParent||Mw,i=this.getDimensions,a=await i(e.floating);return{reference:_D(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}};function ED(e){return vn(e).direction==="rtl"}const xD={convertOffsetParentRelativeRectToViewportRelativeRect:dD,getDocumentElement:kn,getClippingRect:bD,getOffsetParent:Mw,getElementRects:SD,getClientRects:hD,getDimensions:wD,getScale:xa,isElement:yn,isRTL:ED};function Uw(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function AD(e,t){let i=null,a;const o=kn(e);function u(){var f;clearTimeout(a),(f=i)==null||f.disconnect(),i=null}function c(f,h){f===void 0&&(f=!1),h===void 0&&(h=1),u();const p=e.getBoundingClientRect(),{left:g,top:y,width:b,height:_}=p;if(f||t(),!b||!_)return;const x=Ul(y),S=Ul(o.clientWidth-(g+b)),A=Ul(o.clientHeight-(y+_)),R=Ul(g),O={rootMargin:-x+"px "+-S+"px "+-A+"px "+-R+"px",threshold:qt(0,Pr(1,h))||1};let M=!0;function I(K){const U=K[0].intersectionRatio;if(U!==h){if(!M)return c();U?c(!1,U):a=setTimeout(()=>{c(!1,1e-7)},1e3)}U===1&&!Uw(p,e.getBoundingClientRect())&&c(),M=!1}try{i=new IntersectionObserver(I,{...O,root:o.ownerDocument})}catch{i=new IntersectionObserver(I,O)}i.observe(e)}return c(!0),u}function RD(e,t,i,a){a===void 0&&(a={});const{ancestorScroll:o=!0,ancestorResize:u=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:f=typeof IntersectionObserver=="function",animationFrame:h=!1}=a,p=Ih(e),g=o||u?[...p?eo(p):[],...eo(t)]:[];g.forEach(R=>{o&&R.addEventListener("scroll",i,{passive:!0}),u&&R.addEventListener("resize",i)});const y=p&&f?AD(p,i):null;let b=-1,_=null;c&&(_=new ResizeObserver(R=>{let[T]=R;T&&T.target===p&&_&&(_.unobserve(t),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var O;(O=_)==null||O.observe(t)})),i()}),p&&!h&&_.observe(p),_.observe(t));let x,S=h?wi(e):null;h&&A();function A(){const R=wi(e);S&&!Uw(S,R)&&i(),S=R,x=requestAnimationFrame(A)}return i(),()=>{var R;g.forEach(T=>{o&&T.removeEventListener("scroll",i),u&&T.removeEventListener("resize",i)}),y?.(),(R=_)==null||R.disconnect(),_=null,h&&cancelAnimationFrame(x)}}const TD=XN,OD=WN,CD=QN,kD=eD,ND=YN,Eb=FN,DD=ZN,jD=(e,t,i)=>{const a=new Map,o={platform:xD,...i},u={...o.platform,_c:a};return KN(e,t,{...o,platform:u})};var MD=typeof document<"u",UD=function(){},Hl=MD?w.useLayoutEffect:UD;function lu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let i,a,o;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(i=e.length,i!==t.length)return!1;for(a=i;a--!==0;)if(!lu(e[a],t[a]))return!1;return!0}if(o=Object.keys(e),i=o.length,i!==Object.keys(t).length)return!1;for(a=i;a--!==0;)if(!{}.hasOwnProperty.call(t,o[a]))return!1;for(a=i;a--!==0;){const u=o[a];if(!(u==="_owner"&&e.$$typeof)&&!lu(e[u],t[u]))return!1}return!0}return e!==e&&t!==t}function Lw(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function xb(e,t){const i=Lw(e);return Math.round(t*i)/i}function pd(e){const t=w.useRef(e);return Hl(()=>{t.current=e}),t}function LD(e){e===void 0&&(e={});const{placement:t="bottom",strategy:i="absolute",middleware:a=[],platform:o,elements:{reference:u,floating:c}={},transform:f=!0,whileElementsMounted:h,open:p}=e,[g,y]=w.useState({x:0,y:0,strategy:i,placement:t,middlewareData:{},isPositioned:!1}),[b,_]=w.useState(a);lu(b,a)||_(a);const[x,S]=w.useState(null),[A,R]=w.useState(null),T=w.useCallback($=>{$!==K.current&&(K.current=$,S($))},[]),O=w.useCallback($=>{$!==U.current&&(U.current=$,R($))},[]),M=u||x,I=c||A,K=w.useRef(null),U=w.useRef(null),H=w.useRef(g),Z=h!=null,ue=pd(h),ae=pd(o),X=pd(p),ee=w.useCallback(()=>{if(!K.current||!U.current)return;const $={placement:t,strategy:i,middleware:b};ae.current&&($.platform=ae.current),jD(K.current,U.current,$).then(pe=>{const be={...pe,isPositioned:X.current!==!1};me.current&&!lu(H.current,be)&&(H.current=be,mh.flushSync(()=>{y(be)}))})},[b,t,i,ae,X]);Hl(()=>{p===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,y($=>({...$,isPositioned:!1})))},[p]);const me=w.useRef(!1);Hl(()=>(me.current=!0,()=>{me.current=!1}),[]),Hl(()=>{if(M&&(K.current=M),I&&(U.current=I),M&&I){if(ue.current)return ue.current(M,I,ee);ee()}},[M,I,ee,ue,Z]);const Re=w.useMemo(()=>({reference:K,floating:U,setReference:T,setFloating:O}),[T,O]),z=w.useMemo(()=>({reference:M,floating:I}),[M,I]),Y=w.useMemo(()=>{const $={position:i,left:0,top:0};if(!z.floating)return $;const pe=xb(z.floating,g.x),be=xb(z.floating,g.y);return f?{...$,transform:"translate("+pe+"px, "+be+"px)",...Lw(z.floating)>=1.5&&{willChange:"transform"}}:{position:i,left:pe,top:be}},[i,f,z.floating,g.x,g.y]);return w.useMemo(()=>({...g,update:ee,refs:Re,elements:z,floatingStyles:Y}),[g,ee,Re,z,Y])}const PD=e=>{function t(i){return{}.hasOwnProperty.call(i,"current")}return{name:"arrow",options:e,fn(i){const{element:a,padding:o}=typeof e=="function"?e(i):e;return a&&t(a)?a.current!=null?Eb({element:a.current,padding:o}).fn(i):{}:a?Eb({element:a,padding:o}).fn(i):{}}}},zD=(e,t)=>({...TD(e),options:[e,t]}),BD=(e,t)=>({...OD(e),options:[e,t]}),ID=(e,t)=>({...DD(e),options:[e,t]}),qD=(e,t)=>({...CD(e),options:[e,t]}),$D=(e,t)=>({...kD(e),options:[e,t]}),HD=(e,t)=>({...ND(e),options:[e,t]}),VD=(e,t)=>({...PD(e),options:[e,t]});function GD(e){const t=KD(e),i=w.forwardRef((a,o)=>{const{children:u,...c}=a,f=w.Children.toArray(u),h=f.find(QD);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}function KD(e){const t=w.forwardRef((i,a)=>{const{children:o,...u}=i;if(w.isValidElement(o)){const c=JD(o),f=YD(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var FD=Symbol("radix.slottable");function QD(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===FD}function YD(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function JD(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var XD=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WD=XD.reduce((e,t)=>{const i=GD(`Primitive.${t}`),a=w.forwardRef((o,u)=>{const{asChild:c,...f}=o,h=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(h,{...f,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),ZD="Arrow",Pw=w.forwardRef((e,t)=>{const{children:i,width:a=10,height:o=5,...u}=e;return k.jsx(WD.svg,{...u,ref:t,width:a,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?i:k.jsx("polygon",{points:"0,0 30,0 15,10"})})});Pw.displayName=ZD;var e2=Pw;function t2(e,t=[]){let i=[];function a(u,c){const f=w.createContext(c),h=i.length;i=[...i,c];const p=y=>{const{scope:b,children:_,...x}=y,S=b?.[e]?.[h]||f,A=w.useMemo(()=>x,Object.values(x));return k.jsx(S.Provider,{value:A,children:_})};p.displayName=u+"Provider";function g(y,b){const _=b?.[e]?.[h]||f,x=w.useContext(_);if(x)return x;if(c!==void 0)return c;throw new Error(`\`${y}\` must be used within \`${u}\``)}return[p,g]}const o=()=>{const u=i.map(c=>w.createContext(c));return function(f){const h=f?.[e]||u;return w.useMemo(()=>({[`__scope${e}`]:{...f,[e]:h}}),[f,h])}};return o.scopeName=e,[a,n2(o,...t)]}function n2(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const a=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(u){const c=a.reduce((f,{useScope:h,scopeName:p})=>{const y=h(u)[`__scope${p}`];return{...f,...y}},{});return w.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return i.scopeName=t.scopeName,i}function r2(e){const t=i2(e),i=w.forwardRef((a,o)=>{const{children:u,...c}=a,f=w.Children.toArray(u),h=f.find(s2);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}function i2(e){const t=w.forwardRef((i,a)=>{const{children:o,...u}=i;if(w.isValidElement(o)){const c=l2(o),f=o2(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var a2=Symbol("radix.slottable");function s2(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===a2}function o2(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function l2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var u2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zw=u2.reduce((e,t)=>{const i=r2(`Primitive.${t}`),a=w.forwardRef((o,u)=>{const{asChild:c,...f}=o,h=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(h,{...f,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function c2(e){const[t,i]=w.useState(void 0);return Lr(()=>{if(e){i({width:e.offsetWidth,height:e.offsetHeight});const a=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const u=o[0];let c,f;if("borderBoxSize"in u){const h=u.borderBoxSize,p=Array.isArray(h)?h[0]:h;c=p.inlineSize,f=p.blockSize}else c=e.offsetWidth,f=e.offsetHeight;i({width:c,height:f})});return a.observe(e,{box:"border-box"}),()=>a.unobserve(e)}else i(void 0)},[e]),t}var qh="Popper",[Bw,Iw]=t2(qh),[f2,qw]=Bw(qh),$w=e=>{const{__scopePopper:t,children:i}=e,[a,o]=w.useState(null);return k.jsx(f2,{scope:t,anchor:a,onAnchorChange:o,children:i})};$w.displayName=qh;var Hw="PopperAnchor",Vw=w.forwardRef((e,t)=>{const{__scopePopper:i,virtualRef:a,...o}=e,u=qw(Hw,i),c=w.useRef(null),f=Ir(t,c),h=w.useRef(null);return w.useEffect(()=>{const p=h.current;h.current=a?.current||c.current,p!==h.current&&u.onAnchorChange(h.current)}),a?null:k.jsx(zw.div,{...o,ref:f})});Vw.displayName=Hw;var $h="PopperContent",[d2,h2]=Bw($h),Gw=w.forwardRef((e,t)=>{const{__scopePopper:i,side:a="bottom",sideOffset:o=0,align:u="center",alignOffset:c=0,arrowPadding:f=0,avoidCollisions:h=!0,collisionBoundary:p=[],collisionPadding:g=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:_="optimized",onPlaced:x,...S}=e,A=qw($h,i),[R,T]=w.useState(null),O=Ir(t,oe=>T(oe)),[M,I]=w.useState(null),K=c2(M),U=K?.width??0,H=K?.height??0,Z=a+(u!=="center"?"-"+u:""),ue=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},ae=Array.isArray(p)?p:[p],X=ae.length>0,ee={padding:ue,boundary:ae.filter(p2),altBoundary:X},{refs:me,floatingStyles:Re,placement:z,isPositioned:Y,middlewareData:$}=LD({strategy:"fixed",placement:Z,whileElementsMounted:(...oe)=>RD(...oe,{animationFrame:_==="always"}),elements:{reference:A.anchor},middleware:[zD({mainAxis:o+H,alignmentAxis:c}),h&&BD({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?ID():void 0,...ee}),h&&qD({...ee}),$D({...ee,apply:({elements:oe,rects:Xe,availableWidth:Pe,availableHeight:Kt})=>{const{width:bn,height:wn}=Xe.reference,$r=oe.floating.style;$r.setProperty("--radix-popper-available-width",`${Pe}px`),$r.setProperty("--radix-popper-available-height",`${Kt}px`),$r.setProperty("--radix-popper-anchor-width",`${bn}px`),$r.setProperty("--radix-popper-anchor-height",`${wn}px`)}}),M&&VD({element:M,padding:f}),g2({arrowWidth:U,arrowHeight:H}),b&&HD({strategy:"referenceHidden",...ee})]}),[pe,be]=Qw(z),D=Ca(x);Lr(()=>{Y&&D?.()},[Y,D]);const F=$.arrow?.x,J=$.arrow?.y,W=$.arrow?.centerOffset!==0,[he,ye]=w.useState();return Lr(()=>{R&&ye(window.getComputedStyle(R).zIndex)},[R]),k.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...Re,transform:Y?Re.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[$.transformOrigin?.x,$.transformOrigin?.y].join(" "),...$.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:k.jsx(d2,{scope:i,placedSide:pe,onArrowChange:I,arrowX:F,arrowY:J,shouldHideArrow:W,children:k.jsx(zw.div,{"data-side":pe,"data-align":be,...S,ref:O,style:{...S.style,animation:Y?void 0:"none"}})})})});Gw.displayName=$h;var Kw="PopperArrow",m2={top:"bottom",right:"left",bottom:"top",left:"right"},Fw=w.forwardRef(function(t,i){const{__scopePopper:a,...o}=t,u=h2(Kw,a),c=m2[u.placedSide];return k.jsx("span",{ref:u.onArrowChange,style:{position:"absolute",left:u.arrowX,top:u.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[u.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[u.placedSide],visibility:u.shouldHideArrow?"hidden":void 0},children:k.jsx(e2,{...o,ref:i,style:{...o.style,display:"block"}})})});Fw.displayName=Kw;function p2(e){return e!==null}var g2=e=>({name:"transformOrigin",options:e,fn(t){const{placement:i,rects:a,middlewareData:o}=t,c=o.arrow?.centerOffset!==0,f=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[p,g]=Qw(i),y={start:"0%",center:"50%",end:"100%"}[g],b=(o.arrow?.x??0)+f/2,_=(o.arrow?.y??0)+h/2;let x="",S="";return p==="bottom"?(x=c?y:`${b}px`,S=`${-h}px`):p==="top"?(x=c?y:`${b}px`,S=`${a.floating.height+h}px`):p==="right"?(x=`${-h}px`,S=c?y:`${_}px`):p==="left"&&(x=`${a.floating.width+h}px`,S=c?y:`${_}px`),{data:{x,y:S}}}});function Qw(e){const[t,i="center"]=e.split("-");return[t,i]}var y2=$w,Yw=Vw,v2=Gw,b2=Fw;function w2(e){const t=_2(e),i=w.forwardRef((a,o)=>{const{children:u,...c}=a,f=w.Children.toArray(u),h=f.find(E2);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}function _2(e){const t=w.forwardRef((i,a)=>{const{children:o,...u}=i;if(w.isValidElement(o)){const c=A2(o),f=x2(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var S2=Symbol("radix.slottable");function E2(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===S2}function x2(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function A2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var R2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],T2=R2.reduce((e,t)=>{const i=w2(`Primitive.${t}`),a=w.forwardRef((o,u)=>{const{asChild:c,...f}=o,h=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(h,{...f,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),O2="Portal",Jw=w.forwardRef((e,t)=>{const{container:i,...a}=e,[o,u]=w.useState(!1);Lr(()=>u(!0),[]);const c=i||o&&globalThis?.document?.body;return c?BA.createPortal(k.jsx(T2.div,{...a,ref:t}),c):null});Jw.displayName=O2;function C2(e,t){return w.useReducer((i,a)=>t[i][a]??i,e)}var Hh=e=>{const{present:t,children:i}=e,a=k2(t),o=typeof i=="function"?i({present:a.isPresent}):w.Children.only(i),u=Ir(a.ref,N2(o));return typeof i=="function"||a.isPresent?w.cloneElement(o,{ref:u}):null};Hh.displayName="Presence";function k2(e){const[t,i]=w.useState(),a=w.useRef(null),o=w.useRef(e),u=w.useRef("none"),c=e?"mounted":"unmounted",[f,h]=C2(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=Ll(a.current);u.current=f==="mounted"?p:"none"},[f]),Lr(()=>{const p=a.current,g=o.current;if(g!==e){const b=u.current,_=Ll(p);e?h("MOUNT"):_==="none"||p?.display==="none"?h("UNMOUNT"):h(g&&b!==_?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,h]),Lr(()=>{if(t){let p;const g=t.ownerDocument.defaultView??window,y=_=>{const S=Ll(a.current).includes(CSS.escape(_.animationName));if(_.target===t&&S&&(h("ANIMATION_END"),!o.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",p=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},b=_=>{_.target===t&&(u.current=Ll(a.current))};return t.addEventListener("animationstart",b),t.addEventListener("animationcancel",y),t.addEventListener("animationend",y),()=>{g.clearTimeout(p),t.removeEventListener("animationstart",b),t.removeEventListener("animationcancel",y),t.removeEventListener("animationend",y)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(f),ref:w.useCallback(p=>{a.current=p?getComputedStyle(p):null,i(p)},[])}}function Ll(e){return e?.animationName||"none"}function N2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function Xw(e){const t=D2(e),i=w.forwardRef((a,o)=>{const{children:u,...c}=a,f=w.Children.toArray(u),h=f.find(M2);if(h){const p=h.props.children,g=f.map(y=>y===h?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return k.jsx(t,{...c,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,g):null})}return k.jsx(t,{...c,ref:o,children:u})});return i.displayName=`${e}.Slot`,i}function D2(e){const t=w.forwardRef((i,a)=>{const{children:o,...u}=i;if(w.isValidElement(o)){const c=L2(o),f=U2(u,o.props);return o.type!==w.Fragment&&(f.ref=a?Br(a,c):c),w.cloneElement(o,f)}return w.Children.count(o)>1?w.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var j2=Symbol("radix.slottable");function M2(e){return w.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===j2}function U2(e,t){const i={...t};for(const a in t){const o=e[a],u=t[a];/^on[A-Z]/.test(a)?o&&u?i[a]=(...f)=>{const h=u(...f);return o(...f),h}:o&&(i[a]=o):a==="style"?i[a]={...o,...u}:a==="className"&&(i[a]=[o,u].filter(Boolean).join(" "))}return{...e,...i}}function L2(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}var P2=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Ww=P2.reduce((e,t)=>{const i=Xw(`Primitive.${t}`),a=w.forwardRef((o,u)=>{const{asChild:c,...f}=o,h=c?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),k.jsx(h,{...f,ref:u})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{}),z2=sh[" useInsertionEffect ".trim().toString()]||Lr;function B2({prop:e,defaultProp:t,onChange:i=()=>{},caller:a}){const[o,u,c]=I2({defaultProp:t,onChange:i}),f=e!==void 0,h=f?e:o;{const g=w.useRef(e!==void 0);w.useEffect(()=>{const y=g.current;y!==f&&console.warn(`${a} is changing from ${y?"controlled":"uncontrolled"} to ${f?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=f},[f,a])}const p=w.useCallback(g=>{if(f){const y=q2(g)?g(e):g;y!==e&&c.current?.(y)}else u(g)},[f,e,u,c]);return[h,p]}function I2({defaultProp:e,onChange:t}){const[i,a]=w.useState(e),o=w.useRef(i),u=w.useRef(t);return z2(()=>{u.current=t},[t]),w.useEffect(()=>{o.current!==i&&(u.current?.(i),o.current=i)},[i,o]),[i,a,u]}function q2(e){return typeof e=="function"}var $2=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ma=new WeakMap,Pl=new WeakMap,zl={},gd=0,Zw=function(e){return e&&(e.host||Zw(e.parentNode))},H2=function(e,t){return t.map(function(i){if(e.contains(i))return i;var a=Zw(i);return a&&e.contains(a)?a:(console.error("aria-hidden",i,"in not contained inside",e,". Doing nothing"),null)}).filter(function(i){return!!i})},V2=function(e,t,i,a){var o=H2(t,Array.isArray(e)?e:[e]);zl[i]||(zl[i]=new WeakMap);var u=zl[i],c=[],f=new Set,h=new Set(o),p=function(y){!y||f.has(y)||(f.add(y),p(y.parentNode))};o.forEach(p);var g=function(y){!y||h.has(y)||Array.prototype.forEach.call(y.children,function(b){if(f.has(b))g(b);else try{var _=b.getAttribute(a),x=_!==null&&_!=="false",S=(ma.get(b)||0)+1,A=(u.get(b)||0)+1;ma.set(b,S),u.set(b,A),c.push(b),S===1&&x&&Pl.set(b,!0),A===1&&b.setAttribute(i,"true"),x||b.setAttribute(a,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return g(t),f.clear(),gd++,function(){c.forEach(function(y){var b=ma.get(y)-1,_=u.get(y)-1;ma.set(y,b),u.set(y,_),b||(Pl.has(y)||y.removeAttribute(a),Pl.delete(y)),_||y.removeAttribute(i)}),gd--,gd||(ma=new WeakMap,ma=new WeakMap,Pl=new WeakMap,zl={})}},G2=function(e,t,i){i===void 0&&(i="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),o=$2(e);return o?(a.push.apply(a,Array.from(o.querySelectorAll("[aria-live], script"))),V2(a,o,i,"aria-hidden")):function(){return null}},Vl="right-scroll-bar-position",Gl="width-before-scroll-bar",K2="with-scroll-bars-hidden",F2="--removed-body-scroll-bar-size";function yd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Q2(e,t){var i=w.useState(function(){return{value:e,callback:t,facade:{get current(){return i.value},set current(a){var o=i.value;o!==a&&(i.value=a,i.callback(a,o))}}}})[0];return i.callback=t,i.facade}var Y2=typeof window<"u"?w.useLayoutEffect:w.useEffect,Ab=new WeakMap;function J2(e,t){var i=Q2(null,function(a){return e.forEach(function(o){return yd(o,a)})});return Y2(function(){var a=Ab.get(i);if(a){var o=new Set(a),u=new Set(e),c=i.current;o.forEach(function(f){u.has(f)||yd(f,null)}),u.forEach(function(f){o.has(f)||yd(f,c)})}Ab.set(i,e)},[e]),i}function X2(e){return e}function W2(e,t){t===void 0&&(t=X2);var i=[],a=!1,o={read:function(){if(a)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return i.length?i[i.length-1]:e},useMedium:function(u){var c=t(u,a);return i.push(c),function(){i=i.filter(function(f){return f!==c})}},assignSyncMedium:function(u){for(a=!0;i.length;){var c=i;i=[],c.forEach(u)}i={push:function(f){return u(f)},filter:function(){return i}}},assignMedium:function(u){a=!0;var c=[];if(i.length){var f=i;i=[],f.forEach(u),c=i}var h=function(){var g=c;c=[],g.forEach(u)},p=function(){return Promise.resolve().then(h)};p(),i={push:function(g){c.push(g),p()},filter:function(g){return c=c.filter(g),i}}}};return o}function Z2(e){e===void 0&&(e={});var t=W2(null);return t.options=An({async:!0,ssr:!1},e),t}var e_=function(e){var t=e.sideCar,i=La(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw new Error("Sidecar medium not found");return w.createElement(a,An({},i))};e_.isSideCarExport=!0;function ej(e,t){return e.useMedium(t),e_}var t_=Z2(),vd=function(){},_u=w.forwardRef(function(e,t){var i=w.useRef(null),a=w.useState({onScrollCapture:vd,onWheelCapture:vd,onTouchMoveCapture:vd}),o=a[0],u=a[1],c=e.forwardProps,f=e.children,h=e.className,p=e.removeScrollBar,g=e.enabled,y=e.shards,b=e.sideCar,_=e.noRelative,x=e.noIsolation,S=e.inert,A=e.allowPinchZoom,R=e.as,T=R===void 0?"div":R,O=e.gapMode,M=La(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=b,K=J2([i,t]),U=An(An({},M),o);return w.createElement(w.Fragment,null,g&&w.createElement(I,{sideCar:t_,removeScrollBar:p,shards:y,noRelative:_,noIsolation:x,inert:S,setCallbacks:u,allowPinchZoom:!!A,lockRef:i,gapMode:O}),c?w.cloneElement(w.Children.only(f),An(An({},U),{ref:K})):w.createElement(T,An({},U,{className:h,ref:K}),f))});_u.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};_u.classNames={fullWidth:Gl,zeroRight:Vl};var tj=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function nj(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=tj();return t&&e.setAttribute("nonce",t),e}function rj(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function ij(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var aj=function(){var e=0,t=null;return{add:function(i){e==0&&(t=nj())&&(rj(t,i),ij(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},sj=function(){var e=aj();return function(t,i){w.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&i])}},n_=function(){var e=sj(),t=function(i){var a=i.styles,o=i.dynamic;return e(a,o),null};return t},oj={left:0,top:0,right:0,gap:0},bd=function(e){return parseInt(e||"",10)||0},lj=function(e){var t=window.getComputedStyle(document.body),i=t[e==="padding"?"paddingLeft":"marginLeft"],a=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[bd(i),bd(a),bd(o)]},uj=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return oj;var t=lj(e),i=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-i+t[2]-t[0])}},cj=n_(),Aa="data-scroll-locked",fj=function(e,t,i,a){var o=e.left,u=e.top,c=e.right,f=e.gap;return i===void 0&&(i="margin"),`
  .`.concat(K2,` {
   overflow: hidden `).concat(a,`;
   padding-right: `).concat(f,"px ").concat(a,`;
  }
  body[`).concat(Aa,`] {
    overflow: hidden `).concat(a,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(a,";"),i==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(u,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(f,"px ").concat(a,`;
    `),i==="padding"&&"padding-right: ".concat(f,"px ").concat(a,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Vl,` {
    right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Gl,` {
    margin-right: `).concat(f,"px ").concat(a,`;
  }
  
  .`).concat(Vl," .").concat(Vl,` {
    right: 0 `).concat(a,`;
  }
  
  .`).concat(Gl," .").concat(Gl,` {
    margin-right: 0 `).concat(a,`;
  }
  
  body[`).concat(Aa,`] {
    `).concat(F2,": ").concat(f,`px;
  }
`)},Rb=function(){var e=parseInt(document.body.getAttribute(Aa)||"0",10);return isFinite(e)?e:0},dj=function(){w.useEffect(function(){return document.body.setAttribute(Aa,(Rb()+1).toString()),function(){var e=Rb()-1;e<=0?document.body.removeAttribute(Aa):document.body.setAttribute(Aa,e.toString())}},[])},hj=function(e){var t=e.noRelative,i=e.noImportant,a=e.gapMode,o=a===void 0?"margin":a;dj();var u=w.useMemo(function(){return uj(o)},[o]);return w.createElement(cj,{styles:fj(u,!t,o,i?"":"!important")})},nh=!1;if(typeof window<"u")try{var Bl=Object.defineProperty({},"passive",{get:function(){return nh=!0,!0}});window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{nh=!1}var pa=nh?{passive:!1}:!1,mj=function(e){return e.tagName==="TEXTAREA"},r_=function(e,t){if(!(e instanceof Element))return!1;var i=window.getComputedStyle(e);return i[t]!=="hidden"&&!(i.overflowY===i.overflowX&&!mj(e)&&i[t]==="visible")},pj=function(e){return r_(e,"overflowY")},gj=function(e){return r_(e,"overflowX")},Tb=function(e,t){var i=t.ownerDocument,a=t;do{typeof ShadowRoot<"u"&&a instanceof ShadowRoot&&(a=a.host);var o=i_(e,a);if(o){var u=a_(e,a),c=u[1],f=u[2];if(c>f)return!0}a=a.parentNode}while(a&&a!==i.body);return!1},yj=function(e){var t=e.scrollTop,i=e.scrollHeight,a=e.clientHeight;return[t,i,a]},vj=function(e){var t=e.scrollLeft,i=e.scrollWidth,a=e.clientWidth;return[t,i,a]},i_=function(e,t){return e==="v"?pj(t):gj(t)},a_=function(e,t){return e==="v"?yj(t):vj(t)},bj=function(e,t){return e==="h"&&t==="rtl"?-1:1},wj=function(e,t,i,a,o){var u=bj(e,window.getComputedStyle(t).direction),c=u*a,f=i.target,h=t.contains(f),p=!1,g=c>0,y=0,b=0;do{if(!f)break;var _=a_(e,f),x=_[0],S=_[1],A=_[2],R=S-A-u*x;(x||R)&&i_(e,f)&&(y+=R,b+=x);var T=f.parentNode;f=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!h&&f!==document.body||h&&(t.contains(f)||t===f));return(g&&Math.abs(y)<1||!g&&Math.abs(b)<1)&&(p=!0),p},Il=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ob=function(e){return[e.deltaX,e.deltaY]},Cb=function(e){return e&&"current"in e?e.current:e},_j=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Sj=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ej=0,ga=[];function xj(e){var t=w.useRef([]),i=w.useRef([0,0]),a=w.useRef(),o=w.useState(Ej++)[0],u=w.useState(n_)[0],c=w.useRef(e);w.useEffect(function(){c.current=e},[e]),w.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var S=RR([e.lockRef.current],(e.shards||[]).map(Cb),!0).filter(Boolean);return S.forEach(function(A){return A.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),S.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var f=w.useCallback(function(S,A){if("touches"in S&&S.touches.length===2||S.type==="wheel"&&S.ctrlKey)return!c.current.allowPinchZoom;var R=Il(S),T=i.current,O="deltaX"in S?S.deltaX:T[0]-R[0],M="deltaY"in S?S.deltaY:T[1]-R[1],I,K=S.target,U=Math.abs(O)>Math.abs(M)?"h":"v";if("touches"in S&&U==="h"&&K.type==="range")return!1;var H=window.getSelection(),Z=H&&H.anchorNode,ue=Z?Z===K||Z.contains(K):!1;if(ue)return!1;var ae=Tb(U,K);if(!ae)return!0;if(ae?I=U:(I=U==="v"?"h":"v",ae=Tb(U,K)),!ae)return!1;if(!a.current&&"changedTouches"in S&&(O||M)&&(a.current=I),!I)return!0;var X=a.current||I;return wj(X,A,S,X==="h"?O:M)},[]),h=w.useCallback(function(S){var A=S;if(!(!ga.length||ga[ga.length-1]!==u)){var R="deltaY"in A?Ob(A):Il(A),T=t.current.filter(function(I){return I.name===A.type&&(I.target===A.target||A.target===I.shadowParent)&&_j(I.delta,R)})[0];if(T&&T.should){A.cancelable&&A.preventDefault();return}if(!T){var O=(c.current.shards||[]).map(Cb).filter(Boolean).filter(function(I){return I.contains(A.target)}),M=O.length>0?f(A,O[0]):!c.current.noIsolation;M&&A.cancelable&&A.preventDefault()}}},[]),p=w.useCallback(function(S,A,R,T){var O={name:S,delta:A,target:R,should:T,shadowParent:Aj(R)};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(M){return M!==O})},1)},[]),g=w.useCallback(function(S){i.current=Il(S),a.current=void 0},[]),y=w.useCallback(function(S){p(S.type,Ob(S),S.target,f(S,e.lockRef.current))},[]),b=w.useCallback(function(S){p(S.type,Il(S),S.target,f(S,e.lockRef.current))},[]);w.useEffect(function(){return ga.push(u),e.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",h,pa),document.addEventListener("touchmove",h,pa),document.addEventListener("touchstart",g,pa),function(){ga=ga.filter(function(S){return S!==u}),document.removeEventListener("wheel",h,pa),document.removeEventListener("touchmove",h,pa),document.removeEventListener("touchstart",g,pa)}},[]);var _=e.removeScrollBar,x=e.inert;return w.createElement(w.Fragment,null,x?w.createElement(u,{styles:Sj(o)}):null,_?w.createElement(hj,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Aj(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Rj=ej(t_,xj);var s_=w.forwardRef(function(e,t){return w.createElement(_u,An({},e,{ref:t,sideCar:Rj}))});s_.classNames=_u.classNames;var Su="Popover",[o_]=Wk(Su,[Iw]),oo=Iw(),[Tj,qr]=o_(Su),l_=e=>{const{__scopePopover:t,children:i,open:a,defaultOpen:o,onOpenChange:u,modal:c=!1}=e,f=oo(t),h=w.useRef(null),[p,g]=w.useState(!1),[y,b]=B2({prop:a,defaultProp:o??!1,onChange:u,caller:Su});return k.jsx(y2,{...f,children:k.jsx(Tj,{scope:t,contentId:MN(),triggerRef:h,open:y,onOpenChange:b,onOpenToggle:w.useCallback(()=>b(_=>!_),[b]),hasCustomAnchor:p,onCustomAnchorAdd:w.useCallback(()=>g(!0),[]),onCustomAnchorRemove:w.useCallback(()=>g(!1),[]),modal:c,children:i})})};l_.displayName=Su;var u_="PopoverAnchor",Oj=w.forwardRef((e,t)=>{const{__scopePopover:i,...a}=e,o=qr(u_,i),u=oo(i),{onCustomAnchorAdd:c,onCustomAnchorRemove:f}=o;return w.useEffect(()=>(c(),()=>f()),[c,f]),k.jsx(Yw,{...u,...a,ref:t})});Oj.displayName=u_;var c_="PopoverTrigger",f_=w.forwardRef((e,t)=>{const{__scopePopover:i,...a}=e,o=qr(c_,i),u=oo(i),c=Ir(t,o.triggerRef),f=k.jsx(Ww.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":g_(o.open),...a,ref:c,onClick:Mr(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?f:k.jsx(Yw,{asChild:!0,...u,children:f})});f_.displayName=c_;var Vh="PopoverPortal",[Cj,kj]=o_(Vh,{forceMount:void 0}),d_=e=>{const{__scopePopover:t,forceMount:i,children:a,container:o}=e,u=qr(Vh,t);return k.jsx(Cj,{scope:t,forceMount:i,children:k.jsx(Hh,{present:i||u.open,children:k.jsx(Jw,{asChild:!0,container:o,children:a})})})};d_.displayName=Vh;var Na="PopoverContent",h_=w.forwardRef((e,t)=>{const i=kj(Na,e.__scopePopover),{forceMount:a=i.forceMount,...o}=e,u=qr(Na,e.__scopePopover);return k.jsx(Hh,{present:a||u.open,children:u.modal?k.jsx(Dj,{...o,ref:t}):k.jsx(jj,{...o,ref:t})})});h_.displayName=Na;var Nj=Xw("PopoverContent.RemoveScroll"),Dj=w.forwardRef((e,t)=>{const i=qr(Na,e.__scopePopover),a=w.useRef(null),o=Ir(t,a),u=w.useRef(!1);return w.useEffect(()=>{const c=a.current;if(c)return G2(c)},[]),k.jsx(s_,{as:Nj,allowPinchZoom:!0,children:k.jsx(m_,{...e,ref:o,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Mr(e.onCloseAutoFocus,c=>{c.preventDefault(),u.current||i.triggerRef.current?.focus()}),onPointerDownOutside:Mr(e.onPointerDownOutside,c=>{const f=c.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0,p=f.button===2||h;u.current=p},{checkForDefaultPrevented:!1}),onFocusOutside:Mr(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),jj=w.forwardRef((e,t)=>{const i=qr(Na,e.__scopePopover),a=w.useRef(!1),o=w.useRef(!1);return k.jsx(m_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:u=>{e.onCloseAutoFocus?.(u),u.defaultPrevented||(a.current||i.triggerRef.current?.focus(),u.preventDefault()),a.current=!1,o.current=!1},onInteractOutside:u=>{e.onInteractOutside?.(u),u.defaultPrevented||(a.current=!0,u.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const c=u.target;i.triggerRef.current?.contains(c)&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&o.current&&u.preventDefault()}})}),m_=w.forwardRef((e,t)=>{const{__scopePopover:i,trapFocus:a,onOpenAutoFocus:o,onCloseAutoFocus:u,disableOutsidePointerEvents:c,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onInteractOutside:g,...y}=e,b=qr(Na,i),_=oo(i);return gN(),k.jsx(xw,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:o,onUnmountAutoFocus:u,children:k.jsx(Sw,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:g,onEscapeKeyDown:f,onPointerDownOutside:h,onFocusOutside:p,onDismiss:()=>b.onOpenChange(!1),children:k.jsx(v2,{"data-state":g_(b.open),role:"dialog",id:b.contentId,..._,...y,ref:t,style:{...y.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),p_="PopoverClose",Mj=w.forwardRef((e,t)=>{const{__scopePopover:i,...a}=e,o=qr(p_,i);return k.jsx(Ww.button,{type:"button",...a,ref:t,onClick:Mr(e.onClick,()=>o.onOpenChange(!1))})});Mj.displayName=p_;var Uj="PopoverArrow",Lj=w.forwardRef((e,t)=>{const{__scopePopover:i,...a}=e,o=oo(i);return k.jsx(b2,{...o,...a,ref:t})});Lj.displayName=Uj;function g_(e){return e?"open":"closed"}var Pj=l_,zj=f_,Bj=d_,y_=h_;const Ij=Pj,qj=zj,v_=w.forwardRef(({className:e,align:t="center",sideOffset:i=4,...a},o)=>k.jsx(Bj,{children:k.jsx(y_,{ref:o,align:t,sideOffset:i,className:ru("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=open]:zoom-in-95 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));v_.displayName=y_.displayName;let Ra=[];const rh=new Set,b_=()=>{rh.forEach(e=>e())},$j=()=>crypto.randomUUID?.()??`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`,Hj=()=>Ra,Vj=e=>(rh.add(e),()=>rh.delete(e)),uu=e=>{const t=Ra.filter(i=>i.id!==e);t.length!==Ra.length&&(Ra=t,b_())},wd=e=>{const t=$j(),i={variant:"info",...e,id:t};Ra=[...Ra,i],b_();const a=e.durationMs??4500;return a!==0&&window.setTimeout(()=>uu(t),a),t},Gj=()=>w.useSyncExternalStore(Vj,Hj),Kj={info:"bg-slate-800 text-slate-50 border border-slate-700",success:"bg-emerald-700/90 text-emerald-50 border border-emerald-600",error:"bg-rose-700/90 text-rose-50 border border-rose-600"},Fj="ml-2 inline-flex h-11 w-11 items-center justify-center rounded-xl text-lg font-semibold transition hover:bg-black/10 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/50 focus-visible:ring-offset-2 focus-visible:ring-offset-background",Qj=()=>{const e=Gj();return e.length===0?null:k.jsx("div",{className:"fixed inset-x-0 top-4 z-50 mx-auto flex w-full max-w-xl flex-col gap-2 px-[var(--page-pad-x)]",children:e.map(t=>k.jsx("div",{className:`${Kj[t.variant??"info"]} shadow-lg shadow-black/30 backdrop-blur-md`,children:k.jsxs("div",{className:"flex items-start justify-between px-4 py-3",children:[k.jsxs("div",{className:"flex-1",children:[k.jsx("p",{className:"text-sm font-semibold leading-tight",children:t.title}),t.description&&k.jsx("p",{className:"mt-1 text-sm leading-snug text-slate-200",children:t.description}),t.action?k.jsx("div",{className:"mt-2",children:k.jsx("button",{type:"button",onClick:()=>{t.action?.onClick(),uu(t.id)},className:"inline-flex items-center rounded-md bg-white/10 px-3 py-1.5 text-xs font-semibold text-white transition hover:bg-white/20 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white/60",children:t.action.label})}):null]}),k.jsx("button",{type:"button",onClick:()=>uu(t.id),"aria-label":"Dismiss notification",className:`${Fj} text-inherit`,children:""})]})},t.id))})},_d=e=>{switch(e){case"success":return"Success";case"error":return"Something went wrong";default:return"Notice"}},Sd={show:(e,t)=>wd({title:t?.title??_d(t?.variant),description:e,variant:t?.variant,durationMs:t?.durationMs}),success:(e,t)=>wd({title:t?.title??_d("success"),description:e,variant:"success",durationMs:t?.durationMs}),error:(e,t)=>wd({title:t?.title??_d("error"),description:e,variant:"error",durationMs:t?.durationMs}),dismiss:uu};function Yj(e,t,i){const{user:a}=ln(),o=a?.id,[u,c]=w.useState(()=>typeof document>"u"?!0:document.visibilityState==="visible");w.useEffect(()=>{if(typeof document>"u")return;const p=()=>c(document.visibilityState==="visible");return document.addEventListener("visibilitychange",p),()=>document.removeEventListener("visibilitychange",p)},[]);const f=w.useMemo(()=>{const p={surface:e};return e==="title"&&typeof t.titleId=="string"&&(p.titleId=t.titleId),e==="messages"&&typeof t.conversationId=="string"&&(p.conversationId=t.conversationId),e==="swipe"&&typeof t.sessionId=="string"&&(p.sessionId=t.sessionId),e==="search"&&typeof t.query=="string"&&(p.query=String(t.query).slice(0,60)),JSON.stringify(p)},[e,t]),h=Ua({queryKey:Ur.assistantSuggestions(o,e,f),enabled:!!o&&!!(i?.enabled??!0),staleTime:6e4,refetchInterval:(()=>{const p=i?.proactivityLevel??1;if(!(!!o&&!!(i?.enabled??!0)&&!i?.pausePolling&&u)||p<=0)return!1;switch(e){case"swipe":case"search":case"messages":return p===2?6e4:12e4;case"title":return p===2?18e4:3e5;case"diary":return 6e5;default:return p===2?24e4:42e4}})(),refetchIntervalInBackground:!1,queryFn:()=>gn("assistant-orchestrator",{surface:e,context:t,limit:3},{timeoutMs:12e3})});return w.useEffect(()=>{const p=h.data?.suggestions?.[0];p&&gn("assistant-suggestion-action",{suggestionId:p.id,kind:"shown"}).catch(()=>null)},[h.data?.suggestions?.[0]?.id]),{...h,contextKey:f}}function Jj(){return y0({mutationFn:e=>gn("assistant-suggestion-action",e)})}const Gh="assistant_quiet_until_v1";function Xj(){if(typeof window>"u")return 0;try{const e=window.localStorage.getItem(Gh),t=e?Number(e):0;return Number.isFinite(t)?t:0}catch{return 0}}function kb(e){if(!(typeof window>"u"))try{const t=Date.now()+Math.max(0,e);window.localStorage.setItem(Gh,String(t))}catch{}}function _U(){if(!(typeof window>"u"))try{window.localStorage.removeItem(Gh)}catch{}}const Wj={enabled:!0,proactivityLevel:1};function Zj(){const{user:e}=ln(),t=e?.id;return Ua({queryKey:Ur.assistantPrefs(t),enabled:!!t,staleTime:5*6e4,queryFn:async()=>{const{data:i,error:a}=await Ce.from("user_preferences").select("assistant").eq("user_id",t).maybeSingle();if(a)return Wj;const o=i?.assistant||{};return{enabled:typeof o.enabled=="boolean"?o.enabled:!0,proactivityLevel:o.proactivityLevel===0||o.proactivityLevel===1||o.proactivityLevel===2?o.proactivityLevel:1}}})}function SU(){const{user:e}=ln(),t=e?.id;return y0({mutationFn:async i=>{if(!t)throw new Error("Not signed in");const{data:a}=await Ce.from("user_preferences").select("assistant").eq("user_id",t).maybeSingle(),o=a?.assistant||{},u=typeof i.enabled=="boolean"?i.enabled:o.enabled??!0,c=i.proactivityLevel===0||i.proactivityLevel===1||i.proactivityLevel===2?i.proactivityLevel:o.proactivityLevel??1,f={...o,enabled:u,proactivityLevel:c},{error:h}=await Ce.from("user_preferences").upsert({user_id:t,assistant:f,updated_at:new Date().toISOString()},{onConflict:"user_id"});if(h)throw new Error(h.message);return{enabled:u,proactivityLevel:c}},onSuccess:i=>{t&&(pn.setQueryData(Ur.assistantPrefs(t),i),pn.invalidateQueries({queryKey:["assistant"]}))}})}const eM="assistant_seen_suggestion_v1";function w_(e,t){const i=t.length>120?t.slice(0,120):t;return`${eM}:${e}:${i}`}function tM(e,t){if(typeof window>"u")return null;try{return window.localStorage.getItem(w_(e,t))}catch{return null}}function Nb(e,t,i){if(!(typeof window>"u"))try{window.localStorage.setItem(w_(e,t),i)}catch{}}function nM(e){return e.type!=="dismiss"}const rM=({surface:e,context:t,className:i})=>{const{user:a}=ln(),o=a?.id,u=on(),c=fu(),[f,h]=w.useState(!1),g=Zj().data??{enabled:!0,proactivityLevel:1},y=Xj(),[b,_]=w.useState(!1);w.useEffect(()=>{_(Date.now()<y)},[y]);const x=!!o&&g.enabled&&!b,{data:S,isLoading:A,isFetching:R,contextKey:T}=Yj(e,t,{enabled:x,pausePolling:f,proactivityLevel:g.proactivityLevel}),O=Jj(),M=S?.suggestions??[],I=S?.activeGoal??null,K=M[0]?.id??null,U=w.useMemo(()=>!K||f?!1:tM(e,T)!==K,[T,f,e,K]),H=w.useMemo(()=>A?"Assistant":M.length?"Hints":"Assistant",[A,M.length]);if(!a||u.pathname.startsWith("/auth")||!g.enabled||b)return null;const Z=async ae=>{try{await O.mutateAsync({suggestionId:ae,kind:"dismiss"}),pn.invalidateQueries({queryKey:["assistant"]});const X=e==="swipe"?5*6e4:10*6e4;kb(X)}catch(X){Sd.error(X?.message??"Failed to dismiss")}},ue=async(ae,X)=>{try{const ee=await O.mutateAsync({suggestionId:ae,kind:"execute",actionId:X});if(pn.invalidateQueries({queryKey:["assistant"]}),h(!1),kb(2*6e4),ee?.followUpSuggestions?.length){pn.setQueryData(Ur.assistantSuggestions(o,e,T),{ok:!0,contextKey:T,activeGoal:I,suggestions:ee.followUpSuggestions});const me=ee.followUpSuggestions[0]?.id;me&&Nb(e,T,me),h(!0)}ee?.navigateTo&&c(ee.navigateTo),Sd.success("Done")}catch(ee){Sd.error(ee?.message??"Action failed")}};return k.jsx("div",{className:ru("fixed right-4 z-40","bottom-[5.5rem]",i),children:k.jsxs(Ij,{open:f,onOpenChange:ae=>{h(ae),ae&&K&&Nb(e,T,K)},children:[k.jsx(qj,{asChild:!0,children:k.jsx("button",{type:"button","aria-label":"Open assistant hints",className:"rounded-full focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background",children:k.jsxs(Xk,{variant:M.length?"accent":"default",className:ru("shadow-sm relative",(R||O.isPending)&&"opacity-80"),children:[U&&k.jsx("span",{className:"absolute -top-1 -right-1 h-2.5 w-2.5 rounded-full bg-primary","aria-hidden":"true"}),H]})})}),k.jsxs(v_,{align:"end",className:"w-[340px] p-3",children:[k.jsxs("div",{className:"flex items-center justify-between mb-2",children:[k.jsx("div",{className:"text-sm font-semibold",children:"Assistant"}),k.jsx(Ea,{variant:"ghost",size:"sm",onClick:()=>h(!1),className:"h-7 px-2",children:"Close"})]}),I&&k.jsxs("div",{className:"mb-2 rounded-lg border bg-muted/40 p-2",children:[k.jsx("div",{className:"text-xs font-semibold leading-snug",children:I.title}),k.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:["Progress ",I.progressCount,"/",I.targetCount,I.endAt?`  ends ${new Date(I.endAt).toLocaleDateString()}`:""]})]}),M.length===0?k.jsx("div",{className:"text-sm text-muted-foreground",children:"No hints right now. Keep browsing  Ill surface ideas when theyre useful."}):k.jsx("div",{className:"flex flex-col gap-2",children:M.map(ae=>{const X=ae.actions.filter(nM);return k.jsxs("div",{className:"rounded-lg border p-3",children:[k.jsxs("div",{className:"flex items-start justify-between gap-2",children:[k.jsxs("div",{children:[k.jsx("div",{className:"text-sm font-semibold leading-snug",children:ae.title}),k.jsx("div",{className:"text-xs text-muted-foreground mt-1 leading-snug",children:ae.body})]}),k.jsx(Ea,{variant:"ghost",size:"sm",className:"h-7 px-2",onClick:()=>Z(ae.id),children:"Dismiss"})]}),X.length>0&&k.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:X.map(ee=>k.jsx(Ea,{size:"sm",variant:ee.type==="navigate"?"secondary":"default",onClick:()=>ue(ae.id,ee.id),disabled:O.isPending,children:ee.label},ee.id))})]},ae.id)})})]})]})})},__="movinesta.assistantCache.v1",iM="movinesta:assistant-cache";function aM(){try{window.dispatchEvent(new Event(iM))}catch{}}function sM(){try{const e=localStorage.getItem(__);if(!e)return null;const t=JSON.parse(e);return!t?.conversationId||!t?.assistant?.id?null:t}catch{return null}}function oM(e){try{localStorage.setItem(__,JSON.stringify(e))}catch{}aM()}function lM(){const{user:e}=ln();w.useEffect(()=>{if(!e)return;const t=sM();if(t?.updatedAt&&Date.now()-t.updatedAt<360*60*1e3)return;let i=!0;return(async()=>{try{const a=await gn("assistant-get-conversation",{reason:"bootstrap"},{requireAuth:!0});if(!i)return;const o=a?.conversationId,u=a?.assistant;o&&u?.id&&oM({conversationId:o,assistant:{id:String(u.id),username:u.username??null,display_name:u.display_name??null,avatar_url:u.avatar_url??null},updatedAt:Date.now()})}catch{}})(),()=>{i=!1}},[e])}function Db(e,t){try{const a=new URLSearchParams(e).get(t);return a?String(a):null}catch{return null}}function uM(e){const t=e.pathname;if(t.startsWith("/title/")){const a=t.split("/")[2]??null;return{surface:"title",context:a?{titleId:a}:{}}}if(t==="/swipe"||t.startsWith("/swipe/"))return{surface:"swipe",context:{sessionId:kh()}};if(t==="/messages"||t.startsWith("/messages")){const i=t.split("/"),a=i.length>=3?i[2]:null;return a&&a!=="new"?{surface:"messages",context:{conversationId:a}}:{surface:"messages",context:{}}}if(t==="/diary"||t.startsWith("/diary/"))return{surface:"diary",context:{}};if(t==="/search"||t.startsWith("/search")){const i=Db(e.search,"q")??Db(e.search,"query");return{surface:"search",context:i?{query:i}:{}}}return{surface:"home",context:{}}}const cM=()=>{const e=on(),{setLastVisitedTab:t}=Ah(),{t:i}=NC();lM();const{data:a}=Qk(),o=_t.useCallback((x,S)=>{const R=(x||S||"").replace(/^@/,"").trim();if(!R)return"?";const T=R.split(/\s+/);return T.length===1?T[0].slice(0,2).toUpperCase():(T[0][0]+T[1][0]).toUpperCase()},[]),u=_t.useMemo(()=>[{key:"home",to:"/home",label:i("nav.home"),icon:K1},{key:"swipe",to:"/swipe",label:i("nav.swipe"),icon:V1},{key:"messages",to:"/messages",label:i("nav.messages"),icon:J1},{key:"search",to:"/search",label:i("nav.search"),icon:W1},{key:"profile",to:"/me",label:i("nav.profile"),icon:null}],[i]);_t.useEffect(()=>{e.pathname==="/search"&&t("search")},[e.pathname,t]);const c=e.pathname.startsWith("/messages/")&&e.pathname!=="/messages",f=e.pathname==="/assistant"||e.pathname.startsWith("/assistant/"),h=e.pathname==="/swipe"||e.pathname.startsWith("/swipe/"),p=_t.useMemo(()=>uM(e),[e]),g=c||f?"relative z-10 mx-auto flex min-h-[100dvh] w-full max-w-5xl flex-1 flex-col px-0 pt-0 pb-0":h?"relative z-10 mx-auto flex w-full max-w-5xl flex-1 flex-col px-0 pt-0 pb-[calc(var(--app-bottom-nav)+env(safe-area-inset-bottom))]":"relative z-10 mx-auto flex w-full max-w-5xl flex-1 flex-col px-[var(--page-pad-x)] pb-[calc(var(--app-bottom-nav)+env(safe-area-inset-bottom))] pt-0",y=c||f?"flex items-center justify-between gap-1 px-3 py-1.5":"mx-auto flex max-w-5xl items-center justify-between gap-1 px-[var(--page-pad-x)] py-1.5 pb-[calc(env(safe-area-inset-bottom)+0.5rem)]",b=x=>{t(x)},_=_t.useMemo(()=>{const x=a?.username;return!!(e.pathname==="/me"||x&&e.pathname===`/u/${x}`||x&&e.pathname.startsWith(`/u/${x}/`))},[a?.username,e.pathname]);return k.jsxs("div",{className:"relative flex min-h-[100dvh] flex-col bg-background text-foreground overflow-x-hidden",children:[k.jsx("div",{className:g,children:k.jsx("main",{className:h?"flex-1 min-h-0 overflow-hidden":"flex-1 min-h-0",children:k.jsx(Yb,{})})}),!f&&k.jsx(rM,{surface:p.surface,context:p.context,className:c?"bottom-[7.75rem]":void 0}),!c&&!f&&k.jsx("nav",{className:"fixed inset-x-0 bottom-0 z-20 border-t border-border/60 bg-background/95 backdrop-blur","aria-label":"Main",children:k.jsx("div",{className:y,children:u.map(x=>{const S=x.icon,A=x.key==="profile",R=A?_:void 0;return k.jsx(t0,{to:x.to,onClick:()=>b(x.key),className:({isActive:T})=>["group flex min-h-11 flex-1 flex-col items-center gap-0.5 rounded-md px-2 py-1 text-xs font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 focus-visible:ring-offset-background",R??T?"text-primary":"text-muted-foreground hover:text-muted-foreground"].join(" "),"aria-label":x.label,"aria-current":R??void 0?"page":void 0,children:({isActive:T})=>{const O=R??T;return k.jsxs(k.Fragment,{children:[k.jsx("span",{className:["inline-flex h-7 w-7 items-center justify-center rounded-md border border-transparent bg-transparent transition",O?"border-primary/40 bg-background":""].join(" "),children:A?a?.avatarUrl?k.jsx("img",{src:a.avatarUrl,alt:a.displayName||a.username||"Profile",className:"h-5 w-5 rounded-full object-cover"}):k.jsx("span",{className:"flex h-5 w-5 items-center justify-center rounded-full bg-muted text-[10px] font-semibold text-foreground",children:o(a?.displayName,a?.username)}):k.jsx(S,{className:"h-4 w-4","aria-hidden":"true"})}),k.jsx("span",{className:"mt-0.5",children:x.label})]})}},x.to)})})})]})},S_=({message:e="Loading MoviNesta"})=>k.jsx("div",{className:"flex min-h-screen items-center justify-center bg-background",children:k.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border bg-card/80 px-4 py-3 shadow-lg",children:[k.jsx(Q1,{className:"h-5 w-5 animate-spin text-primary","aria-hidden":"true"}),k.jsx("p",{className:"text-sm text-muted-foreground",children:e})]})}),fM=()=>{const{user:e,loading:t}=ln(),i=on();if(t)return k.jsx(S_,{});if(!e)return k.jsx(Ad,{to:"/auth/signin",replace:!0,state:{from:i}});const a=e?.user_metadata?.onboarded===!0,o=i.pathname.startsWith("/onboarding");return!a&&!o?k.jsx(Ad,{to:"/onboarding",replace:!0,state:{from:i}}):k.jsx(Yb,{})},Ed="movinesta:lazy-retry",dM=e=>e instanceof Error?/ChunkLoadError|Loading chunk [\d]+ failed|dynamically imported module/i.test(e.message):!1,Me=e=>_t.lazy(async()=>{const t=gw(Ed)==="true";try{const i=await e();return t&&Dk(Ed),i}catch(i){throw!t&&dM(i)&&(Ch(Ed,"true"),window.location.reload()),i}}),hM=Me(()=>je(()=>import("./SignInPage-CpfgSrfx.js"),__vite__mapDeps([0,1,2]))),mM=Me(()=>je(()=>import("./SignUpPage-Wy2BuEHr.js"),__vite__mapDeps([3,1,2]))),pM=Me(()=>je(()=>import("./ForgotPasswordPage-DtLTWd9j.js"),__vite__mapDeps([4,1,5,6,7,8,9,2]))),gM=Me(()=>je(()=>import("./ResetPasswordPage-B9j8jXuq.js"),__vite__mapDeps([10,1,5,6,7,8,2]))),yM=Me(()=>je(()=>import("./HomePage-DWl2tS1G.js"),__vite__mapDeps([11,1,12,13,14,7,2,15,16,17,18]))),vM=Me(()=>je(()=>import("./SwipePage-EPM57DtO.js"),__vite__mapDeps([19,2,18,20,21,22,12,23,13,24,25,26,17,27,9,28,15]))),bM=Me(()=>je(()=>import("./SearchPage-CBw5cEQ8.js"),__vite__mapDeps([29,12,30,2,31,32,33,18,34,8,14,35,15,24,36,37,38,28,39]))),wM=Me(()=>je(()=>import("./DiaryPage-B9qpsw4h.js"),__vite__mapDeps([40,41,42,33,22,8,7,38,14,18,43]))),_M=Me(()=>je(()=>import("./ProfilePage-UkL0nvFP.js"),__vite__mapDeps([44,12,9,30,45,15,35,39,18,42,46,13]))),SM=Me(()=>je(()=>import("./MePage-BbaA7bYU.js"),__vite__mapDeps([47,41,42]))),EM=Me(()=>je(()=>import("./SuggestedPeoplePage-DTIDhvF4.js"),__vite__mapDeps([48,41,42,15,16,17,9,39,35,24,49,25]))),xM=Me(()=>je(()=>import("./ListDetailPage-Cp52OKJF.js"),__vite__mapDeps([50,41,42,46]))),AM=Me(()=>je(()=>import("./FollowersPage-BbhHSfRh.js"),__vite__mapDeps([51,52,33,41,42,15,35,36]))),RM=Me(()=>je(()=>import("./FollowingPage-CFcjrtWG.js"),__vite__mapDeps([53,52,33,41,42,15,35,36]))),TM=Me(()=>je(()=>import("./SettingsOverviewPage-DD8ZLEoG.js"),__vite__mapDeps([54,55,41,42,56,37,57,58,59]))),OM=Me(()=>je(()=>import("./SettingsProfilePage-BNiC0soA.js"),__vite__mapDeps([60,55,41,42,30,27,15,26,23,37,61]))),CM=Me(()=>je(()=>import("./SettingsAccountPage-r2JqowQL.js"),__vite__mapDeps([62,41,42,22,9,57,26]))),kM=Me(()=>je(()=>import("./SettingsNotificationsPage-6A8XoCYx.js"),__vite__mapDeps([63,41,42,26,58,61]))),NM=Me(()=>je(()=>import("./SettingsAppPage-CLjNQdbv.js"),__vite__mapDeps([64,41,42,8,7,59,26,61]))),DM=Me(()=>je(()=>import("./NotFoundPage-CHVMPEoG.js"),__vite__mapDeps([65,41,42]))),jM=Me(()=>je(()=>import("./OnboardingPage-B2s7RMiJ.js"),__vite__mapDeps([66,6,7,8]))),MM=Me(()=>je(()=>import("./TasteOnboardingPage-CGhMzsHU.js"),__vite__mapDeps([67,30,31,24,61,13]))),UM=Me(()=>je(()=>import("./VerificationHelpPage-DisIInMO.js"),__vite__mapDeps([68,41,42,15]))),LM=Me(()=>je(()=>import("./MessagesPage-Bk2Tw69Z.js"),__vite__mapDeps([69,2,15,70,12,43,21,57,58]))),PM=Me(()=>je(()=>import("./NewMessagePage-BIgKmzS_.js"),__vite__mapDeps([71,2,32,39]))),zM=Me(()=>je(()=>import("./ConversationPage-C8GajO-T.js"),__vite__mapDeps([72,20,21,22,12,23,13,24,25,26,17,70,2,43,58,27,49,37,45]))),BM=Me(()=>je(()=>import("./AssistantChatPage-Bpi3P-_T.js"),[])),IM=Me(()=>je(()=>import("./TitleDetailPageV2-Ba30IZw_.js"),__vite__mapDeps([73,74,2,15,18,34]))),qM=Me(()=>je(()=>import("./TitleReviewsPageV2-vJVJrRbP.js"),__vite__mapDeps([75,74,2,15,12,30,27]))),$M=Me(()=>je(()=>import("./ActivityPage-DbyEYDcJ.js"),__vite__mapDeps([76,41,42,15,35,56,24]))),HM=Me(()=>je(()=>import("./FollowRequestsPage-CwFC167P.js"),__vite__mapDeps([77,41,42]))),VM=()=>k.jsx(_t.Suspense,{fallback:k.jsx(S_,{}),children:k.jsxs(iA,{children:[k.jsx(Oe,{path:"/auth/signin",element:k.jsx(hM,{})}),k.jsx(Oe,{path:"/auth/signup",element:k.jsx(mM,{})}),k.jsx(Oe,{path:"/auth/forgot-password",element:k.jsx(pM,{})}),k.jsx(Oe,{path:"/auth/reset-password",element:k.jsx(gM,{})}),k.jsx(Oe,{path:"/welcome",element:k.jsx(jM,{})}),k.jsxs(Oe,{element:k.jsx(fM,{}),children:[k.jsx(Oe,{path:"/onboarding",element:k.jsx(MM,{})}),k.jsxs(Oe,{element:k.jsx(cM,{}),children:[k.jsx(Oe,{index:!0,element:k.jsx(Ad,{to:"/search",replace:!0})}),k.jsx(Oe,{path:"/home",element:k.jsx(yM,{})}),k.jsx(Oe,{path:"/swipe",element:k.jsx(vM,{})}),k.jsx(Oe,{path:"/messages",element:k.jsx(LM,{})}),k.jsx(Oe,{path:"/messages/new",element:k.jsx(PM,{})}),k.jsx(Oe,{path:"/assistant",element:k.jsx(BM,{})}),k.jsx(Oe,{path:"/messages/:conversationId",element:k.jsx(zM,{})}),k.jsx(Oe,{path:"/search",element:k.jsx(bM,{})}),k.jsx(Oe,{path:"/diary",element:k.jsx(wM,{})}),k.jsx(Oe,{path:"/title/:titleId",element:k.jsx(IM,{})}),k.jsx(Oe,{path:"/title/:titleId/reviews",element:k.jsx(qM,{})}),k.jsx(Oe,{path:"/activity",element:k.jsx($M,{})}),k.jsx(Oe,{path:"/activity/requests",element:k.jsx(HM,{})}),k.jsx(Oe,{path:"/me",element:k.jsx(SM,{})}),k.jsx(Oe,{path:"/u/:username",element:k.jsx(_M,{})}),k.jsx(Oe,{path:"/u/:username/followers",element:k.jsx(AM,{})}),k.jsx(Oe,{path:"/u/:username/following",element:k.jsx(RM,{})}),k.jsx(Oe,{path:"/suggested-people",element:k.jsx(EM,{})}),k.jsx(Oe,{path:"/lists/:listId",element:k.jsx(xM,{})}),k.jsx(Oe,{path:"/settings",element:k.jsx(TM,{})}),k.jsx(Oe,{path:"/settings/profile",element:k.jsx(OM,{})}),k.jsx(Oe,{path:"/settings/account",element:k.jsx(CM,{})}),k.jsx(Oe,{path:"/settings/notifications",element:k.jsx(kM,{})}),k.jsx(Oe,{path:"/settings/app",element:k.jsx(NM,{})}),k.jsx(Oe,{path:"/help/verification",element:k.jsx(UM,{})})]})]}),k.jsx(Oe,{path:"*",element:k.jsx(DM,{})})]})}),GM=()=>(_t.useEffect(()=>{PC()},[]),k.jsxs(P1,{children:[k.jsx(VM,{}),k.jsx(Qj,{})]}));function KM(e){const t={...gi};if(!e)return t;for(const[i,a]of Object.entries(e))t[i]=a;return t}async function FM(e){const t=await gn("public-app-settings",{},{signal:e?.signal,timeoutMs:e?.timeoutMs}),i=Number(t?.version??1)||1,a=KM(t?.settings??null);return{version:i,settings:a}}function E_(e,t,i){const a=e[t];return typeof a=="string"&&a.length?a:i}function x_(e,t,i){const a=e[t];return typeof a=="number"&&Number.isFinite(a)?a:i}const A_=w.createContext(null);function QM({children:e}){const t=w.useMemo(()=>uC(),[]),[i,a]=w.useState(!1),[o,u]=w.useState(t.version??1),[c,f]=w.useState(t.settings??{...gi}),h=w.useCallback(async()=>{try{const b=await FM({timeoutMs:1e4});u(b.version),f(b.settings),lC(b.version,b.settings)}catch{}finally{a(!0)}},[]);w.useEffect(()=>{h()},[h]);const p=w.useCallback((b,_)=>x_(c,b,_),[c]),g=w.useCallback((b,_)=>E_(c,b,_),[c]),y=w.useMemo(()=>({ready:i,version:o,settings:c,refresh:h,getNumber:p,getString:g}),[i,o,c,h,p,g]);return k.jsx(A_.Provider,{value:y,children:e})}function YM(){const e=w.useContext(A_);return e||{ready:!1,version:1,settings:{...gi},refresh:async()=>{},getNumber:(t,i)=>x_(gi,t,i),getString:(t,i)=>E_(gi,t,i)}}const R_=w.createContext(null);function xd(e,t,i,a){const o={};for(const u of Object.values(e))for(const c of u??[]){const f=c?.user_id;if(!f)continue;const h=o[f],p=typeof c.last_seen=="number"?c.last_seen:null;(!h||(p??0)>(h.last_seen??0))&&(o[f]={last_seen:p,status:"offline"})}for(const[u,c]of Object.entries(o)){const f=c.last_seen;if(f==null){c.status="offline";continue}const h=t-f;h<=i?c.status="online":h<=a?c.status="away":c.status="offline",o[u]=c}return o}function JM({children:e}){const{user:t}=ln(),{getNumber:i,getString:a}=YM(),o=a("ux.presence.channel","presence:global"),u=i("ux.presence.online_ttl_ms",45e3),c=i("ux.presence.away_ttl_ms",2*6e4),f=i("ux.presence.heartbeat_ms",3e4),h=i("ux.presence.recompute_ms",5e3),p=i("ux.presence.db_touch_min_interval_ms",6e5),g=i("ux.presence.initial_sync_delay_ms",150),y=w.useRef(null),b=w.useRef("online"),_=w.useRef(0),[x,S]=w.useState({}),A=w.useRef({}),R=w.useCallback(()=>{S(xd(A.current,Date.now(),u,c))},[u,c]),T=w.useCallback(async()=>{if(!t?.id||typeof document<"u"&&document.hidden)return;const U=Date.now();if(!(U-_.current<p)){_.current=U;try{await Ce.from("profiles").update({last_seen_at:new Date(U).toISOString()}).eq("id",t.id)}catch{}}},[p,t]),O=w.useCallback(async()=>{const U=y.current;if(!(!U||!t?.id)){try{await U.track({user_id:t.id,last_seen:Date.now(),status:b.current})}catch{}try{const H=U.presenceState();A.current=H,S(xd(H,Date.now(),u,c))}catch{}T()}},[c,u,T,t]);w.useEffect(()=>{if(!t?.id){S({});return}const U=Ce.channel(o,{config:{presence:{key:t.id}}});y.current=U;const H=()=>{try{const ee=U.presenceState();A.current=ee,S(xd(ee,Date.now(),u,c))}catch{}};U.on("presence",{event:"sync"},H).on("presence",{event:"join"},H).on("presence",{event:"leave"},H);const Z=U.subscribe(ee=>{ee==="SUBSCRIBED"&&(O(),H(),window.setTimeout(H,g))}),ue=()=>{const ee=document.visibilityState==="visible"?"online":"away";b.current!==ee&&(b.current=ee,O())};document.addEventListener("visibilitychange",ue);const ae=window.setInterval(()=>{O()},f),X=window.setInterval(()=>{R()},h);return()=>{window.clearInterval(ae),window.clearInterval(X),document.removeEventListener("visibilitychange",ue);try{Z.unsubscribe?.()}catch{}y.current&&Ce.removeChannel(y.current),y.current=null}},[c,o,f,g,u,h,R,O,t?.id]);const M=w.useCallback(U=>x[U]?.last_seen??null,[x]),I=w.useCallback(U=>x[U]?.status??"offline",[x]),K=w.useMemo(()=>({getStatus:I,getLastSeen:M,snapshot:x}),[M,I,x]);return k.jsx(R_.Provider,{value:K,children:e})}function EU(){const e=w.useContext(R_);return e||{getStatus:()=>"offline",getLastSeen:()=>null,snapshot:{}}}sx.createRoot(document.getElementById("root")).render(k.jsx(_t.StrictMode,{children:k.jsx(Gk,{children:k.jsx(QM,{children:k.jsx(JM,{children:k.jsxs(fR,{client:pn,children:[(()=>{const e="/MoviNesta/".replace(/\/$/,"")||"/",t=typeof window<"u"&&window.location.hostname.endsWith("github.io"),i=t?kA:CA,a=t?"/":e;return k.jsx(i,{basename:a,children:k.jsx(GM,{})})})(),!1]})})})})}));export{Yw as $,S_ as A,Ea as B,pU as C,ao as D,Gs as E,Q1 as F,vU as G,ik as H,WM as I,rU as J,XM as K,e0 as L,J1 as M,wU as N,EU as O,iw as P,Br as Q,_t as R,W1 as S,Ir as T,mh as U,MN as V,Mr as W,B2 as X,Ca as Y,Iw as Z,y2 as _,on as a,Hh as a0,Jw as a1,G2 as a2,gN as a3,s_ as a4,xw as a5,Sw as a6,v2 as a7,b2 as a8,SR as a9,Ba as aA,Rk as aB,Ij as aC,qj as aD,v_ as aE,lU as aF,dC as aG,hC as aH,cU as aI,uU as aJ,Lr as aK,oM as aL,tU as aM,BA as aa,NC as ab,Ah as ac,Zj as ad,SU as ae,Xj as af,_U as ag,bU as ah,Xk as ai,DC as aj,cC as ak,YM as al,ZM as am,mU as an,ow as ao,Sd as ap,hU as aq,iU as ar,fU as as,oU as at,eb as au,aU as av,sU as aw,pw as ax,Ak as ay,dU as az,ln as b,Ua as c,Th as d,m0 as e,Qk as f,nU as g,kh as h,ru as i,k as j,ab as k,Lk as l,hk as m,gn as n,gu as o,wd as p,Ur as q,w as r,Ce as s,q0 as t,fu as u,mw as v,yU as w,gU as x,y0 as y,Oa as z};
