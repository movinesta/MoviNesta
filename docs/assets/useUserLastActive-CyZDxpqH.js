import{c as n,s as o}from"./index-CfTfJYoU.js";function u(e){return n({queryKey:["profiles_public:last_active",e],enabled:!!e,staleTime:3e4,refetchInterval:6e4,queryFn:async()=>{if(!e)return null;const r=await o.from("profiles_public").select("id,last_seen_at,updated_at").eq("id",e).maybeSingle();if(r.error){const t=(r.error.message??"").toLowerCase();if(t.includes("last_seen_at")||t.includes("does not exist")||t.includes("column")){const a=await o.from("profiles_public").select("id,updated_at").eq("id",e).maybeSingle();if(a.error)throw new Error(a.error.message);return a.data?.updated_at??null}throw new Error(r.error.message)}const s=r.data;return s?.last_seen_at??s?.updated_at??null}})}export{u};
