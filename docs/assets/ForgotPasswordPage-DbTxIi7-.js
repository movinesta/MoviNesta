import{r as s,j as e,B as p,L as x,s as g}from"./index-yaS868vE.js";import{u as b}from"./useDocumentTitle-B9BX056J.js";import{A as h}from"./AuthLayout-BuFWiRAZ.js";import"./brand-C09B3hqb.js";import"./sparkles-DDv2xrV5.js";import"./film-Did84F3L.js";const y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,N=()=>{b("Forgot password");const[t,m]=s.useState(""),[o,n]=s.useState(!1),[l,r]=s.useState(null),[d,u]=s.useState(null),f=async a=>{if(a.preventDefault(),r(null),u(null),!t){r("Please enter your email address.");return}if(!y.test(t)){r("Please enter a valid email address.");return}n(!0);try{const i=typeof window<"u"?`${window.location.origin}/auth/reset-password`:void 0,{error:c}=await g.auth.resetPasswordForEmail(t,{redirectTo:i});if(c){r(c.message||"We couldn't send the reset email. Please try again in a moment.");return}u("If an account exists for that email, we just sent a password reset link. Please check your inbox.")}catch(i){console.error(i),r("Something went wrong while requesting the reset link.")}finally{n(!1)}};return e.jsxs(h,{kicker:"Reset access",title:"Forgot your password?",description:"Enter the email you use for MoviNesta. We'll send a secure link to reset your password.",footer:e.jsx(x,{to:"/auth/signin",className:"font-medium text-primary hover:underline",children:"Back to sign in"}),children:[l&&e.jsx("div",{role:"alert",className:"rounded-xl border border-destructive/40 bg-destructive/10 px-3 py-2 text-xs text-destructive",children:l}),d&&e.jsx("div",{role:"status",className:"rounded-xl border border-emerald-400/40 bg-emerald-400/10 px-3 py-2 text-xs text-emerald-800",children:d}),e.jsxs("form",{onSubmit:f,className:"space-y-4",noValidate:!0,children:[e.jsxs("div",{className:"space-y-1.5",children:[e.jsx("label",{htmlFor:"forgot-email",className:"text-xs font-medium text-muted-foreground",children:"Email address"}),e.jsx("input",{id:"forgot-email",type:"email",autoComplete:"email",required:!0,value:t,onChange:a=>m(a.target.value),disabled:o,className:"w-full rounded-lg border border-border bg-background px-3 py-2 text-sm text-foreground placeholder:text-muted-foreground focus:outline-none focus-visible:ring-2 focus-visible:ring-primary/40 focus-visible:ring-offset-2 focus-visible:ring-offset-background"})]}),e.jsx(p,{type:"submit",className:"w-full",disabled:o||!t,children:o?"Sending reset linkâ€¦":"Send reset link"})]})]})};export{N as default};
