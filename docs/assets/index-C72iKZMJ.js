import{R as k,j as G,r as ut,B as Qo}from"./index-DLcJPtaT.js";const xt=0,Be=1,_e=2,vo=4;function Jt(e){return()=>e}function en(e){e()}function Io(e,t){return o=>e(t(o))}function Qt(e,t){return()=>e(t)}function tn(e,t){return o=>e(t,o)}function Ft(e){return e!==void 0}function on(...e){return()=>{e.map(en)}}function Ue(){}function vt(e,t){return t(e),e}function nn(e,t){return t(e)}function Z(...e){return e}function K(e,t){return e(Be,t)}function L(e,t){e(xt,t)}function Wt(e){e(_e)}function ee(e){return e(vo)}function O(e,t){return K(e,tn(t,xt))}function Ie(e,t){const o=e(Be,n=>{o(),t(n)});return o}function eo(e){let t,o;return n=>r=>{t=r,o&&clearTimeout(o),o=setTimeout(()=>{n(t)},e)}}function To(e,t){return e===t}function X(e=To){let t;return o=>n=>{e(t,n)||(t=n,o(n))}}function W(e){return t=>o=>{e(o)&&t(o)}}function z(e){return t=>Io(t,e)}function Se(e){return t=>()=>{t(e)}}function p(e,...t){const o=rn(...t);return(n,r)=>{switch(n){case _e:Wt(e);return;case Be:return K(e,o(r))}}}function Ce(e,t){return o=>n=>{o(t=e(t,n))}}function je(e){return t=>o=>{e>0?e--:t(o)}}function be(e){let t=null,o;return n=>r=>{t=r,!o&&(o=setTimeout(()=>{o=void 0,n(t)},e))}}function D(...e){const t=new Array(e.length);let o=0,n=null;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const s=Math.pow(2,l);K(i,c=>{const a=o;o=o|s,t[l]=c,a!==r&&o===r&&n&&(n(),n=null)})}),i=>l=>{const s=()=>{i([l].concat(t))};o===r?s():n=s}}function rn(...e){return t=>e.reduceRight(nn,t)}function ln(e){let t,o;const n=()=>t==null?void 0:t();return function(r,i){switch(r){case Be:return i?o===i?void 0:(n(),o=i,t=K(e,i),t):(n(),Ue);case _e:n(),o=null;return}}}function w(e){let t=e;const o=_();return(n,r)=>{switch(n){case xt:t=r;break;case Be:{r(t);break}case vo:return t}return o(n,r)}}function se(e,t){return vt(w(t),o=>O(e,o))}function _(){const e=[];return(t,o)=>{switch(t){case xt:e.slice().forEach(n=>{n(o)});return;case _e:e.splice(0,e.length);return;case Be:return e.push(o),()=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)}}}}function pe(e){return vt(_(),t=>O(e,t))}function U(e,t=[],{singleton:o}={singleton:!0}){return{constructor:e,dependencies:t,id:sn(),singleton:o}}const sn=()=>Symbol();function cn(e){const t=new Map,o=({constructor:n,dependencies:r,id:i,singleton:l})=>{if(l&&t.has(i))return t.get(i);const s=n(r.map(c=>o(c)));return l&&t.set(i,s),s};return o(e)}function oe(...e){const t=_(),o=new Array(e.length);let n=0;const r=Math.pow(2,e.length)-1;return e.forEach((i,l)=>{const s=Math.pow(2,l);K(i,c=>{o[l]=c,n=n|s,n===r&&L(t,o)})}),function(i,l){switch(i){case _e:{Wt(t);return}case Be:return n===r&&l(o),K(t,l)}}}function P(e,t=To){return p(e,X(t))}function Et(...e){return function(t,o){switch(t){case _e:return;case Be:return on(...e.map(n=>K(n,o)))}}}var fe=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(fe||{});const an={0:"debug",3:"error",1:"log",2:"warn"},un=()=>typeof globalThis>"u"?window:globalThis,ke=U(()=>{const e=w(3);return{log:w((t,o,n=1)=>{var r;const i=(r=un().VIRTUOSO_LOG_LEVEL)!=null?r:ee(e);n>=i&&console[an[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,o)}),logLevel:e}},[],{singleton:!0});function Ae(e,t,o){return Pt(e,t,o).callbackRef}function Pt(e,t,o){const n=k.useRef(null);let r=l=>{};const i=k.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(l=>{const s=()=>{const c=l[0].target;c.offsetParent!==null&&e(c)};o?s():requestAnimationFrame(s)}):null,[e,o]);return r=l=>{l&&t?(i==null||i.observe(l),n.current=l):(n.current&&(i==null||i.unobserve(n.current)),n.current=null)},{callbackRef:r,ref:n}}function dn(e,t,o,n,r,i,l,s,c){const a=k.useCallback(h=>{const T=fn(h.children,t,s?"offsetWidth":"offsetHeight",r);let m=h.parentElement;for(;!m.dataset.virtuosoScroller;)m=m.parentElement;const I=m.lastElementChild.dataset.viewportType==="window";let H;I&&(H=m.ownerDocument.defaultView);const E=l?s?l.scrollLeft:l.scrollTop:I?s?H.scrollX||H.document.documentElement.scrollLeft:H.scrollY||H.document.documentElement.scrollTop:s?m.scrollLeft:m.scrollTop,g=l?s?l.scrollWidth:l.scrollHeight:I?s?H.document.documentElement.scrollWidth:H.document.documentElement.scrollHeight:s?m.scrollWidth:m.scrollHeight,d=l?s?l.offsetWidth:l.offsetHeight:I?s?H.innerWidth:H.innerHeight:s?m.offsetWidth:m.offsetHeight;n({scrollHeight:g,scrollTop:Math.max(E,0),viewportHeight:d}),i==null||i(s?to("column-gap",getComputedStyle(h).columnGap,r):to("row-gap",getComputedStyle(h).rowGap,r)),T!==null&&e(T)},[e,t,r,i,l,n,s]);return Pt(a,o,c)}function fn(e,t,o,n){const r=e.length;if(r===0)return null;const i=[];for(let l=0;l<r;l++){const s=e.item(l);if(s.dataset.index===void 0)continue;const c=parseInt(s.dataset.index),a=parseFloat(s.dataset.knownSize),h=t(s,o);if(h===0&&n("Zero-sized element, this should not happen",{child:s},fe.ERROR),h===a)continue;const T=i[i.length-1];i.length===0||T.size!==h||T.endIndex!==c-1?i.push({endIndex:c,size:h,startIndex:c}):i[i.length-1].endIndex++}return i}function to(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,fe.WARN),t==="normal"?0:parseInt(t??"0",10)}function wo(e,t,o){const n=k.useRef(null),r=k.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const a=c.getBoundingClientRect(),h=a.width;let T,m;if(t){const I=t.getBoundingClientRect(),H=a.top-I.top;m=I.height-Math.max(0,H),T=H+t.scrollTop}else{const I=l.current.ownerDocument.defaultView;m=I.innerHeight-Math.max(0,a.top),T=a.top+I.scrollY}n.current={offsetTop:T,visibleHeight:m,visibleWidth:h},e(n.current)},[e,t]),{callbackRef:i,ref:l}=Pt(r,!0,o),s=k.useCallback(()=>{r(l.current)},[r,l]);return k.useEffect(()=>{var c;if(t){t.addEventListener("scroll",s);const a=new ResizeObserver(()=>{requestAnimationFrame(s)});return a.observe(t),()=>{t.removeEventListener("scroll",s),a.unobserve(t)}}else{const a=(c=l.current)==null?void 0:c.ownerDocument.defaultView;return a==null||a.addEventListener("scroll",s),a==null||a.addEventListener("resize",s),()=>{a==null||a.removeEventListener("scroll",s),a==null||a.removeEventListener("resize",s)}}},[s,t,l]),i}const ae=U(()=>{const e=_(),t=_(),o=w(0),n=_(),r=w(0),i=_(),l=_(),s=w(0),c=w(0),a=w(0),h=w(0),T=_(),m=_(),I=w(!1),H=w(!1),E=w(!1);return O(p(e,z(({scrollTop:g})=>g)),t),O(p(e,z(({scrollHeight:g})=>g)),l),O(t,r),{deviation:o,fixedFooterHeight:a,fixedHeaderHeight:c,footerHeight:h,headerHeight:s,horizontalDirection:H,scrollBy:m,scrollContainerState:e,scrollHeight:l,scrollingInProgress:I,scrollTo:T,scrollTop:t,skipAnimationFrameInResizeObserver:E,smoothScrollTargetReached:n,statefulScrollTop:r,viewportHeight:i}},[],{singleton:!0}),Ze={lvl:0};function So(e,t){const o=e.length;if(o===0)return[];let{index:n,value:r}=t(e[0]);const i=[];for(let l=1;l<o;l++){const{index:s,value:c}=t(e[l]);i.push({end:s-1,start:n,value:r}),n=s,r=c}return i.push({end:1/0,start:n,value:r}),i}function Y(e){return e===Ze}function Je(e,t){if(!Y(e))return t===e.k?e.v:t<e.k?Je(e.l,t):Je(e.r,t)}function Te(e,t,o="k"){if(Y(e))return[-1/0,void 0];if(Number(e[o])===t)return[e.k,e.v];if(Number(e[o])<t){const n=Te(e.r,t,o);return n[0]===-1/0?[e.k,e.v]:n}return Te(e.l,t,o)}function me(e,t,o){return Y(e)?zo(t,o,1):t===e.k?ne(e,{k:t,v:o}):t<e.k?oo(ne(e,{l:me(e.l,t,o)})):oo(ne(e,{r:me(e.r,t,o)}))}function Ne(){return Ze}function It(e,t,o){if(Y(e))return[];const n=Te(e,t)[0];return hn(Bt(e,n,o))}function Rt(e,t){if(Y(e))return Ze;const{k:o,l:n,r}=e;if(t===o){if(Y(n))return r;if(Y(r))return n;{const[i,l]=Ho(n);return dt(ne(e,{k:i,l:Co(n),v:l}))}}else return t<o?dt(ne(e,{l:Rt(n,t)})):dt(ne(e,{r:Rt(r,t)}))}function Pe(e){return Y(e)?[]:[...Pe(e.l),{k:e.k,v:e.v},...Pe(e.r)]}function Bt(e,t,o){if(Y(e))return[];const{k:n,l:r,r:i,v:l}=e;let s=[];return n>t&&(s=s.concat(Bt(r,t,o))),n>=t&&n<=o&&s.push({k:n,v:l}),n<=o&&(s=s.concat(Bt(i,t,o))),s}function dt(e){const{l:t,lvl:o,r:n}=e;if(n.lvl>=o-1&&t.lvl>=o-1)return e;if(o>n.lvl+1){if(Ct(t))return bo(ne(e,{lvl:o-1}));if(!Y(t)&&!Y(t.r))return ne(t.r,{l:ne(t,{r:t.r.l}),lvl:o,r:ne(e,{l:t.r.r,lvl:o-1})});throw new Error("Unexpected empty nodes")}else{if(Ct(e))return kt(ne(e,{lvl:o-1}));if(!Y(n)&&!Y(n.l)){const r=n.l,i=Ct(r)?n.lvl-1:n.lvl;return ne(r,{l:ne(e,{lvl:o-1,r:r.l}),lvl:r.lvl+1,r:kt(ne(n,{l:r.r,lvl:i}))})}else throw new Error("Unexpected empty nodes")}}function ne(e,t){return zo(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function Co(e){return Y(e.r)?e.l:dt(ne(e,{r:Co(e.r)}))}function Ct(e){return Y(e)||e.lvl>e.r.lvl}function Ho(e){return Y(e.r)?[e.k,e.v]:Ho(e.r)}function zo(e,t,o,n=Ze,r=Ze){return{k:e,l:n,lvl:o,r,v:t}}function oo(e){return kt(bo(e))}function bo(e){const{l:t}=e;return!Y(t)&&t.lvl===e.lvl?ne(t,{r:ne(e,{l:t.r})}):e}function kt(e){const{lvl:t,r:o}=e;return!Y(o)&&!Y(o.r)&&o.lvl===t&&o.r.lvl===t?ne(o,{l:ne(e,{r:o.l}),lvl:t+1}):e}function hn(e){return So(e,({k:t,v:o})=>({index:t,value:o}))}function yo(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function Qe(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const jt=U(()=>({recalcInProgress:w(!1)}),[],{singleton:!0});function Eo(e,t,o){return e[ht(e,t,o)]}function ht(e,t,o,n=0){let r=e.length-1;for(;n<=r;){const i=Math.floor((n+r)/2),l=e[i],s=o(l,t);if(s===0)return i;if(s===-1){if(r-n<2)return i-1;r=i-1}else{if(r===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function mn(e,t,o,n){const r=ht(e,t,n),i=ht(e,o,n,r);return e.slice(r,i+1)}function Re(e,t){return Math.round(e.getBoundingClientRect()[t])}function Tt(e){return!Y(e.groupOffsetTree)}function At({index:e},t){return t===e?0:t<e?-1:1}function pn(){return{groupIndices:[],groupOffsetTree:Ne(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Ne()}}function gn(e,t){let o=Y(e)?0:1/0;for(const n of t){const{endIndex:r,size:i,startIndex:l}=n;if(o=Math.min(o,l),Y(e)){e=me(e,0,i);continue}const s=It(e,l-1,r+1);if(s.some(Cn(n)))continue;let c=!1,a=!1;for(const{end:h,start:T,value:m}of s)c?(r>=T||i===m)&&(e=Rt(e,T)):(a=m!==i,c=!0),h>r&&r>=T&&m!==i&&(e=me(e,r+1,m));a&&(e=me(e,l,i))}return[e,o]}function xn(e){return typeof e.groupIndex<"u"}function vn({offset:e},t){return t===e?0:t<e?-1:1}function et(e,t,o){if(t.length===0)return 0;const{index:n,offset:r,size:i}=Eo(t,e,At),l=e-n,s=i*l+(l-1)*o+r;return s>0?s+o:s}function Ro(e,t){if(!Tt(t))return e;let o=0;for(;t.groupIndices[o]<=e+o;)o++;return e+o}function Bo(e,t,o){if(xn(e))return t.groupIndices[e.groupIndex]+1;{const n=e.index==="LAST"?o:e.index;let r=Ro(n,t);return r=Math.max(0,r,Math.min(o,r)),r}}function In(e,t,o,n=0){return n>0&&(t=Math.max(t,Eo(e,n,At).offset)),So(mn(e,t,o,vn),Sn)}function Tn(e,[t,o,n,r]){t.length>0&&n("received item sizes",t,fe.DEBUG);const i=e.sizeTree;let l=i,s=0;if(o.length>0&&Y(i)&&t.length===2){const m=t[0].size,I=t[1].size;l=o.reduce((H,E)=>me(me(H,E,m),E+1,I),l)}else[l,s]=gn(l,t);if(l===i)return e;const{lastIndex:c,lastOffset:a,lastSize:h,offsetTree:T}=Ot(e.offsetTree,s,l,r);return{groupIndices:o,groupOffsetTree:o.reduce((m,I)=>me(m,I,et(I,T,r)),Ne()),lastIndex:c,lastOffset:a,lastSize:h,offsetTree:T,sizeTree:l}}function wn(e){return Pe(e).map(({k:t,v:o},n,r)=>{const i=r[n+1];return{endIndex:i?i.k-1:1/0,size:o,startIndex:t}})}function no(e,t){let o=0,n=0;for(;o<e;)o+=t[n+1]-t[n]-1,n++;return n-(o===e?0:1)}function Ot(e,t,o,n){let r=e,i=0,l=0,s=0,c=0;if(t!==0){c=ht(r,t-1,At),s=r[c].offset;const a=Te(o,t-1);i=a[0],l=a[1],r.length&&r[c].size===Te(o,t)[1]&&(c-=1),r=r.slice(0,c+1)}else r=[];for(const{start:a,value:h}of It(o,t,1/0)){const T=a-i,m=T*l+s+T*n;r.push({index:a,offset:m,size:h}),i=a,s=m,l=h}return{lastIndex:i,lastOffset:s,lastSize:l,offsetTree:r}}function Sn(e){return{index:e.index,value:e}}function Cn(e){const{endIndex:t,size:o,startIndex:n}=e;return r=>r.start===n&&(r.end===t||r.end===1/0)&&r.value===o}const Hn={offsetHeight:"height",offsetWidth:"width"},He=U(([{log:e},{recalcInProgress:t}])=>{const o=_(),n=_(),r=se(n,0),i=_(),l=_(),s=w(0),c=w([]),a=w(void 0),h=w(void 0),T=w(void 0),m=w(void 0),I=w((u,x)=>Re(u,Hn[x])),H=w(void 0),E=w(0),g=pn(),d=se(p(o,D(c,e,E),Ce(Tn,g),X()),g),f=se(p(c,X(),Ce((u,x)=>({current:x,prev:u.current}),{current:[],prev:[]}),z(({prev:u})=>u)),[]);O(p(c,W(u=>u.length>0),D(d,E),z(([u,x,y])=>{const R=u.reduce((M,j,N)=>me(M,j,et(j,x.offsetTree,y)||N),Ne());return{...x,groupIndices:u,groupOffsetTree:R}})),d),O(p(n,D(d),W(([u,{lastIndex:x}])=>u<x),z(([u,{lastIndex:x,lastSize:y}])=>[{endIndex:x,size:y,startIndex:u}])),o),O(a,h);const C=se(p(a,z(u=>u===void 0)),!0);O(p(h,W(u=>u!==void 0&&Y(ee(d).sizeTree)),z(u=>{const x=ee(T),y=ee(c).length>0;return x?y?[{endIndex:0,size:x,startIndex:0},{endIndex:1,size:u,startIndex:1}]:[]:[{endIndex:0,size:u,startIndex:0}]})),o),O(p(m,W(u=>u!==void 0&&u.length>0&&Y(ee(d).sizeTree)),z(u=>{const x=[];let y=u[0],R=0;for(let M=1;M<u.length;M++){const j=u[M];j!==y&&(x.push({endIndex:M-1,size:y,startIndex:R}),y=j,R=M)}return x.push({endIndex:u.length-1,size:y,startIndex:R}),x})),o),O(p(c,D(T,h),W(([,u,x])=>u!==void 0&&x!==void 0),z(([u,x,y])=>{const R=[];for(let M=0;M<u.length;M++){const j=u[M],N=u[M+1];R.push({startIndex:j,endIndex:j,size:x}),N!==void 0&&R.push({startIndex:j+1,endIndex:N-1,size:y})}return R})),o);const B=pe(p(o,D(d),Ce(({sizes:u},[x,y])=>({changed:y!==u,sizes:y}),{changed:!1,sizes:g}),z(u=>u.changed)));K(p(s,Ce((u,x)=>({diff:u.prev-x,prev:x}),{diff:0,prev:0}),z(u=>u.diff)),u=>{const{groupIndices:x}=ee(d);if(u>0)L(t,!0),L(i,u+no(u,x));else if(u<0){const y=ee(f);y.length>0&&(u-=no(-u,y)),L(l,u)}}),K(p(s,D(e)),([u,x])=>{u<0&&x("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},fe.ERROR)});const b=pe(i);O(p(i,D(d),z(([u,x])=>{const y=x.groupIndices.length>0,R=[],M=x.lastSize;if(y){const j=Je(x.sizeTree,0);let N=0,F=0;for(;N<u;){const $=x.groupIndices[F],re=x.groupIndices.length===F+1?1/0:x.groupIndices[F+1]-$-1;R.push({endIndex:$,size:j,startIndex:$}),R.push({endIndex:$+1+re-1,size:M,startIndex:$+1}),F++,N+=re+1}const q=Pe(x.sizeTree);return N!==u&&q.shift(),q.reduce(($,{k:re,v:he})=>{let ue=$.ranges;return $.prevSize!==0&&(ue=[...$.ranges,{endIndex:re+u-1,size:$.prevSize,startIndex:$.prevIndex}]),{prevIndex:re+u,prevSize:he,ranges:ue}},{prevIndex:u,prevSize:0,ranges:R}).ranges}return Pe(x.sizeTree).reduce((j,{k:N,v:F})=>({prevIndex:N+u,prevSize:F,ranges:[...j.ranges,{endIndex:N+u-1,size:j.prevSize,startIndex:j.prevIndex}]}),{prevIndex:0,prevSize:M,ranges:[]}).ranges})),o);const v=pe(p(l,D(d,E),z(([u,{offsetTree:x},y])=>{const R=-u;return et(R,x,y)})));return O(p(l,D(d,E),z(([u,x,y])=>{if(x.groupIndices.length>0){if(Y(x.sizeTree))return x;let R=Ne();const M=ee(f);let j=0,N=0,F=0;for(;j<-u;){F=M[N];const q=M[N+1]-F-1;N++,j+=q+1}if(R=Pe(x.sizeTree).reduce((q,{k:$,v:re})=>me(q,Math.max(0,$+u),re),R),j!==-u){const q=Je(x.sizeTree,F);R=me(R,0,q);const $=Te(x.sizeTree,-u+1)[1];R=me(R,1,$)}return{...x,sizeTree:R,...Ot(x.offsetTree,0,R,y)}}else{const R=Pe(x.sizeTree).reduce((M,{k:j,v:N})=>me(M,Math.max(0,j+u),N),Ne());return{...x,sizeTree:R,...Ot(x.offsetTree,0,R,y)}}})),d),{beforeUnshiftWith:b,data:H,defaultItemSize:h,firstItemIndex:s,fixedItemSize:a,fixedGroupSize:T,gap:E,groupIndices:c,heightEstimates:m,itemSize:I,listRefresh:B,shiftWith:l,shiftWithOffset:v,sizeRanges:o,sizes:d,statefulTotalCount:r,totalCount:n,trackItemSizes:C,unshiftWith:i}},Z(ke,jt),{singleton:!0});function zn(e){return e.reduce((t,o)=>(t.groupIndices.push(t.totalCount),t.totalCount+=o+1,t),{groupIndices:[],totalCount:0})}const ko=U(([{groupIndices:e,sizes:t,totalCount:o},{headerHeight:n,scrollTop:r}])=>{const i=_(),l=_(),s=pe(p(i,z(zn)));return O(p(s,z(c=>c.totalCount)),o),O(p(s,z(c=>c.groupIndices)),e),O(p(oe(r,t,n),W(([c,a])=>Tt(a)),z(([c,a,h])=>Te(a.groupOffsetTree,Math.max(c-h,0),"v")[0]),X(),z(c=>[c])),l),{groupCounts:i,topItemsIndexes:l}},Z(He,ae)),Oe=U(([{log:e}])=>{const t=w(!1),o=pe(p(t,W(n=>n),X()));return K(t,n=>{n&&ee(e)("props updated",{},fe.DEBUG)}),{didMount:o,propsReady:t}},Z(ke),{singleton:!0}),bn=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Oo(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!bn)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const ot=U(([{gap:e,listRefresh:t,sizes:o,totalCount:n},{fixedFooterHeight:r,fixedHeaderHeight:i,footerHeight:l,headerHeight:s,scrollingInProgress:c,scrollTo:a,smoothScrollTargetReached:h,viewportHeight:T},{log:m}])=>{const I=_(),H=_(),E=w(0);let g=null,d=null,f=null;function C(){g&&(g(),g=null),f&&(f(),f=null),d&&(clearTimeout(d),d=null),L(c,!1)}return O(p(I,D(o,T,n,E,s,l,m),D(e,i,r),z(([[B,b,v,u,x,y,R,M],j,N,F])=>{const q=Oo(B),{align:$,behavior:re,offset:he}=q,ue=u-1,de=Bo(q,b,ue);let ce=et(de,b.offsetTree,j)+y;$==="end"?(ce+=N+Te(b.sizeTree,de)[1]-v+F,de===ue&&(ce+=R)):$==="center"?ce+=(N+Te(b.sizeTree,de)[1]-v+F)/2:ce-=x,he&&(ce+=he);const Me=ve=>{C(),ve?(M("retrying to scroll to",{location:B},fe.DEBUG),L(I,B)):(L(H,!0),M("list did not change, scroll successful",{},fe.DEBUG))};if(C(),re==="smooth"){let ve=!1;f=K(t,qe=>{ve=ve||qe}),g=Ie(h,()=>{Me(ve)})}else g=Ie(p(t,yn(150)),Me);return d=setTimeout(()=>{C()},1200),L(c,!0),M("scrolling from index to",{behavior:re,index:de,top:ce},fe.DEBUG),{behavior:re,top:ce}})),a),{scrollTargetReached:H,scrollToIndex:I,topListHeight:E}},Z(He,ae,ke),{singleton:!0});function yn(e){return t=>{const o=setTimeout(()=>{t(!1)},e);return n=>{n&&(t(!0),clearTimeout(o))}}}function Lt(e,t){e==0?t():requestAnimationFrame(()=>{Lt(e-1,t)})}function Dt(e,t){const o=t-1;return typeof e=="number"?e:e.index==="LAST"?o:e.index}const nt=U(([{defaultItemSize:e,listRefresh:t,sizes:o},{scrollTop:n},{scrollTargetReached:r,scrollToIndex:i},{didMount:l}])=>{const s=w(!0),c=w(0),a=w(!0);return O(p(l,D(c),W(([h,T])=>!!T),Se(!1)),s),O(p(l,D(c),W(([h,T])=>!!T),Se(!1)),a),K(p(oe(t,l),D(s,o,e,a),W(([[,h],T,{sizeTree:m},I,H])=>h&&(!Y(m)||Ft(I))&&!T&&!H),D(c)),([,h])=>{Ie(r,()=>{L(a,!0)}),Lt(4,()=>{Ie(n,()=>{L(s,!0)}),L(i,h)})}),{initialItemFinalLocationReached:a,initialTopMostItemIndex:c,scrolledToInitialItem:s}},Z(He,ae,ot,Oe),{singleton:!0});function Mo(e,t){return Math.abs(e-t)<1.01}const tt="up",Ye="down",En="none",Rn={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Bn=0,rt=U(([{footerHeight:e,headerHeight:t,scrollBy:o,scrollContainerState:n,scrollTop:r,viewportHeight:i}])=>{const l=w(!1),s=w(!0),c=_(),a=_(),h=w(4),T=w(Bn),m=se(p(Et(p(P(r),je(1),Se(!0)),p(P(r),je(1),Se(!1),eo(100))),X()),!1),I=se(p(Et(p(o,Se(!0)),p(o,Se(!1),eo(200))),X()),!1);O(p(oe(P(r),P(T)),z(([f,C])=>f<=C),X()),s),O(p(s,be(50)),a);const H=pe(p(oe(n,P(i),P(t),P(e),P(h)),Ce((f,[{scrollHeight:C,scrollTop:B},b,v,u,x])=>{const y=B+b-C>-x,R={scrollHeight:C,scrollTop:B,viewportHeight:b};if(y){let j,N;return B>f.state.scrollTop?(j="SCROLLED_DOWN",N=f.state.scrollTop-B):(j="SIZE_DECREASED",N=f.state.scrollTop-B||f.scrollTopDelta),{atBottom:!0,atBottomBecause:j,scrollTopDelta:N,state:R}}let M;return R.scrollHeight>f.state.scrollHeight?M="SIZE_INCREASED":b<f.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":B<f.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:R}},Rn),X((f,C)=>f&&f.atBottom===C.atBottom))),E=se(p(n,Ce((f,{scrollHeight:C,scrollTop:B,viewportHeight:b})=>{if(Mo(f.scrollHeight,C))return{changed:!1,jump:0,scrollHeight:C,scrollTop:B};{const v=C-(B+b)<1;return f.scrollTop!==B&&v?{changed:!0,jump:f.scrollTop-B,scrollHeight:C,scrollTop:B}:{changed:!0,jump:0,scrollHeight:C,scrollTop:B}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),W(f=>f.changed),z(f=>f.jump)),0);O(p(H,z(f=>f.atBottom)),l),O(p(l,be(50)),c);const g=w(Ye);O(p(n,z(({scrollTop:f})=>f),X(),Ce((f,C)=>ee(I)?{direction:f.direction,prevScrollTop:C}:{direction:C<f.prevScrollTop?tt:Ye,prevScrollTop:C},{direction:Ye,prevScrollTop:0}),z(f=>f.direction)),g),O(p(n,be(50),Se(En)),g);const d=w(0);return O(p(m,W(f=>!f),Se(0)),d),O(p(r,be(100),D(m),W(([f,C])=>!!C),Ce(([f,C],[B])=>[C,B],[0,0]),z(([f,C])=>C-f)),d),{atBottomState:H,atBottomStateChange:c,atBottomThreshold:h,atTopStateChange:a,atTopThreshold:T,isAtBottom:l,isAtTop:s,isScrolling:m,lastJumpDueToItemResize:E,scrollDirection:g,scrollVelocity:d}},Z(ae)),mt="top",pt="bottom",ro="none";function io(e,t,o){return typeof e=="number"?o===tt&&t===mt||o===Ye&&t===pt?e:0:o===tt?t===mt?e.main:e.reverse:t===pt?e.main:e.reverse}function lo(e,t){var o;return typeof e=="number"?e:(o=e[t])!=null?o:0}const Vt=U(([{deviation:e,fixedHeaderHeight:t,headerHeight:o,scrollTop:n,viewportHeight:r}])=>{const i=_(),l=w(0),s=w(0),c=w(0),a=se(p(oe(P(n),P(r),P(o),P(i,Qe),P(c),P(l),P(t),P(e),P(s)),z(([h,T,m,[I,H],E,g,d,f,C])=>{const B=h-f,b=g+d,v=Math.max(m-B,0);let u=ro;const x=lo(C,mt),y=lo(C,pt);return I-=f,I+=m+d,H+=m+d,H-=f,I>h+b-x&&(u=tt),H<h-v+T+y&&(u=Ye),u!==ro?[Math.max(B-m-io(E,mt,u)-x,0),B-v-d+T+io(E,pt,u)+y]:null}),W(h=>h!=null),X(Qe)),[0,0]);return{increaseViewportBy:s,listBoundary:i,overscan:c,topListHeight:l,visibleRange:a}},Z(ae),{singleton:!0});function kn(e,t,o){if(Tt(t)){const n=Ro(e,t);return[{index:Te(t.groupOffsetTree,n)[0],offset:0,size:0},{data:o==null?void 0:o[0],index:n,offset:0,size:0}]}return[{data:o==null?void 0:o[0],index:e,offset:0,size:0}]}const Ht={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function ft(e,t,o,n,r,i){const{lastIndex:l,lastOffset:s,lastSize:c}=r;let a=0,h=0;if(e.length>0){a=e[0].offset;const E=e[e.length-1];h=E.offset+E.size}const T=o-l,m=s+T*c+(T-1)*n,I=a,H=m-h;return{bottom:h,firstItemIndex:i,items:so(e,r,i),offsetBottom:H,offsetTop:a,top:I,topItems:so(t,r,i),topListHeight:t.reduce((E,g)=>g.size+E,0),totalCount:o}}function Fo(e,t,o,n,r,i){let l=0;if(o.groupIndices.length>0)for(const h of o.groupIndices){if(h-l>=e)break;l++}const s=e+l,c=Dt(t,s),a=Array.from({length:s}).map((h,T)=>({data:i[T+c],index:T+c,offset:0,size:0}));return ft(a,[],s,r,o,n)}function so(e,t,o){if(e.length===0)return[];if(!Tt(t))return e.map(a=>({...a,index:a.index+o,originalIndex:a.index}));const n=e[0].index,r=e[e.length-1].index,i=[],l=It(t.groupOffsetTree,n,r);let s,c=0;for(const a of e){(!s||s.end<a.index)&&(s=l.shift(),c=t.groupIndices.indexOf(s.start));let h;a.index===s.start?h={index:c,type:"group"}:h={groupIndex:c,index:a.index-(c+1)+o},i.push({...h,data:a.data,offset:a.offset,originalIndex:a.index,size:a.size})}return i}const Le=U(([{data:e,firstItemIndex:t,gap:o,sizes:n,totalCount:r},i,{listBoundary:l,topListHeight:s,visibleRange:c},{initialTopMostItemIndex:a,scrolledToInitialItem:h},{topListHeight:T},m,{didMount:I},{recalcInProgress:H}])=>{const E=w([]),g=w(0),d=_();O(i.topItemsIndexes,E);const f=se(p(oe(I,H,P(c,Qe),P(r),P(n),P(a),h,P(E),P(t),P(o),e),W(([v,u,,x,,,,,,,y])=>{const R=y&&y.length!==x;return v&&!u&&!R}),z(([,,[v,u],x,y,R,M,j,N,F,q])=>{const $=y,{offsetTree:re,sizeTree:he}=$,ue=ee(g);if(x===0)return{...Ht,totalCount:x};if(v===0&&u===0)return ue===0?{...Ht,totalCount:x}:Fo(ue,R,y,N,F,q||[]);if(Y(he))return ue>0?null:ft(kn(Dt(R,x),$,q),[],x,F,$,N);const de=[];if(j.length>0){const De=j[0],we=j[j.length-1];let ze=0;for(const S of It(he,De,we)){const V=S.value,J=Math.max(S.start,De),ie=Math.min(S.end,we);for(let te=J;te<=ie;te++)de.push({data:q==null?void 0:q[te],index:te,offset:ze,size:V}),ze+=V}}if(!M)return ft([],de,x,F,$,N);const ce=j.length>0?j[j.length-1]+1:0,Me=In(re,v,u,ce);if(Me.length===0)return null;const ve=x-1,qe=vt([],De=>{for(const we of Me){const ze=we.value;let S=ze.offset,V=we.start;const J=ze.size;if(ze.offset<v){V+=Math.floor((v-ze.offset+F)/(J+F));const te=V-we.start;S+=te*J+te*F}V<ce&&(S+=(ce-V)*J,V=ce);const ie=Math.min(we.end,ve);for(let te=V;te<=ie&&!(S>=u);te++)De.push({data:q==null?void 0:q[te],index:te,offset:S,size:J}),S+=J+F}});return ft(qe,de,x,F,$,N)}),W(v=>v!==null),X()),Ht);O(p(e,W(Ft),z(v=>v==null?void 0:v.length)),r),O(p(f,z(v=>v.topListHeight)),T),O(T,s),O(p(f,z(v=>[v.top,v.bottom])),l),O(p(f,z(v=>v.items)),d);const C=pe(p(f,W(({items:v})=>v.length>0),D(r,e),W(([{items:v},u])=>v[v.length-1].originalIndex===u-1),z(([,v,u])=>[v-1,u]),X(Qe),z(([v])=>v))),B=pe(p(f,be(200),W(({items:v,topItems:u})=>v.length>0&&v[0].originalIndex===u.length),z(({items:v})=>v[0].index),X())),b=pe(p(f,W(({items:v})=>v.length>0),z(({items:v})=>{let u=0,x=v.length-1;for(;v[u].type==="group"&&u<x;)u++;for(;v[x].type==="group"&&x>u;)x--;return{endIndex:v[x].index,startIndex:v[u].index}}),X(yo)));return{endReached:C,initialItemCount:g,itemsRendered:d,listState:f,rangeChanged:b,startReached:B,topItemsIndexes:E,...m}},Z(He,ko,Vt,nt,ot,rt,Oe,jt),{singleton:!0}),Wo=U(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:o,headerHeight:n},{listState:r}])=>{const i=_(),l=se(p(oe(o,e,n,t,r),z(([s,c,a,h,T])=>s+c+a+h+T.offsetBottom+T.bottom)),0);return O(P(l),i),{totalListHeight:l,totalListHeightChanged:i}},Z(ae,Le),{singleton:!0}),On=U(([{viewportHeight:e},{totalListHeight:t}])=>{const o=w(!1),n=se(p(oe(o,e,t),W(([r])=>r),z(([,r,i])=>Math.max(0,r-i)),be(0),X()),0);return{alignToBottom:o,paddingTopAddition:n}},Z(ae,Wo),{singleton:!0}),Po=U(()=>({context:w(null)})),Mn=({itemBottom:e,itemTop:t,locationParams:{align:o,behavior:n,...r},viewportBottom:i,viewportTop:l})=>t<l?{...r,align:o??"start",behavior:n}:e>i?{...r,align:o??"end",behavior:n}:null,jo=U(([{gap:e,sizes:t,totalCount:o},{fixedFooterHeight:n,fixedHeaderHeight:r,headerHeight:i,scrollingInProgress:l,scrollTop:s,viewportHeight:c},{scrollToIndex:a}])=>{const h=_();return O(p(h,D(t,c,o,i,r,n,s),D(e),z(([[T,m,I,H,E,g,d,f],C])=>{const{align:B,behavior:b,calculateViewLocation:v=Mn,done:u,...x}=T,y=Bo(T,m,H-1),R=et(y,m.offsetTree,C)+E+g,M=R+Te(m.sizeTree,y)[1],j=f+g,N=f+I-d,F=v({itemBottom:M,itemTop:R,locationParams:{align:B,behavior:b,...x},viewportBottom:N,viewportTop:j});return F?u&&Ie(p(l,W(q=>!q),je(ee(l)?1:2)),u):u&&u(),F}),W(T=>T!==null)),a),{scrollIntoView:h}},Z(He,ae,ot,Le,ke),{singleton:!0});function co(e){return e?e==="smooth"?"smooth":"auto":!1}const Fn=(e,t)=>typeof e=="function"?co(e(t)):t&&co(e),Wn=U(([{listRefresh:e,totalCount:t,fixedItemSize:o,data:n},{atBottomState:r,isAtBottom:i},{scrollToIndex:l},{scrolledToInitialItem:s},{didMount:c,propsReady:a},{log:h},{scrollingInProgress:T},{context:m},{scrollIntoView:I}])=>{const H=w(!1),E=_();let g=null;function d(b){L(l,{align:"end",behavior:b,index:"LAST"})}K(p(oe(p(P(t),je(1)),c),D(P(H),i,s,T),z(([[b,v],u,x,y,R])=>{let M=v&&y,j="auto";return M&&(j=Fn(u,x||R),M=M&&!!j),{followOutputBehavior:j,shouldFollow:M,totalCount:b}}),W(({shouldFollow:b})=>b)),({followOutputBehavior:b,totalCount:v})=>{g&&(g(),g=null),ee(o)?requestAnimationFrame(()=>{ee(h)("following output to ",{totalCount:v},fe.DEBUG),d(b)}):g=Ie(e,()=>{ee(h)("following output to ",{totalCount:v},fe.DEBUG),d(b),g=null})});function f(b){const v=Ie(r,u=>{b&&!u.atBottom&&u.notAtBottomBecause==="SIZE_INCREASED"&&!g&&(ee(h)("scrolling to bottom due to increased size",{},fe.DEBUG),d("auto"))});setTimeout(v,100)}K(p(oe(P(H),t,a),W(([b,,v])=>b&&v),Ce(({value:b},[,v])=>({refreshed:b===v,value:v}),{refreshed:!1,value:0}),W(({refreshed:b})=>b),D(H,t)),([,b])=>{ee(s)&&f(b!==!1)}),K(E,()=>{f(ee(H)!==!1)}),K(oe(P(H),r),([b,v])=>{b&&!v.atBottom&&v.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&d("auto")});const C=w(null),B=_();return O(Et(p(P(n),z(b=>{var v;return(v=b==null?void 0:b.length)!=null?v:0})),p(P(t))),B),K(p(oe(p(B,je(1)),c),D(P(C),s,T,m),z(([[b,v],u,x,y,R])=>v&&x&&(u==null?void 0:u({context:R,totalCount:b,scrollingInProgress:y}))),W(b=>!!b),be(0)),b=>{g&&(g(),g=null),ee(o)?requestAnimationFrame(()=>{ee(h)("scrolling into view",{}),L(I,b)}):g=Ie(e,()=>{ee(h)("scrolling into view",{}),L(I,b),g=null})}),{autoscrollToBottom:E,followOutput:H,scrollIntoViewOnChange:C}},Z(He,rt,ot,nt,Oe,ke,ae,Po,jo)),Pn=U(([{data:e,firstItemIndex:t,gap:o,sizes:n},{initialTopMostItemIndex:r},{initialItemCount:i,listState:l},{didMount:s}])=>(O(p(s,D(i),W(([,c])=>c!==0),D(r,n,t,o,e),z(([[,c],a,h,T,m,I=[]])=>Fo(c,a,h,T,m,I))),l),{}),Z(He,nt,Le,Oe),{singleton:!0}),jn=U(([{didMount:e},{scrollTo:t},{listState:o}])=>{const n=w(0);return K(p(e,D(n),W(([,r])=>r!==0),z(([,r])=>({top:r}))),r=>{Ie(p(o,je(1),W(i=>i.items.length>1)),()=>{requestAnimationFrame(()=>{L(t,r)})})}),{initialScrollTop:n}},Z(Oe,ae,Le),{singleton:!0}),Ao=U(([{scrollVelocity:e}])=>{const t=w(!1),o=_(),n=w(!1);return O(p(e,D(n,t,o),W(([r,i])=>!!i),z(([r,i,l,s])=>{const{enter:c,exit:a}=i;if(l){if(a(r,s))return!1}else if(c(r,s))return!0;return l}),X()),t),K(p(oe(t,e,o),D(n)),([[r,i,l],s])=>{r&&s&&s.change&&s.change(i,l)}),{isSeeking:t,scrollSeekConfiguration:n,scrollSeekRangeChanged:o,scrollVelocity:e}},Z(rt),{singleton:!0}),Gt=U(([{scrollContainerState:e,scrollTo:t}])=>{const o=_(),n=_(),r=_(),i=w(!1),l=w(void 0);return O(p(oe(o,n),z(([{scrollHeight:s,scrollTop:c,viewportHeight:a},{offsetTop:h}])=>({scrollHeight:s,scrollTop:Math.max(0,c-h),viewportHeight:a}))),e),O(p(t,D(n),z(([s,{offsetTop:c}])=>({...s,top:s.top+c}))),r),{customScrollParent:l,useWindowScroll:i,windowScrollContainerState:o,windowScrollTo:r,windowViewportRect:n}},Z(ae)),An=U(([{sizeRanges:e,sizes:t},{headerHeight:o,scrollTop:n},{initialTopMostItemIndex:r},{didMount:i},{useWindowScroll:l,windowScrollContainerState:s,windowViewportRect:c}])=>{const a=_(),h=w(void 0),T=w(null),m=w(null);return O(s,T),O(c,m),K(p(a,D(t,n,l,T,m,o)),([I,H,E,g,d,f,C])=>{const B=wn(H.sizeTree);g&&d!==null&&f!==null&&(E=d.scrollTop-f.offsetTop),E-=C,I({ranges:B,scrollTop:E})}),O(p(h,W(Ft),z(Ln)),r),O(p(i,D(h),W(([,I])=>I!==void 0),X(),z(([,I])=>I.ranges)),e),{getState:a,restoreStateFrom:h}},Z(He,ae,nt,Oe,Gt));function Ln(e){return{align:"start",index:0,offset:e.scrollTop}}const Dn=U(([{topItemsIndexes:e}])=>{const t=w(0);return O(p(t,W(o=>o>=0),z(o=>Array.from({length:o}).map((n,r)=>r))),e),{topItemCount:t}},Z(Le));function Lo(e){let t=!1,o;return()=>(t||(t=!0,o=e()),o)}const Vn=Lo(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Gn=U(([{deviation:e,scrollBy:t,scrollingInProgress:o,scrollTop:n},{isAtBottom:r,isScrolling:i,lastJumpDueToItemResize:l,scrollDirection:s},{listState:c},{beforeUnshiftWith:a,gap:h,shiftWithOffset:T,sizes:m},{log:I},{recalcInProgress:H}])=>{const E=pe(p(c,D(l),Ce(([,d,f,C],[{bottom:B,items:b,offsetBottom:v,totalCount:u},x])=>{const y=B+v;let R=0;return f===u&&d.length>0&&b.length>0&&(b[0].originalIndex===0&&d[0].originalIndex===0||(R=y-C,R!==0&&(R+=x))),[R,b,u,y]},[0,[],0,0]),W(([d])=>d!==0),D(n,s,o,r,I,H),W(([,d,f,C,,,B])=>!B&&!C&&d!==0&&f===tt),z(([[d],,,,,f])=>(f("Upward scrolling compensation",{amount:d},fe.DEBUG),d))));function g(d){d>0?(L(t,{behavior:"auto",top:-d}),L(e,0)):(L(e,0),L(t,{behavior:"auto",top:-d}))}return K(p(E,D(e,i)),([d,f,C])=>{C&&Vn()?L(e,f-d):g(-d)}),K(p(oe(se(i,!1),e,H),W(([d,f,C])=>!d&&!C&&f!==0),z(([d,f])=>f),be(1)),g),O(p(T,z(d=>({top:-d}))),t),K(p(a,D(m,h),z(([d,{groupIndices:f,lastSize:C,sizeTree:B},b])=>{function v(u){return u*(C+b)}if(f.length===0)return v(d);{let u=0;const x=Je(B,0);let y=0,R=0;for(;y<d;){y++,u+=x;let M=f.length===R+1?1/0:f[R+1]-f[R]-1;y+M>d&&(u-=x,M=d-y+1),y+=M,u+=v(M),R++}return u}})),d=>{L(e,d),requestAnimationFrame(()=>{L(t,{top:d}),requestAnimationFrame(()=>{L(e,0),L(H,!1)})})}),{deviation:e}},Z(ae,rt,Le,He,ke,jt)),Nn=U(([e,t,o,n,r,i,l,s,c,a,h])=>({...e,...t,...o,...n,...r,...i,...l,...s,...c,...a,...h}),Z(Vt,Pn,Oe,Ao,Wo,jn,On,Gt,jo,ke,Po)),Do=U(([{data:e,defaultItemSize:t,firstItemIndex:o,fixedItemSize:n,fixedGroupSize:r,gap:i,groupIndices:l,heightEstimates:s,itemSize:c,sizeRanges:a,sizes:h,statefulTotalCount:T,totalCount:m,trackItemSizes:I},{initialItemFinalLocationReached:H,initialTopMostItemIndex:E,scrolledToInitialItem:g},d,f,C,{listState:B,topItemsIndexes:b,...v},{scrollToIndex:u},x,{topItemCount:y},{groupCounts:R},M])=>(O(v.rangeChanged,M.scrollSeekRangeChanged),O(p(M.windowViewportRect,z(j=>j.visibleHeight)),d.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:o,fixedItemHeight:n,fixedGroupHeight:r,gap:i,groupCounts:R,heightEstimates:s,initialItemFinalLocationReached:H,initialTopMostItemIndex:E,scrolledToInitialItem:g,sizeRanges:a,topItemCount:y,topItemsIndexes:b,totalCount:m,...C,groupIndices:l,itemSize:c,listState:B,scrollToIndex:u,statefulTotalCount:T,trackItemSizes:I,...v,...M,...d,sizes:h,...f}),Z(He,nt,ae,An,Wn,Le,ot,Gn,Dn,ko,Nn));function _n(e,t){const o={},n={};let r=0;const i=e.length;for(;r<i;)n[e[r]]=1,r+=1;for(const l in t)Object.hasOwn(n,l)||(o[l]=t[l]);return o}const ct=typeof document<"u"?k.useLayoutEffect:k.useEffect;function Vo(e,t,o){const n=Object.keys(t.required||{}),r=Object.keys(t.optional||{}),i=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),s=k.createContext({});function c(g,d){g.propsReady&&L(g.propsReady,!1);for(const f of n){const C=g[t.required[f]];L(C,d[f])}for(const f of r)if(f in d){const C=g[t.optional[f]];L(C,d[f])}g.propsReady&&L(g.propsReady,!0)}function a(g){return i.reduce((d,f)=>(d[f]=C=>{const B=g[t.methods[f]];L(B,C)},d),{})}function h(g){return l.reduce((d,f)=>(d[f]=ln(g[t.events[f]]),d),{})}const T=k.forwardRef((g,d)=>{const{children:f,...C}=g,[B]=k.useState(()=>vt(cn(e),u=>{c(u,C)})),[b]=k.useState(Qt(h,B));ct(()=>{for(const u of l)u in C&&K(b[u],C[u]);return()=>{Object.values(b).map(Wt)}},[C,b,B]),ct(()=>{c(B,C)}),k.useImperativeHandle(d,Jt(a(B)));const v=o;return G.jsx(s.Provider,{value:B,children:o?G.jsx(v,{..._n([...n,...r,...l],C),children:f}):f})}),m=g=>{const d=k.useContext(s);return k.useCallback(f=>{L(d[g],f)},[d,g])},I=g=>{const d=k.useContext(s)[g],f=k.useCallback(C=>K(d,C),[d]);return k.useSyncExternalStore(f,()=>ee(d),()=>ee(d))},H=g=>{const d=k.useContext(s)[g],[f,C]=k.useState(Qt(ee,d));return ct(()=>K(d,B=>{B!==f&&C(Jt(B))}),[d,f]),f},E=k.version.startsWith("18")?I:H;return{Component:T,useEmitter:(g,d)=>{const f=k.useContext(s)[g];ct(()=>K(f,d),[d,f])},useEmitterValue:E,usePublisher:m}}const Go=k.createContext(void 0),No=k.createContext(void 0),_o=typeof document<"u"?k.useLayoutEffect:k.useEffect;function zt(e){return"self"in e}function Un(e){return"body"in e}function Uo(e,t,o,n=Ue,r,i){const l=k.useRef(null),s=k.useRef(null),c=k.useRef(null),a=k.useCallback(m=>{let I,H,E;const g=m.target;if(Un(g)||zt(g)){const f=zt(g)?g:g.defaultView;E=i?f.scrollX:f.scrollY,I=i?f.document.documentElement.scrollWidth:f.document.documentElement.scrollHeight,H=i?f.innerWidth:f.innerHeight}else E=i?g.scrollLeft:g.scrollTop,I=i?g.scrollWidth:g.scrollHeight,H=i?g.offsetWidth:g.offsetHeight;const d=()=>{e({scrollHeight:I,scrollTop:Math.max(E,0),viewportHeight:H})};m.suppressFlushSync?d():Qo.flushSync(d),s.current!==null&&(E===s.current||E<=0||E===I-H)&&(s.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,i]);k.useEffect(()=>{const m=r||l.current;return n(r||l.current),a({suppressFlushSync:!0,target:m}),m.addEventListener("scroll",a,{passive:!0}),()=>{n(null),m.removeEventListener("scroll",a)}},[l,a,o,n,r]);function h(m){const I=l.current;if(!I||(i?"offsetWidth"in I&&I.offsetWidth===0:"offsetHeight"in I&&I.offsetHeight===0))return;const H=m.behavior==="smooth";let E,g,d;zt(I)?(g=Math.max(Re(I.document.documentElement,i?"width":"height"),i?I.document.documentElement.scrollWidth:I.document.documentElement.scrollHeight),E=i?I.innerWidth:I.innerHeight,d=i?window.scrollX:window.scrollY):(g=I[i?"scrollWidth":"scrollHeight"],E=Re(I,i?"width":"height"),d=I[i?"scrollLeft":"scrollTop"]);const f=g-E;if(m.top=Math.ceil(Math.max(Math.min(f,m.top),0)),Mo(E,g)||m.top===d){e({scrollHeight:g,scrollTop:d,viewportHeight:E}),H&&t(!0);return}H?(s.current=m.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,s.current=null,t(!0)},1e3)):s.current=null,i&&(m={behavior:m.behavior,left:m.top}),I.scrollTo(m)}function T(m){i&&(m={behavior:m.behavior,left:m.top}),l.current.scrollBy(m)}return{scrollByCallback:T,scrollerRef:l,scrollToCallback:h}}const bt="-webkit-sticky",ao="sticky",Nt=Lo(()=>{if(typeof document>"u")return ao;const e=document.createElement("div");return e.style.position=bt,e.style.position===bt?bt:ao});function _t(e){return e}const qn=U(()=>{const e=w(s=>`Item ${s}`),t=w(s=>`Group ${s}`),o=w({}),n=w(_t),r=w("div"),i=w(Ue),l=(s,c=null)=>se(p(o,z(a=>a[s]),X()),c);return{components:o,computeItemKey:n,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:t,HeaderComponent:l("Header"),HeaderFooterTag:r,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}}),$n=U(([e,t])=>({...e,...t}),Z(Do,qn)),Kn=({height:e})=>G.jsx("div",{style:{height:e}}),Yn={overflowAnchor:"none",position:Nt(),zIndex:1},qo={overflowAnchor:"none"},Xn={...qo,display:"inline-block",height:"100%"},uo=k.memo(function({showTopList:e=!1}){const t=A("listState"),o=ge("sizeRanges"),n=A("useWindowScroll"),r=A("customScrollParent"),i=ge("windowScrollContainerState"),l=ge("scrollContainerState"),s=r||n?i:l,c=A("itemContent"),a=A("context"),h=A("groupContent"),T=A("trackItemSizes"),m=A("itemSize"),I=A("log"),H=ge("gap"),E=A("horizontalDirection"),{callbackRef:g}=dn(o,m,T,e?Ue:s,I,H,r,E,A("skipAnimationFrameInResizeObserver")),[d,f]=k.useState(0);Ut("deviation",F=>{d!==F&&f(F)});const C=A("EmptyPlaceholder"),B=A("ScrollSeekPlaceholder")||Kn,b=A("ListComponent"),v=A("ItemComponent"),u=A("GroupComponent"),x=A("computeItemKey"),y=A("isSeeking"),R=A("groupIndices").length>0,M=A("alignToBottom"),j=A("initialItemFinalLocationReached"),N=e?{}:{boxSizing:"border-box",...E?{display:"inline-block",height:"100%",marginLeft:d!==0?d:M?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:d!==0?d:M?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...j?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&C?G.jsx(C,{...le(C,a)}):G.jsx(b,{...le(b,a),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:g,style:N,children:(e?t.topItems:t.items).map(F=>{const q=F.originalIndex,$=x(q+t.firstItemIndex,F.data,a);return y?ut.createElement(B,{...le(B,a),height:F.size,index:F.index,key:$,type:F.type||"item",...F.type==="group"?{}:{groupIndex:F.groupIndex}}):F.type==="group"?ut.createElement(u,{...le(u,a),"data-index":q,"data-item-index":F.index,"data-known-size":F.size,key:$,style:Yn},h(F.index,a)):ut.createElement(v,{...le(v,a),...er(v,F.data),"data-index":q,"data-item-group-index":F.groupIndex,"data-item-index":F.index,"data-known-size":F.size,key:$,style:E?Xn:qo},R?c(F.index,F.groupIndex,F.data,a):c(F.index,F.data,a))})})}),Zn={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Jn={outline:"none",overflowX:"auto",position:"relative"},wt=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),Qn={position:Nt(),top:0,width:"100%",zIndex:1};function le(e,t){if(typeof e!="string")return{context:t}}function er(e,t){return{item:typeof e=="string"?void 0:t}}const tr=k.memo(function(){const e=A("HeaderComponent"),t=ge("headerHeight"),o=A("HeaderFooterTag"),n=Ae(k.useMemo(()=>i=>{t(Re(i,"height"))},[t]),!0,A("skipAnimationFrameInResizeObserver")),r=A("context");return e?G.jsx(o,{ref:n,children:G.jsx(e,{...le(e,r)})}):null}),or=k.memo(function(){const e=A("FooterComponent"),t=ge("footerHeight"),o=A("HeaderFooterTag"),n=Ae(k.useMemo(()=>i=>{t(Re(i,"height"))},[t]),!0,A("skipAnimationFrameInResizeObserver")),r=A("context");return e?G.jsx(o,{ref:n,children:G.jsx(e,{...le(e,r)})}):null});function $o({useEmitter:e,useEmitterValue:t,usePublisher:o}){return k.memo(function({children:n,style:r,context:i,...l}){const s=o("scrollContainerState"),c=t("ScrollerComponent"),a=o("smoothScrollTargetReached"),h=t("scrollerRef"),T=t("horizontalDirection")||!1,{scrollByCallback:m,scrollerRef:I,scrollToCallback:H}=Uo(s,a,c,h,void 0,T);return e("scrollTo",H),e("scrollBy",m),G.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:I,style:{...T?Jn:Zn,...r},tabIndex:0,...l,...le(c,i),children:n})})}function Ko({useEmitter:e,useEmitterValue:t,usePublisher:o}){return k.memo(function({children:n,style:r,context:i,...l}){const s=o("windowScrollContainerState"),c=t("ScrollerComponent"),a=o("smoothScrollTargetReached"),h=t("totalListHeight"),T=t("deviation"),m=t("customScrollParent"),I=k.useRef(null),H=t("scrollerRef"),{scrollByCallback:E,scrollerRef:g,scrollToCallback:d}=Uo(s,a,c,H,m);return _o(()=>{var f;return g.current=m||((f=I.current)==null?void 0:f.ownerDocument.defaultView),()=>{g.current=null}},[g,m]),e("windowScrollTo",d),e("scrollBy",E),G.jsx(c,{ref:I,"data-virtuoso-scroller":!0,style:{position:"relative",...r,...h!==0?{height:h+T}:{}},...l,...le(c,i),children:n})})}const nr=({children:e})=>{const t=k.useContext(Go),o=ge("viewportHeight"),n=ge("fixedItemHeight"),r=A("alignToBottom"),i=A("horizontalDirection"),l=k.useMemo(()=>Io(o,c=>Re(c,i?"width":"height")),[o,i]),s=Ae(l,!0,A("skipAnimationFrameInResizeObserver"));return k.useEffect(()=>{t&&(o(t.viewportHeight),n(t.itemHeight))},[t,o,n]),G.jsx("div",{"data-viewport-type":"element",ref:s,style:wt(r),children:e})},rr=({children:e})=>{const t=k.useContext(Go),o=ge("windowViewportRect"),n=ge("fixedItemHeight"),r=A("customScrollParent"),i=wo(o,r,A("skipAnimationFrameInResizeObserver")),l=A("alignToBottom");return k.useEffect(()=>{t&&(n(t.itemHeight),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,o,n]),G.jsx("div",{"data-viewport-type":"window",ref:i,style:wt(l),children:e})},ir=({children:e})=>{const t=A("TopItemListComponent")||"div",o=A("headerHeight"),n={...Qn,marginTop:`${o}px`},r=A("context");return G.jsx(t,{style:n,...le(t,r),children:e})},lr=k.memo(function(e){const t=A("useWindowScroll"),o=A("topItemsIndexes").length>0,n=A("customScrollParent"),r=A("context");return G.jsxs(n||t?ar:cr,{...e,context:r,children:[o&&G.jsx(ir,{children:G.jsx(uo,{showTopList:!0})}),G.jsxs(n||t?rr:nr,{children:[G.jsx(tr,{}),G.jsx(uo,{}),G.jsx(or,{})]})]})}),{Component:sr,useEmitter:Ut,useEmitterValue:A,usePublisher:ge}=Vo($n,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},lr),cr=$o({useEmitter:Ut,useEmitterValue:A,usePublisher:ge}),ar=Ko({useEmitter:Ut,useEmitterValue:A,usePublisher:ge}),br=sr,ur=U(()=>{const e=w(a=>G.jsxs("td",{children:["Item $",a]})),t=w(null),o=w(a=>G.jsxs("td",{colSpan:1e3,children:["Group ",a]})),n=w(null),r=w(null),i=w({}),l=w(_t),s=w(Ue),c=(a,h=null)=>se(p(i,z(T=>T[a]),X()),h);return{components:i,computeItemKey:l,context:t,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:r,fixedHeaderContent:n,itemContent:e,groupContent:o,ScrollerComponent:c("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr"),GroupComponent:c("Group","tr")}});Z(Do,ur);Nt();const fo={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},dr={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:ho,floor:gt,max:Xe,min:yt,round:mo}=Math;function po(e,t,o){return Array.from({length:t-e+1}).map((n,r)=>({data:o===null?null:o[r+e],index:r+e}))}function fr(e){return{...dr,items:e}}function at(e,t){return e&&e.width===t.width&&e.height===t.height}function hr(e,t){return e&&e.column===t.column&&e.row===t.row}const mr=U(([{increaseViewportBy:e,listBoundary:t,overscan:o,visibleRange:n},{footerHeight:r,headerHeight:i,scrollBy:l,scrollContainerState:s,scrollTo:c,scrollTop:a,smoothScrollTargetReached:h,viewportHeight:T},m,I,{didMount:H,propsReady:E},{customScrollParent:g,useWindowScroll:d,windowScrollContainerState:f,windowScrollTo:C,windowViewportRect:B},b])=>{const v=w(0),u=w(0),x=w(fo),y=w({height:0,width:0}),R=w({height:0,width:0}),M=_(),j=_(),N=w(0),F=w(null),q=w({column:0,row:0}),$=_(),re=_(),he=w(!1),ue=w(0),de=w(!0),ce=w(!1),Me=w(!1);K(p(H,D(ue),W(([S,V])=>!!V)),()=>{L(de,!1)}),K(p(oe(H,de,R,y,ue,ce),W(([S,V,J,ie,,te])=>S&&!V&&J.height!==0&&ie.height!==0&&!te)),([,,,,S])=>{L(ce,!0),Lt(1,()=>{L(M,S)}),Ie(p(a),()=>{L(t,[0,0]),L(de,!0)})}),O(p(re,W(S=>S!=null&&S.scrollTop>0),Se(0)),u),K(p(H,D(re),W(([,S])=>S!=null)),([,S])=>{S&&(L(y,S.viewport),L(R,S.item),L(q,S.gap),S.scrollTop>0&&(L(he,!0),Ie(p(a,je(1)),V=>{L(he,!1)}),L(c,{top:S.scrollTop})))}),O(p(y,z(({height:S})=>S)),T),O(p(oe(P(y,at),P(R,at),P(q,(S,V)=>S&&S.column===V.column&&S.row===V.row),P(a)),z(([S,V,J,ie])=>({gap:J,item:V,scrollTop:ie,viewport:S}))),$),O(p(oe(P(v),n,P(q,hr),P(R,at),P(y,at),P(F),P(u),P(he),P(de),P(ue)),W(([,,,,,,,S])=>!S),z(([S,[V,J],ie,te,Fe,$e,Ve,,it,ye])=>{const{column:Ee,row:Ke}=ie,{height:lt,width:St}=te,{width:qt}=Fe;if(Ve===0&&(S===0||qt===0))return fo;if(St===0){const Zt=Dt(ye,S),Jo=Zt+Math.max(Ve-1,0);return fr(po(Zt,Jo,$e))}const st=Yo(qt,St,Ee);let Ge,We;it?V===0&&J===0&&Ve>0?(Ge=0,We=Ve-1):(Ge=st*gt((V+Ke)/(lt+Ke)),We=st*ho((J+Ke)/(lt+Ke))-1,We=yt(S-1,Xe(We,st-1)),Ge=yt(We,Xe(0,Ge))):(Ge=0,We=-1);const $t=po(Ge,We,$e),{bottom:Kt,top:Yt}=go(Fe,ie,te,$t),Xt=ho(S/st),Zo=Xt*lt+(Xt-1)*Ke-Kt;return{bottom:Kt,itemHeight:lt,items:$t,itemWidth:St,offsetBottom:Zo,offsetTop:Yt,top:Yt}})),x),O(p(F,W(S=>S!==null),z(S=>S.length)),v),O(p(oe(y,R,x,q),W(([S,V,{items:J}])=>J.length>0&&V.height!==0&&S.height!==0),z(([S,V,{items:J},ie])=>{const{bottom:te,top:Fe}=go(S,ie,V,J);return[Fe,te]}),X(Qe)),t);const ve=w(!1);O(p(a,D(ve),z(([S,V])=>V||S!==0)),ve);const qe=pe(p(oe(x,v),W(([{items:S}])=>S.length>0),D(ve),W(([[S,V],J])=>{const ie=S.items[S.items.length-1].index===V-1;return(J||S.bottom>0&&S.itemHeight>0&&S.offsetBottom===0&&S.items.length===V)&&ie}),z(([[,S]])=>S-1),X())),De=pe(p(P(x),W(({items:S})=>S.length>0&&S[0].index===0),Se(0),X())),we=pe(p(P(x),D(he),W(([{items:S},V])=>S.length>0&&!V),z(([{items:S}])=>({endIndex:S[S.length-1].index,startIndex:S[0].index})),X(yo),be(0)));O(we,I.scrollSeekRangeChanged),O(p(M,D(y,R,v,q),z(([S,V,J,ie,te])=>{const Fe=Oo(S),{align:$e,behavior:Ve,offset:it}=Fe;let ye=Fe.index;ye==="LAST"&&(ye=ie-1),ye=Xe(0,ye,yt(ie-1,ye));let Ee=Mt(V,te,J,ye);return $e==="end"?Ee=mo(Ee-V.height+J.height):$e==="center"&&(Ee=mo(Ee-V.height/2+J.height/2)),it&&(Ee+=it),{behavior:Ve,top:Ee}})),c);const ze=se(p(x,z(S=>S.offsetBottom+S.bottom)),0);return O(p(B,z(S=>({height:S.visibleHeight,width:S.visibleWidth}))),y),{customScrollParent:g,data:F,deviation:N,footerHeight:r,gap:q,headerHeight:i,increaseViewportBy:e,initialItemCount:u,itemDimensions:R,overscan:o,restoreStateFrom:re,scrollBy:l,scrollContainerState:s,scrollHeight:j,scrollTo:c,scrollToIndex:M,scrollTop:a,smoothScrollTargetReached:h,totalCount:v,useWindowScroll:d,viewportDimensions:y,windowScrollContainerState:f,windowScrollTo:C,windowViewportRect:B,...I,gridState:x,horizontalDirection:Me,initialTopMostItemIndex:ue,totalListHeight:ze,...m,endReached:qe,propsReady:E,rangeChanged:we,startReached:De,stateChanged:$,stateRestoreInProgress:he,...b}},Z(Vt,ae,rt,Ao,Oe,Gt,ke));function Yo(e,t,o){return Xe(1,gt((e+o)/(gt(t)+o)))}function go(e,t,o,n){const{height:r}=o;if(r===void 0||n.length===0)return{bottom:0,top:0};const i=Mt(e,t,o,n[0].index);return{bottom:Mt(e,t,o,n[n.length-1].index)+r,top:i}}function Mt(e,t,o,n){const r=Yo(e.width,o.width,t.column),i=gt(n/r),l=i*o.height+Xe(0,i-1)*t.row;return l>0?l+t.row:l}const pr=U(()=>{const e=w(T=>`Item ${T}`),t=w({}),o=w(null),n=w("virtuoso-grid-item"),r=w("virtuoso-grid-list"),i=w(_t),l=w("div"),s=w(Ue),c=(T,m=null)=>se(p(t,z(I=>I[T]),X()),m),a=w(!1),h=w(!1);return O(P(h),a),{components:t,computeItemKey:i,context:o,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:l,itemClassName:n,ItemComponent:c("Item","div"),itemContent:e,listClassName:r,ListComponent:c("List","div"),readyStateChanged:a,reportReadyState:h,ScrollerComponent:c("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),gr=U(([e,t])=>({...e,...t}),Z(mr,pr)),xr=k.memo(function(){const e=Q("gridState"),t=Q("listClassName"),o=Q("itemClassName"),n=Q("itemContent"),r=Q("computeItemKey"),i=Q("isSeeking"),l=xe("scrollHeight"),s=Q("ItemComponent"),c=Q("ListComponent"),a=Q("ScrollSeekPlaceholder"),h=Q("context"),T=xe("itemDimensions"),m=xe("gap"),I=Q("log"),H=Q("stateRestoreInProgress"),E=xe("reportReadyState"),g=Ae(k.useMemo(()=>d=>{const f=d.parentElement.parentElement.scrollHeight;l(f);const C=d.firstChild;if(C){const{height:B,width:b}=C.getBoundingClientRect();T({height:B,width:b})}m({column:xo("column-gap",getComputedStyle(d).columnGap,I),row:xo("row-gap",getComputedStyle(d).rowGap,I)})},[l,T,m,I]),!0,!1);return _o(()=>{e.itemHeight>0&&e.itemWidth>0&&E(!0)},[e]),H?null:G.jsx(c,{className:t,ref:g,...le(c,h),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(d=>{const f=r(d.index,d.data,h);return i?G.jsx(a,{...le(a,h),height:e.itemHeight,index:d.index,width:e.itemWidth},f):ut.createElement(s,{...le(s,h),className:o,"data-index":d.index,key:f},n(d.index,d.data,h))})})}),vr=k.memo(function(){const e=Q("HeaderComponent"),t=xe("headerHeight"),o=Q("headerFooterTag"),n=Ae(k.useMemo(()=>i=>{t(Re(i,"height"))},[t]),!0,!1),r=Q("context");return e?G.jsx(o,{ref:n,children:G.jsx(e,{...le(e,r)})}):null}),Ir=k.memo(function(){const e=Q("FooterComponent"),t=xe("footerHeight"),o=Q("headerFooterTag"),n=Ae(k.useMemo(()=>i=>{t(Re(i,"height"))},[t]),!0,!1),r=Q("context");return e?G.jsx(o,{ref:n,children:G.jsx(e,{...le(e,r)})}):null}),Tr=({children:e})=>{const t=k.useContext(No),o=xe("itemDimensions"),n=xe("viewportDimensions"),r=Ae(k.useMemo(()=>i=>{n(i.getBoundingClientRect())},[n]),!0,!1);return k.useEffect(()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),o({height:t.itemHeight,width:t.itemWidth}))},[t,n,o]),G.jsx("div",{ref:r,style:wt(!1),children:e})},wr=({children:e})=>{const t=k.useContext(No),o=xe("windowViewportRect"),n=xe("itemDimensions"),r=Q("customScrollParent"),i=wo(o,r,!1);return k.useEffect(()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),o({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,o,n]),G.jsx("div",{ref:i,style:wt(!1),children:e})},Sr=k.memo(function({...e}){const t=Q("useWindowScroll"),o=Q("customScrollParent"),n=o||t?Hr:Cr,r=o||t?wr:Tr,i=Q("context");return G.jsx(n,{...e,...le(n,i),children:G.jsxs(r,{children:[G.jsx(vr,{}),G.jsx(xr,{}),G.jsx(Ir,{})]})})}),{useEmitter:Xo,useEmitterValue:Q,usePublisher:xe}=Vo(gr,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Sr),Cr=$o({useEmitter:Xo,useEmitterValue:Q,usePublisher:xe}),Hr=Ko({useEmitter:Xo,useEmitterValue:Q,usePublisher:xe});function xo(e,t,o){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&o(`${e} was not resolved to pixel value correctly`,t,fe.WARN),t==="normal"?0:parseInt(t??"0",10)}export{br as q};
