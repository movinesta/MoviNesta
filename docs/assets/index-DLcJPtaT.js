const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SignInPage-DdnuMFQO.js","assets/useDocumentTitle-BK3rDcS4.js","assets/PasswordField-CePWSwC4.js","assets/AuthLayout-D608OmRQ.js","assets/brand-DTIDtbc4.js","assets/film-B1-3ac0G.js","assets/heart-handshake-BVGnBKCG.js","assets/SignUpPage-DjuNiKxo.js","assets/ForgotPasswordPage-C74IYt-X.js","assets/ResetPasswordPage-Bff5wCln.js","assets/HomePage-8LMG7YOW.js","assets/TopBar-fWfwmUrG.js","assets/PageChrome-DNNm9VG4.js","assets/users-DO_B5-1n.js","assets/SwipePage-CNapmRT7.js","assets/circle-alert-D3BN2XF-.js","assets/info-lkFNDLce.js","assets/circle-check-72lKqrQ8.js","assets/thumbs-up-i-F1NwAS.js","assets/SearchPage-B6a7yO6o.js","assets/Button-CqL6-bGf.js","assets/index-C72iKZMJ.js","assets/star-DI-RvBk9.js","assets/useToggleFollow-HF43t6pM.js","assets/user-DNjHOuM-.js","assets/x-CSH6lCyY.js","assets/DiaryPage-DZ0cb_mA.js","assets/DiaryLibraryTab-CuLSzZPy.js","assets/format-DWLSBLoY.js","assets/bookmark-plus-BM2IOAAq.js","assets/diaryStatus-PxY8UPfv.js","assets/list-checks-B6YfRy6Y.js","assets/ProfilePage-2KrSOw1X.js","assets/useProfile-bn-BZtjC.js","assets/loader-circle-MYGw9Oqr.js","assets/SettingsOverviewPage-BqqoAqXL.js","assets/chevron-right-j_QgJnq5.js","assets/mail-DMJF9ru-.js","assets/bell-CrfU4zqS.js","assets/monitor-RaTZIKZH.js","assets/SettingsProfilePage-BXw8aIxN.js","assets/SettingsAccountPage-BO6CPPPi.js","assets/SettingsNotificationsPage-C5cbvuf6.js","assets/SettingsAppPage-B3RxP-BO.js","assets/OnboardingPage-CYAxgdVn.js","assets/MessagesPage-DU4KL2tB.js","assets/ConversationPage-BhK-ce9U.js","assets/TitleDetailPage-C6NDbnaW.js"])))=>i.map(i=>d[i]);
var qy=Object.defineProperty;var Yf=s=>{throw TypeError(s)};var Vy=(s,e,n)=>e in s?qy(s,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):s[e]=n;var Au=(s,e,n)=>Vy(s,typeof e!="symbol"?e+"":e,n),Iu=(s,e,n)=>e.has(s)||Yf("Cannot "+n);var k=(s,e,n)=>(Iu(s,e,"read from private field"),n?n.call(s):e.get(s)),ie=(s,e,n)=>e.has(s)?Yf("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,n),W=(s,e,n,i)=>(Iu(s,e,"write to private field"),i?i.call(s,n):e.set(s,n),n),de=(s,e,n)=>(Iu(s,e,"access private method"),n);var sa=(s,e,n,i)=>({set _(a){W(s,e,a,n)},get _(){return k(s,e,i)}});function pg(s,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const a in i)if(a!=="default"&&!(a in s)){const l=Object.getOwnPropertyDescriptor(i,a);l&&Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:()=>i[a]})}}}return Object.freeze(Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function Ta(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}function Wy(s){if(Object.prototype.hasOwnProperty.call(s,"__esModule"))return s;var e=s.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(s).forEach(function(i){var a=Object.getOwnPropertyDescriptor(s,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return s[i]}})}),n}var Nu={exports:{}},Oi={},Lu={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xf;function Hy(){if(Xf)return fe;Xf=1;var s=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function _(T){return T===null||typeof T!="object"?null:(T=y&&T[y]||T["@@iterator"],typeof T=="function"?T:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function b(T,M,he){this.props=T,this.context=M,this.refs=E,this.updater=he||w}b.prototype.isReactComponent={},b.prototype.setState=function(T,M){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,M,"setState")},b.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function N(){}N.prototype=b.prototype;function L(T,M,he){this.props=T,this.context=M,this.refs=E,this.updater=he||w}var A=L.prototype=new N;A.constructor=L,P(A,b.prototype),A.isPureReactComponent=!0;var C=Array.isArray,K=Object.prototype.hasOwnProperty,G={current:null},B={key:!0,ref:!0,__self:!0,__source:!0};function V(T,M,he){var pe,ye={},we=null,xe=null;if(M!=null)for(pe in M.ref!==void 0&&(xe=M.ref),M.key!==void 0&&(we=""+M.key),M)K.call(M,pe)&&!B.hasOwnProperty(pe)&&(ye[pe]=M[pe]);var Ee=arguments.length-2;if(Ee===1)ye.children=he;else if(1<Ee){for(var Re=Array(Ee),Et=0;Et<Ee;Et++)Re[Et]=arguments[Et+2];ye.children=Re}if(T&&T.defaultProps)for(pe in Ee=T.defaultProps,Ee)ye[pe]===void 0&&(ye[pe]=Ee[pe]);return{$$typeof:s,type:T,key:we,ref:xe,props:ye,_owner:G.current}}function ne(T,M){return{$$typeof:s,type:T.type,key:M,ref:T.ref,props:T.props,_owner:T._owner}}function J(T){return typeof T=="object"&&T!==null&&T.$$typeof===s}function ve(T){var M={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(he){return M[he]})}var et=/\/+/g;function Ge(T,M){return typeof T=="object"&&T!==null&&T.key!=null?ve(""+T.key):M.toString(36)}function Mt(T,M,he,pe,ye){var we=typeof T;(we==="undefined"||we==="boolean")&&(T=null);var xe=!1;if(T===null)xe=!0;else switch(we){case"string":case"number":xe=!0;break;case"object":switch(T.$$typeof){case s:case e:xe=!0}}if(xe)return xe=T,ye=ye(xe),T=pe===""?"."+Ge(xe,0):pe,C(ye)?(he="",T!=null&&(he=T.replace(et,"$&/")+"/"),Mt(ye,M,he,"",function(Et){return Et})):ye!=null&&(J(ye)&&(ye=ne(ye,he+(!ye.key||xe&&xe.key===ye.key?"":(""+ye.key).replace(et,"$&/")+"/")+T)),M.push(ye)),1;if(xe=0,pe=pe===""?".":pe+":",C(T))for(var Ee=0;Ee<T.length;Ee++){we=T[Ee];var Re=pe+Ge(we,Ee);xe+=Mt(we,M,he,Re,ye)}else if(Re=_(T),typeof Re=="function")for(T=Re.call(T),Ee=0;!(we=T.next()).done;)we=we.value,Re=pe+Ge(we,Ee++),xe+=Mt(we,M,he,Re,ye);else if(we==="object")throw M=String(T),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.");return xe}function Xt(T,M,he){if(T==null)return T;var pe=[],ye=0;return Mt(T,pe,"","",function(we){return M.call(he,we,ye++)}),pe}function pt(T){if(T._status===-1){var M=T._result;M=M(),M.then(function(he){(T._status===0||T._status===-1)&&(T._status=1,T._result=he)},function(he){(T._status===0||T._status===-1)&&(T._status=2,T._result=he)}),T._status===-1&&(T._status=0,T._result=M)}if(T._status===1)return T._result.default;throw T._result}var De={current:null},H={transition:null},ue={ReactCurrentDispatcher:De,ReactCurrentBatchConfig:H,ReactCurrentOwner:G};function X(){throw Error("act(...) is not supported in production builds of React.")}return fe.Children={map:Xt,forEach:function(T,M,he){Xt(T,function(){M.apply(this,arguments)},he)},count:function(T){var M=0;return Xt(T,function(){M++}),M},toArray:function(T){return Xt(T,function(M){return M})||[]},only:function(T){if(!J(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},fe.Component=b,fe.Fragment=n,fe.Profiler=a,fe.PureComponent=L,fe.StrictMode=i,fe.Suspense=p,fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,fe.act=X,fe.cloneElement=function(T,M,he){if(T==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+T+".");var pe=P({},T.props),ye=T.key,we=T.ref,xe=T._owner;if(M!=null){if(M.ref!==void 0&&(we=M.ref,xe=G.current),M.key!==void 0&&(ye=""+M.key),T.type&&T.type.defaultProps)var Ee=T.type.defaultProps;for(Re in M)K.call(M,Re)&&!B.hasOwnProperty(Re)&&(pe[Re]=M[Re]===void 0&&Ee!==void 0?Ee[Re]:M[Re])}var Re=arguments.length-2;if(Re===1)pe.children=he;else if(1<Re){Ee=Array(Re);for(var Et=0;Et<Re;Et++)Ee[Et]=arguments[Et+2];pe.children=Ee}return{$$typeof:s,type:T.type,key:ye,ref:we,props:pe,_owner:xe}},fe.createContext=function(T){return T={$$typeof:c,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},T.Provider={$$typeof:l,_context:T},T.Consumer=T},fe.createElement=V,fe.createFactory=function(T){var M=V.bind(null,T);return M.type=T,M},fe.createRef=function(){return{current:null}},fe.forwardRef=function(T){return{$$typeof:h,render:T}},fe.isValidElement=J,fe.lazy=function(T){return{$$typeof:v,_payload:{_status:-1,_result:T},_init:pt}},fe.memo=function(T,M){return{$$typeof:g,type:T,compare:M===void 0?null:M}},fe.startTransition=function(T){var M=H.transition;H.transition={};try{T()}finally{H.transition=M}},fe.unstable_act=X,fe.useCallback=function(T,M){return De.current.useCallback(T,M)},fe.useContext=function(T){return De.current.useContext(T)},fe.useDebugValue=function(){},fe.useDeferredValue=function(T){return De.current.useDeferredValue(T)},fe.useEffect=function(T,M){return De.current.useEffect(T,M)},fe.useId=function(){return De.current.useId()},fe.useImperativeHandle=function(T,M,he){return De.current.useImperativeHandle(T,M,he)},fe.useInsertionEffect=function(T,M){return De.current.useInsertionEffect(T,M)},fe.useLayoutEffect=function(T,M){return De.current.useLayoutEffect(T,M)},fe.useMemo=function(T,M){return De.current.useMemo(T,M)},fe.useReducer=function(T,M,he){return De.current.useReducer(T,M,he)},fe.useRef=function(T){return De.current.useRef(T)},fe.useState=function(T){return De.current.useState(T)},fe.useSyncExternalStore=function(T,M,he){return De.current.useSyncExternalStore(T,M,he)},fe.useTransition=function(){return De.current.useTransition()},fe.version="18.3.1",fe}var Zf;function Uc(){return Zf||(Zf=1,Lu.exports=Hy()),Lu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ep;function Ky(){if(ep)return Oi;ep=1;var s=Uc(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,a=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,g){var v,y={},_=null,w=null;g!==void 0&&(_=""+g),p.key!==void 0&&(_=""+p.key),p.ref!==void 0&&(w=p.ref);for(v in p)i.call(p,v)&&!l.hasOwnProperty(v)&&(y[v]=p[v]);if(h&&h.defaultProps)for(v in p=h.defaultProps,p)y[v]===void 0&&(y[v]=p[v]);return{$$typeof:e,type:h,key:_,ref:w,props:y,_owner:a.current}}return Oi.Fragment=n,Oi.jsx=c,Oi.jsxs=c,Oi}var tp;function Qy(){return tp||(tp=1,Nu.exports=Ky()),Nu.exports}var U=Qy(),D=Uc();const Se=Ta(D),Gy=pg({__proto__:null,default:Se},[D]);var ia={},Du={exports:{}},_t={},Uu={exports:{}},$u={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp;function Jy(){return rp||(rp=1,(function(s){function e(H,ue){var X=H.length;H.push(ue);e:for(;0<X;){var T=X-1>>>1,M=H[T];if(0<a(M,ue))H[T]=ue,H[X]=M,X=T;else break e}}function n(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ue=H[0],X=H.pop();if(X!==ue){H[0]=X;e:for(var T=0,M=H.length,he=M>>>1;T<he;){var pe=2*(T+1)-1,ye=H[pe],we=pe+1,xe=H[we];if(0>a(ye,X))we<M&&0>a(xe,ye)?(H[T]=xe,H[we]=X,T=we):(H[T]=ye,H[pe]=X,T=pe);else if(we<M&&0>a(xe,X))H[T]=xe,H[we]=X,T=we;else break e}}return ue}function a(H,ue){var X=H.sortIndex-ue.sortIndex;return X!==0?X:H.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;s.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();s.unstable_now=function(){return c.now()-h}}var p=[],g=[],v=1,y=null,_=3,w=!1,P=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(H){for(var ue=n(g);ue!==null;){if(ue.callback===null)i(g);else if(ue.startTime<=H)i(g),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=n(g)}}function C(H){if(E=!1,A(H),!P)if(n(p)!==null)P=!0,pt(K);else{var ue=n(g);ue!==null&&De(C,ue.startTime-H)}}function K(H,ue){P=!1,E&&(E=!1,N(V),V=-1),w=!0;var X=_;try{for(A(ue),y=n(p);y!==null&&(!(y.expirationTime>ue)||H&&!ve());){var T=y.callback;if(typeof T=="function"){y.callback=null,_=y.priorityLevel;var M=T(y.expirationTime<=ue);ue=s.unstable_now(),typeof M=="function"?y.callback=M:y===n(p)&&i(p),A(ue)}else i(p);y=n(p)}if(y!==null)var he=!0;else{var pe=n(g);pe!==null&&De(C,pe.startTime-ue),he=!1}return he}finally{y=null,_=X,w=!1}}var G=!1,B=null,V=-1,ne=5,J=-1;function ve(){return!(s.unstable_now()-J<ne)}function et(){if(B!==null){var H=s.unstable_now();J=H;var ue=!0;try{ue=B(!0,H)}finally{ue?Ge():(G=!1,B=null)}}else G=!1}var Ge;if(typeof L=="function")Ge=function(){L(et)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Xt=Mt.port2;Mt.port1.onmessage=et,Ge=function(){Xt.postMessage(null)}}else Ge=function(){b(et,0)};function pt(H){B=H,G||(G=!0,Ge())}function De(H,ue){V=b(function(){H(s.unstable_now())},ue)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_continueExecution=function(){P||w||(P=!0,pt(K))},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ne=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return _},s.unstable_getFirstCallbackNode=function(){return n(p)},s.unstable_next=function(H){switch(_){case 1:case 2:case 3:var ue=3;break;default:ue=_}var X=_;_=ue;try{return H()}finally{_=X}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(H,ue){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var X=_;_=H;try{return ue()}finally{_=X}},s.unstable_scheduleCallback=function(H,ue,X){var T=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?T+X:T):X=T,H){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=X+M,H={id:v++,callback:ue,priorityLevel:H,startTime:X,expirationTime:M,sortIndex:-1},X>T?(H.sortIndex=X,e(g,H),n(p)===null&&H===n(g)&&(E?(N(V),V=-1):E=!0,De(C,X-T))):(H.sortIndex=M,e(p,H),P||w||(P=!0,pt(K))),H},s.unstable_shouldYield=ve,s.unstable_wrapCallback=function(H){var ue=_;return function(){var X=_;_=ue;try{return H.apply(this,arguments)}finally{_=X}}}})($u)),$u}var np;function Yy(){return np||(np=1,Uu.exports=Jy()),Uu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sp;function Xy(){if(sp)return _t;sp=1;var s=Uc(),e=Yy();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,a={};function l(t,r){c(t,r),c(t+"Capture",r)}function c(t,r){for(a[t]=r,t=0;t<r.length;t++)i.add(r[t])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function _(t){return p.call(y,t)?!0:p.call(v,t)?!1:g.test(t)?y[t]=!0:(v[t]=!0,!1)}function w(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function P(t,r,o,u){if(r===null||typeof r>"u"||w(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function E(t,r,o,u,d,f,m){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=f,this.removeEmptyString=m}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){b[t]=new E(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];b[r]=new E(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){b[t]=new E(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){b[t]=new E(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){b[t]=new E(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){b[t]=new E(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){b[t]=new E(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){b[t]=new E(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){b[t]=new E(t,5,!1,t.toLowerCase(),null,!1,!1)});var N=/[\-:]([a-z])/g;function L(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(N,L);b[r]=new E(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(N,L);b[r]=new E(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(N,L);b[r]=new E(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){b[t]=new E(t,1,!1,t.toLowerCase(),null,!1,!1)}),b.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){b[t]=new E(t,1,!1,t.toLowerCase(),null,!0,!0)});function A(t,r,o,u){var d=b.hasOwnProperty(r)?b[r]:null;(d!==null?d.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(P(r,o,d,u)&&(o=null),u||d===null?_(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,u=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var C=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,K=Symbol.for("react.element"),G=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),ne=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ve=Symbol.for("react.context"),et=Symbol.for("react.forward_ref"),Ge=Symbol.for("react.suspense"),Mt=Symbol.for("react.suspense_list"),Xt=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),De=Symbol.for("react.offscreen"),H=Symbol.iterator;function ue(t){return t===null||typeof t!="object"?null:(t=H&&t[H]||t["@@iterator"],typeof t=="function"?t:null)}var X=Object.assign,T;function M(t){if(T===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);T=r&&r[1]||""}return`
`+T+t}var he=!1;function pe(t,r){if(!t||he)return"";he=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(I){var u=I}Reflect.construct(t,[],r)}else{try{r.call()}catch(I){u=I}t.call(r.prototype)}else{try{throw Error()}catch(I){u=I}t()}}catch(I){if(I&&u&&typeof I.stack=="string"){for(var d=I.stack.split(`
`),f=u.stack.split(`
`),m=d.length-1,S=f.length-1;1<=m&&0<=S&&d[m]!==f[S];)S--;for(;1<=m&&0<=S;m--,S--)if(d[m]!==f[S]){if(m!==1||S!==1)do if(m--,S--,0>S||d[m]!==f[S]){var x=`
`+d[m].replace(" at new "," at ");return t.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",t.displayName)),x}while(1<=m&&0<=S);break}}}finally{he=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?M(t):""}function ye(t){switch(t.tag){case 5:return M(t.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return t=pe(t.type,!1),t;case 11:return t=pe(t.type.render,!1),t;case 1:return t=pe(t.type,!0),t;default:return""}}function we(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case B:return"Fragment";case G:return"Portal";case ne:return"Profiler";case V:return"StrictMode";case Ge:return"Suspense";case Mt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ve:return(t.displayName||"Context")+".Consumer";case J:return(t._context.displayName||"Context")+".Provider";case et:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xt:return r=t.displayName||null,r!==null?r:we(t.type)||"Memo";case pt:r=t._payload,t=t._init;try{return we(t(r))}catch{}}return null}function xe(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return we(r);case 8:return r===V?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ee(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Re(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Et(t){var r=Re(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,f=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(m){u=""+m,f.call(this,m)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(m){u=""+m},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ki(t){t._valueTracker||(t._valueTracker=Et(t))}function rd(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=Re(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function Qi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Ma(t,r){var o=r.checked;return X({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function nd(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Ee(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function sd(t,r){r=r.checked,r!=null&&A(t,"checked",r,!1)}function Fa(t,r){sd(t,r);var o=Ee(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ba(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ba(t,r.type,Ee(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function id(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ba(t,r,o){(r!=="number"||Qi(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var zs=Array.isArray;function Bn(t,r,o,u){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Ee(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function za(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return X({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function od(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(zs(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Ee(o)}}function ad(t,r){var o=Ee(r.value),u=Ee(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function ld(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ud(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qa(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ud(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gi,cd=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,d)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Gi=Gi||document.createElement("div"),Gi.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Gi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function qs(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var Vs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys(Vs).forEach(function(t){Km.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Vs[r]=Vs[t]})});function dd(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||Vs.hasOwnProperty(t)&&Vs[t]?(""+r).trim():r+"px"}function hd(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,d=dd(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,d):t[o]=d}}var Qm=X({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Va(t,r){if(r){if(Qm[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function Wa(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ha=null;function Ka(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qa=null,zn=null,qn=null;function fd(t){if(t=hi(t)){if(typeof Qa!="function")throw Error(n(280));var r=t.stateNode;r&&(r=wo(r),Qa(t.stateNode,t.type,r))}}function pd(t){zn?qn?qn.push(t):qn=[t]:zn=t}function gd(){if(zn){var t=zn,r=qn;if(qn=zn=null,fd(t),r)for(t=0;t<r.length;t++)fd(r[t])}}function md(t,r){return t(r)}function vd(){}var Ga=!1;function yd(t,r,o){if(Ga)return t(r,o);Ga=!0;try{return md(t,r,o)}finally{Ga=!1,(zn!==null||qn!==null)&&(vd(),gd())}}function Ws(t,r){var o=t.stateNode;if(o===null)return null;var u=wo(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Ja=!1;if(h)try{var Hs={};Object.defineProperty(Hs,"passive",{get:function(){Ja=!0}}),window.addEventListener("test",Hs,Hs),window.removeEventListener("test",Hs,Hs)}catch{Ja=!1}function Gm(t,r,o,u,d,f,m,S,x){var I=Array.prototype.slice.call(arguments,3);try{r.apply(o,I)}catch(F){this.onError(F)}}var Ks=!1,Ji=null,Yi=!1,Ya=null,Jm={onError:function(t){Ks=!0,Ji=t}};function Ym(t,r,o,u,d,f,m,S,x){Ks=!1,Ji=null,Gm.apply(Jm,arguments)}function Xm(t,r,o,u,d,f,m,S,x){if(Ym.apply(this,arguments),Ks){if(Ks){var I=Ji;Ks=!1,Ji=null}else throw Error(n(198));Yi||(Yi=!0,Ya=I)}}function ln(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function wd(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _d(t){if(ln(t)!==t)throw Error(n(188))}function Zm(t){var r=t.alternate;if(!r){if(r=ln(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var d=o.return;if(d===null)break;var f=d.alternate;if(f===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===f.child){for(f=d.child;f;){if(f===o)return _d(d),t;if(f===u)return _d(d),r;f=f.sibling}throw Error(n(188))}if(o.return!==u.return)o=d,u=f;else{for(var m=!1,S=d.child;S;){if(S===o){m=!0,o=d,u=f;break}if(S===u){m=!0,u=d,o=f;break}S=S.sibling}if(!m){for(S=f.child;S;){if(S===o){m=!0,o=f,u=d;break}if(S===u){m=!0,u=f,o=d;break}S=S.sibling}if(!m)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function Sd(t){return t=Zm(t),t!==null?bd(t):null}function bd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=bd(t);if(r!==null)return r;t=t.sibling}return null}var Ed=e.unstable_scheduleCallback,kd=e.unstable_cancelCallback,ev=e.unstable_shouldYield,tv=e.unstable_requestPaint,Fe=e.unstable_now,rv=e.unstable_getCurrentPriorityLevel,Xa=e.unstable_ImmediatePriority,xd=e.unstable_UserBlockingPriority,Xi=e.unstable_NormalPriority,nv=e.unstable_LowPriority,Pd=e.unstable_IdlePriority,Zi=null,Zt=null;function sv(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(Zi,t,void 0,(t.current.flags&128)===128)}catch{}}var Ft=Math.clz32?Math.clz32:av,iv=Math.log,ov=Math.LN2;function av(t){return t>>>=0,t===0?32:31-(iv(t)/ov|0)|0}var eo=64,to=4194304;function Qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ro(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,d=t.suspendedLanes,f=t.pingedLanes,m=o&268435455;if(m!==0){var S=m&~d;S!==0?u=Qs(S):(f&=m,f!==0&&(u=Qs(f)))}else m=o&~d,m!==0?u=Qs(m):f!==0&&(u=Qs(f));if(u===0)return 0;if(r!==0&&r!==u&&(r&d)===0&&(d=u&-u,f=r&-r,d>=f||d===16&&(f&4194240)!==0))return r;if((u&4)!==0&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ft(r),d=1<<o,u|=t[o],r&=~d;return u}function lv(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uv(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,f=t.pendingLanes;0<f;){var m=31-Ft(f),S=1<<m,x=d[m];x===-1?((S&o)===0||(S&u)!==0)&&(d[m]=lv(S,r)):x<=r&&(t.expiredLanes|=S),f&=~S}}function Za(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Od(){var t=eo;return eo<<=1,(eo&4194240)===0&&(eo=64),t}function el(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Gs(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ft(r),t[r]=o}function cv(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-Ft(o),f=1<<d;r[d]=0,u[d]=-1,t[d]=-1,o&=~f}}function tl(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ft(o),d=1<<u;d&r|t[u]&r&&(t[u]|=r),o&=~d}}var ke=0;function Cd(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Td,rl,Rd,jd,Ad,nl=!1,no=[],Pr=null,Or=null,Cr=null,Js=new Map,Ys=new Map,Tr=[],dv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(t,r){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Or=null;break;case"mouseover":case"mouseout":Cr=null;break;case"pointerover":case"pointerout":Js.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(r.pointerId)}}function Xs(t,r,o,u,d,f){return t===null||t.nativeEvent!==f?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:f,targetContainers:[d]},r!==null&&(r=hi(r),r!==null&&rl(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function hv(t,r,o,u,d){switch(r){case"focusin":return Pr=Xs(Pr,t,r,o,u,d),!0;case"dragenter":return Or=Xs(Or,t,r,o,u,d),!0;case"mouseover":return Cr=Xs(Cr,t,r,o,u,d),!0;case"pointerover":var f=d.pointerId;return Js.set(f,Xs(Js.get(f)||null,t,r,o,u,d)),!0;case"gotpointercapture":return f=d.pointerId,Ys.set(f,Xs(Ys.get(f)||null,t,r,o,u,d)),!0}return!1}function Nd(t){var r=un(t.target);if(r!==null){var o=ln(r);if(o!==null){if(r=o.tag,r===13){if(r=wd(o),r!==null){t.blockedOn=r,Ad(t.priority,function(){Rd(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function so(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=il(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Ha=u,o.target.dispatchEvent(u),Ha=null}else return r=hi(o),r!==null&&rl(r),t.blockedOn=o,!1;r.shift()}return!0}function Ld(t,r,o){so(t)&&o.delete(r)}function fv(){nl=!1,Pr!==null&&so(Pr)&&(Pr=null),Or!==null&&so(Or)&&(Or=null),Cr!==null&&so(Cr)&&(Cr=null),Js.forEach(Ld),Ys.forEach(Ld)}function Zs(t,r){t.blockedOn===r&&(t.blockedOn=null,nl||(nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fv)))}function ei(t){function r(d){return Zs(d,t)}if(0<no.length){Zs(no[0],t);for(var o=1;o<no.length;o++){var u=no[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Pr!==null&&Zs(Pr,t),Or!==null&&Zs(Or,t),Cr!==null&&Zs(Cr,t),Js.forEach(r),Ys.forEach(r),o=0;o<Tr.length;o++)u=Tr[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<Tr.length&&(o=Tr[0],o.blockedOn===null);)Nd(o),o.blockedOn===null&&Tr.shift()}var Vn=C.ReactCurrentBatchConfig,io=!0;function pv(t,r,o,u){var d=ke,f=Vn.transition;Vn.transition=null;try{ke=1,sl(t,r,o,u)}finally{ke=d,Vn.transition=f}}function gv(t,r,o,u){var d=ke,f=Vn.transition;Vn.transition=null;try{ke=4,sl(t,r,o,u)}finally{ke=d,Vn.transition=f}}function sl(t,r,o,u){if(io){var d=il(t,r,o,u);if(d===null)bl(t,r,u,oo,o),Id(t,u);else if(hv(d,t,r,o,u))u.stopPropagation();else if(Id(t,u),r&4&&-1<dv.indexOf(t)){for(;d!==null;){var f=hi(d);if(f!==null&&Td(f),f=il(t,r,o,u),f===null&&bl(t,r,u,oo,o),f===d)break;d=f}d!==null&&u.stopPropagation()}else bl(t,r,u,null,o)}}var oo=null;function il(t,r,o,u){if(oo=null,t=Ka(u),t=un(t),t!==null)if(r=ln(t),r===null)t=null;else if(o=r.tag,o===13){if(t=wd(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return oo=t,null}function Dd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rv()){case Xa:return 1;case xd:return 4;case Xi:case nv:return 16;case Pd:return 536870912;default:return 16}default:return 16}}var Rr=null,ol=null,ao=null;function Ud(){if(ao)return ao;var t,r=ol,o=r.length,u,d="value"in Rr?Rr.value:Rr.textContent,f=d.length;for(t=0;t<o&&r[t]===d[t];t++);var m=o-t;for(u=1;u<=m&&r[o-u]===d[f-u];u++);return ao=d.slice(t,1<u?1-u:void 0)}function lo(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function uo(){return!0}function $d(){return!1}function kt(t){function r(o,u,d,f,m){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=f,this.target=m,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(f):f[S]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?uo:$d,this.isPropagationStopped=$d,this}return X(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=uo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=uo)},persist:function(){},isPersistent:uo}),r}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=kt(Wn),ti=X({},Wn,{view:0,detail:0}),mv=kt(ti),ll,ul,ri,co=X({},ti,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(ll=t.screenX-ri.screenX,ul=t.screenY-ri.screenY):ul=ll=0,ri=t),ll)},movementY:function(t){return"movementY"in t?t.movementY:ul}}),Md=kt(co),vv=X({},co,{dataTransfer:0}),yv=kt(vv),wv=X({},ti,{relatedTarget:0}),cl=kt(wv),_v=X({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sv=kt(_v),bv=X({},Wn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ev=kt(bv),kv=X({},Wn,{data:0}),Fd=kt(kv),xv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cv(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ov[t])?!!r[t]:!1}function dl(){return Cv}var Tv=X({},ti,{key:function(t){if(t.key){var r=xv[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(t){return t.type==="keypress"?lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Rv=kt(Tv),jv=X({},co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bd=kt(jv),Av=X({},ti,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),Iv=kt(Av),Nv=X({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Lv=kt(Nv),Dv=X({},co,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=kt(Dv),$v=[9,13,27,32],hl=h&&"CompositionEvent"in window,ni=null;h&&"documentMode"in document&&(ni=document.documentMode);var Mv=h&&"TextEvent"in window&&!ni,zd=h&&(!hl||ni&&8<ni&&11>=ni),qd=" ",Vd=!1;function Wd(t,r){switch(t){case"keyup":return $v.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Hn=!1;function Fv(t,r){switch(t){case"compositionend":return Hd(r);case"keypress":return r.which!==32?null:(Vd=!0,qd);case"textInput":return t=r.data,t===qd&&Vd?null:t;default:return null}}function Bv(t,r){if(Hn)return t==="compositionend"||!hl&&Wd(t,r)?(t=Ud(),ao=ol=Rr=null,Hn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return zd&&r.locale!=="ko"?null:r.data;default:return null}}var zv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!zv[t.type]:r==="textarea"}function Qd(t,r,o,u){pd(u),r=mo(r,"onChange"),0<r.length&&(o=new al("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var si=null,ii=null;function qv(t){hh(t,0)}function ho(t){var r=Yn(t);if(rd(r))return t}function Vv(t,r){if(t==="change")return r}var Gd=!1;if(h){var fl;if(h){var pl="oninput"in document;if(!pl){var Jd=document.createElement("div");Jd.setAttribute("oninput","return;"),pl=typeof Jd.oninput=="function"}fl=pl}else fl=!1;Gd=fl&&(!document.documentMode||9<document.documentMode)}function Yd(){si&&(si.detachEvent("onpropertychange",Xd),ii=si=null)}function Xd(t){if(t.propertyName==="value"&&ho(ii)){var r=[];Qd(r,ii,t,Ka(t)),yd(qv,r)}}function Wv(t,r,o){t==="focusin"?(Yd(),si=r,ii=o,si.attachEvent("onpropertychange",Xd)):t==="focusout"&&Yd()}function Hv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ho(ii)}function Kv(t,r){if(t==="click")return ho(r)}function Qv(t,r){if(t==="input"||t==="change")return ho(r)}function Gv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Bt=typeof Object.is=="function"?Object.is:Gv;function oi(t,r){if(Bt(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!p.call(r,d)||!Bt(t[d],r[d]))return!1}return!0}function Zd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eh(t,r){var o=Zd(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Zd(o)}}function th(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?th(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function rh(){for(var t=window,r=Qi();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Qi(t.document)}return r}function gl(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Jv(t){var r=rh(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&th(o.ownerDocument.documentElement,o)){if(u!==null&&gl(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,f=Math.min(u.start,d);u=u.end===void 0?f:Math.min(u.end,d),!t.extend&&f>u&&(d=u,u=f,f=d),d=eh(o,f);var m=eh(o,u);d&&m&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==m.node||t.focusOffset!==m.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),f>u?(t.addRange(r),t.extend(m.node,m.offset)):(r.setEnd(m.node,m.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yv=h&&"documentMode"in document&&11>=document.documentMode,Kn=null,ml=null,ai=null,vl=!1;function nh(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vl||Kn==null||Kn!==Qi(u)||(u=Kn,"selectionStart"in u&&gl(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ai&&oi(ai,u)||(ai=u,u=mo(ml,"onSelect"),0<u.length&&(r=new al("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=Kn)))}function fo(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var Qn={animationend:fo("Animation","AnimationEnd"),animationiteration:fo("Animation","AnimationIteration"),animationstart:fo("Animation","AnimationStart"),transitionend:fo("Transition","TransitionEnd")},yl={},sh={};h&&(sh=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function po(t){if(yl[t])return yl[t];if(!Qn[t])return t;var r=Qn[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in sh)return yl[t]=r[o];return t}var ih=po("animationend"),oh=po("animationiteration"),ah=po("animationstart"),lh=po("transitionend"),uh=new Map,ch="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,r){uh.set(t,r),l(r,[t])}for(var wl=0;wl<ch.length;wl++){var _l=ch[wl],Xv=_l.toLowerCase(),Zv=_l[0].toUpperCase()+_l.slice(1);jr(Xv,"on"+Zv)}jr(ih,"onAnimationEnd"),jr(oh,"onAnimationIteration"),jr(ah,"onAnimationStart"),jr("dblclick","onDoubleClick"),jr("focusin","onFocus"),jr("focusout","onBlur"),jr(lh,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ey=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function dh(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,Xm(u,r,void 0,t),t.currentTarget=null}function hh(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var f=void 0;if(r)for(var m=u.length-1;0<=m;m--){var S=u[m],x=S.instance,I=S.currentTarget;if(S=S.listener,x!==f&&d.isPropagationStopped())break e;dh(d,S,I),f=x}else for(m=0;m<u.length;m++){if(S=u[m],x=S.instance,I=S.currentTarget,S=S.listener,x!==f&&d.isPropagationStopped())break e;dh(d,S,I),f=x}}}if(Yi)throw t=Ya,Yi=!1,Ya=null,t}function Ce(t,r){var o=r[Cl];o===void 0&&(o=r[Cl]=new Set);var u=t+"__bubble";o.has(u)||(fh(r,t,2,!1),o.add(u))}function Sl(t,r,o){var u=0;r&&(u|=4),fh(o,t,u,r)}var go="_reactListening"+Math.random().toString(36).slice(2);function ui(t){if(!t[go]){t[go]=!0,i.forEach(function(o){o!=="selectionchange"&&(ey.has(o)||Sl(o,!1,t),Sl(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[go]||(r[go]=!0,Sl("selectionchange",!1,r))}}function fh(t,r,o,u){switch(Dd(r)){case 1:var d=pv;break;case 4:d=gv;break;default:d=sl}o=d.bind(null,r,o,t),d=void 0,!Ja||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function bl(t,r,o,u,d){var f=u;if((r&1)===0&&(r&2)===0&&u!==null)e:for(;;){if(u===null)return;var m=u.tag;if(m===3||m===4){var S=u.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(m===4)for(m=u.return;m!==null;){var x=m.tag;if((x===3||x===4)&&(x=m.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;m=m.return}for(;S!==null;){if(m=un(S),m===null)return;if(x=m.tag,x===5||x===6){u=f=m;continue e}S=S.parentNode}}u=u.return}yd(function(){var I=f,F=Ka(o),z=[];e:{var $=uh.get(t);if($!==void 0){var Q=al,ee=t;switch(t){case"keypress":if(lo(o)===0)break e;case"keydown":case"keyup":Q=Rv;break;case"focusin":ee="focus",Q=cl;break;case"focusout":ee="blur",Q=cl;break;case"beforeblur":case"afterblur":Q=cl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=yv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Iv;break;case ih:case oh:case ah:Q=Sv;break;case lh:Q=Lv;break;case"scroll":Q=mv;break;case"wheel":Q=Uv;break;case"copy":case"cut":case"paste":Q=Ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Bd}var te=(r&4)!==0,Be=!te&&t==="scroll",R=te?$!==null?$+"Capture":null:$;te=[];for(var O=I,j;O!==null;){j=O;var q=j.stateNode;if(j.tag===5&&q!==null&&(j=q,R!==null&&(q=Ws(O,R),q!=null&&te.push(ci(O,q,j)))),Be)break;O=O.return}0<te.length&&($=new Q($,ee,null,o,F),z.push({event:$,listeners:te}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&o!==Ha&&(ee=o.relatedTarget||o.fromElement)&&(un(ee)||ee[lr]))break e;if((Q||$)&&($=F.window===F?F:($=F.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(ee=o.relatedTarget||o.toElement,Q=I,ee=ee?un(ee):null,ee!==null&&(Be=ln(ee),ee!==Be||ee.tag!==5&&ee.tag!==6)&&(ee=null)):(Q=null,ee=I),Q!==ee)){if(te=Md,q="onMouseLeave",R="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(te=Bd,q="onPointerLeave",R="onPointerEnter",O="pointer"),Be=Q==null?$:Yn(Q),j=ee==null?$:Yn(ee),$=new te(q,O+"leave",Q,o,F),$.target=Be,$.relatedTarget=j,q=null,un(F)===I&&(te=new te(R,O+"enter",ee,o,F),te.target=j,te.relatedTarget=Be,q=te),Be=q,Q&&ee)t:{for(te=Q,R=ee,O=0,j=te;j;j=Gn(j))O++;for(j=0,q=R;q;q=Gn(q))j++;for(;0<O-j;)te=Gn(te),O--;for(;0<j-O;)R=Gn(R),j--;for(;O--;){if(te===R||R!==null&&te===R.alternate)break t;te=Gn(te),R=Gn(R)}te=null}else te=null;Q!==null&&ph(z,$,Q,te,!1),ee!==null&&Be!==null&&ph(z,Be,ee,te,!0)}}e:{if($=I?Yn(I):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var re=Vv;else if(Kd($))if(Gd)re=Qv;else{re=Hv;var oe=Wv}else(Q=$.nodeName)&&Q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(re=Kv);if(re&&(re=re(t,I))){Qd(z,re,o,F);break e}oe&&oe(t,$,I),t==="focusout"&&(oe=$._wrapperState)&&oe.controlled&&$.type==="number"&&Ba($,"number",$.value)}switch(oe=I?Yn(I):window,t){case"focusin":(Kd(oe)||oe.contentEditable==="true")&&(Kn=oe,ml=I,ai=null);break;case"focusout":ai=ml=Kn=null;break;case"mousedown":vl=!0;break;case"contextmenu":case"mouseup":case"dragend":vl=!1,nh(z,o,F);break;case"selectionchange":if(Yv)break;case"keydown":case"keyup":nh(z,o,F)}var ae;if(hl)e:{switch(t){case"compositionstart":var ce="onCompositionStart";break e;case"compositionend":ce="onCompositionEnd";break e;case"compositionupdate":ce="onCompositionUpdate";break e}ce=void 0}else Hn?Wd(t,o)&&(ce="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ce="onCompositionStart");ce&&(zd&&o.locale!=="ko"&&(Hn||ce!=="onCompositionStart"?ce==="onCompositionEnd"&&Hn&&(ae=Ud()):(Rr=F,ol="value"in Rr?Rr.value:Rr.textContent,Hn=!0)),oe=mo(I,ce),0<oe.length&&(ce=new Fd(ce,t,null,o,F),z.push({event:ce,listeners:oe}),ae?ce.data=ae:(ae=Hd(o),ae!==null&&(ce.data=ae)))),(ae=Mv?Fv(t,o):Bv(t,o))&&(I=mo(I,"onBeforeInput"),0<I.length&&(F=new Fd("onBeforeInput","beforeinput",null,o,F),z.push({event:F,listeners:I}),F.data=ae))}hh(z,r)})}function ci(t,r,o){return{instance:t,listener:r,currentTarget:o}}function mo(t,r){for(var o=r+"Capture",u=[];t!==null;){var d=t,f=d.stateNode;d.tag===5&&f!==null&&(d=f,f=Ws(t,o),f!=null&&u.unshift(ci(t,f,d)),f=Ws(t,r),f!=null&&u.push(ci(t,f,d))),t=t.return}return u}function Gn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function ph(t,r,o,u,d){for(var f=r._reactName,m=[];o!==null&&o!==u;){var S=o,x=S.alternate,I=S.stateNode;if(x!==null&&x===u)break;S.tag===5&&I!==null&&(S=I,d?(x=Ws(o,f),x!=null&&m.unshift(ci(o,x,S))):d||(x=Ws(o,f),x!=null&&m.push(ci(o,x,S)))),o=o.return}m.length!==0&&t.push({event:r,listeners:m})}var ty=/\r\n?/g,ry=/\u0000|\uFFFD/g;function gh(t){return(typeof t=="string"?t:""+t).replace(ty,`
`).replace(ry,"")}function vo(t,r,o){if(r=gh(r),gh(t)!==r&&o)throw Error(n(425))}function yo(){}var El=null,kl=null;function xl(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Pl=typeof setTimeout=="function"?setTimeout:void 0,ny=typeof clearTimeout=="function"?clearTimeout:void 0,mh=typeof Promise=="function"?Promise:void 0,sy=typeof queueMicrotask=="function"?queueMicrotask:typeof mh<"u"?function(t){return mh.resolve(null).then(t).catch(iy)}:Pl;function iy(t){setTimeout(function(){throw t})}function Ol(t,r){var o=r,u=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(u===0){t.removeChild(d),ei(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=d}while(o);ei(r)}function Ar(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function vh(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var Jn=Math.random().toString(36).slice(2),er="__reactFiber$"+Jn,di="__reactProps$"+Jn,lr="__reactContainer$"+Jn,Cl="__reactEvents$"+Jn,oy="__reactListeners$"+Jn,ay="__reactHandles$"+Jn;function un(t){var r=t[er];if(r)return r;for(var o=t.parentNode;o;){if(r=o[lr]||o[er]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=vh(t);t!==null;){if(o=t[er])return o;t=vh(t)}return r}t=o,o=t.parentNode}return null}function hi(t){return t=t[er]||t[lr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function wo(t){return t[di]||null}var Tl=[],Xn=-1;function Ir(t){return{current:t}}function Te(t){0>Xn||(t.current=Tl[Xn],Tl[Xn]=null,Xn--)}function Pe(t,r){Xn++,Tl[Xn]=t.current,t.current=r}var Nr={},st=Ir(Nr),gt=Ir(!1),cn=Nr;function Zn(t,r){var o=t.type.contextTypes;if(!o)return Nr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var d={},f;for(f in o)d[f]=r[f];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function mt(t){return t=t.childContextTypes,t!=null}function _o(){Te(gt),Te(st)}function yh(t,r,o){if(st.current!==Nr)throw Error(n(168));Pe(st,r),Pe(gt,o)}function wh(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var d in u)if(!(d in r))throw Error(n(108,xe(t)||"Unknown",d));return X({},o,u)}function So(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,cn=st.current,Pe(st,t),Pe(gt,gt.current),!0}function _h(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=wh(t,r,cn),u.__reactInternalMemoizedMergedChildContext=t,Te(gt),Te(st),Pe(st,t)):Te(gt),Pe(gt,o)}var ur=null,bo=!1,Rl=!1;function Sh(t){ur===null?ur=[t]:ur.push(t)}function ly(t){bo=!0,Sh(t)}function Lr(){if(!Rl&&ur!==null){Rl=!0;var t=0,r=ke;try{var o=ur;for(ke=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}ur=null,bo=!1}catch(d){throw ur!==null&&(ur=ur.slice(t+1)),Ed(Xa,Lr),d}finally{ke=r,Rl=!1}}return null}var es=[],ts=0,Eo=null,ko=0,jt=[],At=0,dn=null,cr=1,dr="";function hn(t,r){es[ts++]=ko,es[ts++]=Eo,Eo=t,ko=r}function bh(t,r,o){jt[At++]=cr,jt[At++]=dr,jt[At++]=dn,dn=t;var u=cr;t=dr;var d=32-Ft(u)-1;u&=~(1<<d),o+=1;var f=32-Ft(r)+d;if(30<f){var m=d-d%5;f=(u&(1<<m)-1).toString(32),u>>=m,d-=m,cr=1<<32-Ft(r)+d|o<<d|u,dr=f+t}else cr=1<<f|o<<d|u,dr=t}function jl(t){t.return!==null&&(hn(t,1),bh(t,1,0))}function Al(t){for(;t===Eo;)Eo=es[--ts],es[ts]=null,ko=es[--ts],es[ts]=null;for(;t===dn;)dn=jt[--At],jt[At]=null,dr=jt[--At],jt[At]=null,cr=jt[--At],jt[At]=null}var xt=null,Pt=null,je=!1,zt=null;function Eh(t,r){var o=Dt(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function kh(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,xt=t,Pt=Ar(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,xt=t,Pt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=dn!==null?{id:cr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=Dt(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,xt=t,Pt=null,!0):!1;default:return!1}}function Il(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nl(t){if(je){var r=Pt;if(r){var o=r;if(!kh(t,r)){if(Il(t))throw Error(n(418));r=Ar(o.nextSibling);var u=xt;r&&kh(t,r)?Eh(u,o):(t.flags=t.flags&-4097|2,je=!1,xt=t)}}else{if(Il(t))throw Error(n(418));t.flags=t.flags&-4097|2,je=!1,xt=t}}}function xh(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function xo(t){if(t!==xt)return!1;if(!je)return xh(t),je=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!xl(t.type,t.memoizedProps)),r&&(r=Pt)){if(Il(t))throw Ph(),Error(n(418));for(;r;)Eh(t,r),r=Ar(r.nextSibling)}if(xh(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){Pt=Ar(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}Pt=null}}else Pt=xt?Ar(t.stateNode.nextSibling):null;return!0}function Ph(){for(var t=Pt;t;)t=Ar(t.nextSibling)}function rs(){Pt=xt=null,je=!1}function Ll(t){zt===null?zt=[t]:zt.push(t)}var uy=C.ReactCurrentBatchConfig;function fi(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var d=u,f=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===f?r.ref:(r=function(m){var S=d.refs;m===null?delete S[f]:S[f]=m},r._stringRef=f,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function Po(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function Oh(t){var r=t._init;return r(t._payload)}function Ch(t){function r(R,O){if(t){var j=R.deletions;j===null?(R.deletions=[O],R.flags|=16):j.push(O)}}function o(R,O){if(!t)return null;for(;O!==null;)r(R,O),O=O.sibling;return null}function u(R,O){for(R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function d(R,O){return R=qr(R,O),R.index=0,R.sibling=null,R}function f(R,O,j){return R.index=j,t?(j=R.alternate,j!==null?(j=j.index,j<O?(R.flags|=2,O):j):(R.flags|=2,O)):(R.flags|=1048576,O)}function m(R){return t&&R.alternate===null&&(R.flags|=2),R}function S(R,O,j,q){return O===null||O.tag!==6?(O=Pu(j,R.mode,q),O.return=R,O):(O=d(O,j),O.return=R,O)}function x(R,O,j,q){var re=j.type;return re===B?F(R,O,j.props.children,q,j.key):O!==null&&(O.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===pt&&Oh(re)===O.type)?(q=d(O,j.props),q.ref=fi(R,O,j),q.return=R,q):(q=Jo(j.type,j.key,j.props,null,R.mode,q),q.ref=fi(R,O,j),q.return=R,q)}function I(R,O,j,q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Ou(j,R.mode,q),O.return=R,O):(O=d(O,j.children||[]),O.return=R,O)}function F(R,O,j,q,re){return O===null||O.tag!==7?(O=_n(j,R.mode,q,re),O.return=R,O):(O=d(O,j),O.return=R,O)}function z(R,O,j){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Pu(""+O,R.mode,j),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case K:return j=Jo(O.type,O.key,O.props,null,R.mode,j),j.ref=fi(R,null,O),j.return=R,j;case G:return O=Ou(O,R.mode,j),O.return=R,O;case pt:var q=O._init;return z(R,q(O._payload),j)}if(zs(O)||ue(O))return O=_n(O,R.mode,j,null),O.return=R,O;Po(R,O)}return null}function $(R,O,j,q){var re=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return re!==null?null:S(R,O,""+j,q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case K:return j.key===re?x(R,O,j,q):null;case G:return j.key===re?I(R,O,j,q):null;case pt:return re=j._init,$(R,O,re(j._payload),q)}if(zs(j)||ue(j))return re!==null?null:F(R,O,j,q,null);Po(R,j)}return null}function Q(R,O,j,q,re){if(typeof q=="string"&&q!==""||typeof q=="number")return R=R.get(j)||null,S(O,R,""+q,re);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case K:return R=R.get(q.key===null?j:q.key)||null,x(O,R,q,re);case G:return R=R.get(q.key===null?j:q.key)||null,I(O,R,q,re);case pt:var oe=q._init;return Q(R,O,j,oe(q._payload),re)}if(zs(q)||ue(q))return R=R.get(j)||null,F(O,R,q,re,null);Po(O,q)}return null}function ee(R,O,j,q){for(var re=null,oe=null,ae=O,ce=O=0,Xe=null;ae!==null&&ce<j.length;ce++){ae.index>ce?(Xe=ae,ae=null):Xe=ae.sibling;var _e=$(R,ae,j[ce],q);if(_e===null){ae===null&&(ae=Xe);break}t&&ae&&_e.alternate===null&&r(R,ae),O=f(_e,O,ce),oe===null?re=_e:oe.sibling=_e,oe=_e,ae=Xe}if(ce===j.length)return o(R,ae),je&&hn(R,ce),re;if(ae===null){for(;ce<j.length;ce++)ae=z(R,j[ce],q),ae!==null&&(O=f(ae,O,ce),oe===null?re=ae:oe.sibling=ae,oe=ae);return je&&hn(R,ce),re}for(ae=u(R,ae);ce<j.length;ce++)Xe=Q(ae,R,ce,j[ce],q),Xe!==null&&(t&&Xe.alternate!==null&&ae.delete(Xe.key===null?ce:Xe.key),O=f(Xe,O,ce),oe===null?re=Xe:oe.sibling=Xe,oe=Xe);return t&&ae.forEach(function(Vr){return r(R,Vr)}),je&&hn(R,ce),re}function te(R,O,j,q){var re=ue(j);if(typeof re!="function")throw Error(n(150));if(j=re.call(j),j==null)throw Error(n(151));for(var oe=re=null,ae=O,ce=O=0,Xe=null,_e=j.next();ae!==null&&!_e.done;ce++,_e=j.next()){ae.index>ce?(Xe=ae,ae=null):Xe=ae.sibling;var Vr=$(R,ae,_e.value,q);if(Vr===null){ae===null&&(ae=Xe);break}t&&ae&&Vr.alternate===null&&r(R,ae),O=f(Vr,O,ce),oe===null?re=Vr:oe.sibling=Vr,oe=Vr,ae=Xe}if(_e.done)return o(R,ae),je&&hn(R,ce),re;if(ae===null){for(;!_e.done;ce++,_e=j.next())_e=z(R,_e.value,q),_e!==null&&(O=f(_e,O,ce),oe===null?re=_e:oe.sibling=_e,oe=_e);return je&&hn(R,ce),re}for(ae=u(R,ae);!_e.done;ce++,_e=j.next())_e=Q(ae,R,ce,_e.value,q),_e!==null&&(t&&_e.alternate!==null&&ae.delete(_e.key===null?ce:_e.key),O=f(_e,O,ce),oe===null?re=_e:oe.sibling=_e,oe=_e);return t&&ae.forEach(function(zy){return r(R,zy)}),je&&hn(R,ce),re}function Be(R,O,j,q){if(typeof j=="object"&&j!==null&&j.type===B&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case K:e:{for(var re=j.key,oe=O;oe!==null;){if(oe.key===re){if(re=j.type,re===B){if(oe.tag===7){o(R,oe.sibling),O=d(oe,j.props.children),O.return=R,R=O;break e}}else if(oe.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===pt&&Oh(re)===oe.type){o(R,oe.sibling),O=d(oe,j.props),O.ref=fi(R,oe,j),O.return=R,R=O;break e}o(R,oe);break}else r(R,oe);oe=oe.sibling}j.type===B?(O=_n(j.props.children,R.mode,q,j.key),O.return=R,R=O):(q=Jo(j.type,j.key,j.props,null,R.mode,q),q.ref=fi(R,O,j),q.return=R,R=q)}return m(R);case G:e:{for(oe=j.key;O!==null;){if(O.key===oe)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){o(R,O.sibling),O=d(O,j.children||[]),O.return=R,R=O;break e}else{o(R,O);break}else r(R,O);O=O.sibling}O=Ou(j,R.mode,q),O.return=R,R=O}return m(R);case pt:return oe=j._init,Be(R,O,oe(j._payload),q)}if(zs(j))return ee(R,O,j,q);if(ue(j))return te(R,O,j,q);Po(R,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,O!==null&&O.tag===6?(o(R,O.sibling),O=d(O,j),O.return=R,R=O):(o(R,O),O=Pu(j,R.mode,q),O.return=R,R=O),m(R)):o(R,O)}return Be}var ns=Ch(!0),Th=Ch(!1),Oo=Ir(null),Co=null,ss=null,Dl=null;function Ul(){Dl=ss=Co=null}function $l(t){var r=Oo.current;Te(Oo),t._currentValue=r}function Ml(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function is(t,r){Co=t,Dl=ss=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(vt=!0),t.firstContext=null)}function It(t){var r=t._currentValue;if(Dl!==t)if(t={context:t,memoizedValue:r,next:null},ss===null){if(Co===null)throw Error(n(308));ss=t,Co.dependencies={lanes:0,firstContext:t}}else ss=ss.next=t;return r}var fn=null;function Fl(t){fn===null?fn=[t]:fn.push(t)}function Rh(t,r,o,u){var d=r.interleaved;return d===null?(o.next=o,Fl(r)):(o.next=d.next,d.next=o),r.interleaved=o,hr(t,u)}function hr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Dr=!1;function Bl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jh(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function fr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Ur(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(me&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,hr(t,o)}return d=u.interleaved,d===null?(r.next=r,Fl(u)):(r.next=d.next,d.next=r),u.interleaved=r,hr(t,o)}function To(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,tl(t,o)}}function Ah(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var m={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};f===null?d=f=m:f=f.next=m,o=o.next}while(o!==null);f===null?d=f=r:f=f.next=r}else d=f=r;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:f,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function Ro(t,r,o,u){var d=t.updateQueue;Dr=!1;var f=d.firstBaseUpdate,m=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var x=S,I=x.next;x.next=null,m===null?f=I:m.next=I,m=x;var F=t.alternate;F!==null&&(F=F.updateQueue,S=F.lastBaseUpdate,S!==m&&(S===null?F.firstBaseUpdate=I:S.next=I,F.lastBaseUpdate=x))}if(f!==null){var z=d.baseState;m=0,F=I=x=null,S=f;do{var $=S.lane,Q=S.eventTime;if((u&$)===$){F!==null&&(F=F.next={eventTime:Q,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ee=t,te=S;switch($=r,Q=o,te.tag){case 1:if(ee=te.payload,typeof ee=="function"){z=ee.call(Q,z,$);break e}z=ee;break e;case 3:ee.flags=ee.flags&-65537|128;case 0:if(ee=te.payload,$=typeof ee=="function"?ee.call(Q,z,$):ee,$==null)break e;z=X({},z,$);break e;case 2:Dr=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,$=d.effects,$===null?d.effects=[S]:$.push(S))}else Q={eventTime:Q,lane:$,tag:S.tag,payload:S.payload,callback:S.callback,next:null},F===null?(I=F=Q,x=z):F=F.next=Q,m|=$;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;$=S,S=$.next,$.next=null,d.lastBaseUpdate=$,d.shared.pending=null}}while(!0);if(F===null&&(x=z),d.baseState=x,d.firstBaseUpdate=I,d.lastBaseUpdate=F,r=d.shared.interleaved,r!==null){d=r;do m|=d.lane,d=d.next;while(d!==r)}else f===null&&(d.shared.lanes=0);mn|=m,t.lanes=m,t.memoizedState=z}}function Ih(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],d=u.callback;if(d!==null){if(u.callback=null,u=o,typeof d!="function")throw Error(n(191,d));d.call(u)}}}var pi={},tr=Ir(pi),gi=Ir(pi),mi=Ir(pi);function pn(t){if(t===pi)throw Error(n(174));return t}function zl(t,r){switch(Pe(mi,r),Pe(gi,t),Pe(tr,pi),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:qa(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=qa(r,t)}Te(tr),Pe(tr,r)}function os(){Te(tr),Te(gi),Te(mi)}function Nh(t){pn(mi.current);var r=pn(tr.current),o=qa(r,t.type);r!==o&&(Pe(gi,t),Pe(tr,o))}function ql(t){gi.current===t&&(Te(tr),Te(gi))}var Ae=Ir(0);function jo(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Vl=[];function Wl(){for(var t=0;t<Vl.length;t++)Vl[t]._workInProgressVersionPrimary=null;Vl.length=0}var Ao=C.ReactCurrentDispatcher,Hl=C.ReactCurrentBatchConfig,gn=0,Ie=null,Ve=null,Je=null,Io=!1,vi=!1,yi=0,cy=0;function it(){throw Error(n(321))}function Kl(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Bt(t[o],r[o]))return!1;return!0}function Ql(t,r,o,u,d,f){if(gn=f,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Ao.current=t===null||t.memoizedState===null?py:gy,t=o(u,d),vi){f=0;do{if(vi=!1,yi=0,25<=f)throw Error(n(301));f+=1,Je=Ve=null,r.updateQueue=null,Ao.current=my,t=o(u,d)}while(vi)}if(Ao.current=Do,r=Ve!==null&&Ve.next!==null,gn=0,Je=Ve=Ie=null,Io=!1,r)throw Error(n(300));return t}function Gl(){var t=yi!==0;return yi=0,t}function rr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Je===null?Ie.memoizedState=Je=t:Je=Je.next=t,Je}function Nt(){if(Ve===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var r=Je===null?Ie.memoizedState:Je.next;if(r!==null)Je=r,Ve=t;else{if(t===null)throw Error(n(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},Je===null?Ie.memoizedState=Je=t:Je=Je.next=t}return Je}function wi(t,r){return typeof r=="function"?r(t):r}function Jl(t){var r=Nt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=Ve,d=u.baseQueue,f=o.pending;if(f!==null){if(d!==null){var m=d.next;d.next=f.next,f.next=m}u.baseQueue=d=f,o.pending=null}if(d!==null){f=d.next,u=u.baseState;var S=m=null,x=null,I=f;do{var F=I.lane;if((gn&F)===F)x!==null&&(x=x.next={lane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),u=I.hasEagerState?I.eagerState:t(u,I.action);else{var z={lane:F,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null};x===null?(S=x=z,m=u):x=x.next=z,Ie.lanes|=F,mn|=F}I=I.next}while(I!==null&&I!==f);x===null?m=u:x.next=S,Bt(u,r.memoizedState)||(vt=!0),r.memoizedState=u,r.baseState=m,r.baseQueue=x,o.lastRenderedState=u}if(t=o.interleaved,t!==null){d=t;do f=d.lane,Ie.lanes|=f,mn|=f,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Yl(t){var r=Nt(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,f=r.memoizedState;if(d!==null){o.pending=null;var m=d=d.next;do f=t(f,m.action),m=m.next;while(m!==d);Bt(f,r.memoizedState)||(vt=!0),r.memoizedState=f,r.baseQueue===null&&(r.baseState=f),o.lastRenderedState=f}return[f,u]}function Lh(){}function Dh(t,r){var o=Ie,u=Nt(),d=r(),f=!Bt(u.memoizedState,d);if(f&&(u.memoizedState=d,vt=!0),u=u.queue,Xl(Mh.bind(null,o,u,t),[t]),u.getSnapshot!==r||f||Je!==null&&Je.memoizedState.tag&1){if(o.flags|=2048,_i(9,$h.bind(null,o,u,d,r),void 0,null),Ye===null)throw Error(n(349));(gn&30)!==0||Uh(o,r,d)}return d}function Uh(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ie.updateQueue,r===null?(r={lastEffect:null,stores:null},Ie.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function $h(t,r,o,u){r.value=o,r.getSnapshot=u,Fh(r)&&Bh(t)}function Mh(t,r,o){return o(function(){Fh(r)&&Bh(t)})}function Fh(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Bt(t,o)}catch{return!0}}function Bh(t){var r=hr(t,1);r!==null&&Ht(r,t,1,-1)}function zh(t){var r=rr();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wi,lastRenderedState:t},r.queue=t,t=t.dispatch=fy.bind(null,Ie,t),[r.memoizedState,t]}function _i(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ie.updateQueue,r===null?(r={lastEffect:null,stores:null},Ie.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function qh(){return Nt().memoizedState}function No(t,r,o,u){var d=rr();Ie.flags|=t,d.memoizedState=_i(1|r,o,void 0,u===void 0?null:u)}function Lo(t,r,o,u){var d=Nt();u=u===void 0?null:u;var f=void 0;if(Ve!==null){var m=Ve.memoizedState;if(f=m.destroy,u!==null&&Kl(u,m.deps)){d.memoizedState=_i(r,o,f,u);return}}Ie.flags|=t,d.memoizedState=_i(1|r,o,f,u)}function Vh(t,r){return No(8390656,8,t,r)}function Xl(t,r){return Lo(2048,8,t,r)}function Wh(t,r){return Lo(4,2,t,r)}function Hh(t,r){return Lo(4,4,t,r)}function Kh(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Qh(t,r,o){return o=o!=null?o.concat([t]):null,Lo(4,4,Kh.bind(null,r,t),o)}function Zl(){}function Gh(t,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Kl(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Jh(t,r){var o=Nt();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&Kl(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Yh(t,r,o){return(gn&21)===0?(t.baseState&&(t.baseState=!1,vt=!0),t.memoizedState=o):(Bt(o,r)||(o=Od(),Ie.lanes|=o,mn|=o,t.baseState=!0),r)}function dy(t,r){var o=ke;ke=o!==0&&4>o?o:4,t(!0);var u=Hl.transition;Hl.transition={};try{t(!1),r()}finally{ke=o,Hl.transition=u}}function Xh(){return Nt().memoizedState}function hy(t,r,o){var u=Br(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Zh(t))ef(r,o);else if(o=Rh(t,r,o,u),o!==null){var d=ct();Ht(o,t,u,d),tf(o,r,u)}}function fy(t,r,o){var u=Br(t),d={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zh(t))ef(r,d);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=r.lastRenderedReducer,f!==null))try{var m=r.lastRenderedState,S=f(m,o);if(d.hasEagerState=!0,d.eagerState=S,Bt(S,m)){var x=r.interleaved;x===null?(d.next=d,Fl(r)):(d.next=x.next,x.next=d),r.interleaved=d;return}}catch{}finally{}o=Rh(t,r,d,u),o!==null&&(d=ct(),Ht(o,t,u,d),tf(o,r,u))}}function Zh(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function ef(t,r){vi=Io=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function tf(t,r,o){if((o&4194240)!==0){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,tl(t,o)}}var Do={readContext:It,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},py={readContext:It,useCallback:function(t,r){return rr().memoizedState=[t,r===void 0?null:r],t},useContext:It,useEffect:Vh,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,No(4194308,4,Kh.bind(null,r,t),o)},useLayoutEffect:function(t,r){return No(4194308,4,t,r)},useInsertionEffect:function(t,r){return No(4,2,t,r)},useMemo:function(t,r){var o=rr();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=rr();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=hy.bind(null,Ie,t),[u.memoizedState,t]},useRef:function(t){var r=rr();return t={current:t},r.memoizedState=t},useState:zh,useDebugValue:Zl,useDeferredValue:function(t){return rr().memoizedState=t},useTransition:function(){var t=zh(!1),r=t[0];return t=dy.bind(null,t[1]),rr().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ie,d=rr();if(je){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),Ye===null)throw Error(n(349));(gn&30)!==0||Uh(u,r,o)}d.memoizedState=o;var f={value:o,getSnapshot:r};return d.queue=f,Vh(Mh.bind(null,u,f,t),[t]),u.flags|=2048,_i(9,$h.bind(null,u,f,o,r),void 0,null),o},useId:function(){var t=rr(),r=Ye.identifierPrefix;if(je){var o=dr,u=cr;o=(u&~(1<<32-Ft(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=yi++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=cy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},gy={readContext:It,useCallback:Gh,useContext:It,useEffect:Xl,useImperativeHandle:Qh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Jh,useReducer:Jl,useRef:qh,useState:function(){return Jl(wi)},useDebugValue:Zl,useDeferredValue:function(t){var r=Nt();return Yh(r,Ve.memoizedState,t)},useTransition:function(){var t=Jl(wi)[0],r=Nt().memoizedState;return[t,r]},useMutableSource:Lh,useSyncExternalStore:Dh,useId:Xh,unstable_isNewReconciler:!1},my={readContext:It,useCallback:Gh,useContext:It,useEffect:Xl,useImperativeHandle:Qh,useInsertionEffect:Wh,useLayoutEffect:Hh,useMemo:Jh,useReducer:Yl,useRef:qh,useState:function(){return Yl(wi)},useDebugValue:Zl,useDeferredValue:function(t){var r=Nt();return Ve===null?r.memoizedState=t:Yh(r,Ve.memoizedState,t)},useTransition:function(){var t=Yl(wi)[0],r=Nt().memoizedState;return[t,r]},useMutableSource:Lh,useSyncExternalStore:Dh,useId:Xh,unstable_isNewReconciler:!1};function qt(t,r){if(t&&t.defaultProps){r=X({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function eu(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:X({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Uo={isMounted:function(t){return(t=t._reactInternals)?ln(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=ct(),d=Br(t),f=fr(u,d);f.payload=r,o!=null&&(f.callback=o),r=Ur(t,f,d),r!==null&&(Ht(r,t,d,u),To(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=ct(),d=Br(t),f=fr(u,d);f.tag=1,f.payload=r,o!=null&&(f.callback=o),r=Ur(t,f,d),r!==null&&(Ht(r,t,d,u),To(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=ct(),u=Br(t),d=fr(o,u);d.tag=2,r!=null&&(d.callback=r),r=Ur(t,d,u),r!==null&&(Ht(r,t,u,o),To(r,t,u))}};function rf(t,r,o,u,d,f,m){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,f,m):r.prototype&&r.prototype.isPureReactComponent?!oi(o,u)||!oi(d,f):!0}function nf(t,r,o){var u=!1,d=Nr,f=r.contextType;return typeof f=="object"&&f!==null?f=It(f):(d=mt(r)?cn:st.current,u=r.contextTypes,f=(u=u!=null)?Zn(t,d):Nr),r=new r(o,f),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Uo,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=f),r}function sf(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&Uo.enqueueReplaceState(r,r.state,null)}function tu(t,r,o,u){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},Bl(t);var f=r.contextType;typeof f=="object"&&f!==null?d.context=It(f):(f=mt(r)?cn:st.current,d.context=Zn(t,f)),d.state=t.memoizedState,f=r.getDerivedStateFromProps,typeof f=="function"&&(eu(t,r,f,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&Uo.enqueueReplaceState(d,d.state,null),Ro(t,o,d,u),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function as(t,r){try{var o="",u=r;do o+=ye(u),u=u.return;while(u);var d=o}catch(f){d=`
Error generating stack: `+f.message+`
`+f.stack}return{value:t,source:r,stack:d,digest:null}}function ru(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function nu(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var vy=typeof WeakMap=="function"?WeakMap:Map;function of(t,r,o){o=fr(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){Vo||(Vo=!0,yu=u),nu(t,r)},o}function af(t,r,o){o=fr(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var d=r.value;o.payload=function(){return u(d)},o.callback=function(){nu(t,r)}}var f=t.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(o.callback=function(){nu(t,r),typeof u!="function"&&(Mr===null?Mr=new Set([this]):Mr.add(this));var m=r.stack;this.componentDidCatch(r.value,{componentStack:m!==null?m:""})}),o}function lf(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new vy;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(o)||(d.add(o),t=jy.bind(null,t,r,o),r.then(t,t))}function uf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function cf(t,r,o,u,d){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=fr(-1,1),r.tag=2,Ur(o,r,1))),o.lanes|=1),t):(t.flags|=65536,t.lanes=d,t)}var yy=C.ReactCurrentOwner,vt=!1;function ut(t,r,o,u){r.child=t===null?Th(r,null,o,u):ns(r,t.child,o,u)}function df(t,r,o,u,d){o=o.render;var f=r.ref;return is(r,d),u=Ql(t,r,o,u,f,d),o=Gl(),t!==null&&!vt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,pr(t,r,d)):(je&&o&&jl(r),r.flags|=1,ut(t,r,u,d),r.child)}function hf(t,r,o,u,d){if(t===null){var f=o.type;return typeof f=="function"&&!xu(f)&&f.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=f,ff(t,r,f,u,d)):(t=Jo(o.type,null,u,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(f=t.child,(t.lanes&d)===0){var m=f.memoizedProps;if(o=o.compare,o=o!==null?o:oi,o(m,u)&&t.ref===r.ref)return pr(t,r,d)}return r.flags|=1,t=qr(f,u),t.ref=r.ref,t.return=r,r.child=t}function ff(t,r,o,u,d){if(t!==null){var f=t.memoizedProps;if(oi(f,u)&&t.ref===r.ref)if(vt=!1,r.pendingProps=u=f,(t.lanes&d)!==0)(t.flags&131072)!==0&&(vt=!0);else return r.lanes=t.lanes,pr(t,r,d)}return su(t,r,o,u,d)}function pf(t,r,o){var u=r.pendingProps,d=u.children,f=t!==null?t.memoizedState:null;if(u.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(us,Ot),Ot|=o;else{if((o&1073741824)===0)return t=f!==null?f.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Pe(us,Ot),Ot|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=f!==null?f.baseLanes:o,Pe(us,Ot),Ot|=u}else f!==null?(u=f.baseLanes|o,r.memoizedState=null):u=o,Pe(us,Ot),Ot|=u;return ut(t,r,d,o),r.child}function gf(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function su(t,r,o,u,d){var f=mt(o)?cn:st.current;return f=Zn(r,f),is(r,d),o=Ql(t,r,o,u,f,d),u=Gl(),t!==null&&!vt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,pr(t,r,d)):(je&&u&&jl(r),r.flags|=1,ut(t,r,o,d),r.child)}function mf(t,r,o,u,d){if(mt(o)){var f=!0;So(r)}else f=!1;if(is(r,d),r.stateNode===null)Mo(t,r),nf(r,o,u),tu(r,o,u,d),u=!0;else if(t===null){var m=r.stateNode,S=r.memoizedProps;m.props=S;var x=m.context,I=o.contextType;typeof I=="object"&&I!==null?I=It(I):(I=mt(o)?cn:st.current,I=Zn(r,I));var F=o.getDerivedStateFromProps,z=typeof F=="function"||typeof m.getSnapshotBeforeUpdate=="function";z||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==u||x!==I)&&sf(r,m,u,I),Dr=!1;var $=r.memoizedState;m.state=$,Ro(r,u,m,d),x=r.memoizedState,S!==u||$!==x||gt.current||Dr?(typeof F=="function"&&(eu(r,o,F,u),x=r.memoizedState),(S=Dr||rf(r,o,S,u,$,x,I))?(z||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=x),m.props=u,m.state=x,m.context=I,u=S):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{m=r.stateNode,jh(t,r),S=r.memoizedProps,I=r.type===r.elementType?S:qt(r.type,S),m.props=I,z=r.pendingProps,$=m.context,x=o.contextType,typeof x=="object"&&x!==null?x=It(x):(x=mt(o)?cn:st.current,x=Zn(r,x));var Q=o.getDerivedStateFromProps;(F=typeof Q=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==z||$!==x)&&sf(r,m,u,x),Dr=!1,$=r.memoizedState,m.state=$,Ro(r,u,m,d);var ee=r.memoizedState;S!==z||$!==ee||gt.current||Dr?(typeof Q=="function"&&(eu(r,o,Q,u),ee=r.memoizedState),(I=Dr||rf(r,o,I,u,$,ee,x)||!1)?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,ee,x),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,ee,x)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ee),m.props=u,m.state=ee,m.context=x,u=I):(typeof m.componentDidUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),u=!1)}return iu(t,r,o,u,f,d)}function iu(t,r,o,u,d,f){gf(t,r);var m=(r.flags&128)!==0;if(!u&&!m)return d&&_h(r,o,!1),pr(t,r,f);u=r.stateNode,yy.current=r;var S=m&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&m?(r.child=ns(r,t.child,null,f),r.child=ns(r,null,S,f)):ut(t,r,S,f),r.memoizedState=u.state,d&&_h(r,o,!0),r.child}function vf(t){var r=t.stateNode;r.pendingContext?yh(t,r.pendingContext,r.pendingContext!==r.context):r.context&&yh(t,r.context,!1),zl(t,r.containerInfo)}function yf(t,r,o,u,d){return rs(),Ll(d),r.flags|=256,ut(t,r,o,u),r.child}var ou={dehydrated:null,treeContext:null,retryLane:0};function au(t){return{baseLanes:t,cachePool:null,transitions:null}}function wf(t,r,o){var u=r.pendingProps,d=Ae.current,f=!1,m=(r.flags&128)!==0,S;if((S=m)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(f=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),Pe(Ae,d&1),t===null)return Nl(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(m=u.children,t=u.fallback,f?(u=r.mode,f=r.child,m={mode:"hidden",children:m},(u&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=m):f=Yo(m,u,0,null),t=_n(t,u,o,null),f.return=r,t.return=r,f.sibling=t,r.child=f,r.child.memoizedState=au(o),r.memoizedState=ou,t):lu(r,m));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return wy(t,r,m,u,S,d,o);if(f){f=u.fallback,m=r.mode,d=t.child,S=d.sibling;var x={mode:"hidden",children:u.children};return(m&1)===0&&r.child!==d?(u=r.child,u.childLanes=0,u.pendingProps=x,r.deletions=null):(u=qr(d,x),u.subtreeFlags=d.subtreeFlags&14680064),S!==null?f=qr(S,f):(f=_n(f,m,o,null),f.flags|=2),f.return=r,u.return=r,u.sibling=f,r.child=u,u=f,f=r.child,m=t.child.memoizedState,m=m===null?au(o):{baseLanes:m.baseLanes|o,cachePool:null,transitions:m.transitions},f.memoizedState=m,f.childLanes=t.childLanes&~o,r.memoizedState=ou,u}return f=t.child,t=f.sibling,u=qr(f,{mode:"visible",children:u.children}),(r.mode&1)===0&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function lu(t,r){return r=Yo({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function $o(t,r,o,u){return u!==null&&Ll(u),ns(r,t.child,null,o),t=lu(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function wy(t,r,o,u,d,f,m){if(o)return r.flags&256?(r.flags&=-257,u=ru(Error(n(422))),$o(t,r,m,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(f=u.fallback,d=r.mode,u=Yo({mode:"visible",children:u.children},d,0,null),f=_n(f,d,m,null),f.flags|=2,u.return=r,f.return=r,u.sibling=f,r.child=u,(r.mode&1)!==0&&ns(r,t.child,null,m),r.child.memoizedState=au(m),r.memoizedState=ou,f);if((r.mode&1)===0)return $o(t,r,m,null);if(d.data==="$!"){if(u=d.nextSibling&&d.nextSibling.dataset,u)var S=u.dgst;return u=S,f=Error(n(419)),u=ru(f,u,void 0),$o(t,r,m,u)}if(S=(m&t.childLanes)!==0,vt||S){if(u=Ye,u!==null){switch(m&-m){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(u.suspendedLanes|m))!==0?0:d,d!==0&&d!==f.retryLane&&(f.retryLane=d,hr(t,d),Ht(u,t,d,-1))}return ku(),u=ru(Error(n(421))),$o(t,r,m,u)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Ay.bind(null,t),d._reactRetry=r,null):(t=f.treeContext,Pt=Ar(d.nextSibling),xt=r,je=!0,zt=null,t!==null&&(jt[At++]=cr,jt[At++]=dr,jt[At++]=dn,cr=t.id,dr=t.overflow,dn=r),r=lu(r,u.children),r.flags|=4096,r)}function _f(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Ml(t.return,r,o)}function uu(t,r,o,u,d){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(f.isBackwards=r,f.rendering=null,f.renderingStartTime=0,f.last=u,f.tail=o,f.tailMode=d)}function Sf(t,r,o){var u=r.pendingProps,d=u.revealOrder,f=u.tail;if(ut(t,r,u.children,o),u=Ae.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_f(t,o,r);else if(t.tag===19)_f(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if(Pe(Ae,u),(r.mode&1)===0)r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&jo(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),uu(r,!1,d,o,f);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&jo(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}uu(r,!0,o,null,f);break;case"together":uu(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Mo(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function pr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),mn|=r.lanes,(o&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=qr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=qr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function _y(t,r,o){switch(r.tag){case 3:vf(r),rs();break;case 5:Nh(r);break;case 1:mt(r.type)&&So(r);break;case 4:zl(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,d=r.memoizedProps.value;Pe(Oo,u._currentValue),u._currentValue=d;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?(Pe(Ae,Ae.current&1),r.flags|=128,null):(o&r.child.childLanes)!==0?wf(t,r,o):(Pe(Ae,Ae.current&1),t=pr(t,r,o),t!==null?t.sibling:null);Pe(Ae,Ae.current&1);break;case 19:if(u=(o&r.childLanes)!==0,(t.flags&128)!==0){if(u)return Sf(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Pe(Ae,Ae.current),u)break;return null;case 22:case 23:return r.lanes=0,pf(t,r,o)}return pr(t,r,o)}var bf,cu,Ef,kf;bf=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},cu=function(){},Ef=function(t,r,o,u){var d=t.memoizedProps;if(d!==u){t=r.stateNode,pn(tr.current);var f=null;switch(o){case"input":d=Ma(t,d),u=Ma(t,u),f=[];break;case"select":d=X({},d,{value:void 0}),u=X({},u,{value:void 0}),f=[];break;case"textarea":d=za(t,d),u=za(t,u),f=[];break;default:typeof d.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=yo)}Va(o,u);var m;o=null;for(I in d)if(!u.hasOwnProperty(I)&&d.hasOwnProperty(I)&&d[I]!=null)if(I==="style"){var S=d[I];for(m in S)S.hasOwnProperty(m)&&(o||(o={}),o[m]="")}else I!=="dangerouslySetInnerHTML"&&I!=="children"&&I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&I!=="autoFocus"&&(a.hasOwnProperty(I)?f||(f=[]):(f=f||[]).push(I,null));for(I in u){var x=u[I];if(S=d!=null?d[I]:void 0,u.hasOwnProperty(I)&&x!==S&&(x!=null||S!=null))if(I==="style")if(S){for(m in S)!S.hasOwnProperty(m)||x&&x.hasOwnProperty(m)||(o||(o={}),o[m]="");for(m in x)x.hasOwnProperty(m)&&S[m]!==x[m]&&(o||(o={}),o[m]=x[m])}else o||(f||(f=[]),f.push(I,o)),o=x;else I==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,S=S?S.__html:void 0,x!=null&&S!==x&&(f=f||[]).push(I,x)):I==="children"?typeof x!="string"&&typeof x!="number"||(f=f||[]).push(I,""+x):I!=="suppressContentEditableWarning"&&I!=="suppressHydrationWarning"&&(a.hasOwnProperty(I)?(x!=null&&I==="onScroll"&&Ce("scroll",t),f||S===x||(f=[])):(f=f||[]).push(I,x))}o&&(f=f||[]).push("style",o);var I=f;(r.updateQueue=I)&&(r.flags|=4)}},kf=function(t,r,o,u){o!==u&&(r.flags|=4)};function Si(t,r){if(!je)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&14680064,u|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function Sy(t,r,o){var u=r.pendingProps;switch(Al(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return mt(r.type)&&_o(),ot(r),null;case 3:return u=r.stateNode,os(),Te(gt),Te(st),Wl(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(xo(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,zt!==null&&(Su(zt),zt=null))),cu(t,r),ot(r),null;case 5:ql(r);var d=pn(mi.current);if(o=r.type,t!==null&&r.stateNode!=null)Ef(t,r,o,u,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return ot(r),null}if(t=pn(tr.current),xo(r)){u=r.stateNode,o=r.type;var f=r.memoizedProps;switch(u[er]=r,u[di]=f,t=(r.mode&1)!==0,o){case"dialog":Ce("cancel",u),Ce("close",u);break;case"iframe":case"object":case"embed":Ce("load",u);break;case"video":case"audio":for(d=0;d<li.length;d++)Ce(li[d],u);break;case"source":Ce("error",u);break;case"img":case"image":case"link":Ce("error",u),Ce("load",u);break;case"details":Ce("toggle",u);break;case"input":nd(u,f),Ce("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!f.multiple},Ce("invalid",u);break;case"textarea":od(u,f),Ce("invalid",u)}Va(o,f),d=null;for(var m in f)if(f.hasOwnProperty(m)){var S=f[m];m==="children"?typeof S=="string"?u.textContent!==S&&(f.suppressHydrationWarning!==!0&&vo(u.textContent,S,t),d=["children",S]):typeof S=="number"&&u.textContent!==""+S&&(f.suppressHydrationWarning!==!0&&vo(u.textContent,S,t),d=["children",""+S]):a.hasOwnProperty(m)&&S!=null&&m==="onScroll"&&Ce("scroll",u)}switch(o){case"input":Ki(u),id(u,f,!0);break;case"textarea":Ki(u),ld(u);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(u.onclick=yo)}u=d,r.updateQueue=u,u!==null&&(r.flags|=4)}else{m=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ud(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=m.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=m.createElement(o,{is:u.is}):(t=m.createElement(o),o==="select"&&(m=t,u.multiple?m.multiple=!0:u.size&&(m.size=u.size))):t=m.createElementNS(t,o),t[er]=r,t[di]=u,bf(t,r,!1,!1),r.stateNode=t;e:{switch(m=Wa(o,u),o){case"dialog":Ce("cancel",t),Ce("close",t),d=u;break;case"iframe":case"object":case"embed":Ce("load",t),d=u;break;case"video":case"audio":for(d=0;d<li.length;d++)Ce(li[d],t);d=u;break;case"source":Ce("error",t),d=u;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),d=u;break;case"details":Ce("toggle",t),d=u;break;case"input":nd(t,u),d=Ma(t,u),Ce("invalid",t);break;case"option":d=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},d=X({},u,{value:void 0}),Ce("invalid",t);break;case"textarea":od(t,u),d=za(t,u),Ce("invalid",t);break;default:d=u}Va(o,d),S=d;for(f in S)if(S.hasOwnProperty(f)){var x=S[f];f==="style"?hd(t,x):f==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&cd(t,x)):f==="children"?typeof x=="string"?(o!=="textarea"||x!=="")&&qs(t,x):typeof x=="number"&&qs(t,""+x):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(a.hasOwnProperty(f)?x!=null&&f==="onScroll"&&Ce("scroll",t):x!=null&&A(t,f,x,m))}switch(o){case"input":Ki(t),id(t,u,!1);break;case"textarea":Ki(t),ld(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Ee(u.value));break;case"select":t.multiple=!!u.multiple,f=u.value,f!=null?Bn(t,!!u.multiple,f,!1):u.defaultValue!=null&&Bn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=yo)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return ot(r),null;case 6:if(t&&r.stateNode!=null)kf(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=pn(mi.current),pn(tr.current),xo(r)){if(u=r.stateNode,o=r.memoizedProps,u[er]=r,(f=u.nodeValue!==o)&&(t=xt,t!==null))switch(t.tag){case 3:vo(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&vo(u.nodeValue,o,(t.mode&1)!==0)}f&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[er]=r,r.stateNode=u}return ot(r),null;case 13:if(Te(Ae),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(je&&Pt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Ph(),rs(),r.flags|=98560,f=!1;else if(f=xo(r),u!==null&&u.dehydrated!==null){if(t===null){if(!f)throw Error(n(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(n(317));f[er]=r}else rs(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),f=!1}else zt!==null&&(Su(zt),zt=null),f=!0;if(!f)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ae.current&1)!==0?We===0&&(We=3):ku())),r.updateQueue!==null&&(r.flags|=4),ot(r),null);case 4:return os(),cu(t,r),t===null&&ui(r.stateNode.containerInfo),ot(r),null;case 10:return $l(r.type._context),ot(r),null;case 17:return mt(r.type)&&_o(),ot(r),null;case 19:if(Te(Ae),f=r.memoizedState,f===null)return ot(r),null;if(u=(r.flags&128)!==0,m=f.rendering,m===null)if(u)Si(f,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=jo(t),m!==null){for(r.flags|=128,Si(f,!1),u=m.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)f=o,t=u,f.flags&=14680066,m=f.alternate,m===null?(f.childLanes=0,f.lanes=t,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=m.childLanes,f.lanes=m.lanes,f.child=m.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=m.memoizedProps,f.memoizedState=m.memoizedState,f.updateQueue=m.updateQueue,f.type=m.type,t=m.dependencies,f.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return Pe(Ae,Ae.current&1|2),r.child}t=t.sibling}f.tail!==null&&Fe()>cs&&(r.flags|=128,u=!0,Si(f,!1),r.lanes=4194304)}else{if(!u)if(t=jo(m),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Si(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!je)return ot(r),null}else 2*Fe()-f.renderingStartTime>cs&&o!==1073741824&&(r.flags|=128,u=!0,Si(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(o=f.last,o!==null?o.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Fe(),r.sibling=null,o=Ae.current,Pe(Ae,u?o&1|2:o&1),r):(ot(r),null);case 22:case 23:return Eu(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&(r.mode&1)!==0?(Ot&1073741824)!==0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function by(t,r){switch(Al(r),r.tag){case 1:return mt(r.type)&&_o(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return os(),Te(gt),Te(st),Wl(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return ql(r),null;case 13:if(Te(Ae),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));rs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Te(Ae),null;case 4:return os(),null;case 10:return $l(r.type._context),null;case 22:case 23:return Eu(),null;case 24:return null;default:return null}}var Fo=!1,at=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,Y=null;function ls(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ue(t,r,u)}else o.current=null}function du(t,r,o){try{o()}catch(u){Ue(t,r,u)}}var xf=!1;function ky(t,r){if(El=io,t=rh(),gl(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,f=u.focusNode;u=u.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var m=0,S=-1,x=-1,I=0,F=0,z=t,$=null;t:for(;;){for(var Q;z!==o||d!==0&&z.nodeType!==3||(S=m+d),z!==f||u!==0&&z.nodeType!==3||(x=m+u),z.nodeType===3&&(m+=z.nodeValue.length),(Q=z.firstChild)!==null;)$=z,z=Q;for(;;){if(z===t)break t;if($===o&&++I===d&&(S=m),$===f&&++F===u&&(x=m),(Q=z.nextSibling)!==null)break;z=$,$=z.parentNode}z=Q}o=S===-1||x===-1?null:{start:S,end:x}}else o=null}o=o||{start:0,end:0}}else o=null;for(kl={focusedElem:t,selectionRange:o},io=!1,Y=r;Y!==null;)if(r=Y,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,Y=t;else for(;Y!==null;){r=Y;try{var ee=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ee!==null){var te=ee.memoizedProps,Be=ee.memoizedState,R=r.stateNode,O=R.getSnapshotBeforeUpdate(r.elementType===r.type?te:qt(r.type,te),Be);R.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var j=r.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(q){Ue(r,r.return,q)}if(t=r.sibling,t!==null){t.return=r.return,Y=t;break}Y=r.return}return ee=xf,xf=!1,ee}function bi(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var d=u=u.next;do{if((d.tag&t)===t){var f=d.destroy;d.destroy=void 0,f!==void 0&&du(r,o,f)}d=d.next}while(d!==u)}}function Bo(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function hu(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Pf(t){var r=t.alternate;r!==null&&(t.alternate=null,Pf(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[er],delete r[di],delete r[Cl],delete r[oy],delete r[ay])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Of(t){return t.tag===5||t.tag===3||t.tag===4}function Cf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Of(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=yo));else if(u!==4&&(t=t.child,t!==null))for(fu(t,r,o),t=t.sibling;t!==null;)fu(t,r,o),t=t.sibling}function pu(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(pu(t,r,o),t=t.sibling;t!==null;)pu(t,r,o),t=t.sibling}var tt=null,Vt=!1;function $r(t,r,o){for(o=o.child;o!==null;)Tf(t,r,o),o=o.sibling}function Tf(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(Zi,o)}catch{}switch(o.tag){case 5:at||ls(o,r);case 6:var u=tt,d=Vt;tt=null,$r(t,r,o),tt=u,Vt=d,tt!==null&&(Vt?(t=tt,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):tt.removeChild(o.stateNode));break;case 18:tt!==null&&(Vt?(t=tt,o=o.stateNode,t.nodeType===8?Ol(t.parentNode,o):t.nodeType===1&&Ol(t,o),ei(t)):Ol(tt,o.stateNode));break;case 4:u=tt,d=Vt,tt=o.stateNode.containerInfo,Vt=!0,$r(t,r,o),tt=u,Vt=d;break;case 0:case 11:case 14:case 15:if(!at&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){d=u=u.next;do{var f=d,m=f.destroy;f=f.tag,m!==void 0&&((f&2)!==0||(f&4)!==0)&&du(o,r,m),d=d.next}while(d!==u)}$r(t,r,o);break;case 1:if(!at&&(ls(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(S){Ue(o,r,S)}$r(t,r,o);break;case 21:$r(t,r,o);break;case 22:o.mode&1?(at=(u=at)||o.memoizedState!==null,$r(t,r,o),at=u):$r(t,r,o);break;default:$r(t,r,o)}}function Rf(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new Ey),r.forEach(function(u){var d=Iy.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}}function Wt(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u];try{var f=t,m=r,S=m;e:for(;S!==null;){switch(S.tag){case 5:tt=S.stateNode,Vt=!1;break e;case 3:tt=S.stateNode.containerInfo,Vt=!0;break e;case 4:tt=S.stateNode.containerInfo,Vt=!0;break e}S=S.return}if(tt===null)throw Error(n(160));Tf(f,m,d),tt=null,Vt=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch(I){Ue(d,r,I)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)jf(r,t),r=r.sibling}function jf(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(r,t),nr(t),u&4){try{bi(3,t,t.return),Bo(3,t)}catch(te){Ue(t,t.return,te)}try{bi(5,t,t.return)}catch(te){Ue(t,t.return,te)}}break;case 1:Wt(r,t),nr(t),u&512&&o!==null&&ls(o,o.return);break;case 5:if(Wt(r,t),nr(t),u&512&&o!==null&&ls(o,o.return),t.flags&32){var d=t.stateNode;try{qs(d,"")}catch(te){Ue(t,t.return,te)}}if(u&4&&(d=t.stateNode,d!=null)){var f=t.memoizedProps,m=o!==null?o.memoizedProps:f,S=t.type,x=t.updateQueue;if(t.updateQueue=null,x!==null)try{S==="input"&&f.type==="radio"&&f.name!=null&&sd(d,f),Wa(S,m);var I=Wa(S,f);for(m=0;m<x.length;m+=2){var F=x[m],z=x[m+1];F==="style"?hd(d,z):F==="dangerouslySetInnerHTML"?cd(d,z):F==="children"?qs(d,z):A(d,F,z,I)}switch(S){case"input":Fa(d,f);break;case"textarea":ad(d,f);break;case"select":var $=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!f.multiple;var Q=f.value;Q!=null?Bn(d,!!f.multiple,Q,!1):$!==!!f.multiple&&(f.defaultValue!=null?Bn(d,!!f.multiple,f.defaultValue,!0):Bn(d,!!f.multiple,f.multiple?[]:"",!1))}d[di]=f}catch(te){Ue(t,t.return,te)}}break;case 6:if(Wt(r,t),nr(t),u&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,f=t.memoizedProps;try{d.nodeValue=f}catch(te){Ue(t,t.return,te)}}break;case 3:if(Wt(r,t),nr(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{ei(r.containerInfo)}catch(te){Ue(t,t.return,te)}break;case 4:Wt(r,t),nr(t);break;case 13:Wt(r,t),nr(t),d=t.child,d.flags&8192&&(f=d.memoizedState!==null,d.stateNode.isHidden=f,!f||d.alternate!==null&&d.alternate.memoizedState!==null||(vu=Fe())),u&4&&Rf(t);break;case 22:if(F=o!==null&&o.memoizedState!==null,t.mode&1?(at=(I=at)||F,Wt(r,t),at=I):Wt(r,t),nr(t),u&8192){if(I=t.memoizedState!==null,(t.stateNode.isHidden=I)&&!F&&(t.mode&1)!==0)for(Y=t,F=t.child;F!==null;){for(z=Y=F;Y!==null;){switch($=Y,Q=$.child,$.tag){case 0:case 11:case 14:case 15:bi(4,$,$.return);break;case 1:ls($,$.return);var ee=$.stateNode;if(typeof ee.componentWillUnmount=="function"){u=$,o=$.return;try{r=u,ee.props=r.memoizedProps,ee.state=r.memoizedState,ee.componentWillUnmount()}catch(te){Ue(u,o,te)}}break;case 5:ls($,$.return);break;case 22:if($.memoizedState!==null){Nf(z);continue}}Q!==null?(Q.return=$,Y=Q):Nf(z)}F=F.sibling}e:for(F=null,z=t;;){if(z.tag===5){if(F===null){F=z;try{d=z.stateNode,I?(f=d.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(S=z.stateNode,x=z.memoizedProps.style,m=x!=null&&x.hasOwnProperty("display")?x.display:null,S.style.display=dd("display",m))}catch(te){Ue(t,t.return,te)}}}else if(z.tag===6){if(F===null)try{z.stateNode.nodeValue=I?"":z.memoizedProps}catch(te){Ue(t,t.return,te)}}else if((z.tag!==22&&z.tag!==23||z.memoizedState===null||z===t)&&z.child!==null){z.child.return=z,z=z.child;continue}if(z===t)break e;for(;z.sibling===null;){if(z.return===null||z.return===t)break e;F===z&&(F=null),z=z.return}F===z&&(F=null),z.sibling.return=z.return,z=z.sibling}}break;case 19:Wt(r,t),nr(t),u&4&&Rf(t);break;case 21:break;default:Wt(r,t),nr(t)}}function nr(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Of(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var d=u.stateNode;u.flags&32&&(qs(d,""),u.flags&=-33);var f=Cf(t);pu(t,f,d);break;case 3:case 4:var m=u.stateNode.containerInfo,S=Cf(t);fu(t,S,m);break;default:throw Error(n(161))}}catch(x){Ue(t,t.return,x)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function xy(t,r,o){Y=t,Af(t)}function Af(t,r,o){for(var u=(t.mode&1)!==0;Y!==null;){var d=Y,f=d.child;if(d.tag===22&&u){var m=d.memoizedState!==null||Fo;if(!m){var S=d.alternate,x=S!==null&&S.memoizedState!==null||at;S=Fo;var I=at;if(Fo=m,(at=x)&&!I)for(Y=d;Y!==null;)m=Y,x=m.child,m.tag===22&&m.memoizedState!==null?Lf(d):x!==null?(x.return=m,Y=x):Lf(d);for(;f!==null;)Y=f,Af(f),f=f.sibling;Y=d,Fo=S,at=I}If(t)}else(d.subtreeFlags&8772)!==0&&f!==null?(f.return=d,Y=f):If(t)}}function If(t){for(;Y!==null;){var r=Y;if((r.flags&8772)!==0){var o=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:at||Bo(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!at)if(o===null)u.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:qt(r.type,o.memoizedProps);u.componentDidUpdate(d,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var f=r.updateQueue;f!==null&&Ih(r,f,u);break;case 3:var m=r.updateQueue;if(m!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Ih(r,m,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var x=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&o.focus();break;case"img":x.src&&(o.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var I=r.alternate;if(I!==null){var F=I.memoizedState;if(F!==null){var z=F.dehydrated;z!==null&&ei(z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}at||r.flags&512&&hu(r)}catch($){Ue(r,r.return,$)}}if(r===t){Y=null;break}if(o=r.sibling,o!==null){o.return=r.return,Y=o;break}Y=r.return}}function Nf(t){for(;Y!==null;){var r=Y;if(r===t){Y=null;break}var o=r.sibling;if(o!==null){o.return=r.return,Y=o;break}Y=r.return}}function Lf(t){for(;Y!==null;){var r=Y;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Bo(4,r)}catch(x){Ue(r,o,x)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var d=r.return;try{u.componentDidMount()}catch(x){Ue(r,d,x)}}var f=r.return;try{hu(r)}catch(x){Ue(r,f,x)}break;case 5:var m=r.return;try{hu(r)}catch(x){Ue(r,m,x)}}}catch(x){Ue(r,r.return,x)}if(r===t){Y=null;break}var S=r.sibling;if(S!==null){S.return=r.return,Y=S;break}Y=r.return}}var Py=Math.ceil,zo=C.ReactCurrentDispatcher,gu=C.ReactCurrentOwner,Lt=C.ReactCurrentBatchConfig,me=0,Ye=null,ze=null,rt=0,Ot=0,us=Ir(0),We=0,Ei=null,mn=0,qo=0,mu=0,ki=null,yt=null,vu=0,cs=1/0,gr=null,Vo=!1,yu=null,Mr=null,Wo=!1,Fr=null,Ho=0,xi=0,wu=null,Ko=-1,Qo=0;function ct(){return(me&6)!==0?Fe():Ko!==-1?Ko:Ko=Fe()}function Br(t){return(t.mode&1)===0?1:(me&2)!==0&&rt!==0?rt&-rt:uy.transition!==null?(Qo===0&&(Qo=Od()),Qo):(t=ke,t!==0||(t=window.event,t=t===void 0?16:Dd(t.type)),t)}function Ht(t,r,o,u){if(50<xi)throw xi=0,wu=null,Error(n(185));Gs(t,o,u),((me&2)===0||t!==Ye)&&(t===Ye&&((me&2)===0&&(qo|=o),We===4&&zr(t,rt)),wt(t,u),o===1&&me===0&&(r.mode&1)===0&&(cs=Fe()+500,bo&&Lr()))}function wt(t,r){var o=t.callbackNode;uv(t,r);var u=ro(t,t===Ye?rt:0);if(u===0)o!==null&&kd(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&kd(o),r===1)t.tag===0?ly(Uf.bind(null,t)):Sh(Uf.bind(null,t)),sy(function(){(me&6)===0&&Lr()}),o=null;else{switch(Cd(u)){case 1:o=Xa;break;case 4:o=xd;break;case 16:o=Xi;break;case 536870912:o=Pd;break;default:o=Xi}o=Wf(o,Df.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Df(t,r){if(Ko=-1,Qo=0,(me&6)!==0)throw Error(n(327));var o=t.callbackNode;if(ds()&&t.callbackNode!==o)return null;var u=ro(t,t===Ye?rt:0);if(u===0)return null;if((u&30)!==0||(u&t.expiredLanes)!==0||r)r=Go(t,u);else{r=u;var d=me;me|=2;var f=Mf();(Ye!==t||rt!==r)&&(gr=null,cs=Fe()+500,yn(t,r));do try{Ty();break}catch(S){$f(t,S)}while(!0);Ul(),zo.current=f,me=d,ze!==null?r=0:(Ye=null,rt=0,r=We)}if(r!==0){if(r===2&&(d=Za(t),d!==0&&(u=d,r=_u(t,d))),r===1)throw o=Ei,yn(t,0),zr(t,u),wt(t,Fe()),o;if(r===6)zr(t,u);else{if(d=t.current.alternate,(u&30)===0&&!Oy(d)&&(r=Go(t,u),r===2&&(f=Za(t),f!==0&&(u=f,r=_u(t,f))),r===1))throw o=Ei,yn(t,0),zr(t,u),wt(t,Fe()),o;switch(t.finishedWork=d,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:wn(t,yt,gr);break;case 3:if(zr(t,u),(u&130023424)===u&&(r=vu+500-Fe(),10<r)){if(ro(t,0)!==0)break;if(d=t.suspendedLanes,(d&u)!==u){ct(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=Pl(wn.bind(null,t,yt,gr),r);break}wn(t,yt,gr);break;case 4:if(zr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,d=-1;0<u;){var m=31-Ft(u);f=1<<m,m=r[m],m>d&&(d=m),u&=~f}if(u=d,u=Fe()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*Py(u/1960))-u,10<u){t.timeoutHandle=Pl(wn.bind(null,t,yt,gr),u);break}wn(t,yt,gr);break;case 5:wn(t,yt,gr);break;default:throw Error(n(329))}}}return wt(t,Fe()),t.callbackNode===o?Df.bind(null,t):null}function _u(t,r){var o=ki;return t.current.memoizedState.isDehydrated&&(yn(t,r).flags|=256),t=Go(t,r),t!==2&&(r=yt,yt=o,r!==null&&Su(r)),t}function Su(t){yt===null?yt=t:yt.push.apply(yt,t)}function Oy(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var d=o[u],f=d.getSnapshot;d=d.value;try{if(!Bt(f(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function zr(t,r){for(r&=~mu,r&=~qo,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ft(r),u=1<<o;t[o]=-1,r&=~u}}function Uf(t){if((me&6)!==0)throw Error(n(327));ds();var r=ro(t,0);if((r&1)===0)return wt(t,Fe()),null;var o=Go(t,r);if(t.tag!==0&&o===2){var u=Za(t);u!==0&&(r=u,o=_u(t,u))}if(o===1)throw o=Ei,yn(t,0),zr(t,r),wt(t,Fe()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,wn(t,yt,gr),wt(t,Fe()),null}function bu(t,r){var o=me;me|=1;try{return t(r)}finally{me=o,me===0&&(cs=Fe()+500,bo&&Lr())}}function vn(t){Fr!==null&&Fr.tag===0&&(me&6)===0&&ds();var r=me;me|=1;var o=Lt.transition,u=ke;try{if(Lt.transition=null,ke=1,t)return t()}finally{ke=u,Lt.transition=o,me=r,(me&6)===0&&Lr()}}function Eu(){Ot=us.current,Te(us)}function yn(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,ny(o)),ze!==null)for(o=ze.return;o!==null;){var u=o;switch(Al(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&_o();break;case 3:os(),Te(gt),Te(st),Wl();break;case 5:ql(u);break;case 4:os();break;case 13:Te(Ae);break;case 19:Te(Ae);break;case 10:$l(u.type._context);break;case 22:case 23:Eu()}o=o.return}if(Ye=t,ze=t=qr(t.current,null),rt=Ot=r,We=0,Ei=null,mu=qo=mn=0,yt=ki=null,fn!==null){for(r=0;r<fn.length;r++)if(o=fn[r],u=o.interleaved,u!==null){o.interleaved=null;var d=u.next,f=o.pending;if(f!==null){var m=f.next;f.next=d,u.next=m}o.pending=u}fn=null}return t}function $f(t,r){do{var o=ze;try{if(Ul(),Ao.current=Do,Io){for(var u=Ie.memoizedState;u!==null;){var d=u.queue;d!==null&&(d.pending=null),u=u.next}Io=!1}if(gn=0,Je=Ve=Ie=null,vi=!1,yi=0,gu.current=null,o===null||o.return===null){We=1,Ei=r,ze=null;break}e:{var f=t,m=o.return,S=o,x=r;if(r=rt,S.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var I=x,F=S,z=F.tag;if((F.mode&1)===0&&(z===0||z===11||z===15)){var $=F.alternate;$?(F.updateQueue=$.updateQueue,F.memoizedState=$.memoizedState,F.lanes=$.lanes):(F.updateQueue=null,F.memoizedState=null)}var Q=uf(m);if(Q!==null){Q.flags&=-257,cf(Q,m,S,f,r),Q.mode&1&&lf(f,I,r),r=Q,x=I;var ee=r.updateQueue;if(ee===null){var te=new Set;te.add(x),r.updateQueue=te}else ee.add(x);break e}else{if((r&1)===0){lf(f,I,r),ku();break e}x=Error(n(426))}}else if(je&&S.mode&1){var Be=uf(m);if(Be!==null){(Be.flags&65536)===0&&(Be.flags|=256),cf(Be,m,S,f,r),Ll(as(x,S));break e}}f=x=as(x,S),We!==4&&(We=2),ki===null?ki=[f]:ki.push(f),f=m;do{switch(f.tag){case 3:f.flags|=65536,r&=-r,f.lanes|=r;var R=of(f,x,r);Ah(f,R);break e;case 1:S=x;var O=f.type,j=f.stateNode;if((f.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Mr===null||!Mr.has(j)))){f.flags|=65536,r&=-r,f.lanes|=r;var q=af(f,S,r);Ah(f,q);break e}}f=f.return}while(f!==null)}Bf(o)}catch(re){r=re,ze===o&&o!==null&&(ze=o=o.return);continue}break}while(!0)}function Mf(){var t=zo.current;return zo.current=Do,t===null?Do:t}function ku(){(We===0||We===3||We===2)&&(We=4),Ye===null||(mn&268435455)===0&&(qo&268435455)===0||zr(Ye,rt)}function Go(t,r){var o=me;me|=2;var u=Mf();(Ye!==t||rt!==r)&&(gr=null,yn(t,r));do try{Cy();break}catch(d){$f(t,d)}while(!0);if(Ul(),me=o,zo.current=u,ze!==null)throw Error(n(261));return Ye=null,rt=0,We}function Cy(){for(;ze!==null;)Ff(ze)}function Ty(){for(;ze!==null&&!ev();)Ff(ze)}function Ff(t){var r=Vf(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,r===null?Bf(t):ze=r,gu.current=null}function Bf(t){var r=t;do{var o=r.alternate;if(t=r.return,(r.flags&32768)===0){if(o=Sy(o,r,Ot),o!==null){ze=o;return}}else{if(o=by(o,r),o!==null){o.flags&=32767,ze=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,ze=null;return}}if(r=r.sibling,r!==null){ze=r;return}ze=r=t}while(r!==null);We===0&&(We=5)}function wn(t,r,o){var u=ke,d=Lt.transition;try{Lt.transition=null,ke=1,Ry(t,r,o,u)}finally{Lt.transition=d,ke=u}return null}function Ry(t,r,o,u){do ds();while(Fr!==null);if((me&6)!==0)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var f=o.lanes|o.childLanes;if(cv(t,f),t===Ye&&(ze=Ye=null,rt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Wo||(Wo=!0,Wf(Xi,function(){return ds(),null})),f=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||f){f=Lt.transition,Lt.transition=null;var m=ke;ke=1;var S=me;me|=4,gu.current=null,ky(t,o),jf(o,t),Jv(kl),io=!!El,kl=El=null,t.current=o,xy(o),tv(),me=S,ke=m,Lt.transition=f}else t.current=o;if(Wo&&(Wo=!1,Fr=t,Ho=d),f=t.pendingLanes,f===0&&(Mr=null),sv(o.stateNode),wt(t,Fe()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],u(d.value,{componentStack:d.stack,digest:d.digest});if(Vo)throw Vo=!1,t=yu,yu=null,t;return(Ho&1)!==0&&t.tag!==0&&ds(),f=t.pendingLanes,(f&1)!==0?t===wu?xi++:(xi=0,wu=t):xi=0,Lr(),null}function ds(){if(Fr!==null){var t=Cd(Ho),r=Lt.transition,o=ke;try{if(Lt.transition=null,ke=16>t?16:t,Fr===null)var u=!1;else{if(t=Fr,Fr=null,Ho=0,(me&6)!==0)throw Error(n(331));var d=me;for(me|=4,Y=t.current;Y!==null;){var f=Y,m=f.child;if((Y.flags&16)!==0){var S=f.deletions;if(S!==null){for(var x=0;x<S.length;x++){var I=S[x];for(Y=I;Y!==null;){var F=Y;switch(F.tag){case 0:case 11:case 15:bi(8,F,f)}var z=F.child;if(z!==null)z.return=F,Y=z;else for(;Y!==null;){F=Y;var $=F.sibling,Q=F.return;if(Pf(F),F===I){Y=null;break}if($!==null){$.return=Q,Y=$;break}Y=Q}}}var ee=f.alternate;if(ee!==null){var te=ee.child;if(te!==null){ee.child=null;do{var Be=te.sibling;te.sibling=null,te=Be}while(te!==null)}}Y=f}}if((f.subtreeFlags&2064)!==0&&m!==null)m.return=f,Y=m;else e:for(;Y!==null;){if(f=Y,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:bi(9,f,f.return)}var R=f.sibling;if(R!==null){R.return=f.return,Y=R;break e}Y=f.return}}var O=t.current;for(Y=O;Y!==null;){m=Y;var j=m.child;if((m.subtreeFlags&2064)!==0&&j!==null)j.return=m,Y=j;else e:for(m=O;Y!==null;){if(S=Y,(S.flags&2048)!==0)try{switch(S.tag){case 0:case 11:case 15:Bo(9,S)}}catch(re){Ue(S,S.return,re)}if(S===m){Y=null;break e}var q=S.sibling;if(q!==null){q.return=S.return,Y=q;break e}Y=S.return}}if(me=d,Lr(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(Zi,t)}catch{}u=!0}return u}finally{ke=o,Lt.transition=r}}return!1}function zf(t,r,o){r=as(o,r),r=of(t,r,1),t=Ur(t,r,1),r=ct(),t!==null&&(Gs(t,1,r),wt(t,r))}function Ue(t,r,o){if(t.tag===3)zf(t,t,o);else for(;r!==null;){if(r.tag===3){zf(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Mr===null||!Mr.has(u))){t=as(o,t),t=af(r,t,1),r=Ur(r,t,1),t=ct(),r!==null&&(Gs(r,1,t),wt(r,t));break}}r=r.return}}function jy(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=ct(),t.pingedLanes|=t.suspendedLanes&o,Ye===t&&(rt&o)===o&&(We===4||We===3&&(rt&130023424)===rt&&500>Fe()-vu?yn(t,0):mu|=o),wt(t,r)}function qf(t,r){r===0&&((t.mode&1)===0?r=1:(r=to,to<<=1,(to&130023424)===0&&(to=4194304)));var o=ct();t=hr(t,r),t!==null&&(Gs(t,r,o),wt(t,o))}function Ay(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),qf(t,o)}function Iy(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),qf(t,o)}var Vf;Vf=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||gt.current)vt=!0;else{if((t.lanes&o)===0&&(r.flags&128)===0)return vt=!1,_y(t,r,o);vt=(t.flags&131072)!==0}else vt=!1,je&&(r.flags&1048576)!==0&&bh(r,ko,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;Mo(t,r),t=r.pendingProps;var d=Zn(r,st.current);is(r,o),d=Ql(null,r,u,t,d,o);var f=Gl();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,mt(u)?(f=!0,So(r)):f=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Bl(r),d.updater=Uo,r.stateNode=d,d._reactInternals=r,tu(r,u,t,o),r=iu(null,r,u,!0,f,o)):(r.tag=0,je&&f&&jl(r),ut(null,r,d,o),r=r.child),r;case 16:u=r.elementType;e:{switch(Mo(t,r),t=r.pendingProps,d=u._init,u=d(u._payload),r.type=u,d=r.tag=Ly(u),t=qt(u,t),d){case 0:r=su(null,r,u,t,o);break e;case 1:r=mf(null,r,u,t,o);break e;case 11:r=df(null,r,u,t,o);break e;case 14:r=hf(null,r,u,qt(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:qt(u,d),su(t,r,u,d,o);case 1:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:qt(u,d),mf(t,r,u,d,o);case 3:e:{if(vf(r),t===null)throw Error(n(387));u=r.pendingProps,f=r.memoizedState,d=f.element,jh(t,r),Ro(r,u,null,o);var m=r.memoizedState;if(u=m.element,f.isDehydrated)if(f={element:u,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){d=as(Error(n(423)),r),r=yf(t,r,u,o,d);break e}else if(u!==d){d=as(Error(n(424)),r),r=yf(t,r,u,o,d);break e}else for(Pt=Ar(r.stateNode.containerInfo.firstChild),xt=r,je=!0,zt=null,o=Th(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(rs(),u===d){r=pr(t,r,o);break e}ut(t,r,u,o)}r=r.child}return r;case 5:return Nh(r),t===null&&Nl(r),u=r.type,d=r.pendingProps,f=t!==null?t.memoizedProps:null,m=d.children,xl(u,d)?m=null:f!==null&&xl(u,f)&&(r.flags|=32),gf(t,r),ut(t,r,m,o),r.child;case 6:return t===null&&Nl(r),null;case 13:return wf(t,r,o);case 4:return zl(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=ns(r,null,u,o):ut(t,r,u,o),r.child;case 11:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:qt(u,d),df(t,r,u,d,o);case 7:return ut(t,r,r.pendingProps,o),r.child;case 8:return ut(t,r,r.pendingProps.children,o),r.child;case 12:return ut(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,d=r.pendingProps,f=r.memoizedProps,m=d.value,Pe(Oo,u._currentValue),u._currentValue=m,f!==null)if(Bt(f.value,m)){if(f.children===d.children&&!gt.current){r=pr(t,r,o);break e}}else for(f=r.child,f!==null&&(f.return=r);f!==null;){var S=f.dependencies;if(S!==null){m=f.child;for(var x=S.firstContext;x!==null;){if(x.context===u){if(f.tag===1){x=fr(-1,o&-o),x.tag=2;var I=f.updateQueue;if(I!==null){I=I.shared;var F=I.pending;F===null?x.next=x:(x.next=F.next,F.next=x),I.pending=x}}f.lanes|=o,x=f.alternate,x!==null&&(x.lanes|=o),Ml(f.return,o,r),S.lanes|=o;break}x=x.next}}else if(f.tag===10)m=f.type===r.type?null:f.child;else if(f.tag===18){if(m=f.return,m===null)throw Error(n(341));m.lanes|=o,S=m.alternate,S!==null&&(S.lanes|=o),Ml(m,o,r),m=f.sibling}else m=f.child;if(m!==null)m.return=f;else for(m=f;m!==null;){if(m===r){m=null;break}if(f=m.sibling,f!==null){f.return=m.return,m=f;break}m=m.return}f=m}ut(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,u=r.pendingProps.children,is(r,o),d=It(d),u=u(d),r.flags|=1,ut(t,r,u,o),r.child;case 14:return u=r.type,d=qt(u,r.pendingProps),d=qt(u.type,d),hf(t,r,u,d,o);case 15:return ff(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,d=r.pendingProps,d=r.elementType===u?d:qt(u,d),Mo(t,r),r.tag=1,mt(u)?(t=!0,So(r)):t=!1,is(r,o),nf(r,u,d),tu(r,u,d,o),iu(null,r,u,!0,t,o);case 19:return Sf(t,r,o);case 22:return pf(t,r,o)}throw Error(n(156,r.tag))};function Wf(t,r){return Ed(t,r)}function Ny(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dt(t,r,o,u){return new Ny(t,r,o,u)}function xu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ly(t){if(typeof t=="function")return xu(t)?1:0;if(t!=null){if(t=t.$$typeof,t===et)return 11;if(t===Xt)return 14}return 2}function qr(t,r){var o=t.alternate;return o===null?(o=Dt(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Jo(t,r,o,u,d,f){var m=2;if(u=t,typeof t=="function")xu(t)&&(m=1);else if(typeof t=="string")m=5;else e:switch(t){case B:return _n(o.children,d,f,r);case V:m=8,d|=8;break;case ne:return t=Dt(12,o,r,d|2),t.elementType=ne,t.lanes=f,t;case Ge:return t=Dt(13,o,r,d),t.elementType=Ge,t.lanes=f,t;case Mt:return t=Dt(19,o,r,d),t.elementType=Mt,t.lanes=f,t;case De:return Yo(o,d,f,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J:m=10;break e;case ve:m=9;break e;case et:m=11;break e;case Xt:m=14;break e;case pt:m=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=Dt(m,o,r,d),r.elementType=t,r.type=u,r.lanes=f,r}function _n(t,r,o,u){return t=Dt(7,t,u,r),t.lanes=o,t}function Yo(t,r,o,u){return t=Dt(22,t,u,r),t.elementType=De,t.lanes=o,t.stateNode={isHidden:!1},t}function Pu(t,r,o){return t=Dt(6,t,null,r),t.lanes=o,t}function Ou(t,r,o){return r=Dt(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Dy(t,r,o,u,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=u,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Cu(t,r,o,u,d,f,m,S,x){return t=new Dy(t,r,o,S,x),r===1?(r=1,f===!0&&(r|=8)):r=0,f=Dt(3,null,null,r),t.current=f,f.stateNode=t,f.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bl(f),t}function Uy(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:G,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function Hf(t){if(!t)return Nr;t=t._reactInternals;e:{if(ln(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(mt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(mt(o))return wh(t,o,r)}return r}function Kf(t,r,o,u,d,f,m,S,x){return t=Cu(o,u,!0,t,d,f,m,S,x),t.context=Hf(null),o=t.current,u=ct(),d=Br(o),f=fr(u,d),f.callback=r??null,Ur(o,f,d),t.current.lanes=d,Gs(t,d,u),wt(t,u),t}function Xo(t,r,o,u){var d=r.current,f=ct(),m=Br(d);return o=Hf(o),r.context===null?r.context=o:r.pendingContext=o,r=fr(f,m),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Ur(d,r,m),t!==null&&(Ht(t,d,m,f),To(t,d,m)),m}function Zo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qf(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function Tu(t,r){Qf(t,r),(t=t.alternate)&&Qf(t,r)}function $y(){return null}var Gf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ru(t){this._internalRoot=t}ea.prototype.render=Ru.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Xo(t,r,null,null)},ea.prototype.unmount=Ru.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;vn(function(){Xo(null,t,null,null)}),r[lr]=null}};function ea(t){this._internalRoot=t}ea.prototype.unstable_scheduleHydration=function(t){if(t){var r=jd();t={blockedOn:null,target:t,priority:r};for(var o=0;o<Tr.length&&r!==0&&r<Tr[o].priority;o++);Tr.splice(o,0,t),o===0&&Nd(t)}};function ju(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jf(){}function My(t,r,o,u,d){if(d){if(typeof u=="function"){var f=u;u=function(){var I=Zo(m);f.call(I)}}var m=Kf(r,u,t,0,null,!1,!1,"",Jf);return t._reactRootContainer=m,t[lr]=m.current,ui(t.nodeType===8?t.parentNode:t),vn(),m}for(;d=t.lastChild;)t.removeChild(d);if(typeof u=="function"){var S=u;u=function(){var I=Zo(x);S.call(I)}}var x=Cu(t,0,!1,null,null,!1,!1,"",Jf);return t._reactRootContainer=x,t[lr]=x.current,ui(t.nodeType===8?t.parentNode:t),vn(function(){Xo(r,x,o,u)}),x}function ra(t,r,o,u,d){var f=o._reactRootContainer;if(f){var m=f;if(typeof d=="function"){var S=d;d=function(){var x=Zo(m);S.call(x)}}Xo(r,m,t,d)}else m=My(o,r,t,d,u);return Zo(m)}Td=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Qs(r.pendingLanes);o!==0&&(tl(r,o|1),wt(r,Fe()),(me&6)===0&&(cs=Fe()+500,Lr()))}break;case 13:vn(function(){var u=hr(t,1);if(u!==null){var d=ct();Ht(u,t,1,d)}}),Tu(t,1)}},rl=function(t){if(t.tag===13){var r=hr(t,134217728);if(r!==null){var o=ct();Ht(r,t,134217728,o)}Tu(t,134217728)}},Rd=function(t){if(t.tag===13){var r=Br(t),o=hr(t,r);if(o!==null){var u=ct();Ht(o,t,r,u)}Tu(t,r)}},jd=function(){return ke},Ad=function(t,r){var o=ke;try{return ke=t,r()}finally{ke=o}},Qa=function(t,r,o){switch(r){case"input":if(Fa(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var d=wo(u);if(!d)throw Error(n(90));rd(u),Fa(u,d)}}}break;case"textarea":ad(t,o);break;case"select":r=o.value,r!=null&&Bn(t,!!o.multiple,r,!1)}},md=bu,vd=vn;var Fy={usingClientEntryPoint:!1,Events:[hi,Yn,wo,pd,gd,bu]},Pi={findFiberByHostInstance:un,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},By={bundleType:Pi.bundleType,version:Pi.version,rendererPackageName:Pi.rendererPackageName,rendererConfig:Pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sd(t),t===null?null:t.stateNode},findFiberByHostInstance:Pi.findFiberByHostInstance||$y,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Zi=na.inject(By),Zt=na}catch{}}return _t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fy,_t.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ju(r))throw Error(n(200));return Uy(t,r,null,o)},_t.createRoot=function(t,r){if(!ju(t))throw Error(n(299));var o=!1,u="",d=Gf;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=Cu(t,1,!1,null,null,o,!1,u,d),t[lr]=r.current,ui(t.nodeType===8?t.parentNode:t),new Ru(r)},_t.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=Sd(r),t=t===null?null:t.stateNode,t},_t.flushSync=function(t){return vn(t)},_t.hydrate=function(t,r,o){if(!ta(r))throw Error(n(200));return ra(null,t,r,!0,o)},_t.hydrateRoot=function(t,r,o){if(!ju(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,d=!1,f="",m=Gf;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),r=Kf(r,null,t,1,o??null,d,!1,f,m),t[lr]=r.current,ui(t),u)for(t=0;t<u.length;t++)o=u[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new ea(r)},_t.render=function(t,r,o){if(!ta(r))throw Error(n(200));return ra(null,t,r,!1,o)},_t.unmountComponentAtNode=function(t){if(!ta(t))throw Error(n(40));return t._reactRootContainer?(vn(function(){ra(null,null,t,!1,function(){t._reactRootContainer=null,t[lr]=null})}),!0):!1},_t.unstable_batchedUpdates=bu,_t.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!ta(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return ra(t,r,o,!1,u)},_t.version="18.3.1-next-f1338f8080-20240426",_t}var ip;function gg(){if(ip)return Du.exports;ip=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Du.exports=Xy(),Du.exports}var op;function Zy(){if(op)return ia;op=1;var s=gg();return ia.createRoot=s.createRoot,ia.hydrateRoot=s.hydrateRoot,ia}var e0=Zy();const t0=Ta(e0);var r0=gg();const GE=Ta(r0);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ni(){return Ni=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Ni.apply(this,arguments)}var nn;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(nn||(nn={}));const ap="popstate";function n0(s){s===void 0&&(s={});function e(i,a){let{pathname:l,search:c,hash:h}=i.location;return Zu("",{pathname:l,search:c,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:ya(a)}return i0(e,n,null,s)}function Le(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function $c(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function s0(){return Math.random().toString(36).substr(2,8)}function lp(s,e){return{usr:s.state,key:s.key,idx:e}}function Zu(s,e,n,i){return n===void 0&&(n=null),Ni({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?Ds(e):e,{state:n,key:e&&e.key||i||s0()})}function ya(s){let{pathname:e="/",search:n="",hash:i=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Ds(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let i=s.indexOf("?");i>=0&&(e.search=s.substr(i),s=s.substr(0,i)),s&&(e.pathname=s)}return e}function i0(s,e,n,i){i===void 0&&(i={});let{window:a=document.defaultView,v5Compat:l=!1}=i,c=a.history,h=nn.Pop,p=null,g=v();g==null&&(g=0,c.replaceState(Ni({},c.state,{idx:g}),""));function v(){return(c.state||{idx:null}).idx}function y(){h=nn.Pop;let b=v(),N=b==null?null:b-g;g=b,p&&p({action:h,location:E.location,delta:N})}function _(b,N){h=nn.Push;let L=Zu(E.location,b,N);g=v()+1;let A=lp(L,g),C=E.createHref(L);try{c.pushState(A,"",C)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;a.location.assign(C)}l&&p&&p({action:h,location:E.location,delta:1})}function w(b,N){h=nn.Replace;let L=Zu(E.location,b,N);g=v();let A=lp(L,g),C=E.createHref(L);c.replaceState(A,"",C),l&&p&&p({action:h,location:E.location,delta:0})}function P(b){let N=a.location.origin!=="null"?a.location.origin:a.location.href,L=typeof b=="string"?b:ya(b);return L=L.replace(/ $/,"%20"),Le(N,"No window.location.(origin|href) available to create URL for href: "+L),new URL(L,N)}let E={get action(){return h},get location(){return s(a,c)},listen(b){if(p)throw new Error("A history only accepts one active listener");return a.addEventListener(ap,y),p=b,()=>{a.removeEventListener(ap,y),p=null}},createHref(b){return e(a,b)},createURL:P,encodeLocation(b){let N=P(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:_,replace:w,go(b){return c.go(b)}};return E}var up;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(up||(up={}));function o0(s,e,n){return n===void 0&&(n="/"),a0(s,e,n)}function a0(s,e,n,i){let a=typeof e=="string"?Ds(e):e,l=Ns(a.pathname||"/",n);if(l==null)return null;let c=mg(s);l0(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let g=w0(l);h=v0(c[p],g)}return h}function mg(s,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let a=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(Le(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let g=sn([i,p.relativePath]),v=n.concat(p);l.children&&l.children.length>0&&(Le(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),mg(l.children,e,v,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:g0(g,l.index),routesMeta:v})};return s.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,c);else for(let p of vg(l.path))a(l,c,p)}),e}function vg(s){let e=s.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let c=vg(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),a&&h.push(...c),h.map(p=>s.startsWith("/")&&p===""?"/":p)}function l0(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:m0(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const u0=/^:[\w-]+$/,c0=3,d0=2,h0=1,f0=10,p0=-2,cp=s=>s==="*";function g0(s,e){let n=s.split("/"),i=n.length;return n.some(cp)&&(i+=p0),e&&(i+=d0),n.filter(a=>!cp(a)).reduce((a,l)=>a+(u0.test(l)?c0:l===""?h0:f0),i)}function m0(s,e){return s.length===e.length&&s.slice(0,-1).every((i,a)=>i===e[a])?s[s.length-1]-e[e.length-1]:0}function v0(s,e,n){let{routesMeta:i}=s,a={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],g=h===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",y=ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),_=p.route;if(!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:sn([l,y.pathname]),pathnameBase:k0(sn([l,y.pathnameBase])),route:_}),y.pathnameBase!=="/"&&(l=sn([l,y.pathnameBase]))}return c}function ec(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,i]=y0(s.path,s.caseSensitive,s.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,v,y)=>{let{paramName:_,isOptional:w}=v;if(_==="*"){let E=h[y]||"";c=l.slice(0,l.length-E.length).replace(/(.)\/+$/,"$1")}const P=h[y];return w&&!P?g[_]=void 0:g[_]=(P||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:s}}function y0(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$c(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function w0(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $c(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function Ns(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=s.charAt(n);return i&&i!=="/"?null:s.slice(n)||"/"}const _0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,S0=s=>_0.test(s);function b0(s,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:a=""}=typeof s=="string"?Ds(s):s,l;if(n)if(S0(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),$c(!1,"Pathnames cannot have embedded double slashes - normalizing "+(c+" -> "+n))}n.startsWith("/")?l=dp(n.substring(1),"/"):l=dp(n,e)}else l=e;return{pathname:l,search:x0(i),hash:P0(a)}}function dp(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Mu(s,e,n,i){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function E0(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Mc(s,e){let n=E0(s);return e?n.map((i,a)=>a===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Fc(s,e,n,i){i===void 0&&(i=!1);let a;typeof s=="string"?a=Ds(s):(a=Ni({},s),Le(!a.pathname||!a.pathname.includes("?"),Mu("?","pathname","search",a)),Le(!a.pathname||!a.pathname.includes("#"),Mu("#","pathname","hash",a)),Le(!a.search||!a.search.includes("#"),Mu("#","search","hash",a)));let l=s===""||a.pathname==="",c=l?"/":a.pathname,h;if(c==null)h=n;else{let y=e.length-1;if(!i&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),y-=1;a.pathname=_.join("/")}h=y>=0?e[y]:"/"}let p=b0(a,h),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}const sn=s=>s.join("/").replace(/\/\/+/g,"/"),k0=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),x0=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,P0=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function O0(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const yg=["post","put","patch","delete"];new Set(yg);const C0=["get",...yg];new Set(C0);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Li(){return Li=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},Li.apply(this,arguments)}const Ra=D.createContext(null),wg=D.createContext(null),kr=D.createContext(null),ja=D.createContext(null),ar=D.createContext({outlet:null,matches:[],isDataRoute:!1}),_g=D.createContext(null);function T0(s,e){let{relative:n}=e===void 0?{}:e;Us()||Le(!1);let{basename:i,navigator:a}=D.useContext(kr),{hash:l,pathname:c,search:h}=Ia(s,{relative:n}),p=c;return i!=="/"&&(p=c==="/"?i:sn([i,c])),a.createHref({pathname:p,search:h,hash:l})}function Us(){return D.useContext(ja)!=null}function xr(){return Us()||Le(!1),D.useContext(ja).location}function Sg(s){D.useContext(kr).static||D.useLayoutEffect(s)}function Aa(){let{isDataRoute:s}=D.useContext(ar);return s?V0():R0()}function R0(){Us()||Le(!1);let s=D.useContext(Ra),{basename:e,future:n,navigator:i}=D.useContext(kr),{matches:a}=D.useContext(ar),{pathname:l}=xr(),c=JSON.stringify(Mc(a,n.v7_relativeSplatPath)),h=D.useRef(!1);return Sg(()=>{h.current=!0}),D.useCallback(function(g,v){if(v===void 0&&(v={}),!h.current)return;if(typeof g=="number"){i.go(g);return}let y=Fc(g,JSON.parse(c),l,v.relative==="path");s==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:sn([e,y.pathname])),(v.replace?i.replace:i.push)(y,v.state,v)},[e,i,c,l,s])}const j0=D.createContext(null);function A0(s){let e=D.useContext(ar).outlet;return e&&D.createElement(j0.Provider,{value:s},e)}function JE(){let{matches:s}=D.useContext(ar),e=s[s.length-1];return e?e.params:{}}function Ia(s,e){let{relative:n}=e===void 0?{}:e,{future:i}=D.useContext(kr),{matches:a}=D.useContext(ar),{pathname:l}=xr(),c=JSON.stringify(Mc(a,i.v7_relativeSplatPath));return D.useMemo(()=>Fc(s,JSON.parse(c),l,n==="path"),[s,c,l,n])}function I0(s,e){return N0(s,e)}function N0(s,e,n,i){Us()||Le(!1);let{navigator:a}=D.useContext(kr),{matches:l}=D.useContext(ar),c=l[l.length-1],h=c?c.params:{};c&&c.pathname;let p=c?c.pathnameBase:"/";c&&c.route;let g=xr(),v;if(e){var y;let b=typeof e=="string"?Ds(e):e;p==="/"||(y=b.pathname)!=null&&y.startsWith(p)||Le(!1),v=b}else v=g;let _=v.pathname||"/",w=_;if(p!=="/"){let b=p.replace(/^\//,"").split("/");w="/"+_.replace(/^\//,"").split("/").slice(b.length).join("/")}let P=o0(s,{pathname:w}),E=M0(P&&P.map(b=>Object.assign({},b,{params:Object.assign({},h,b.params),pathname:sn([p,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?p:sn([p,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),l,n,i);return e&&E?D.createElement(ja.Provider,{value:{location:Li({pathname:"/",search:"",hash:"",state:null,key:"default"},v),navigationType:nn.Pop}},E):E}function L0(){let s=q0(),e=O0(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:a},n):null,null)}const D0=D.createElement(L0,null);class U0 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(ar.Provider,{value:this.props.routeContext},D.createElement(_g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function $0(s){let{routeContext:e,match:n,children:i}=s,a=D.useContext(Ra);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(ar.Provider,{value:e},i)}function M0(s,e,n,i){var a;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),s==null){var l;if(!n)return null;if(n.errors)s=n.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let c=s,h=(a=n)==null?void 0:a.errors;if(h!=null){let v=c.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);v>=0||Le(!1),c=c.slice(0,Math.min(c.length,v+1))}let p=!1,g=-1;if(n&&i&&i.v7_partialHydration)for(let v=0;v<c.length;v++){let y=c[v];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(g=v),y.route.id){let{loaderData:_,errors:w}=n,P=y.route.loader&&_[y.route.id]===void 0&&(!w||w[y.route.id]===void 0);if(y.route.lazy||P){p=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((v,y,_)=>{let w,P=!1,E=null,b=null;n&&(w=h&&y.route.id?h[y.route.id]:void 0,E=y.route.errorElement||D0,p&&(g<0&&_===0?(W0("route-fallback"),P=!0,b=null):g===_&&(P=!0,b=y.route.hydrateFallbackElement||null)));let N=e.concat(c.slice(0,_+1)),L=()=>{let A;return w?A=E:P?A=b:y.route.Component?A=D.createElement(y.route.Component,null):y.route.element?A=y.route.element:A=v,D.createElement($0,{match:y,routeContext:{outlet:v,matches:N,isDataRoute:n!=null},children:A})};return n&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?D.createElement(U0,{location:n.location,revalidation:n.revalidation,component:E,error:w,children:L(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):L()},null)}var bg=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(bg||{}),Eg=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Eg||{});function F0(s){let e=D.useContext(Ra);return e||Le(!1),e}function B0(s){let e=D.useContext(wg);return e||Le(!1),e}function z0(s){let e=D.useContext(ar);return e||Le(!1),e}function kg(s){let e=z0(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function q0(){var s;let e=D.useContext(_g),n=B0(),i=kg();return e!==void 0?e:(s=n.errors)==null?void 0:s[i]}function V0(){let{router:s}=F0(bg.UseNavigateStable),e=kg(Eg.UseNavigateStable),n=D.useRef(!1);return Sg(()=>{n.current=!0}),D.useCallback(function(a,l){l===void 0&&(l={}),n.current&&(typeof a=="number"?s.navigate(a):s.navigate(a,Li({fromRouteId:e},l)))},[s,e])}const hp={};function W0(s,e,n){hp[s]||(hp[s]=!0)}function H0(s,e){s==null||s.v7_startTransition,s==null||s.v7_relativeSplatPath}function K0(s){let{to:e,replace:n,state:i,relative:a}=s;Us()||Le(!1);let{future:l,static:c}=D.useContext(kr),{matches:h}=D.useContext(ar),{pathname:p}=xr(),g=Aa(),v=Fc(e,Mc(h,l.v7_relativeSplatPath),p,a==="path"),y=JSON.stringify(v);return D.useEffect(()=>g(JSON.parse(y),{replace:n,state:i,relative:a}),[g,y,a,n,i]),null}function xg(s){return A0(s.context)}function $e(s){Le(!1)}function Q0(s){let{basename:e="/",children:n=null,location:i,navigationType:a=nn.Pop,navigator:l,static:c=!1,future:h}=s;Us()&&Le(!1);let p=e.replace(/^\/*/,"/"),g=D.useMemo(()=>({basename:p,navigator:l,static:c,future:Li({v7_relativeSplatPath:!1},h)}),[p,h,l,c]);typeof i=="string"&&(i=Ds(i));let{pathname:v="/",search:y="",hash:_="",state:w=null,key:P="default"}=i,E=D.useMemo(()=>{let b=Ns(v,p);return b==null?null:{location:{pathname:b,search:y,hash:_,state:w,key:P},navigationType:a}},[p,v,y,_,w,P,a]);return E==null?null:D.createElement(kr.Provider,{value:g},D.createElement(ja.Provider,{children:n,value:E}))}function G0(s){let{children:e,location:n}=s;return I0(tc(e),n)}new Promise(()=>{});function tc(s,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(s,(i,a)=>{if(!D.isValidElement(i))return;let l=[...e,a];if(i.type===D.Fragment){n.push.apply(n,tc(i.props.children,l));return}i.type!==$e&&Le(!1),!i.props.index||!i.props.children||Le(!1);let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=tc(i.props.children,l)),n.push(c)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wa(){return wa=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(s[i]=n[i])}return s},wa.apply(this,arguments)}function Pg(s,e){if(s==null)return{};var n={},i=Object.keys(s),a,l;for(l=0;l<i.length;l++)a=i[l],!(e.indexOf(a)>=0)&&(n[a]=s[a]);return n}function J0(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Y0(s,e){return s.button===0&&(!e||e==="_self")&&!J0(s)}function rc(s){return s===void 0&&(s=""),new URLSearchParams(typeof s=="string"||Array.isArray(s)||s instanceof URLSearchParams?s:Object.keys(s).reduce((e,n)=>{let i=s[n];return e.concat(Array.isArray(i)?i.map(a=>[n,a]):[[n,i]])},[]))}function X0(s,e){let n=rc(s);return e&&e.forEach((i,a)=>{n.has(a)||e.getAll(a).forEach(l=>{n.append(a,l)})}),n}const Z0=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],ew=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tw="6";try{window.__reactRouterVersion=tw}catch{}const rw=D.createContext({isTransitioning:!1}),nw="startTransition",fp=Gy[nw];function sw(s){let{basename:e,children:n,future:i,window:a}=s,l=D.useRef();l.current==null&&(l.current=n0({window:a,v5Compat:!0}));let c=l.current,[h,p]=D.useState({action:c.action,location:c.location}),{v7_startTransition:g}=i||{},v=D.useCallback(y=>{g&&fp?fp(()=>p(y)):p(y)},[p,g]);return D.useLayoutEffect(()=>c.listen(v),[c,v]),D.useEffect(()=>H0(i),[i]),D.createElement(Q0,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:c,future:i})}const iw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ow=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,aw=D.forwardRef(function(e,n){let{onClick:i,relative:a,reloadDocument:l,replace:c,state:h,target:p,to:g,preventScrollReset:v,viewTransition:y}=e,_=Pg(e,Z0),{basename:w}=D.useContext(kr),P,E=!1;if(typeof g=="string"&&ow.test(g)&&(P=g,iw))try{let A=new URL(window.location.href),C=g.startsWith("//")?new URL(A.protocol+g):new URL(g),K=Ns(C.pathname,w);C.origin===A.origin&&K!=null?g=K+C.search+C.hash:E=!0}catch{}let b=T0(g,{relative:a}),N=cw(g,{replace:c,state:h,target:p,preventScrollReset:v,relative:a,viewTransition:y});function L(A){i&&i(A),A.defaultPrevented||N(A)}return D.createElement("a",wa({},_,{href:P||b,onClick:E||l?i:L,ref:n,target:p}))}),lw=D.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:a=!1,className:l="",end:c=!1,style:h,to:p,viewTransition:g,children:v}=e,y=Pg(e,ew),_=Ia(p,{relative:y.relative}),w=xr(),P=D.useContext(wg),{navigator:E,basename:b}=D.useContext(kr),N=P!=null&&dw(_)&&g===!0,L=E.encodeLocation?E.encodeLocation(_).pathname:_.pathname,A=w.pathname,C=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;a||(A=A.toLowerCase(),C=C?C.toLowerCase():null,L=L.toLowerCase()),C&&b&&(C=Ns(C,b)||C);const K=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let G=A===L||!c&&A.startsWith(L)&&A.charAt(K)==="/",B=C!=null&&(C===L||!c&&C.startsWith(L)&&C.charAt(L.length)==="/"),V={isActive:G,isPending:B,isTransitioning:N},ne=G?i:void 0,J;typeof l=="function"?J=l(V):J=[l,G?"active":null,B?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let ve=typeof h=="function"?h(V):h;return D.createElement(aw,wa({},y,{"aria-current":ne,className:J,ref:n,style:ve,to:p,viewTransition:g}),typeof v=="function"?v(V):v)});var nc;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(nc||(nc={}));var pp;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(pp||(pp={}));function uw(s){let e=D.useContext(Ra);return e||Le(!1),e}function cw(s,e){let{target:n,replace:i,state:a,preventScrollReset:l,relative:c,viewTransition:h}=e===void 0?{}:e,p=Aa(),g=xr(),v=Ia(s,{relative:c});return D.useCallback(y=>{if(Y0(y,n)){y.preventDefault();let _=i!==void 0?i:ya(g)===ya(v);p(s,{replace:_,state:a,preventScrollReset:l,relative:c,viewTransition:h})}},[g,p,v,i,a,n,s,l,c,h])}function YE(s){let e=D.useRef(rc(s)),n=D.useRef(!1),i=xr(),a=D.useMemo(()=>X0(i.search,n.current?null:e.current),[i.search]),l=Aa(),c=D.useCallback((h,p)=>{const g=rc(typeof h=="function"?h(a):h);n.current=!0,l("?"+g,p)},[l,a]);return[a,c]}function dw(s,e){e===void 0&&(e={});let n=D.useContext(rw);n==null&&Le(!1);let{basename:i}=uw(nc.useViewTransitionState),a=Ia(s,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Ns(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=Ns(n.nextLocation.pathname,i)||n.nextLocation.pathname;return ec(a.pathname,c)!=null||ec(a.pathname,l)!=null}var $s=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hw={setTimeout:(s,e)=>setTimeout(s,e),clearTimeout:s=>clearTimeout(s),setInterval:(s,e)=>setInterval(s,e),clearInterval:s=>clearInterval(s)},Qr,Dc,ng,fw=(ng=class{constructor(){ie(this,Qr,hw);ie(this,Dc,!1)}setTimeoutProvider(s){W(this,Qr,s)}setTimeout(s,e){return k(this,Qr).setTimeout(s,e)}clearTimeout(s){k(this,Qr).clearTimeout(s)}setInterval(s,e){return k(this,Qr).setInterval(s,e)}clearInterval(s){k(this,Qr).clearInterval(s)}},Qr=new WeakMap,Dc=new WeakMap,ng),On=new fw;function pw(s){setTimeout(s,0)}var Mn=typeof window>"u"||"Deno"in globalThis;function ft(){}function gw(s,e){return typeof s=="function"?s(e):s}function sc(s){return typeof s=="number"&&s>=0&&s!==1/0}function Og(s,e){return Math.max(s+(e||0)-Date.now(),0)}function on(s,e){return typeof s=="function"?s(e):s}function $t(s,e){return typeof s=="function"?s(e):s}function gp(s,e){const{type:n="all",exact:i,fetchStatus:a,predicate:l,queryKey:c,stale:h}=s;if(c){if(i){if(e.queryHash!==Bc(c,e.options))return!1}else if(!Di(e.queryKey,c))return!1}if(n!=="all"){const p=e.isActive();if(n==="active"&&!p||n==="inactive"&&p)return!1}return!(typeof h=="boolean"&&e.isStale()!==h||a&&a!==e.state.fetchStatus||l&&!l(e))}function mp(s,e){const{exact:n,status:i,predicate:a,mutationKey:l}=s;if(l){if(!e.options.mutationKey)return!1;if(n){if(Fn(e.options.mutationKey)!==Fn(l))return!1}else if(!Di(e.options.mutationKey,l))return!1}return!(i&&e.state.status!==i||a&&!a(e))}function Bc(s,e){return((e==null?void 0:e.queryKeyHashFn)||Fn)(s)}function Fn(s){return JSON.stringify(s,(e,n)=>ic(n)?Object.keys(n).sort().reduce((i,a)=>(i[a]=n[a],i),{}):n)}function Di(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?Object.keys(e).every(n=>Di(s[n],e[n])):!1}var mw=Object.prototype.hasOwnProperty;function Cg(s,e){if(s===e)return s;const n=vp(s)&&vp(e);if(!n&&!(ic(s)&&ic(e)))return e;const a=(n?s:Object.keys(s)).length,l=n?e:Object.keys(e),c=l.length,h=n?new Array(c):{};let p=0;for(let g=0;g<c;g++){const v=n?g:l[g],y=s[v],_=e[v];if(y===_){h[v]=y,(n?g<a:mw.call(s,v))&&p++;continue}if(y===null||_===null||typeof y!="object"||typeof _!="object"){h[v]=_;continue}const w=Cg(y,_);h[v]=w,w===y&&p++}return a===c&&p===a?s:h}function _a(s,e){if(!e||Object.keys(s).length!==Object.keys(e).length)return!1;for(const n in s)if(s[n]!==e[n])return!1;return!0}function vp(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function ic(s){if(!yp(s))return!1;const e=s.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yp(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function yp(s){return Object.prototype.toString.call(s)==="[object Object]"}function vw(s){return new Promise(e=>{On.setTimeout(e,s)})}function oc(s,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(s,e):n.structuralSharing!==!1?Cg(s,e):e}function yw(s,e,n=0){const i=[...s,e];return n&&i.length>n?i.slice(1):i}function ww(s,e,n=0){const i=[e,...s];return n&&i.length>n?i.slice(0,-1):i}var zc=Symbol();function Tg(s,e){return!s.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!s.queryFn||s.queryFn===zc?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Rg(s,e){return typeof s=="function"?s(...e):!!s}var Tn,Gr,bs,sg,_w=(sg=class extends $s{constructor(){super();ie(this,Tn);ie(this,Gr);ie(this,bs);W(this,bs,e=>{if(!Mn&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){k(this,Gr)||this.setEventListener(k(this,bs))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Gr))==null||e.call(this),W(this,Gr,void 0))}setEventListener(e){var n;W(this,bs,e),(n=k(this,Gr))==null||n.call(this),W(this,Gr,e(i=>{typeof i=="boolean"?this.setFocused(i):this.onFocus()}))}setFocused(e){k(this,Tn)!==e&&(W(this,Tn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof k(this,Tn)=="boolean"?k(this,Tn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Tn=new WeakMap,Gr=new WeakMap,bs=new WeakMap,sg),qc=new _w;function ac(){let s,e;const n=new Promise((a,l)=>{s=a,e=l});n.status="pending",n.catch(()=>{});function i(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{i({status:"fulfilled",value:a}),s(a)},n.reject=a=>{i({status:"rejected",reason:a}),e(a)},n}var Sw=pw;function bw(){let s=[],e=0,n=h=>{h()},i=h=>{h()},a=Sw;const l=h=>{e?s.push(h):a(()=>{n(h)})},c=()=>{const h=s;s=[],h.length&&a(()=>{i(()=>{h.forEach(p=>{n(p)})})})};return{batch:h=>{let p;e++;try{p=h()}finally{e--,e||c()}return p},batchCalls:h=>(...p)=>{l(()=>{h(...p)})},schedule:l,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{i=h},setScheduler:h=>{a=h}}}var Ke=bw(),Es,Jr,ks,ig,Ew=(ig=class extends $s{constructor(){super();ie(this,Es,!0);ie(this,Jr);ie(this,ks);W(this,ks,e=>{if(!Mn&&window.addEventListener){const n=()=>e(!0),i=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",i,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",i)}}})}onSubscribe(){k(this,Jr)||this.setEventListener(k(this,ks))}onUnsubscribe(){var e;this.hasListeners()||((e=k(this,Jr))==null||e.call(this),W(this,Jr,void 0))}setEventListener(e){var n;W(this,ks,e),(n=k(this,Jr))==null||n.call(this),W(this,Jr,e(this.setOnline.bind(this)))}setOnline(e){k(this,Es)!==e&&(W(this,Es,e),this.listeners.forEach(i=>{i(e)}))}isOnline(){return k(this,Es)}},Es=new WeakMap,Jr=new WeakMap,ks=new WeakMap,ig),Sa=new Ew;function kw(s){return Math.min(1e3*2**s,3e4)}function jg(s){return(s??"online")==="online"?Sa.isOnline():!0}var lc=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Ag(s){let e=!1,n=0,i;const a=ac(),l=()=>a.status!=="pending",c=E=>{var b;if(!l()){const N=new lc(E);_(N),(b=s.onCancel)==null||b.call(s,N)}},h=()=>{e=!0},p=()=>{e=!1},g=()=>qc.isFocused()&&(s.networkMode==="always"||Sa.isOnline())&&s.canRun(),v=()=>jg(s.networkMode)&&s.canRun(),y=E=>{l()||(i==null||i(),a.resolve(E))},_=E=>{l()||(i==null||i(),a.reject(E))},w=()=>new Promise(E=>{var b;i=N=>{(l()||g())&&E(N)},(b=s.onPause)==null||b.call(s)}).then(()=>{var E;i=void 0,l()||(E=s.onContinue)==null||E.call(s)}),P=()=>{if(l())return;let E;const b=n===0?s.initialPromise:void 0;try{E=b??s.fn()}catch(N){E=Promise.reject(N)}Promise.resolve(E).then(y).catch(N=>{var G;if(l())return;const L=s.retry??(Mn?0:3),A=s.retryDelay??kw,C=typeof A=="function"?A(n,N):A,K=L===!0||typeof L=="number"&&n<L||typeof L=="function"&&L(n,N);if(e||!K){_(N);return}n++,(G=s.onFail)==null||G.call(s,n,N),vw(C).then(()=>g()?void 0:w()).then(()=>{e?_(N):P()})})};return{promise:a,status:()=>a.status,cancel:c,continue:()=>(i==null||i(),a),cancelRetry:h,continueRetry:p,canStart:v,start:()=>(v()?P():w().then(P),a)}}var Rn,og,Ig=(og=class{constructor(){ie(this,Rn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),sc(this.gcTime)&&W(this,Rn,On.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Mn?1/0:300*1e3))}clearGcTimeout(){k(this,Rn)&&(On.clearTimeout(k(this,Rn)),W(this,Rn,void 0))}},Rn=new WeakMap,og),jn,xs,Ut,An,Ze,Bi,In,Gt,mr,ag,xw=(ag=class extends Ig{constructor(e){super();ie(this,Gt);ie(this,jn);ie(this,xs);ie(this,Ut);ie(this,An);ie(this,Ze);ie(this,Bi);ie(this,In);W(this,In,!1),W(this,Bi,e.defaultOptions),this.setOptions(e.options),this.observers=[],W(this,An,e.client),W(this,Ut,k(this,An).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,W(this,jn,_p(this.options)),this.state=e.state??k(this,jn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=k(this,Ze))==null?void 0:e.promise}setOptions(e){if(this.options={...k(this,Bi),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=_p(this.options);n.data!==void 0&&(this.setState(wp(n.data,n.dataUpdatedAt)),W(this,jn,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&k(this,Ut).remove(this)}setData(e,n){const i=oc(this.state.data,e,this.options);return de(this,Gt,mr).call(this,{data:i,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),i}setState(e,n){de(this,Gt,mr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var i,a;const n=(i=k(this,Ze))==null?void 0:i.promise;return(a=k(this,Ze))==null||a.cancel(e),n?n.then(ft).catch(ft):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(k(this,jn))}isActive(){return this.observers.some(e=>$t(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zc||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>on(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!Og(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(i=>i.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=k(this,Ze))==null||n.continue()}onOnline(){var n;const e=this.observers.find(i=>i.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=k(this,Ze))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),k(this,Ut).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(k(this,Ze)&&(k(this,In)?k(this,Ze).cancel({revert:!0}):k(this,Ze).cancelRetry()),this.scheduleGc()),k(this,Ut).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||de(this,Gt,mr).call(this,{type:"invalidate"})}async fetch(e,n){var p,g,v,y,_,w,P,E,b,N,L,A;if(this.state.fetchStatus!=="idle"&&((p=k(this,Ze))==null?void 0:p.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(k(this,Ze))return k(this,Ze).continueRetry(),k(this,Ze).promise}if(e&&this.setOptions(e),!this.options.queryFn){const C=this.observers.find(K=>K.options.queryFn);C&&this.setOptions(C.options)}const i=new AbortController,a=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(W(this,In,!0),i.signal)})},l=()=>{const C=Tg(this.options,n),G=(()=>{const B={client:k(this,An),queryKey:this.queryKey,meta:this.meta};return a(B),B})();return W(this,In,!1),this.options.persister?this.options.persister(C,G,this):C(G)},h=(()=>{const C={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:k(this,An),state:this.state,fetchFn:l};return a(C),C})();(g=this.options.behavior)==null||g.onFetch(h,this),W(this,xs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((v=h.fetchOptions)==null?void 0:v.meta))&&de(this,Gt,mr).call(this,{type:"fetch",meta:(y=h.fetchOptions)==null?void 0:y.meta}),W(this,Ze,Ag({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,onCancel:C=>{C instanceof lc&&C.revert&&this.setState({...k(this,xs),fetchStatus:"idle"}),i.abort()},onFail:(C,K)=>{de(this,Gt,mr).call(this,{type:"failed",failureCount:C,error:K})},onPause:()=>{de(this,Gt,mr).call(this,{type:"pause"})},onContinue:()=>{de(this,Gt,mr).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0}));try{const C=await k(this,Ze).start();if(C===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(C),(w=(_=k(this,Ut).config).onSuccess)==null||w.call(_,C,this),(E=(P=k(this,Ut).config).onSettled)==null||E.call(P,C,this.state.error,this),C}catch(C){if(C instanceof lc){if(C.silent)return k(this,Ze).promise;if(C.revert){if(this.state.data===void 0)throw C;return this.state.data}}throw de(this,Gt,mr).call(this,{type:"error",error:C}),(N=(b=k(this,Ut).config).onError)==null||N.call(b,C,this),(A=(L=k(this,Ut).config).onSettled)==null||A.call(L,this.state.data,C,this),C}finally{this.scheduleGc()}}},jn=new WeakMap,xs=new WeakMap,Ut=new WeakMap,An=new WeakMap,Ze=new WeakMap,Bi=new WeakMap,In=new WeakMap,Gt=new WeakSet,mr=function(e){const n=i=>{switch(e.type){case"failed":return{...i,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...Ng(i.data,this.options),fetchMeta:e.meta??null};case"success":const a={...i,...wp(e.data,e.dataUpdatedAt),dataUpdateCount:i.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return W(this,xs,e.manual?a:void 0),a;case"error":const l=e.error;return{...i,error:l,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...e.state}}};this.state=n(this.state),Ke.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),k(this,Ut).notify({query:this,type:"updated",action:e})})},ag);function Ng(s,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jg(e.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function wp(s,e){return{data:s,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function _p(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,n=e!==void 0,i=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?i??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var St,ge,zi,dt,Nn,Ps,yr,Yr,qi,Os,Cs,Ln,Dn,Xr,Ts,be,Ti,uc,cc,dc,hc,fc,pc,gc,Dg,lg,Lg=(lg=class extends $s{constructor(e,n){super();ie(this,be);ie(this,St);ie(this,ge);ie(this,zi);ie(this,dt);ie(this,Nn);ie(this,Ps);ie(this,yr);ie(this,Yr);ie(this,qi);ie(this,Os);ie(this,Cs);ie(this,Ln);ie(this,Dn);ie(this,Xr);ie(this,Ts,new Set);this.options=n,W(this,St,e),W(this,Yr,null),W(this,yr,ac()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(k(this,ge).addObserver(this),Sp(k(this,ge),this.options)?de(this,be,Ti).call(this):this.updateResult(),de(this,be,hc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mc(k(this,ge),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mc(k(this,ge),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,de(this,be,fc).call(this),de(this,be,pc).call(this),k(this,ge).removeObserver(this)}setOptions(e){const n=this.options,i=k(this,ge);if(this.options=k(this,St).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $t(this.options.enabled,k(this,ge))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");de(this,be,gc).call(this),k(this,ge).setOptions(this.options),n._defaulted&&!_a(this.options,n)&&k(this,St).getQueryCache().notify({type:"observerOptionsUpdated",query:k(this,ge),observer:this});const a=this.hasListeners();a&&bp(k(this,ge),i,this.options,n)&&de(this,be,Ti).call(this),this.updateResult(),a&&(k(this,ge)!==i||$t(this.options.enabled,k(this,ge))!==$t(n.enabled,k(this,ge))||on(this.options.staleTime,k(this,ge))!==on(n.staleTime,k(this,ge)))&&de(this,be,uc).call(this);const l=de(this,be,cc).call(this);a&&(k(this,ge)!==i||$t(this.options.enabled,k(this,ge))!==$t(n.enabled,k(this,ge))||l!==k(this,Xr))&&de(this,be,dc).call(this,l)}getOptimisticResult(e){const n=k(this,St).getQueryCache().build(k(this,St),e),i=this.createResult(n,e);return Ow(this,i)&&(W(this,dt,i),W(this,Ps,this.options),W(this,Nn,k(this,ge).state)),i}getCurrentResult(){return k(this,dt)}trackResult(e,n){return new Proxy(e,{get:(i,a)=>(this.trackProp(a),n==null||n(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&k(this,yr).status==="pending"&&k(this,yr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(i,a))})}trackProp(e){k(this,Ts).add(e)}getCurrentQuery(){return k(this,ge)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=k(this,St).defaultQueryOptions(e),i=k(this,St).getQueryCache().build(k(this,St),n);return i.fetch().then(()=>this.createResult(i,n))}fetch(e){return de(this,be,Ti).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),k(this,dt)))}createResult(e,n){var ne;const i=k(this,ge),a=this.options,l=k(this,dt),c=k(this,Nn),h=k(this,Ps),g=e!==i?e.state:k(this,zi),{state:v}=e;let y={...v},_=!1,w;if(n._optimisticResults){const J=this.hasListeners(),ve=!J&&Sp(e,n),et=J&&bp(e,i,n,a);(ve||et)&&(y={...y,...Ng(v.data,e.options)}),n._optimisticResults==="isRestoring"&&(y.fetchStatus="idle")}let{error:P,errorUpdatedAt:E,status:b}=y;w=y.data;let N=!1;if(n.placeholderData!==void 0&&w===void 0&&b==="pending"){let J;l!=null&&l.isPlaceholderData&&n.placeholderData===(h==null?void 0:h.placeholderData)?(J=l.data,N=!0):J=typeof n.placeholderData=="function"?n.placeholderData((ne=k(this,Cs))==null?void 0:ne.state.data,k(this,Cs)):n.placeholderData,J!==void 0&&(b="success",w=oc(l==null?void 0:l.data,J,n),_=!0)}if(n.select&&w!==void 0&&!N)if(l&&w===(c==null?void 0:c.data)&&n.select===k(this,qi))w=k(this,Os);else try{W(this,qi,n.select),w=n.select(w),w=oc(l==null?void 0:l.data,w,n),W(this,Os,w),W(this,Yr,null)}catch(J){W(this,Yr,J)}k(this,Yr)&&(P=k(this,Yr),w=k(this,Os),E=Date.now(),b="error");const L=y.fetchStatus==="fetching",A=b==="pending",C=b==="error",K=A&&L,G=w!==void 0,V={status:b,fetchStatus:y.fetchStatus,isPending:A,isSuccess:b==="success",isError:C,isInitialLoading:K,isLoading:K,data:w,dataUpdatedAt:y.dataUpdatedAt,error:P,errorUpdatedAt:E,failureCount:y.fetchFailureCount,failureReason:y.fetchFailureReason,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>g.dataUpdateCount||y.errorUpdateCount>g.errorUpdateCount,isFetching:L,isRefetching:L&&!A,isLoadingError:C&&!G,isPaused:y.fetchStatus==="paused",isPlaceholderData:_,isRefetchError:C&&G,isStale:Vc(e,n),refetch:this.refetch,promise:k(this,yr),isEnabled:$t(n.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const J=Ge=>{V.status==="error"?Ge.reject(V.error):V.data!==void 0&&Ge.resolve(V.data)},ve=()=>{const Ge=W(this,yr,V.promise=ac());J(Ge)},et=k(this,yr);switch(et.status){case"pending":e.queryHash===i.queryHash&&J(et);break;case"fulfilled":(V.status==="error"||V.data!==et.value)&&ve();break;case"rejected":(V.status!=="error"||V.error!==et.reason)&&ve();break}}return V}updateResult(){const e=k(this,dt),n=this.createResult(k(this,ge),this.options);if(W(this,Nn,k(this,ge).state),W(this,Ps,this.options),k(this,Nn).data!==void 0&&W(this,Cs,k(this,ge)),_a(n,e))return;W(this,dt,n);const i=()=>{if(!e)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!k(this,Ts).size)return!0;const c=new Set(l??k(this,Ts));return this.options.throwOnError&&c.add("error"),Object.keys(k(this,dt)).some(h=>{const p=h;return k(this,dt)[p]!==e[p]&&c.has(p)})};de(this,be,Dg).call(this,{listeners:i()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&de(this,be,hc).call(this)}},St=new WeakMap,ge=new WeakMap,zi=new WeakMap,dt=new WeakMap,Nn=new WeakMap,Ps=new WeakMap,yr=new WeakMap,Yr=new WeakMap,qi=new WeakMap,Os=new WeakMap,Cs=new WeakMap,Ln=new WeakMap,Dn=new WeakMap,Xr=new WeakMap,Ts=new WeakMap,be=new WeakSet,Ti=function(e){de(this,be,gc).call(this);let n=k(this,ge).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ft)),n},uc=function(){de(this,be,fc).call(this);const e=on(this.options.staleTime,k(this,ge));if(Mn||k(this,dt).isStale||!sc(e))return;const i=Og(k(this,dt).dataUpdatedAt,e)+1;W(this,Ln,On.setTimeout(()=>{k(this,dt).isStale||this.updateResult()},i))},cc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(k(this,ge)):this.options.refetchInterval)??!1},dc=function(e){de(this,be,pc).call(this),W(this,Xr,e),!(Mn||$t(this.options.enabled,k(this,ge))===!1||!sc(k(this,Xr))||k(this,Xr)===0)&&W(this,Dn,On.setInterval(()=>{(this.options.refetchIntervalInBackground||qc.isFocused())&&de(this,be,Ti).call(this)},k(this,Xr)))},hc=function(){de(this,be,uc).call(this),de(this,be,dc).call(this,de(this,be,cc).call(this))},fc=function(){k(this,Ln)&&(On.clearTimeout(k(this,Ln)),W(this,Ln,void 0))},pc=function(){k(this,Dn)&&(On.clearInterval(k(this,Dn)),W(this,Dn,void 0))},gc=function(){const e=k(this,St).getQueryCache().build(k(this,St),this.options);if(e===k(this,ge))return;const n=k(this,ge);W(this,ge,e),W(this,zi,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Dg=function(e){Ke.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(k(this,dt))}),k(this,St).getQueryCache().notify({query:k(this,ge),type:"observerResultsUpdated"})})},lg);function Pw(s,e){return $t(e.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&e.retryOnMount===!1)}function Sp(s,e){return Pw(s,e)||s.state.data!==void 0&&mc(s,e,e.refetchOnMount)}function mc(s,e,n){if($t(e.enabled,s)!==!1&&on(e.staleTime,s)!=="static"){const i=typeof n=="function"?n(s):n;return i==="always"||i!==!1&&Vc(s,e)}return!1}function bp(s,e,n,i){return(s!==e||$t(i.enabled,s)===!1)&&(!n.suspense||s.state.status!=="error")&&Vc(s,n)}function Vc(s,e){return $t(e.enabled,s)!==!1&&s.isStaleByTime(on(e.staleTime,s))}function Ow(s,e){return!_a(s.getCurrentResult(),e)}function ba(s){return{onFetch:(e,n)=>{var v,y,_,w,P;const i=e.options,a=(_=(y=(v=e.fetchOptions)==null?void 0:v.meta)==null?void 0:y.fetchMore)==null?void 0:_.direction,l=((w=e.state.data)==null?void 0:w.pages)||[],c=((P=e.state.data)==null?void 0:P.pageParams)||[];let h={pages:[],pageParams:[]},p=0;const g=async()=>{let E=!1;const b=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},N=Tg(e.options,e.fetchOptions),L=async(A,C,K)=>{if(E)return Promise.reject();if(C==null&&A.pages.length)return Promise.resolve(A);const B=(()=>{const ve={client:e.client,queryKey:e.queryKey,pageParam:C,direction:K?"backward":"forward",meta:e.options.meta};return b(ve),ve})(),V=await N(B),{maxPages:ne}=e.options,J=K?ww:yw;return{pages:J(A.pages,V,ne),pageParams:J(A.pageParams,C,ne)}};if(a&&l.length){const A=a==="backward",C=A?Ug:vc,K={pages:l,pageParams:c},G=C(i,K);h=await L(K,G,A)}else{const A=s??l.length;do{const C=p===0?c[0]??i.initialPageParam:vc(i,h);if(p>0&&C==null)break;h=await L(h,C),p++}while(p<A)}return h};e.options.persister?e.fetchFn=()=>{var E,b;return(b=(E=e.options).persister)==null?void 0:b.call(E,g,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=g}}}function vc(s,{pages:e,pageParams:n}){const i=e.length-1;return e.length>0?s.getNextPageParam(e[i],e,n[i],n):void 0}function Ug(s,{pages:e,pageParams:n}){var i;return e.length>0?(i=s.getPreviousPageParam)==null?void 0:i.call(s,e[0],e,n[0],n):void 0}function Cw(s,e){return e?vc(s,e)!=null:!1}function Tw(s,e){return!e||!s.getPreviousPageParam?!1:Ug(s,e)!=null}var Rw=class extends Lg{constructor(s,e){super(s,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(s){super.setOptions({...s,behavior:ba()})}getOptimisticResult(s){return s.behavior=ba(),super.getOptimisticResult(s)}fetchNextPage(s){return this.fetch({...s,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(s){return this.fetch({...s,meta:{fetchMore:{direction:"backward"}}})}createResult(s,e){var P,E;const{state:n}=s,i=super.createResult(s,e),{isFetching:a,isRefetching:l,isError:c,isRefetchError:h}=i,p=(E=(P=n.fetchMeta)==null?void 0:P.fetchMore)==null?void 0:E.direction,g=c&&p==="forward",v=a&&p==="forward",y=c&&p==="backward",_=a&&p==="backward";return{...i,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Cw(e,n.data),hasPreviousPage:Tw(e,n.data),isFetchNextPageError:g,isFetchingNextPage:v,isFetchPreviousPageError:y,isFetchingPreviousPage:_,isRefetchError:h&&!g&&!y,isRefetching:l&&!v&&!_}}},Vi,sr,ht,Un,ir,Hr,ug,jw=(ug=class extends Ig{constructor(e){super();ie(this,ir);ie(this,Vi);ie(this,sr);ie(this,ht);ie(this,Un);W(this,Vi,e.client),this.mutationId=e.mutationId,W(this,ht,e.mutationCache),W(this,sr,[]),this.state=e.state||$g(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){k(this,sr).includes(e)||(k(this,sr).push(e),this.clearGcTimeout(),k(this,ht).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){W(this,sr,k(this,sr).filter(n=>n!==e)),this.scheduleGc(),k(this,ht).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){k(this,sr).length||(this.state.status==="pending"?this.scheduleGc():k(this,ht).remove(this))}continue(){var e;return((e=k(this,Un))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var c,h,p,g,v,y,_,w,P,E,b,N,L,A,C,K,G,B,V,ne;const n=()=>{de(this,ir,Hr).call(this,{type:"continue"})},i={client:k(this,Vi),meta:this.options.meta,mutationKey:this.options.mutationKey};W(this,Un,Ag({fn:()=>this.options.mutationFn?this.options.mutationFn(e,i):Promise.reject(new Error("No mutationFn found")),onFail:(J,ve)=>{de(this,ir,Hr).call(this,{type:"failed",failureCount:J,error:ve})},onPause:()=>{de(this,ir,Hr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>k(this,ht).canRun(this)}));const a=this.state.status==="pending",l=!k(this,Un).canStart();try{if(a)n();else{de(this,ir,Hr).call(this,{type:"pending",variables:e,isPaused:l}),await((h=(c=k(this,ht).config).onMutate)==null?void 0:h.call(c,e,this,i));const ve=await((g=(p=this.options).onMutate)==null?void 0:g.call(p,e,i));ve!==this.state.context&&de(this,ir,Hr).call(this,{type:"pending",context:ve,variables:e,isPaused:l})}const J=await k(this,Un).start();return await((y=(v=k(this,ht).config).onSuccess)==null?void 0:y.call(v,J,e,this.state.context,this,i)),await((w=(_=this.options).onSuccess)==null?void 0:w.call(_,J,e,this.state.context,i)),await((E=(P=k(this,ht).config).onSettled)==null?void 0:E.call(P,J,null,this.state.variables,this.state.context,this,i)),await((N=(b=this.options).onSettled)==null?void 0:N.call(b,J,null,e,this.state.context,i)),de(this,ir,Hr).call(this,{type:"success",data:J}),J}catch(J){try{throw await((A=(L=k(this,ht).config).onError)==null?void 0:A.call(L,J,e,this.state.context,this,i)),await((K=(C=this.options).onError)==null?void 0:K.call(C,J,e,this.state.context,i)),await((B=(G=k(this,ht).config).onSettled)==null?void 0:B.call(G,void 0,J,this.state.variables,this.state.context,this,i)),await((ne=(V=this.options).onSettled)==null?void 0:ne.call(V,void 0,J,e,this.state.context,i)),J}finally{de(this,ir,Hr).call(this,{type:"error",error:J})}}finally{k(this,ht).runNext(this)}}},Vi=new WeakMap,sr=new WeakMap,ht=new WeakMap,Un=new WeakMap,ir=new WeakSet,Hr=function(e){const n=i=>{switch(e.type){case"failed":return{...i,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...i,isPaused:!0};case"continue":return{...i,isPaused:!1};case"pending":return{...i,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...i,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...i,data:void 0,error:e.error,failureCount:i.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Ke.batch(()=>{k(this,sr).forEach(i=>{i.onMutationUpdate(e)}),k(this,ht).notify({mutation:this,type:"updated",action:e})})},ug);function $g(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var wr,Jt,Wi,cg,Aw=(cg=class extends $s{constructor(e={}){super();ie(this,wr);ie(this,Jt);ie(this,Wi);this.config=e,W(this,wr,new Set),W(this,Jt,new Map),W(this,Wi,0)}build(e,n,i){const a=new jw({client:e,mutationCache:this,mutationId:++sa(this,Wi)._,options:e.defaultMutationOptions(n),state:i});return this.add(a),a}add(e){k(this,wr).add(e);const n=oa(e);if(typeof n=="string"){const i=k(this,Jt).get(n);i?i.push(e):k(this,Jt).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(k(this,wr).delete(e)){const n=oa(e);if(typeof n=="string"){const i=k(this,Jt).get(n);if(i)if(i.length>1){const a=i.indexOf(e);a!==-1&&i.splice(a,1)}else i[0]===e&&k(this,Jt).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=oa(e);if(typeof n=="string"){const i=k(this,Jt).get(n),a=i==null?void 0:i.find(l=>l.state.status==="pending");return!a||a===e}else return!0}runNext(e){var i;const n=oa(e);if(typeof n=="string"){const a=(i=k(this,Jt).get(n))==null?void 0:i.find(l=>l!==e&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ke.batch(()=>{k(this,wr).forEach(e=>{this.notify({type:"removed",mutation:e})}),k(this,wr).clear(),k(this,Jt).clear()})}getAll(){return Array.from(k(this,wr))}find(e){const n={exact:!0,...e};return this.getAll().find(i=>mp(n,i))}findAll(e={}){return this.getAll().filter(n=>mp(e,n))}notify(e){Ke.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ke.batch(()=>Promise.all(e.map(n=>n.continue().catch(ft))))}},wr=new WeakMap,Jt=new WeakMap,Wi=new WeakMap,cg);function oa(s){var e;return(e=s.options.scope)==null?void 0:e.id}var _r,Zr,bt,Sr,Er,va,yc,dg,Iw=(dg=class extends $s{constructor(n,i){super();ie(this,Er);ie(this,_r);ie(this,Zr);ie(this,bt);ie(this,Sr);W(this,_r,n),this.setOptions(i),this.bindMethods(),de(this,Er,va).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const i=this.options;this.options=k(this,_r).defaultMutationOptions(n),_a(this.options,i)||k(this,_r).getMutationCache().notify({type:"observerOptionsUpdated",mutation:k(this,bt),observer:this}),i!=null&&i.mutationKey&&this.options.mutationKey&&Fn(i.mutationKey)!==Fn(this.options.mutationKey)?this.reset():((a=k(this,bt))==null?void 0:a.state.status)==="pending"&&k(this,bt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=k(this,bt))==null||n.removeObserver(this)}onMutationUpdate(n){de(this,Er,va).call(this),de(this,Er,yc).call(this,n)}getCurrentResult(){return k(this,Zr)}reset(){var n;(n=k(this,bt))==null||n.removeObserver(this),W(this,bt,void 0),de(this,Er,va).call(this),de(this,Er,yc).call(this)}mutate(n,i){var a;return W(this,Sr,i),(a=k(this,bt))==null||a.removeObserver(this),W(this,bt,k(this,_r).getMutationCache().build(k(this,_r),this.options)),k(this,bt).addObserver(this),k(this,bt).execute(n)}},_r=new WeakMap,Zr=new WeakMap,bt=new WeakMap,Sr=new WeakMap,Er=new WeakSet,va=function(){var i;const n=((i=k(this,bt))==null?void 0:i.state)??$g();W(this,Zr,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},yc=function(n){Ke.batch(()=>{var i,a,l,c,h,p,g,v;if(k(this,Sr)&&this.hasListeners()){const y=k(this,Zr).variables,_=k(this,Zr).context,w={client:k(this,_r),meta:this.options.meta,mutationKey:this.options.mutationKey};(n==null?void 0:n.type)==="success"?((a=(i=k(this,Sr)).onSuccess)==null||a.call(i,n.data,y,_,w),(c=(l=k(this,Sr)).onSettled)==null||c.call(l,n.data,null,y,_,w)):(n==null?void 0:n.type)==="error"&&((p=(h=k(this,Sr)).onError)==null||p.call(h,n.error,y,_,w),(v=(g=k(this,Sr)).onSettled)==null||v.call(g,void 0,n.error,y,_,w))}this.listeners.forEach(y=>{y(k(this,Zr))})})},dg),or,hg,Nw=(hg=class extends $s{constructor(e={}){super();ie(this,or);this.config=e,W(this,or,new Map)}build(e,n,i){const a=n.queryKey,l=n.queryHash??Bc(a,n);let c=this.get(l);return c||(c=new xw({client:e,queryKey:a,queryHash:l,options:e.defaultQueryOptions(n),state:i,defaultOptions:e.getQueryDefaults(a)}),this.add(c)),c}add(e){k(this,or).has(e.queryHash)||(k(this,or).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=k(this,or).get(e.queryHash);n&&(e.destroy(),n===e&&k(this,or).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ke.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return k(this,or).get(e)}getAll(){return[...k(this,or).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(i=>gp(n,i))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(i=>gp(e,i)):n}notify(e){Ke.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ke.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},or=new WeakMap,hg),Me,en,tn,Rs,js,rn,As,Is,fg,Lw=(fg=class{constructor(s={}){ie(this,Me);ie(this,en);ie(this,tn);ie(this,Rs);ie(this,js);ie(this,rn);ie(this,As);ie(this,Is);W(this,Me,s.queryCache||new Nw),W(this,en,s.mutationCache||new Aw),W(this,tn,s.defaultOptions||{}),W(this,Rs,new Map),W(this,js,new Map),W(this,rn,0)}mount(){sa(this,rn)._++,k(this,rn)===1&&(W(this,As,qc.subscribe(async s=>{s&&(await this.resumePausedMutations(),k(this,Me).onFocus())})),W(this,Is,Sa.subscribe(async s=>{s&&(await this.resumePausedMutations(),k(this,Me).onOnline())})))}unmount(){var s,e;sa(this,rn)._--,k(this,rn)===0&&((s=k(this,As))==null||s.call(this),W(this,As,void 0),(e=k(this,Is))==null||e.call(this),W(this,Is,void 0))}isFetching(s){return k(this,Me).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return k(this,en).findAll({...s,status:"pending"}).length}getQueryData(s){var n;const e=this.defaultQueryOptions({queryKey:s});return(n=k(this,Me).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(s){const e=this.defaultQueryOptions(s),n=k(this,Me).build(this,e),i=n.state.data;return i===void 0?this.fetchQuery(s):(s.revalidateIfStale&&n.isStaleByTime(on(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(i))}getQueriesData(s){return k(this,Me).findAll(s).map(({queryKey:e,state:n})=>{const i=n.data;return[e,i]})}setQueryData(s,e,n){const i=this.defaultQueryOptions({queryKey:s}),a=k(this,Me).get(i.queryHash),l=a==null?void 0:a.state.data,c=gw(e,l);if(c!==void 0)return k(this,Me).build(this,i).setData(c,{...n,manual:!0})}setQueriesData(s,e,n){return Ke.batch(()=>k(this,Me).findAll(s).map(({queryKey:i})=>[i,this.setQueryData(i,e,n)]))}getQueryState(s){var n;const e=this.defaultQueryOptions({queryKey:s});return(n=k(this,Me).get(e.queryHash))==null?void 0:n.state}removeQueries(s){const e=k(this,Me);Ke.batch(()=>{e.findAll(s).forEach(n=>{e.remove(n)})})}resetQueries(s,e){const n=k(this,Me);return Ke.batch(()=>(n.findAll(s).forEach(i=>{i.reset()}),this.refetchQueries({type:"active",...s},e)))}cancelQueries(s,e={}){const n={revert:!0,...e},i=Ke.batch(()=>k(this,Me).findAll(s).map(a=>a.cancel(n)));return Promise.all(i).then(ft).catch(ft)}invalidateQueries(s,e={}){return Ke.batch(()=>(k(this,Me).findAll(s).forEach(n=>{n.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},e)))}refetchQueries(s,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},i=Ke.batch(()=>k(this,Me).findAll(s).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,n);return n.throwOnError||(l=l.catch(ft)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(i).then(ft)}fetchQuery(s){const e=this.defaultQueryOptions(s);e.retry===void 0&&(e.retry=!1);const n=k(this,Me).build(this,e);return n.isStaleByTime(on(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(ft).catch(ft)}fetchInfiniteQuery(s){return s.behavior=ba(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(ft).catch(ft)}ensureInfiniteQueryData(s){return s.behavior=ba(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Sa.isOnline()?k(this,en).resumePausedMutations():Promise.resolve()}getQueryCache(){return k(this,Me)}getMutationCache(){return k(this,en)}getDefaultOptions(){return k(this,tn)}setDefaultOptions(s){W(this,tn,s)}setQueryDefaults(s,e){k(this,Rs).set(Fn(s),{queryKey:s,defaultOptions:e})}getQueryDefaults(s){const e=[...k(this,Rs).values()],n={};return e.forEach(i=>{Di(s,i.queryKey)&&Object.assign(n,i.defaultOptions)}),n}setMutationDefaults(s,e){k(this,js).set(Fn(s),{mutationKey:s,defaultOptions:e})}getMutationDefaults(s){const e=[...k(this,js).values()],n={};return e.forEach(i=>{Di(s,i.mutationKey)&&Object.assign(n,i.defaultOptions)}),n}defaultQueryOptions(s){if(s._defaulted)return s;const e={...k(this,tn).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return e.queryHash||(e.queryHash=Bc(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zc&&(e.enabled=!1),e}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...k(this,tn).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){k(this,Me).clear(),k(this,en).clear()}},Me=new WeakMap,en=new WeakMap,tn=new WeakMap,Rs=new WeakMap,js=new WeakMap,rn=new WeakMap,As=new WeakMap,Is=new WeakMap,fg),Mg=D.createContext(void 0),Wc=s=>{const e=D.useContext(Mg);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Dw=({client:s,children:e})=>(D.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),U.jsx(Mg.Provider,{value:s,children:e})),Fg=D.createContext(!1),Uw=()=>D.useContext(Fg);Fg.Provider;function $w(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Mw=D.createContext($w()),Fw=()=>D.useContext(Mw),Bw=(s,e)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(e.isReset()||(s.retryOnMount=!1))},zw=s=>{D.useEffect(()=>{s.clearReset()},[s])},qw=({result:s,errorResetBoundary:e,throwOnError:n,query:i,suspense:a})=>s.isError&&!e.isReset()&&!s.isFetching&&i&&(a&&s.data===void 0||Rg(n,[s.error,i])),Vw=s=>{if(s.suspense){const n=a=>a==="static"?a:Math.max(a??1e3,1e3),i=s.staleTime;s.staleTime=typeof i=="function"?(...a)=>n(i(...a)):n(i),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},Ww=(s,e)=>s.isLoading&&s.isFetching&&!e,Hw=(s,e)=>(s==null?void 0:s.suspense)&&e.isPending,Ep=(s,e,n)=>e.fetchOptimistic(s).catch(()=>{n.clearReset()});function Bg(s,e,n){var y,_,w,P,E;const i=Uw(),a=Fw(),l=Wc(),c=l.defaultQueryOptions(s);(_=(y=l.getDefaultOptions().queries)==null?void 0:y._experimental_beforeQuery)==null||_.call(y,c),c._optimisticResults=i?"isRestoring":"optimistic",Vw(c),Bw(c,a),zw(a);const h=!l.getQueryCache().get(c.queryHash),[p]=D.useState(()=>new e(l,c)),g=p.getOptimisticResult(c),v=!i&&s.subscribed!==!1;if(D.useSyncExternalStore(D.useCallback(b=>{const N=v?p.subscribe(Ke.batchCalls(b)):ft;return p.updateResult(),N},[p,v]),()=>p.getCurrentResult(),()=>p.getCurrentResult()),D.useEffect(()=>{p.setOptions(c)},[c,p]),Hw(c,g))throw Ep(c,p,a);if(qw({result:g,errorResetBoundary:a,throwOnError:c.throwOnError,query:l.getQueryCache().get(c.queryHash),suspense:c.suspense}))throw g.error;if((P=(w=l.getDefaultOptions().queries)==null?void 0:w._experimental_afterQuery)==null||P.call(w,c,g),c.experimental_prefetchInRender&&!Mn&&Ww(g,i)){const b=h?Ep(c,p,a):(E=l.getQueryCache().get(c.queryHash))==null?void 0:E.promise;b==null||b.catch(ft).finally(()=>{p.updateResult()})}return c.notifyOnChangeProps?g:p.trackResult(g)}function zg(s,e){return Bg(s,Lg)}function Kw(s,e){const n=Wc(),[i]=D.useState(()=>new Iw(n,s));D.useEffect(()=>{i.setOptions(s)},[i,s]);const a=D.useSyncExternalStore(D.useCallback(c=>i.subscribe(Ke.batchCalls(c)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),l=D.useCallback((c,h)=>{i.mutate(c,h).catch(ft)},[i]);if(a.error&&Rg(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}function Qw(s,e){return Bg(s,Rw)}const Gw="modulepreload",Jw=function(s){return"/MoviNesta/"+s},kp={},Qe=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let c=function(g){return Promise.all(g.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=c(n.map(g=>{if(g=Jw(g),g in kp)return;kp[g]=!0;const v=g.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const _=document.createElement("link");if(_.rel=v?"stylesheet":Gw,v||(_.as="script"),_.crossOrigin="",_.href=g,p&&_.setAttribute("nonce",p),document.head.appendChild(_),v)return new Promise((w,P)=>{_.addEventListener("load",w),_.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function l(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return a.then(c=>{for(const h of c||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};class Yw extends Se.Component{constructor(n){super(n);Au(this,"handleRetry",()=>{this.setState({hasError:!1,error:void 0})});Au(this,"handleReload",()=>{window.location.reload()});this.state={hasError:!1}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,i){console.error("MoviNesta ErrorBoundary caught an error",n,i)}render(){return this.state.hasError?U.jsx("div",{className:"flex min-h-screen flex-col items-center justify-center bg-mn-bg px-4 py-8 text-center text-mn-text-primary",children:U.jsxs("div",{className:"w-full max-w-md space-y-3 rounded-3xl border border-mn-border-subtle/70 bg-mn-bg-elevated/80 p-6 shadow-mn-card",children:[U.jsx("div",{className:"inline-flex h-10 w-10 items-center justify-center rounded-2xl bg-mn-primary/15 text-mn-primary",children:U.jsx("span",{"aria-hidden":"true",children:""})}),U.jsx("h1",{className:"text-lg font-heading font-semibold",children:"Something went wrong"}),U.jsx("p",{className:"text-sm text-mn-text-secondary",children:"The last action caused the app to stumble. You can try again or reload MoviNesta."}),this.state.error&&U.jsx("pre",{className:"overflow-auto rounded-xl bg-mn-bg/70 p-3 text-left text-[11px] text-mn-text-muted",children:this.state.error.message}),U.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 pt-1",children:[U.jsx("button",{type:"button",onClick:this.handleRetry,className:"rounded-full bg-mn-primary px-4 py-2 text-sm font-semibold text-mn-bg transition hover:bg-mn-primary/90 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-mn-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-mn-bg",children:"Try again"}),U.jsx("button",{type:"button",onClick:this.handleReload,className:"rounded-full border border-mn-border-subtle/80 px-4 py-2 text-sm font-medium text-mn-text-secondary transition hover:border-mn-border-strong/80 hover:text-mn-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-mn-primary/70 focus-visible:ring-offset-2 focus-visible:ring-offset-mn-bg",children:"Reload app"})]})]})}):this.props.children}}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qg=(...s)=>s.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Zw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=D.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:c,...h},p)=>D.createElement("svg",{ref:p,...Zw,width:e,height:e,stroke:s,strokeWidth:i?Number(n)*24/Number(e):n,className:qg("lucide",a),...h},[...c.map(([g,v])=>D.createElement(g,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ms=(s,e)=>{const n=D.forwardRef(({className:i,...a},l)=>D.createElement(e_,{ref:l,iconNode:e,className:qg(`lucide-${Xw(s)}`,i),...a}));return n.displayName=`${s}`,n};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=Ms("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Ms("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Ms("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=Ms("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ms("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Ms("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),xp=s=>{let e;const n=new Set,i=(g,v)=>{const y=typeof g=="function"?g(e):g;if(!Object.is(y,e)){const _=e;e=v??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(w=>w(e,_))}},a=()=>e,h={setState:i,getState:a,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=s(i,a,h);return h},o_=(s=>s?xp(s):xp),a_=s=>s;function l_(s,e=a_){const n=Se.useSyncExternalStore(s.subscribe,Se.useCallback(()=>e(s.getState()),[s,e]),Se.useCallback(()=>e(s.getInitialState()),[s,e]));return Se.useDebugValue(n),n}const u_=s=>{const e=o_(s),n=i=>l_(e,i);return Object.assign(n,e),n},c_=(s=>u_);function d_(s,e){let n;try{n=s()}catch{return}return{getItem:a=>{var l;const c=p=>p===null?null:JSON.parse(p,void 0),h=(l=n.getItem(a))!=null?l:null;return h instanceof Promise?h.then(c):c(h)},setItem:(a,l)=>n.setItem(a,JSON.stringify(l,void 0)),removeItem:a=>n.removeItem(a)}}const wc=s=>e=>{try{const n=s(e);return n instanceof Promise?n:{then(i){return wc(i)(n)},catch(i){return this}}}catch(n){return{then(i){return this},catch(i){return wc(i)(n)}}}},h_=(s,e)=>(n,i,a)=>{let l={storage:d_(()=>localStorage),partialize:E=>E,version:0,merge:(E,b)=>({...b,...E}),...e},c=!1;const h=new Set,p=new Set;let g=l.storage;if(!g)return s((...E)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),n(...E)},i,a);const v=()=>{const E=l.partialize({...i()});return g.setItem(l.name,{state:E,version:l.version})},y=a.setState;a.setState=(E,b)=>(y(E,b),v());const _=s((...E)=>(n(...E),v()),i,a);a.getInitialState=()=>_;let w;const P=()=>{var E,b;if(!g)return;c=!1,h.forEach(L=>{var A;return L((A=i())!=null?A:_)});const N=((b=l.onRehydrateStorage)==null?void 0:b.call(l,(E=i())!=null?E:_))||void 0;return wc(g.getItem.bind(g))(l.name).then(L=>{if(L)if(typeof L.version=="number"&&L.version!==l.version){if(l.migrate){const A=l.migrate(L.state,L.version);return A instanceof Promise?A.then(C=>[!0,C]):[!0,A]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,L.state];return[!1,void 0]}).then(L=>{var A;const[C,K]=L;if(w=l.merge(K,(A=i())!=null?A:_),n(w,!0),C)return v()}).then(()=>{N==null||N(w,void 0),w=i(),c=!0,p.forEach(L=>L(w))}).catch(L=>{N==null||N(void 0,L)})};return a.persist={setOptions:E=>{l={...l,...E},E.storage&&(g=E.storage)},clearStorage:()=>{g==null||g.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>P(),hasHydrated:()=>c,onHydrate:E=>(h.add(E),()=>{h.delete(E)}),onFinishHydration:E=>(p.add(E),()=>{p.delete(E)})},l.skipHydration||P(),w||_},f_=h_,p_="moviNesta.ui";function g_(s){return s==="system"?typeof window>"u"||window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":s}function Ea(s){if(typeof document>"u")return;g_(s)==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}const m_=Ea,Na=c_()(f_(s=>({lastVisitedTab:"home",startTab:"home",theme:"dark",reduceMotion:!1,language:"system",setLastVisitedTab:e=>s({lastVisitedTab:e}),setStartTab:e=>s({startTab:e}),setTheme:e=>{Ea(e),s({theme:e})},setReduceMotion:e=>s({reduceMotion:e}),setLanguage:e=>s({language:e})}),{name:p_,onRehydrateStorage:()=>s=>{s&&Ea(s.theme)},version:1})),v_=()=>{if(typeof window>"u")return;const s=window.matchMedia("(prefers-color-scheme: dark)"),e=()=>{const n=Na.getState().theme;n==="system"&&Ea(n)};return s.addEventListener("change",e),e(),()=>s.removeEventListener("change",e)},y_={"nav.home":"Home","nav.swipe":"Swipe","nav.messages":"Messages","nav.search":"Search","nav.diary":"Diary","settings.app.title":"App","settings.app.subtitle":"Customize how MoviNesta behaves on this device.","settings.start.title":"Start screen","settings.start.description":"Choose which tab you land on when you open MoviNesta.","settings.start.note":"This is stored locally. You can later hook it into navigation logic if needed.","settings.theme.title":"Theme","settings.theme.description":"Choose how MoviNesta should follow your device theme.","settings.theme.matchSystem":"Match system","settings.theme.alwaysDark":"Always dark","settings.theme.light":"Light","settings.theme.note":"Your choice is saved on this device and updates immediately.","settings.language.title":"Language","settings.language.description":"Language selector is coming soon. We start with English and Spanish while we wire full translations.","settings.language.matchSystem":"Match system","settings.language.english":"English","settings.language.spanish":"Espaol","settings.language.note":"We will remember this preference as we expand localization.","settings.language.comingSoon":"Coming soon: the language selector is local-only for now while we add full translations.","settings.motion.title":"Motion","settings.motion.description":"Reduce some of the more cinematic animations.","settings.motion.reduceMotion":"Reduce motion","settings.motion.detail":"Fewer transitions and subtle effects. Great if you prefer a calmer UI.","settings.save.success":"App settings saved to this device.","settings.save.error":"Couldn't save settings. Try again.","settings.save.cta":"Save settings"},w_={"nav.home":"Inicio","nav.swipe":"Descubrir","nav.messages":"Mensajes","nav.search":"Buscar","nav.diary":"Diario","settings.app.title":"Aplicacin","settings.app.subtitle":"Personaliza cmo se comporta MoviNesta en este dispositivo.","settings.start.title":"Pantalla inicial","settings.start.description":"Elige la pestaa que ves al abrir MoviNesta.","settings.start.note":"Se guarda localmente. Ms adelante podrs conectarlo a la navegacin.","settings.theme.title":"Tema","settings.theme.description":"Elige cmo MoviNesta debe seguir el tema de tu dispositivo.","settings.theme.matchSystem":"Seguir el sistema","settings.theme.alwaysDark":"Siempre oscuro","settings.theme.light":"Claro","settings.theme.note":"Se guarda en este dispositivo y se actualiza al instante.","settings.language.title":"Idioma","settings.language.description":"El selector de idioma llegar pronto. Empezamos con ingls y espaol mientras aadimos ms traducciones.","settings.language.matchSystem":"Seguir el sistema","settings.language.english":"Ingls","settings.language.spanish":"Espaol","settings.language.note":"Guardaremos esta preferencia a medida que ampliemos la localizacin.","settings.language.comingSoon":"Prximamente: el selector de idioma solo se guarda localmente mientras aadimos traducciones completas.","settings.motion.title":"Movimiento","settings.motion.description":"Reduce algunas animaciones cinemticas.","settings.motion.reduceMotion":"Reducir movimiento","settings.motion.detail":"Menos transiciones y efectos sutiles. Ideal si prefieres una interfaz tranquila.","settings.save.success":"Configuracin guardada en este dispositivo.","settings.save.error":"No se pudo guardar la configuracin. Intntalo de nuevo.","settings.save.cta":"Guardar configuracin"},Fu={en:y_,es:w_};function __(){var e;return typeof navigator>"u"?"en":(((e=navigator.language)==null?void 0:e.toLowerCase())??"en").startsWith("es")?"es":"en"}function Wg(s){return s==="system"?__():s==="es"?"es":"en"}function S_(){return Wg(Na.getState().language)==="es"?"es-ES":"en-US"}function b_(){const s=Na(i=>i.language),e=D.useMemo(()=>Wg(s),[s]);return{t:D.useCallback(i=>(Fu[e]??Fu.en)[i]??Fu.en[i]??i,[e]),language:e}}const E_=()=>{const s=xr(),e=Aa(),{setLastVisitedTab:n,startTab:i,theme:a}=Na(),l=Se.useRef(!1),{t:c}=b_(),h=Se.useMemo(()=>[{key:"home",to:"/",label:c("nav.home"),icon:r_},{key:"swipe",to:"/swipe",label:c("nav.swipe"),icon:Vg},{key:"messages",to:"/messages",label:c("nav.messages"),icon:n_},{key:"search",to:"/search",label:c("nav.search"),icon:s_},{key:"diary",to:"/diary",label:c("nav.diary"),icon:t_}],[c]);Se.useEffect(()=>(m_(a),v_()),[a]),Se.useEffect(()=>{l.current||(s.pathname==="/"&&i!=="home"&&(e(i==="swipe"?"/swipe":"/diary",{replace:!0}),n(i),l.current=!0),l.current=!0)},[s.pathname,e,n,i]);const p=s.pathname.startsWith("/messages/")&&s.pathname!=="/messages",g=s.pathname==="/swipe",v=p?"relative z-10 mx-auto flex min-h-screen w-full max-w-5xl flex-1 flex-col px-0 pt-0 pb-0 sm:px-0 sm:pb-0":g?"relative z-10 mx-auto flex w-full max-w-5xl flex-1 flex-col px-0 pt-4 pb-0 sm:px-0 sm:pt-4 sm:pb-0":"relative z-10 mx-auto flex w-full max-w-5xl flex-1 flex-col px-4 pb-[calc(5.5rem+env(safe-area-inset-bottom))] pt-4 sm:px-5 sm:pb-[calc(6rem+env(safe-area-inset-bottom))]",y=p?"flex items-center justify-between gap-1 px-3 py-1.5 sm:px-4":"mx-auto flex max-w-5xl items-center justify-between gap-1 px-4 py-2 pb-[calc(env(safe-area-inset-bottom)+0.5rem)] sm:px-5",_=w=>{n(w)};return U.jsxs("div",{className:"relative flex min-h-screen flex-col bg-mn-bg text-mn-text-primary",children:[U.jsxs("div",{className:"pointer-events-none fixed inset-0 overflow-hidden","aria-hidden":"true",children:[U.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(148,163,253,0.2),_transparent_55%),_radial-gradient(circle_at_bottom,_rgba(248,113,113,0.16),_transparent_55%)]"}),U.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(120deg,rgba(20,184,166,0.06),rgba(168,85,247,0.05)_45%,rgba(249,115,22,0.04)_75%)]"}),U.jsx("div",{className:"absolute -left-24 top-16 h-64 w-64 rounded-full bg-mn-accent-teal/15 blur-3xl"}),U.jsx("div",{className:"absolute -right-24 bottom-10 h-72 w-72 rounded-full bg-mn-primary/15 blur-3xl"})]}),U.jsx("div",{className:v,children:U.jsx("main",{className:g?"flex-1 overflow-hidden":"flex-1",children:U.jsx(xg,{})})}),!p&&U.jsx("nav",{className:"fixed inset-x-0 bottom-0 z-20 border-t border-mn-border-subtle/80 bg-mn-bg/95 shadow-mn-card backdrop-blur","aria-label":"Main",children:U.jsx("div",{className:y,children:h.map(w=>{const P=w.icon;return U.jsxs(lw,{to:w.to,onClick:()=>_(w.key),className:({isActive:E})=>["group flex flex-1 flex-col items-center gap-0.5 rounded-full px-2 py-1 text-[10px] font-medium transition","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-mn-primary focus-visible:ring-offset-2 focus-visible:ring-offset-mn-bg",E?"text-mn-primary":"text-mn-text-muted hover:text-mn-text-secondary"].join(" "),"aria-label":w.label,children:[U.jsx("span",{className:"inline-flex h-7 w-7 items-center justify-center rounded-full border border-transparent bg-mn-bg-elevated/80 shadow-mn-soft transition group-[&.active]:border-mn-primary",children:U.jsx(P,{className:"h-4 w-4","aria-hidden":"true"})}),U.jsx("span",{className:"mt-0.5",children:w.label})]},w.to)})})})]})};var _c=function(s,e){return _c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},_c(s,e)};function Hg(s,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_c(s,e);function n(){this.constructor=s}s.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ka=function(){return ka=Object.assign||function(e){for(var n,i=1,a=arguments.length;i<a;i++){n=arguments[i];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(e[l]=n[l])}return e},ka.apply(this,arguments)};function Fs(s,e){var n={};for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&e.indexOf(i)<0&&(n[i]=s[i]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(s);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(s,i[a])&&(n[i[a]]=s[i[a]]);return n}function Kg(s,e,n,i){var a=arguments.length,l=a<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,n):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(s,e,n,i);else for(var h=s.length-1;h>=0;h--)(c=s[h])&&(l=(a<3?c(l):a>3?c(e,n,l):c(e,n))||l);return a>3&&l&&Object.defineProperty(e,n,l),l}function Qg(s,e){return function(n,i){e(n,i,s)}}function Gg(s,e,n,i,a,l){function c(N){if(N!==void 0&&typeof N!="function")throw new TypeError("Function expected");return N}for(var h=i.kind,p=h==="getter"?"get":h==="setter"?"set":"value",g=!e&&s?i.static?s:s.prototype:null,v=e||(g?Object.getOwnPropertyDescriptor(g,i.name):{}),y,_=!1,w=n.length-1;w>=0;w--){var P={};for(var E in i)P[E]=E==="access"?{}:i[E];for(var E in i.access)P.access[E]=i.access[E];P.addInitializer=function(N){if(_)throw new TypeError("Cannot add initializers after decoration has completed");l.push(c(N||null))};var b=(0,n[w])(h==="accessor"?{get:v.get,set:v.set}:v[p],P);if(h==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(y=c(b.get))&&(v.get=y),(y=c(b.set))&&(v.set=y),(y=c(b.init))&&a.unshift(y)}else(y=c(b))&&(h==="field"?a.unshift(y):v[p]=y)}g&&Object.defineProperty(g,i.name,v),_=!0}function Jg(s,e,n){for(var i=arguments.length>2,a=0;a<e.length;a++)n=i?e[a].call(s,n):e[a].call(s);return i?n:void 0}function Yg(s){return typeof s=="symbol"?s:"".concat(s)}function Xg(s,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(s,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Zg(s,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(s,e)}function Z(s,e,n,i){function a(l){return l instanceof n?l:new n(function(c){c(l)})}return new(n||(n=Promise))(function(l,c){function h(v){try{g(i.next(v))}catch(y){c(y)}}function p(v){try{g(i.throw(v))}catch(y){c(y)}}function g(v){v.done?l(v.value):a(v.value).then(h,p)}g((i=i.apply(s,e||[])).next())})}function em(s,e){var n={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},i,a,l,c=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return c.next=h(0),c.throw=h(1),c.return=h(2),typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(g){return function(v){return p([g,v])}}function p(g){if(i)throw new TypeError("Generator is already executing.");for(;c&&(c=0,g[0]&&(n=0)),n;)try{if(i=1,a&&(l=g[0]&2?a.return:g[0]?a.throw||((l=a.return)&&l.call(a),0):a.next)&&!(l=l.call(a,g[1])).done)return l;switch(a=0,l&&(g=[g[0]&2,l.value]),g[0]){case 0:case 1:l=g;break;case 4:return n.label++,{value:g[1],done:!1};case 5:n.label++,a=g[1],g=[0];continue;case 7:g=n.ops.pop(),n.trys.pop();continue;default:if(l=n.trys,!(l=l.length>0&&l[l.length-1])&&(g[0]===6||g[0]===2)){n=0;continue}if(g[0]===3&&(!l||g[1]>l[0]&&g[1]<l[3])){n.label=g[1];break}if(g[0]===6&&n.label<l[1]){n.label=l[1],l=g;break}if(l&&n.label<l[2]){n.label=l[2],n.ops.push(g);break}l[2]&&n.ops.pop(),n.trys.pop();continue}g=e.call(s,n)}catch(v){g=[6,v],a=0}finally{i=l=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var La=Object.create?(function(s,e,n,i){i===void 0&&(i=n);var a=Object.getOwnPropertyDescriptor(e,n);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(s,i,a)}):(function(s,e,n,i){i===void 0&&(i=n),s[i]=e[n]});function tm(s,e){for(var n in s)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&La(e,s,n)}function xa(s){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&s[e],i=0;if(n)return n.call(s);if(s&&typeof s.length=="number")return{next:function(){return s&&i>=s.length&&(s=void 0),{value:s&&s[i++],done:!s}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hc(s,e){var n=typeof Symbol=="function"&&s[Symbol.iterator];if(!n)return s;var i=n.call(s),a,l=[],c;try{for(;(e===void 0||e-- >0)&&!(a=i.next()).done;)l.push(a.value)}catch(h){c={error:h}}finally{try{a&&!a.done&&(n=i.return)&&n.call(i)}finally{if(c)throw c.error}}return l}function rm(){for(var s=[],e=0;e<arguments.length;e++)s=s.concat(Hc(arguments[e]));return s}function nm(){for(var s=0,e=0,n=arguments.length;e<n;e++)s+=arguments[e].length;for(var i=Array(s),a=0,e=0;e<n;e++)for(var l=arguments[e],c=0,h=l.length;c<h;c++,a++)i[a]=l[c];return i}function sm(s,e,n){if(n||arguments.length===2)for(var i=0,a=e.length,l;i<a;i++)(l||!(i in e))&&(l||(l=Array.prototype.slice.call(e,0,i)),l[i]=e[i]);return s.concat(l||Array.prototype.slice.call(e))}function Ls(s){return this instanceof Ls?(this.v=s,this):new Ls(s)}function im(s,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(s,e||[]),a,l=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),a[Symbol.asyncIterator]=function(){return this},a;function c(w){return function(P){return Promise.resolve(P).then(w,y)}}function h(w,P){i[w]&&(a[w]=function(E){return new Promise(function(b,N){l.push([w,E,b,N])>1||p(w,E)})},P&&(a[w]=P(a[w])))}function p(w,P){try{g(i[w](P))}catch(E){_(l[0][3],E)}}function g(w){w.value instanceof Ls?Promise.resolve(w.value.v).then(v,y):_(l[0][2],w)}function v(w){p("next",w)}function y(w){p("throw",w)}function _(w,P){w(P),l.shift(),l.length&&p(l[0][0],l[0][1])}}function om(s){var e,n;return e={},i("next"),i("throw",function(a){throw a}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(a,l){e[a]=s[a]?function(c){return(n=!n)?{value:Ls(s[a](c)),done:!1}:l?l(c):c}:l}}function am(s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=s[Symbol.asyncIterator],n;return e?e.call(s):(s=typeof xa=="function"?xa(s):s[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(l){n[l]=s[l]&&function(c){return new Promise(function(h,p){c=s[l](c),a(h,p,c.done,c.value)})}}function a(l,c,h,p){Promise.resolve(p).then(function(g){l({value:g,done:h})},c)}}function lm(s,e){return Object.defineProperty?Object.defineProperty(s,"raw",{value:e}):s.raw=e,s}var k_=Object.create?(function(s,e){Object.defineProperty(s,"default",{enumerable:!0,value:e})}):function(s,e){s.default=e},Sc=function(s){return Sc=Object.getOwnPropertyNames||function(e){var n=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[n.length]=i);return n},Sc(s)};function um(s){if(s&&s.__esModule)return s;var e={};if(s!=null)for(var n=Sc(s),i=0;i<n.length;i++)n[i]!=="default"&&La(e,s,n[i]);return k_(e,s),e}function cm(s){return s&&s.__esModule?s:{default:s}}function dm(s,e,n,i){if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?s!==e||!i:!e.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?i:n==="a"?i.call(s):i?i.value:e.get(s)}function hm(s,e,n,i,a){if(i==="m")throw new TypeError("Private method is not writable");if(i==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?s!==e||!a:!e.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return i==="a"?a.call(s,n):a?a.value=n:e.set(s,n),n}function fm(s,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof s=="function"?e===s:s.has(e)}function pm(s,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var i,a;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");i=e[Symbol.asyncDispose]}if(i===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");i=e[Symbol.dispose],n&&(a=i)}if(typeof i!="function")throw new TypeError("Object not disposable.");a&&(i=function(){try{a.call(this)}catch(l){return Promise.reject(l)}}),s.stack.push({value:e,dispose:i,async:n})}else n&&s.stack.push({async:!0});return e}var x_=typeof SuppressedError=="function"?SuppressedError:function(s,e,n){var i=new Error(n);return i.name="SuppressedError",i.error=s,i.suppressed=e,i};function gm(s){function e(l){s.error=s.hasError?new x_(l,s.error,"An error was suppressed during disposal."):l,s.hasError=!0}var n,i=0;function a(){for(;n=s.stack.pop();)try{if(!n.async&&i===1)return i=0,s.stack.push(n),Promise.resolve().then(a);if(n.dispose){var l=n.dispose.call(n.value);if(n.async)return i|=2,Promise.resolve(l).then(a,function(c){return e(c),a()})}else i|=1}catch(c){e(c)}if(i===1)return s.hasError?Promise.reject(s.error):Promise.resolve();if(s.hasError)throw s.error}return a()}function mm(s,e){return typeof s=="string"&&/^\.\.?\//.test(s)?s.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,i,a,l,c){return i?e?".jsx":".js":a&&(!l||!c)?n:a+l+"."+c.toLowerCase()+"js"}):s}const P_={__extends:Hg,__assign:ka,__rest:Fs,__decorate:Kg,__param:Qg,__esDecorate:Gg,__runInitializers:Jg,__propKey:Yg,__setFunctionName:Xg,__metadata:Zg,__awaiter:Z,__generator:em,__createBinding:La,__exportStar:tm,__values:xa,__read:Hc,__spread:rm,__spreadArrays:nm,__spreadArray:sm,__await:Ls,__asyncGenerator:im,__asyncDelegator:om,__asyncValues:am,__makeTemplateObject:lm,__importStar:um,__importDefault:cm,__classPrivateFieldGet:dm,__classPrivateFieldSet:hm,__classPrivateFieldIn:fm,__addDisposableResource:pm,__disposeResources:gm,__rewriteRelativeImportExtension:mm},O_=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:pm,get __assign(){return ka},__asyncDelegator:om,__asyncGenerator:im,__asyncValues:am,__await:Ls,__awaiter:Z,__classPrivateFieldGet:dm,__classPrivateFieldIn:fm,__classPrivateFieldSet:hm,__createBinding:La,__decorate:Kg,__disposeResources:gm,__esDecorate:Gg,__exportStar:tm,__extends:Hg,__generator:em,__importDefault:cm,__importStar:um,__makeTemplateObject:lm,__metadata:Zg,__param:Qg,__propKey:Yg,__read:Hc,__rest:Fs,__rewriteRelativeImportExtension:mm,__runInitializers:Jg,__setFunctionName:Xg,__spread:rm,__spreadArray:sm,__spreadArrays:nm,__values:xa,default:P_},Symbol.toStringTag,{value:"Module"})),C_=s=>s?(...e)=>s(...e):(...e)=>fetch(...e);class Kc extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class T_ extends Kc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pp extends Kc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Op extends Kc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var bc;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(bc||(bc={}));class R_{constructor(e,{headers:n={},customFetch:i,region:a=bc.Any}={}){this.url=e,this.headers=n,this.region=a,this.fetch=C_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Z(this,arguments,void 0,function*(n,i={}){var a;let l,c;try{const{headers:h,method:p,body:g,signal:v,timeout:y}=i;let _={},{region:w}=i;w||(w=this.region);const P=new URL(`${this.url}/${n}`);w&&w!=="any"&&(_["x-region"]=w,P.searchParams.set("forceFunctionRegion",w));let E;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(_["Content-Type"]="application/octet-stream",E=g):typeof g=="string"?(_["Content-Type"]="text/plain",E=g):typeof FormData<"u"&&g instanceof FormData?E=g:(_["Content-Type"]="application/json",E=JSON.stringify(g)):E=g;let b=v;y&&(c=new AbortController,l=setTimeout(()=>c.abort(),y),v?(b=c.signal,v.addEventListener("abort",()=>c.abort())):b=c.signal);const N=yield this.fetch(P.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},_),this.headers),h),body:E,signal:b}).catch(K=>{throw new T_(K)}),L=N.headers.get("x-relay-error");if(L&&L==="true")throw new Pp(N);if(!N.ok)throw new Op(N);let A=((a=N.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),C;return A==="application/json"?C=yield N.json():A==="application/octet-stream"||A==="application/pdf"?C=yield N.blob():A==="text/event-stream"?C=N:A==="multipart/form-data"?C=yield N.formData():C=yield N.text(),{data:C,error:null,response:N}}catch(h){return{data:null,error:h,response:h instanceof Op||h instanceof Pp?h.context:void 0}}finally{l&&clearTimeout(l)}})}}var lt={};const Bs=Wy(O_);var aa={},la={},ua={},ca={},da={},ha={},Cp;function vm(){if(Cp)return ha;Cp=1,Object.defineProperty(ha,"__esModule",{value:!0});class s extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return ha.default=s,ha}var Tp;function ym(){if(Tp)return da;Tp=1,Object.defineProperty(da,"__esModule",{value:!0});const e=Bs.__importDefault(vm());class n{constructor(a){var l,c;this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=new Headers(a.headers),this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=(l=a.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=a.signal,this.isMaybeSingle=(c=a.isMaybeSingle)!==null&&c!==void 0?c:!1,a.fetch?this.fetch=a.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,l){return this.headers=new Headers(this.headers),this.headers.set(a,l),this}then(a,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const c=this.fetch;let h=c(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var g,v,y,_;let w=null,P=null,E=null,b=p.status,N=p.statusText;if(p.ok){if(this.method!=="HEAD"){const K=await p.text();K===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?P=K:P=JSON.parse(K))}const A=(v=this.headers.get("Prefer"))===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),C=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");A&&C&&C.length>1&&(E=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(w={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,E=null,b=406,N="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const A=await p.text();try{w=JSON.parse(A),Array.isArray(w)&&p.status===404&&(P=[],w=null,b=200,N="OK")}catch{p.status===404&&A===""?(b=204,N="No Content"):w={message:A}}if(w&&this.isMaybeSingle&&(!((_=w==null?void 0:w.details)===null||_===void 0)&&_.includes("0 rows"))&&(w=null,b=200,N="OK"),w&&this.shouldThrowOnError)throw new e.default(w)}return{error:w,data:P,count:E,status:b,statusText:N}});return this.shouldThrowOnError||(h=h.catch(p=>{var g,v,y,_,w,P;let E="";const b=p==null?void 0:p.cause;if(b){const N=(g=b==null?void 0:b.message)!==null&&g!==void 0?g:"",L=(v=b==null?void 0:b.code)!==null&&v!==void 0?v:"";E=`${(y=p==null?void 0:p.name)!==null&&y!==void 0?y:"FetchError"}: ${p==null?void 0:p.message}`,E+=`

Caused by: ${(_=b==null?void 0:b.name)!==null&&_!==void 0?_:"Error"}: ${N}`,L&&(E+=` (${L})`),b!=null&&b.stack&&(E+=`
${b.stack}`)}else E=(w=p==null?void 0:p.stack)!==null&&w!==void 0?w:"";return{error:{message:`${(P=p==null?void 0:p.name)!==null&&P!==void 0?P:"FetchError"}: ${p==null?void 0:p.message}`,details:E,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),h.then(a,l)}returns(){return this}overrideTypes(){return this}}return da.default=n,da}var Rp;function wm(){if(Rp)return ca;Rp=1,Object.defineProperty(ca,"__esModule",{value:!0});const e=Bs.__importDefault(ym());class n extends e.default{select(a){let l=!1;const c=(a??"*").split("").map(h=>/\s/.test(h)&&!l?"":(h==='"'&&(l=!l),h)).join("");return this.url.searchParams.set("select",c),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:l=!0,nullsFirst:c,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",v=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${v?`${v},`:""}${a}.${l?"asc":"desc"}${c===void 0?"":c?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:l,referencedTable:c=l}={}){const h=typeof c>"u"?"limit":`${c}.limit`;return this.url.searchParams.set(h,`${a}`),this}range(a,l,{foreignTable:c,referencedTable:h=c}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${a}`),this.url.searchParams.set(g,`${l-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:l=!1,settings:c=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var v;const y=[a?"analyze":null,l?"verbose":null,c?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(v=this.headers.get("Accept"))!==null&&v!==void 0?v:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${g}; for="${_}"; options=${y};`),g==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return ca.default=n,ca}var jp;function Qc(){if(jp)return ua;jp=1,Object.defineProperty(ua,"__esModule",{value:!0});const e=Bs.__importDefault(wm()),n=new RegExp("[,()]");class i extends e.default{eq(l,c){return this.url.searchParams.append(l,`eq.${c}`),this}neq(l,c){return this.url.searchParams.append(l,`neq.${c}`),this}gt(l,c){return this.url.searchParams.append(l,`gt.${c}`),this}gte(l,c){return this.url.searchParams.append(l,`gte.${c}`),this}lt(l,c){return this.url.searchParams.append(l,`lt.${c}`),this}lte(l,c){return this.url.searchParams.append(l,`lte.${c}`),this}like(l,c){return this.url.searchParams.append(l,`like.${c}`),this}likeAllOf(l,c){return this.url.searchParams.append(l,`like(all).{${c.join(",")}}`),this}likeAnyOf(l,c){return this.url.searchParams.append(l,`like(any).{${c.join(",")}}`),this}ilike(l,c){return this.url.searchParams.append(l,`ilike.${c}`),this}ilikeAllOf(l,c){return this.url.searchParams.append(l,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(l,c){return this.url.searchParams.append(l,`ilike(any).{${c.join(",")}}`),this}regexMatch(l,c){return this.url.searchParams.append(l,`match.${c}`),this}regexIMatch(l,c){return this.url.searchParams.append(l,`imatch.${c}`),this}is(l,c){return this.url.searchParams.append(l,`is.${c}`),this}isDistinct(l,c){return this.url.searchParams.append(l,`isdistinct.${c}`),this}in(l,c){const h=Array.from(new Set(c)).map(p=>typeof p=="string"&&n.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${h})`),this}contains(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cs.{${c.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(c)}`),this}containedBy(l,c){return typeof c=="string"?this.url.searchParams.append(l,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(l,`cd.{${c.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(c)}`),this}rangeGt(l,c){return this.url.searchParams.append(l,`sr.${c}`),this}rangeGte(l,c){return this.url.searchParams.append(l,`nxl.${c}`),this}rangeLt(l,c){return this.url.searchParams.append(l,`sl.${c}`),this}rangeLte(l,c){return this.url.searchParams.append(l,`nxr.${c}`),this}rangeAdjacent(l,c){return this.url.searchParams.append(l,`adj.${c}`),this}overlaps(l,c){return typeof c=="string"?this.url.searchParams.append(l,`ov.${c}`):this.url.searchParams.append(l,`ov.{${c.join(",")}}`),this}textSearch(l,c,{config:h,type:p}={}){let g="";p==="plain"?g="pl":p==="phrase"?g="ph":p==="websearch"&&(g="w");const v=h===void 0?"":`(${h})`;return this.url.searchParams.append(l,`${g}fts${v}.${c}`),this}match(l){return Object.entries(l).forEach(([c,h])=>{this.url.searchParams.append(c,`eq.${h}`)}),this}not(l,c,h){return this.url.searchParams.append(l,`not.${c}.${h}`),this}or(l,{foreignTable:c,referencedTable:h=c}={}){const p=h?`${h}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,c,h){return this.url.searchParams.append(l,`${c}.${h}`),this}}return ua.default=i,ua}var Ap;function _m(){if(Ap)return la;Ap=1,Object.defineProperty(la,"__esModule",{value:!0});const e=Bs.__importDefault(Qc());class n{constructor(a,{headers:l={},schema:c,fetch:h}){this.url=a,this.headers=new Headers(l),this.schema=c,this.fetch=h}select(a,l){const{head:c=!1,count:h}=l??{},p=c?"HEAD":"GET";let g=!1;const v=(a??"*").split("").map(y=>/\s/.test(y)&&!g?"":(y==='"'&&(g=!g),y)).join("");return this.url.searchParams.set("select",v),h&&this.headers.append("Prefer",`count=${h}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:l,defaultToNull:c=!0}={}){var h;const p="POST";if(l&&this.headers.append("Prefer",`count=${l}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const g=a.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(g.length>0){const v=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}upsert(a,{onConflict:l,ignoreDuplicates:c=!1,count:h,defaultToNull:p=!0}={}){var g;const v="POST";if(this.headers.append("Prefer",`resolution=${c?"ignore":"merge"}-duplicates`),l!==void 0&&this.url.searchParams.set("on_conflict",l),h&&this.headers.append("Prefer",`count=${h}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const y=a.reduce((_,w)=>_.concat(Object.keys(w)),[]);if(y.length>0){const _=[...new Set(y)].map(w=>`"${w}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:v,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}update(a,{count:l}={}){var c;const h="PATCH";return l&&this.headers.append("Prefer",`count=${l}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}delete({count:a}={}){var l;const c="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}}return la.default=n,la}var Ip;function j_(){if(Ip)return aa;Ip=1,Object.defineProperty(aa,"__esModule",{value:!0});const s=Bs,e=s.__importDefault(_m()),n=s.__importDefault(Qc());class i{constructor(l,{headers:c={},schema:h,fetch:p}={}){this.url=l,this.headers=new Headers(c),this.schemaName=h,this.fetch=p}from(l){if(!l||typeof l!="string"||l.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const c=new URL(`${this.url}/${l}`);return new e.default(c,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(l){return new i(this.url,{headers:this.headers,schema:l,fetch:this.fetch})}rpc(l,c={},{head:h=!1,get:p=!1,count:g}={}){var v;let y;const _=new URL(`${this.url}/rpc/${l}`);let w;h||p?(y=h?"HEAD":"GET",Object.entries(c).filter(([E,b])=>b!==void 0).map(([E,b])=>[E,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([E,b])=>{_.searchParams.append(E,b)})):(y="POST",w=c);const P=new Headers(this.headers);return g&&P.set("Prefer",`count=${g}`),new n.default({method:y,url:_,headers:P,schema:this.schemaName,body:w,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}}return aa.default=i,aa}var Np;function A_(){if(Np)return lt;Np=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.PostgrestError=lt.PostgrestBuilder=lt.PostgrestTransformBuilder=lt.PostgrestFilterBuilder=lt.PostgrestQueryBuilder=lt.PostgrestClient=void 0;const s=Bs,e=s.__importDefault(j_());lt.PostgrestClient=e.default;const n=s.__importDefault(_m());lt.PostgrestQueryBuilder=n.default;const i=s.__importDefault(Qc());lt.PostgrestFilterBuilder=i.default;const a=s.__importDefault(wm());lt.PostgrestTransformBuilder=a.default;const l=s.__importDefault(ym());lt.PostgrestBuilder=l.default;const c=s.__importDefault(vm());return lt.PostgrestError=c.default,lt.default={PostgrestClient:e.default,PostgrestQueryBuilder:n.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:a.default,PostgrestBuilder:l.default,PostgrestError:c.default},lt}var Sm=A_();const bm=Ta(Sm),I_=pg({__proto__:null,default:bm},[Sm]),{PostgrestClient:N_,PostgrestQueryBuilder:ZE,PostgrestFilterBuilder:ek,PostgrestTransformBuilder:tk,PostgrestBuilder:rk,PostgrestError:nk}=bm||I_;class L_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const i=n.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const D_="2.86.0",U_=`realtime-js/${D_}`,Em="1.0.0",$_="2.0.0",Lp=Em,Ec=1e4,M_=1e3,F_=100;var kn;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(kn||(kn={}));var He;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(He||(He={}));var Yt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Yt||(Yt={}));var kc;(function(s){s.websocket="websocket"})(kc||(kc={}));var xn;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(xn||(xn={}));class B_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var n,i;const a=(i=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&i!==void 0?i:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,n,i){var a,l;const c=e.topic,h=(a=e.ref)!==null&&a!==void 0?a:"",p=(l=e.join_ref)!==null&&l!==void 0?l:"",g=e.payload.event,v=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const _=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+h.length+c.length+g.length+y.length,w=new ArrayBuffer(this.HEADER_LENGTH+_);let P=new DataView(w),E=0;P.setUint8(E++,this.KINDS.userBroadcastPush),P.setUint8(E++,p.length),P.setUint8(E++,h.length),P.setUint8(E++,c.length),P.setUint8(E++,g.length),P.setUint8(E++,y.length),P.setUint8(E++,n),Array.from(p,N=>P.setUint8(E++,N.charCodeAt(0))),Array.from(h,N=>P.setUint8(E++,N.charCodeAt(0))),Array.from(c,N=>P.setUint8(E++,N.charCodeAt(0))),Array.from(g,N=>P.setUint8(E++,N.charCodeAt(0))),Array.from(y,N=>P.setUint8(E++,N.charCodeAt(0)));var b=new Uint8Array(w.byteLength+i.byteLength);return b.set(new Uint8Array(w),0),b.set(new Uint8Array(i),w.byteLength),b.buffer}decode(e,n){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return n(i)}if(typeof e=="string"){const i=JSON.parse(e),[a,l,c,h,p]=i;return n({join_ref:a,ref:l,topic:c,event:h,payload:p})}return n({})}_binaryDecode(e){const n=new DataView(e),i=n.getUint8(0),a=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,a)}}_decodeUserBroadcast(e,n,i){const a=n.getUint8(1),l=n.getUint8(2),c=n.getUint8(3),h=n.getUint8(4);let p=this.HEADER_LENGTH+4;const g=i.decode(e.slice(p,p+a));p=p+a;const v=i.decode(e.slice(p,p+l));p=p+l;const y=i.decode(e.slice(p,p+c));p=p+c;const _=e.slice(p,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(i.decode(_)):_,P={type:this.BROADCAST_EVENT,event:v,payload:w};return c>0&&(P.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:P}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>n.includes(i)))}}class km{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Oe||(Oe={}));const Dp=(s,e,n={})=>{var i;const a=(i=n.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((l,c)=>(l[c]=z_(c,s,e,a),l),{}):{}},z_=(s,e,n,i)=>{const a=e.find(h=>h.name===s),l=a==null?void 0:a.type,c=n[s];return l&&!i.includes(l)?xm(l,c):xc(c)},xm=(s,e)=>{if(s.charAt(0)==="_"){const n=s.slice(1,s.length);return H_(e,n)}switch(s){case Oe.bool:return q_(e);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return V_(e);case Oe.json:case Oe.jsonb:return W_(e);case Oe.timestamp:return K_(e);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return xc(e);default:return xc(e)}},xc=s=>s,q_=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},V_=s=>{if(typeof s=="string"){const e=parseFloat(s);if(!Number.isNaN(e))return e}return s},W_=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(e){return console.log(`JSON parse error: ${e}`),s}return s},H_=(s,e)=>{if(typeof s!="string")return s;const n=s.length-1,i=s[n];if(s[0]==="{"&&i==="}"){let l;const c=s.slice(1,n);try{l=JSON.parse("["+c+"]")}catch{l=c?c.split(","):[]}return l.map(h=>xm(e,h))}return s},K_=s=>typeof s=="string"?s.replace(" ","T"):s,Pm=s=>{const e=new URL(s);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Bu{constructor(e,n,i={},a=Ec){this.channel=e,this.event=n,this.payload=i,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Up;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Up||(Up={}));class Ai{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ai.syncState(this.state,a,l,c),this.pendingDiffs.forEach(p=>{this.state=Ai.syncDiff(this.state,p,l,c)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},a=>{const{onJoin:l,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Ai.syncDiff(this.state,a,l,c),h())}),this.onJoin((a,l,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:l,newPresences:c})}),this.onLeave((a,l,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:l,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,a){const l=this.cloneDeep(e),c=this.transformState(n),h={},p={};return this.map(l,(g,v)=>{c[g]||(p[g]=v)}),this.map(c,(g,v)=>{const y=l[g];if(y){const _=v.map(b=>b.presence_ref),w=y.map(b=>b.presence_ref),P=v.filter(b=>w.indexOf(b.presence_ref)<0),E=y.filter(b=>_.indexOf(b.presence_ref)<0);P.length>0&&(h[g]=P),E.length>0&&(p[g]=E)}else h[g]=v}),this.syncDiff(l,{joins:h,leaves:p},i,a)}static syncDiff(e,n,i,a){const{joins:l,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),a||(a=()=>{}),this.map(l,(h,p)=>{var g;const v=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),v.length>0){const y=e[h].map(w=>w.presence_ref),_=v.filter(w=>y.indexOf(w.presence_ref)<0);e[h].unshift(..._)}i(h,v,p)}),this.map(c,(h,p)=>{let g=e[h];if(!g)return;const v=p.map(y=>y.presence_ref);g=g.filter(y=>v.indexOf(y.presence_ref)<0),e[h]=g,a(h,g,p),g.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const a=e[i];return"metas"in a?n[i]=a.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):n[i]=a,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var $p;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})($p||($p={}));var Ii;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Ii||(Ii={}));var vr;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(vr||(vr={}));class Gc{constructor(e,n={config:{}},i){var a,l;if(this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=He.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Bu(this,Yt.join,this.params,this.timeout),this.rejoinTimer=new km(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=He.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=He.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=He.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Yt.reply,{},(c,h)=>{this._trigger(this._replyEventName(h),c)}),this.presence=new Ai(this),this.broadcastEndpointURL=Pm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((l=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var i,a,l;if(this.socket.isConnected()||this.socket.connect(),this.state==He.closed){const{config:{broadcast:c,presence:h,private:p}}=this.params,g=(a=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&a!==void 0?a:[],v=!!this.bindings[Ii.PRESENCE]&&this.bindings[Ii.PRESENCE].length>0||((l=this.params.config.presence)===null||l===void 0?void 0:l.enabled)===!0,y={},_={broadcast:c,presence:Object.assign(Object.assign({},h),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e==null?void 0:e(vr.CHANNEL_ERROR,w)),this._onClose(()=>e==null?void 0:e(vr.CLOSED)),this.updateJoinPayload(Object.assign({config:_},y)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:w})=>{var P;if(this.socket.setAuth(),w===void 0){e==null||e(vr.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,b=(P=E==null?void 0:E.length)!==null&&P!==void 0?P:0,N=[];for(let L=0;L<b;L++){const A=E[L],{filter:{event:C,schema:K,table:G,filter:B}}=A,V=w&&w[L];if(V&&V.event===C&&V.schema===K&&V.table===G&&V.filter===B)N.push(Object.assign(Object.assign({},A),{id:V.id}));else{this.unsubscribe(),this.state=He.errored,e==null||e(vr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,e&&e(vr.SUBSCRIBED);return}}).receive("error",w=>{this.state=He.errored,e==null||e(vr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===He.joined&&e===Ii.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async httpSend(e,n,i={}){var a;const l=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const c={method:"POST",headers:{Authorization:l,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=i.timeout)!==null&&a!==void 0?a:this.timeout);if(h.status===202)return{success:!0};let p=h.statusText;try{const g=await h.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(e,n={}){var i,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:l,payload:c}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:c,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((a=g.body)===null||a===void 0?void 0:a.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var c,h,p;const g=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&l("ok"),g.receive("ok",()=>l("ok")),g.receive("error",()=>l("error")),g.receive("timeout",()=>l("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=He.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Yt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(a=>{i=new Bu(this,Yt.leave,{},e),i.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=He.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const a=new AbortController,l=setTimeout(()=>a.abort(),i),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(l),c}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Bu(this,e,n,i);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>F_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var a,l;const c=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:v}=Yt;if(i&&[h,p,g,v].indexOf(c)>=0&&i!==this._joinRef())return;let _=this._onMessage(c,n,i);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(w=>{var P,E,b;return((P=w.filter)===null||P===void 0?void 0:P.event)==="*"||((b=(E=w.filter)===null||E===void 0?void 0:E.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===c}).map(w=>w.callback(_,i)):(l=this.bindings[c])===null||l===void 0||l.filter(w=>{var P,E,b,N,L,A;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in w){const C=w.id,K=(P=w.filter)===null||P===void 0?void 0:P.event;return C&&((E=n.ids)===null||E===void 0?void 0:E.includes(C))&&(K==="*"||(K==null?void 0:K.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const C=(L=(N=w==null?void 0:w.filter)===null||N===void 0?void 0:N.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return C==="*"||C===((A=n==null?void 0:n.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===c}).map(w=>{if(typeof _=="object"&&"ids"in _){const P=_.data,{schema:E,table:b,commit_timestamp:N,type:L,errors:A}=P;_=Object.assign(Object.assign({},{schema:E,table:b,commit_timestamp:N,eventType:L,new:{},old:{},errors:A}),this._getPayloadRecords(P))}w.callback(_,i)})}_isClosed(){return this.state===He.closed}_isJoined(){return this.state===He.joined}_isJoining(){return this.state===He.joining}_isLeaving(){return this.state===He.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const a=e.toLocaleLowerCase(),l={type:a,filter:n,callback:i};return this.bindings[a]?this.bindings[a].push(l):this.bindings[a]=[l],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(a=>{var l;return!(((l=a.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===i&&Gc.isEqual(a.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Yt.close,{},e)}_onError(e){this._on(Yt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=He.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Dp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Dp(e.columns,e.old_record)),n}}const zu=()=>{},fa={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Q_=[1e3,2e3,5e3,1e4],G_=1e4,J_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y_{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ec,this.transport=null,this.heartbeatIntervalMs=fa.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zu,this.ref=0,this.reconnectTimer=null,this.vsn=Lp,this.logger=zu,this.conn=null,this.sendBuffer=[],this.serializer=new B_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>a?(...l)=>a(...l):(...l)=>fetch(...l),!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${kc.websocket}`,this.httpEndpoint=Pm(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=L_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case kn.connecting:return xn.Connecting;case kn.open:return xn.Open;case kn.closing:return xn.Closing;default:return xn.Closed}}isConnected(){return this.connectionState()===xn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,a=this.getChannels().find(l=>l.topic===i);if(a)return a;{const l=new Gc(`realtime:${e}`,n,this);return this.channels.push(l),l}}push(e){const{topic:n,event:i,payload:a,ref:l}=e,c=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${n} ${i} (${l})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(M_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},fa.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:a,payload:l,ref:c}=n,h=c?`(${c})`:"",p=l.status||"";this.log("receive",`${p} ${i} ${a} ${h}`.trim(),l),this.channels.filter(g=>g._isMember(i)).forEach(g=>g._trigger(a,l,c)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===kn.open||this.conn.readyState===kn.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Yt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${e}${i}${a}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([J_],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:U_};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(Yt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new km(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},fa.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,a,l,c,h,p,g,v,y,_,w;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Ec,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:fa.HEARTBEAT_INTERVAL,this.worker=(l=e==null?void 0:e.worker)!==null&&l!==void 0?l:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:zu,this.vsn=(p=e==null?void 0:e.vsn)!==null&&p!==void 0?p:Lp,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=e==null?void 0:e.reconnectAfterMs)!==null&&g!==void 0?g:(P=>Q_[P-1]||G_),this.vsn){case Em:this.encode=(v=e==null?void 0:e.encode)!==null&&v!==void 0?v:((P,E)=>E(JSON.stringify(P))),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:((P,E)=>E(JSON.parse(P)));break;case $_:this.encode=(_=e==null?void 0:e.encode)!==null&&_!==void 0?_:this.serializer.encode.bind(this.serializer),this.decode=(w=e==null?void 0:e.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Da extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ne(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class X_ extends Da{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Pc extends Da{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const Jc=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),Z_=()=>Response,Oc=s=>{if(Array.isArray(s))return s.map(n=>Oc(n));if(typeof s=="function"||s!==Object(s))return s;const e={};return Object.entries(s).forEach(([n,i])=>{const a=n.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));e[a]=Oc(i)}),e},eS=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},tS=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s),qu=s=>{var e;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(e=s.error)===null||e===void 0?void 0:e.message)||JSON.stringify(s)},rS=(s,e,n)=>Z(void 0,void 0,void 0,function*(){const i=yield Z_();s instanceof i&&!(n!=null&&n.noResolveJson)?s.json().then(a=>{const l=s.status||500,c=(a==null?void 0:a.statusCode)||l+"";e(new X_(qu(a),l,c))}).catch(a=>{e(new Pc(qu(a),a))}):e(new Pc(qu(s),s))}),nS=(s,e,n,i)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"||!i?a:(eS(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,e!=null&&e.duplex&&(a.duplex=e.duplex),Object.assign(Object.assign({},a),n))};function Hi(s,e,n,i,a,l){return Z(this,void 0,void 0,function*(){return new Promise((c,h)=>{s(n,nS(e,i,a,l)).then(p=>{if(!p.ok)throw p;return i!=null&&i.noResolveJson?p:p.json()}).then(p=>c(p)).catch(p=>rS(p,h,i))})})}function Ui(s,e,n,i){return Z(this,void 0,void 0,function*(){return Hi(s,"GET",e,n,i)})}function Qt(s,e,n,i,a){return Z(this,void 0,void 0,function*(){return Hi(s,"POST",e,i,a,n)})}function Cc(s,e,n,i,a){return Z(this,void 0,void 0,function*(){return Hi(s,"PUT",e,i,a,n)})}function sS(s,e,n,i){return Z(this,void 0,void 0,function*(){return Hi(s,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Yc(s,e,n,i,a){return Z(this,void 0,void 0,function*(){return Hi(s,"DELETE",e,i,a,n)})}class iS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Z(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}}var Om;class oS{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Om]="BlobDownloadBuilder",this.promise=null}asStream(){return new iS(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Z(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ne(e))return{data:null,error:e};throw e}})}}Om=Symbol.toStringTag;const aS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Mp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lS{constructor(e,n={},i,a){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=i,this.fetch=Jc(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,i,a){return Z(this,void 0,void 0,function*(){try{let l;const c=Object.assign(Object.assign({},Mp),a);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const p=c.metadata;typeof Blob<"u"&&i instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),p&&l.append("metadata",this.encodeMetadata(p)),l.append("",i)):typeof FormData<"u"&&i instanceof FormData?(l=i,l.has("cacheControl")||l.append("cacheControl",c.cacheControl),p&&!l.has("metadata")&&l.append("metadata",this.encodeMetadata(p))):(l=i,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p))),(typeof ReadableStream<"u"&&l instanceof ReadableStream||l&&typeof l=="object"&&"pipe"in l&&typeof l.pipe=="function")&&!c.duplex&&(c.duplex="half")),a!=null&&a.headers&&(h=Object.assign(Object.assign({},h),a.headers));const g=this._removeEmptyFolders(n),v=this._getFinalPath(g),y=yield(e=="PUT"?Cc:Qt)(this.fetch,`${this.url}/object/${v}`,l,Object.assign({headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Ne(l))return{data:null,error:l};throw l}})}upload(e,n,i){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,a){return Z(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let p;const g=Object.assign({upsert:Mp.upsert},a),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&i instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",i)):typeof FormData<"u"&&i instanceof FormData?(p=i,p.append("cacheControl",g.cacheControl)):(p=i,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType);const y=yield Cc(this.fetch,h.toString(),p,{headers:v});return{data:{path:l,fullPath:y.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if(Ne(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,n){return Z(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const l=yield Qt(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:a}),c=new URL(this.url+l.url),h=c.searchParams.get("token");if(!h)throw new Da("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}})}update(e,n,i){return Z(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return Z(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}})}copy(e,n,i){return Z(this,void 0,void 0,function*(){try{return{data:{path:(yield Qt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}})}createSignedUrl(e,n,i){return Z(this,void 0,void 0,function*(){try{let a=this._getFinalPath(e),l=yield Qt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const c=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${c}`)},{data:l,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}})}createSignedUrls(e,n,i){return Z(this,void 0,void 0,function*(){try{const a=yield Qt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),l=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:a.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${l}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}})}download(e,n){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=l?`?${l}`:"",h=this._getFinalPath(e),p=()=>Ui(this.fetch,`${this.url}/${a}/${h}${c}`,{headers:this.headers,noResolveJson:!0});return new oS(p,this.shouldThrowOnError)}info(e){return Z(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Ui(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Oc(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}})}exists(e){return Z(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield sS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i)&&i instanceof Pc){const a=i.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),a=[],l=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";l!==""&&a.push(l);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});p!==""&&a.push(p);let g=a.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${g}`)}}}remove(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}list(e,n,i){return Z(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},aS),n),{prefix:e||""});return{data:yield Qt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},i),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}})}listV2(e,n){return Z(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield Qt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Cm="2.86.0",Tm={"X-Client-Info":`storage-js/${Cm}`};class uS{constructor(e,n={},i,a){this.shouldThrowOnError=!1;const l=new URL(e);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),n),this.fetch=Jc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield Ui(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Ui(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}createBucket(e){return Z(this,arguments,void 0,function*(n,i={public:!1}){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ne(a))return{data:null,error:a};throw a}})}updateBucket(e,n){return Z(this,void 0,void 0,function*(){try{return{data:yield Cc(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ne(i))return{data:null,error:i};throw i}})}emptyBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}var $i=class extends Error{constructor(s,e){var n;super(s),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cS(s,e,n){const i=new URL(e,s);if(n)for(const[a,l]of Object.entries(n))l!==void 0&&i.searchParams.set(a,l);return i.toString()}async function dS(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function hS(s){const e=s.fetchImpl??globalThis.fetch;return{async request({method:n,path:i,query:a,body:l,headers:c}){const h=cS(s.baseUrl,i,a),p=await dS(s.auth),g=await e(h,{method:n,headers:{...l?{"Content-Type":"application/json"}:{},...p,...c},body:l?JSON.stringify(l):void 0}),v=await g.text(),y=(g.headers.get("content-type")||"").includes("application/json"),_=y&&v?JSON.parse(v):v;if(!g.ok){const w=y?_:void 0,P=w==null?void 0:w.error;throw new $i((P==null?void 0:P.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:P==null?void 0:P.type,icebergCode:P==null?void 0:P.code,details:w})}return{status:g.status,headers:g.headers,data:_}}}}function pa(s){return s.join("")}var fS=class{constructor(s,e=""){this.client=s,this.prefix=e}async listNamespaces(s){const e=s?{parent:pa(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(s,e){const n={namespace:s.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pa(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pa(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pa(s.namespace)}`}),!0}catch(e){if(e instanceof $i&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(s,e){try{return await this.createNamespace(s,e)}catch(n){if(n instanceof $i&&n.status===409)return;throw n}}};function hs(s){return s.join("")}var pS=class{constructor(s,e="",n){this.client=s,this.prefix=e,this.accessDelegation=n}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(s.namespace)}/tables`})).data.identifiers}async createTable(s,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(s.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(s,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${hs(s.namespace)}/tables/${s.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(s,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${hs(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(s){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${hs(s.namespace)}/tables/${s.name}`,headers:e})).data.metadata}async tableExists(s){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${hs(s.namespace)}/tables/${s.name}`,headers:e}),!0}catch(n){if(n instanceof $i&&n.status===404)return!1;throw n}}async createTableIfNotExists(s,e){try{return await this.createTable(s,e)}catch(n){if(n instanceof $i&&n.status===409)return await this.loadTable({namespace:s.namespace,name:e.name});throw n}}},gS=class{constructor(s){var i;let e="v1";s.catalogName&&(e+=`/${s.catalogName}`);const n=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=hS({baseUrl:n,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(i=s.accessDelegation)==null?void 0:i.join(","),this.namespaceOps=new fS(this.client,e),this.tableOps=new pS(this.client,e,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,e){return this.namespaceOps.createNamespace(s,e)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,e){return this.tableOps.createTable(s,e)}async updateTable(s,e){return this.tableOps.updateTable(s,e)}async dropTable(s,e){await this.tableOps.dropTable(s,e)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,e){return this.namespaceOps.createNamespaceIfNotExists(s,e)}async createTableIfNotExists(s,e){return this.tableOps.createTableIfNotExists(s,e)}};class mS{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Tm),n),this.fetch=Jc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Qt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}listBuckets(e){return Z(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const i=n.toString(),a=i?`${this.url}/bucket?${i}`:`${this.url}/bucket`;return{data:yield Ui(this.fetch,a,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Yc(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ne(n))return{data:null,error:n};throw n}})}from(e){if(!tS(e))throw new Da("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new gS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>Z(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Xc={"X-Client-Info":`storage-js/${Cm}`,"Content-Type":"application/json"};class Rm extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Tt(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}class Vu extends Rm{constructor(e,n,i){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vS extends Rm{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var Fp;(function(s){s.InternalError="InternalError",s.S3VectorConflictException="S3VectorConflictException",s.S3VectorNotFoundException="S3VectorNotFoundException",s.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",s.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",s.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Fp||(Fp={}));const Zc=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),yS=s=>{if(typeof s!="object"||s===null)return!1;const e=Object.getPrototypeOf(s);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Bp=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),wS=(s,e,n)=>Z(void 0,void 0,void 0,function*(){if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(n!=null&&n.noResolveJson)){const a=s.status||500,l=s;if(typeof l.json=="function")l.json().then(c=>{const h=(c==null?void 0:c.statusCode)||(c==null?void 0:c.code)||a+"";e(new Vu(Bp(c),a,h))}).catch(()=>{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new Vu(h,a,c))});else{const c=a+"",h=l.statusText||`HTTP ${a} error`;e(new Vu(h,a,c))}}else e(new vS(Bp(s),s))}),_S=(s,e,n,i)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return i?(yS(i)?(a.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(i)):a.body=i,Object.assign(Object.assign({},a),n)):a};function SS(s,e,n,i,a,l){return Z(this,void 0,void 0,function*(){return new Promise((c,h)=>{s(n,_S(e,i,a,l)).then(p=>{if(!p.ok)throw p;if(i!=null&&i.noResolveJson)return p;const g=p.headers.get("content-type");return!g||!g.includes("application/json")?{}:p.json()}).then(p=>c(p)).catch(p=>wS(p,h,i))})})}function Rt(s,e,n,i,a){return Z(this,void 0,void 0,function*(){return SS(s,"POST",e,i,a,n)})}class bS{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),n),this.fetch=Zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}listIndexes(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Tt(i))return{data:null,error:i};throw i}})}}class ES{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),n),this.fetch=Zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Rt(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}getVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Rt(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}queryVectors(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Z(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Rt(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}}class kS{constructor(e,n={},i){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Xc),n),this.fetch=Zc(i)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}getBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:yield Rt(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}listBuckets(){return Z(this,arguments,void 0,function*(e={}){try{return{data:yield Rt(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Z(this,void 0,void 0,function*(){try{return{data:(yield Rt(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Tt(n))return{data:null,error:n};throw n}})}}class xS extends kS{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new PS(this.url,this.headers,e,this.fetch)}createBucket(e){const n=Object.create(null,{createBucket:{get:()=>super.createBucket}});return Z(this,void 0,void 0,function*(){return n.createBucket.call(this,e)})}getBucket(e){const n=Object.create(null,{getBucket:{get:()=>super.getBucket}});return Z(this,void 0,void 0,function*(){return n.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return Z(this,arguments,void 0,function*(n={}){return e.listBuckets.call(this,n)})}deleteBucket(e){const n=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return Z(this,void 0,void 0,function*(){return n.deleteBucket.call(this,e)})}}class PS extends bS{constructor(e,n,i,a){super(e,n,a),this.vectorBucketName=i}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Z(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Z(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Z(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Z(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new OS(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class OS extends ES{constructor(e,n,i,a,l){super(e,n,l),this.vectorBucketName=i,this.indexName=a}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Z(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Z(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Z(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Z(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Z(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CS extends uS{constructor(e,n={},i,a){super(e,n,i,a)}from(e){return new lS(this.url,this.headers,e,this.fetch)}get vectors(){return new xS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mS(this.url+"/iceberg",this.headers,this.fetch)}}const TS="2.86.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const RS={"X-Client-Info":`supabase-js-${Ri}/${TS}`},jS={headers:RS},AS={schema:"public"},IS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NS={},LS=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),DS=()=>Headers,US=(s,e,n)=>{const i=LS(n),a=DS();return async(l,c)=>{var h;const p=(h=await e())!==null&&h!==void 0?h:s;let g=new a(c==null?void 0:c.headers);return g.has("apikey")||g.set("apikey",s),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),i(l,Object.assign(Object.assign({},c),{headers:g}))}};function $S(s){return s.endsWith("/")?s:s+"/"}function MS(s,e){var n,i;const{db:a,auth:l,realtime:c,global:h}=s,{db:p,auth:g,realtime:v,global:y}=e,_={db:Object.assign(Object.assign({},p),a),auth:Object.assign(Object.assign({},g),l),realtime:Object.assign(Object.assign({},v),c),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(n=y==null?void 0:y.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return s.accessToken?_.accessToken=s.accessToken:delete _.accessToken,_}function FS(s){const e=s==null?void 0:s.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($S(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const jm="2.86.0",ys=30*1e3,Tc=3,Wu=Tc*ys,BS="http://localhost:9999",zS="supabase.auth.token",qS={"X-Client-Info":`gotrue-js/${jm}`},Rc="X-Supabase-Api-Version",Am={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,WS=600*1e3;class Mi extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function se(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class HS extends Mi{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function KS(s){return se(s)&&s.name==="AuthApiError"}class Pn extends Mi{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class an extends Mi{constructor(e,n,i,a){super(e,i,a),this.name=n,this.status=i}}class Ct extends an{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QS(s){return se(s)&&s.name==="AuthSessionMissingError"}class fs extends an{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ga extends an{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ma extends an{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GS(s){return se(s)&&s.name==="AuthImplicitGrantRedirectError"}class zp extends an{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jc extends an{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hu(s){return se(s)&&s.name==="AuthRetryableFetchError"}class qp extends an{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Ac extends an{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Vp=` 	
\r=`.split(""),JS=(()=>{const s=new Array(128);for(let e=0;e<s.length;e+=1)s[e]=-1;for(let e=0;e<Vp.length;e+=1)s[Vp[e].charCodeAt(0)]=-2;for(let e=0;e<Pa.length;e+=1)s[Pa[e].charCodeAt(0)]=e;return s})();function Wp(s,e,n){if(s!==null)for(e.queue=e.queue<<8|s,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Pa[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(Pa[i]),e.queuedBits-=6}}function Im(s,e,n){const i=JS[s];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Hp(s){const e=[],n=c=>{e.push(String.fromCodePoint(c))},i={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},l=c=>{ZS(c,i,n)};for(let c=0;c<s.length;c+=1)Im(s.charCodeAt(c),a,l);return e.join("")}function YS(s,e){if(s<=127){e(s);return}else if(s<=2047){e(192|s>>6),e(128|s&63);return}else if(s<=65535){e(224|s>>12),e(128|s>>6&63),e(128|s&63);return}else if(s<=1114111){e(240|s>>18),e(128|s>>12&63),e(128|s>>6&63),e(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function XS(s,e){for(let n=0;n<s.length;n+=1){let i=s.charCodeAt(n);if(i>55295&&i<=56319){const a=(i-55296)*1024&65535;i=(s.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}YS(i,e)}}function ZS(s,e,n){if(e.utf8seq===0){if(s<=127){n(s);return}for(let i=1;i<6;i+=1)if((s>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=s&31;else if(e.utf8seq===3)e.codepoint=s&15;else if(e.utf8seq===4)e.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|s&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function _s(s){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};for(let a=0;a<s.length;a+=1)Im(s.charCodeAt(a),n,i);return new Uint8Array(e)}function eb(s){const e=[];return XS(s,n=>e.push(n)),new Uint8Array(e)}function Cn(s){const e=[],n={queue:0,queuedBits:0},i=a=>{e.push(a)};return s.forEach(a=>Wp(a,n,i)),Wp(null,n,i),e.join("")}function tb(s){return Math.round(Date.now()/1e3)+s}function rb(){return Symbol("auth-callback")}const nt=()=>typeof window<"u"&&typeof document<"u",Sn={tested:!1,writable:!1},Nm=()=>{if(!nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function nb(s){const e={},n=new URL(s);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,l)=>{e[l]=a})}catch{}return n.searchParams.forEach((i,a)=>{e[a]=i}),e}const Lm=s=>s?(...e)=>s(...e):(...e)=>fetch(...e),sb=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",ws=async(s,e,n)=>{await s.setItem(e,JSON.stringify(n))},bn=async(s,e)=>{const n=await s.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Wr=async(s,e)=>{await s.removeItem(e)};class Ua{constructor(){this.promise=new Ua.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Ua.promiseConstructor=Promise;function Ku(s){const e=s.split(".");if(e.length!==3)throw new Ac("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!VS.test(e[i]))throw new Ac("JWT not in base64url format");return{header:JSON.parse(Hp(e[0])),payload:JSON.parse(Hp(e[1])),signature:_s(e[2]),raw:{header:e[0],payload:e[1]}}}async function ib(s){return await new Promise(e=>{setTimeout(()=>e(null),s)})}function ob(s,e){return new Promise((i,a)=>{(async()=>{for(let l=0;l<1/0;l++)try{const c=await s(l);if(!e(l,null,c)){i(c);return}}catch(c){if(!e(l,c)){a(c);return}}})()})}function ab(s){return("0"+s.toString(16)).substr(-2)}function lb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let a="";for(let l=0;l<56;l++)a+=n.charAt(Math.floor(Math.random()*i));return a}return crypto.getRandomValues(e),Array.from(e,ab).join("")}async function ub(s){const n=new TextEncoder().encode(s),i=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(i);return Array.from(a).map(l=>String.fromCharCode(l)).join("")}async function cb(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const n=await ub(s);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ps(s,e,n=!1){const i=lb();let a=i;n&&(a+="/PASSWORD_RECOVERY"),await ws(s,`${e}-code-verifier`,a);const l=await cb(i);return[l,i===l?"plain":"s256"]}const db=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function hb(s){const e=s.headers.get(Rc);if(!e||!e.match(db))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function fb(s){if(!s)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(s<=e)throw new Error("JWT has expired")}function pb(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const gb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function gs(s){if(!gb.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qu(){const s={};return new Proxy(s,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mb(s,e){return new Proxy(s,{get:(n,i,a)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const l=i.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)"||l==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,i,a)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,i,a)}})}function Kp(s){return JSON.parse(JSON.stringify(s))}const En=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),vb=[502,503,504];async function Qp(s){var e;if(!sb(s))throw new jc(En(s),0);if(vb.includes(s.status))throw new jc(En(s),s.status);let n;try{n=await s.json()}catch(l){throw new Pn(En(l),l)}let i;const a=hb(s);if(a&&a.getTime()>=Am["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new qp(En(n),s.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((l,c)=>l&&typeof c=="string",!0))throw new qp(En(n),s.status,n.weak_password.reasons);throw new HS(En(n),s.status||500,i)}const yb=(s,e,n,i)=>{const a={method:s,headers:(e==null?void 0:e.headers)||{}};return s==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),n))};async function le(s,e,n,i){var a;const l=Object.assign({},i==null?void 0:i.headers);l[Rc]||(l[Rc]=Am["2024-01-01"].name),i!=null&&i.jwt&&(l.Authorization=`Bearer ${i.jwt}`);const c=(a=i==null?void 0:i.query)!==null&&a!==void 0?a:{};i!=null&&i.redirectTo&&(c.redirect_to=i.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",p=await wb(s,e,n+h,{headers:l,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(p):{data:Object.assign({},p),error:null}}async function wb(s,e,n,i,a,l){const c=yb(e,i,a,l);let h;try{h=await s(n,Object.assign({},c))}catch(p){throw console.error(p),new jc(En(p),0)}if(h.ok||await Qp(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(p){await Qp(p)}}function Kt(s){var e;let n=null;bb(s)&&(n=Object.assign({},s),s.expires_at||(n.expires_at=tb(s.expires_in)));const i=(e=s.user)!==null&&e!==void 0?e:s;return{data:{session:n,user:i},error:null}}function Gp(s){const e=Kt(s);return!e.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=s.weak_password),e}function Kr(s){var e;return{data:{user:(e=s.user)!==null&&e!==void 0?e:s},error:null}}function _b(s){return{data:s,error:null}}function Sb(s){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l}=s,c=Fs(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:a,verification_type:l},p=Object.assign({},c);return{data:{properties:h,user:p},error:null}}function Jp(s){return s}function bb(s){return s.access_token&&s.refresh_token&&s.expires_in}const Gu=["global","local","others"];class Eb{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Lm(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=Gu[0]){if(Gu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gu.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(se(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=Fs(e,["options"]),a=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(a.new_email=i==null?void 0:i.newEmail,delete a.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Sb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,a,l,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Jp});if(v.error)throw v.error;const y=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(P=>{const E=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(P.split(";")[1].split("=")[1]);g[`${b}Page`]=E}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(se(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){gs(e);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kr})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){gs(e);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Kr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){gs(e);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kr})}catch(i){if(se(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){gs(e.userId);try{const{data:n,error:i}=await le(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:i}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){gs(e.userId),gs(e.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,i,a,l,c,h,p;try{const g={nextPage:null,lastPage:0,total:0},v=await le(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(l=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:""},xform:Jp});if(v.error)throw v.error;const y=await v.json(),_=(c=v.headers.get("x-total-count"))!==null&&c!==void 0?c:0,w=(p=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return w.length>0&&(w.forEach(P=>{const E=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(P.split(";")[1].split("=")[1]);g[`${b}Page`]=E}),g.total=parseInt(_)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(se(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await le(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await le(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(se(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await le(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await le(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function Yp(s={}){return{getItem:e=>s[e]||null,setItem:(e,n)=>{s[e]=n},removeItem:e=>{delete s[e]}}}const ms={debug:!!(globalThis&&Nm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dm extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class kb extends Dm{}async function xb(s,e,n){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),ms.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async a=>{if(a){ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,a.name);try{return await n()}finally{ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,a.name)}}else{if(e===0)throw ms.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new kb(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ms.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Pb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Um(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Ob(s){return parseInt(s,16)}function Cb(s){const e=new TextEncoder().encode(s);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function Tb(s){var e;const{chainId:n,domain:i,expirationTime:a,issuedAt:l=new Date,nonce:c,notBefore:h,requestId:p,resources:g,scheme:v,uri:y,version:_}=s;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=s.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const w=Um(s.address),P=v?`${v}://${i}`:i,E=s.statement?`${s.statement}
`:"",b=`${P} wants you to sign in with your Ethereum account:
${w}

${E}`;let N=`URI: ${y}
Version: ${_}
Chain ID: ${n}${c?`
Nonce: ${c}`:""}
Issued At: ${l.toISOString()}`;if(a&&(N+=`
Expiration Time: ${a.toISOString()}`),h&&(N+=`
Not Before: ${h.toISOString()}`),p&&(N+=`
Request ID: ${p}`),g){let L=`
Resources:`;for(const A of g){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);L+=`
- ${A}`}N+=L}return`${b}
${N}`}class qe extends Error{constructor({message:e,code:n,cause:i,name:a}){var l;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(l=a??(i instanceof Error?i.name:void 0))!==null&&l!==void 0?l:"Unknown Error",this.code=n}}class Oa extends qe{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function Rb({error:s,options:e}){var n,i,a;const{publicKey:l}=e;if(!l)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((n=l.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(e.mediation==="conditional"&&((i=l.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((a=l.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new qe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return l.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const c=window.location.hostname;if($m(c)){if(l.rp.id!==c)return new qe({message:`The RP ID "${l.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(l.user.id.byteLength<1||l.user.id.byteLength>64)return new qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function jb({error:s,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(e.signal instanceof AbortSignal)return new qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new qe({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const i=window.location.hostname;if($m(i)){if(n.rpId!==i)return new qe({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Ab{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Ib=new Ab;function Nb(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:e,user:n,excludeCredentials:i}=s,a=Fs(s,["challenge","user","excludeCredentials"]),l=_s(e).buffer,c=Object.assign(Object.assign({},n),{id:_s(n.id).buffer}),h=Object.assign(Object.assign({},a),{challenge:l,user:c});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let p=0;p<i.length;p++){const g=i[p];h.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:_s(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function Lb(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:e,allowCredentials:n}=s,i=Fs(s,["challenge","allowCredentials"]),a=_s(e).buffer,l=Object.assign(Object.assign({},i),{challenge:a});if(n&&n.length>0){l.allowCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const h=n[c];l.allowCredentials[c]=Object.assign(Object.assign({},h),{id:_s(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return l}function Db(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s;return{id:s.id,rawId:s.id,response:{attestationObject:Cn(new Uint8Array(s.response.attestationObject)),clientDataJSON:Cn(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ub(s){var e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const n=s,i=s.getClientExtensionResults(),a=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Cn(new Uint8Array(a.authenticatorData)),clientDataJSON:Cn(new Uint8Array(a.clientDataJSON)),signature:Cn(new Uint8Array(a.signature)),userHandle:a.userHandle?Cn(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function $m(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Xp(){var s,e;return!!(nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function $b(s){try{const e=await navigator.credentials.create(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oa("Browser returned unexpected credential type",e)}:{data:null,error:new Oa("Empty credential response",e)}}catch(e){return{data:null,error:Rb({error:e,options:s})}}}async function Mb(s){try{const e=await navigator.credentials.get(s);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Oa("Browser returned unexpected credential type",e)}:{data:null,error:new Oa("Empty credential response",e)}}catch(e){return{data:null,error:jb({error:e,options:s})}}}const Fb={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Bb={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Ca(...s){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),n=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),i={};for(const a of s)if(a)for(const l in a){const c=a[l];if(c!==void 0)if(Array.isArray(c))i[l]=c;else if(n(c))i[l]=c;else if(e(c)){const h=i[l];e(h)?i[l]=Ca(h,c):i[l]=Ca(c)}else i[l]=c}return i}function zb(s,e){return Ca(Fb,s,e||{})}function qb(s,e){return Ca(Bb,s,e||{})}class Vb{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:i,signal:a},l){try{const{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!c)return{data:null,error:h};const p=a??Ib.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:g}=c.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${i}`),g.displayName||(g.displayName=g.name)}switch(c.webauthn.type){case"create":{const g=zb(c.webauthn.credential_options.publicKey,l==null?void 0:l.create),{data:v,error:y}=await $b({publicKey:g,signal:p});return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}case"request":{const g=qb(c.webauthn.credential_options.publicKey,l==null?void 0:l.request),{data:v,error:y}=await Mb(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:g,signal:p}));return v?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:v}},error:null}:{data:null,error:y}}}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Pn("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:n,webauthn:i}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Mi("rpId is required for WebAuthn authentication")};try{if(!Xp())return{data:null,error:new Pn("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:i},signal:a},{request:l});if(!c)return{data:null,error:h};const{webauthn:p}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:p.type,rpId:n,rpOrigins:i,credential_response:p.credential_response}})}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Pn("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},l){if(!n)return{data:null,error:new Mi("rpId is required for WebAuthn registration")};try{if(!Xp())return{data:null,error:new Pn("Browser does not support WebAuthn",null)};const{data:c,error:h}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(v=>{var y;return(y=v.data)===null||y===void 0?void 0:y.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:h};const{data:p,error:g}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:n,rpOrigins:i},signal:a},{create:l});return p?this._verify({factorId:c.id,challengeId:p.challengeId,webauthn:{rpId:n,rpOrigins:i,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(c){return se(c)?{data:null,error:c}:{data:null,error:new Pn("Unexpected error in register",c)}}}}Pb();const Wb={url:BS,storageKey:zS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Zp(s,e,n){return await n()}const vs={};class Fi{get jwks(){var e,n;return(n=(e=vs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=vs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vs[this.storageKey]=Object.assign(Object.assign({},vs[this.storageKey]),{cachedAt:e})}constructor(e){var n,i,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const l=Object.assign(Object.assign({},Wb),e);if(this.storageKey=l.storageKey,this.instanceID=(n=Fi.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Fi.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.instanceID>0&&nt()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=l.persistSession,this.autoRefreshToken=l.autoRefreshToken,this.admin=new Eb({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Lm(l.fetch),this.lock=l.lock||Zp,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,this.throwOnError=l.throwOnError,l.lock?this.lock=l.lock:nt()&&(!((i=globalThis==null?void 0:globalThis.navigator)===null||i===void 0)&&i.locks)?this.lock=xb:this.lock=Zp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Vb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:Nm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yp(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=Yp(this.memoryStorage)),nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${jm}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},i="none";if(nt()&&(n=nb(window.location.href),this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce")),nt()&&this.detectSessionInUrl&&i!=="none"){const{data:a,error:l}=await this._getSessionFromURL(n,i);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),GS(l)){const p=(e=l.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:c,redirectType:h}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?this._returnResult({error:n}):this._returnResult({error:new Pn("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,a;try{const l=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kt}),{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signUp(e){var n,i,a;try{let l;if("email"in e){const{email:v,password:y,options:_}=e;let w=null,P=null;this.flowType==="pkce"&&([w,P]=await ps(this.storage,this.storageKey)),l=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:v,password:y,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:w,code_challenge_method:P},xform:Kt})}else if("phone"in e){const{phone:v,password:y,options:_}=e;l=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(a=_==null?void 0:_.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Kt})}else throw new ga("You must provide either an email or phone number and a password");const{data:c,error:h}=l;if(h||!c)return this._returnResult({data:{user:null,session:null},error:h});const p=c.session,g=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithPassword(e){try{let n;if("email"in e){const{email:l,password:c,options:h}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gp})}else if("phone"in e){const{phone:l,password:c,options:h}=e;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Gp})}else throw new ga("You must provide either an email or phone number and a password");const{data:i,error:a}=n;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!i||!i.session||!i.user){const l=new fs;return this._returnResult({data:{user:null,session:null},error:l})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:a})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,i,a,l;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(l=e.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,i,a,l,c,h,p,g,v,y,_;let w,P;if("message"in e)w=e.message,P=e.signature;else{const{chain:E,wallet:b,statement:N,options:L}=e;let A;if(nt())if(typeof b=="object")A=b;else{const ne=window;if("ethereum"in ne&&typeof ne.ethereum=="object"&&"request"in ne.ethereum&&typeof ne.ethereum.request=="function")A=ne.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(L!=null&&L.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=b}const C=new URL((n=L==null?void 0:L.url)!==null&&n!==void 0?n:window.location.href),K=await A.request({method:"eth_requestAccounts"}).then(ne=>ne).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!K||K.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const G=Um(K[0]);let B=(i=L==null?void 0:L.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!B){const ne=await A.request({method:"eth_chainId"});B=Ob(ne)}const V={domain:C.host,address:G,statement:N,uri:C.href,version:"1",chainId:B,nonce:(a=L==null?void 0:L.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(l=L==null?void 0:L.signInWithEthereum)===null||l===void 0?void 0:l.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(h=L==null?void 0:L.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(p=L==null?void 0:L.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=L==null?void 0:L.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=L==null?void 0:L.signInWithEthereum)===null||v===void 0?void 0:v.resources};w=Tb(V),P=await A.request({method:"personal_sign",params:[Cb(w),G]})}try{const{data:E,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:P},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Kt});if(b)throw b;if(!E||!E.session||!E.user){const N=new fs;return this._returnResult({data:{user:null,session:null},error:N})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:b})}catch(E){if(se(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async signInWithSolana(e){var n,i,a,l,c,h,p,g,v,y,_,w;let P,E;if("message"in e)P=e.message,E=e.signature;else{const{chain:b,wallet:N,statement:L,options:A}=e;let C;if(nt())if(typeof N=="object")C=N;else{const G=window;if("solana"in G&&typeof G.solana=="object"&&("signIn"in G.solana&&typeof G.solana.signIn=="function"||"signMessage"in G.solana&&typeof G.solana.signMessage=="function"))C=G.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=N}const K=new URL((n=A==null?void 0:A.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const G=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:K.host,uri:K.href}),L?{statement:L}:null));let B;if(Array.isArray(G)&&G[0]&&typeof G[0]=="object")B=G[0];else if(G&&typeof G=="object"&&"signedMessage"in G&&"signature"in G)B=G;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)P=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),E=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${K.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${K.href}`,`Issued At: ${(a=(i=A==null?void 0:A.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((c=A==null?void 0:A.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((g=A==null?void 0:A.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((y=(v=A==null?void 0:A.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...A.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const G=await C.signMessage(new TextEncoder().encode(P),"utf8");if(!G||!(G instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=G}}try{const{data:b,error:N}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:Cn(E)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Kt});if(N)throw N;if(!b||!b.session||!b.user){const L=new fs;return this._returnResult({data:{user:null,session:null},error:L})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:N})}catch(b){if(se(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const n=await bn(this.storage,`${this.storageKey}-code-verifier`),[i,a]=(n??"").split("/");try{const{data:l,error:c}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Kt});if(await Wr(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!l||!l.session||!l.user){const h=new fs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign(Object.assign({},l),{redirectType:a??null}),error:c})}catch(l){if(se(l))return this._returnResult({data:{user:null,session:null,redirectType:null},error:l});throw l}}async signInWithIdToken(e){try{const{options:n,provider:i,token:a,access_token:l,nonce:c}=e,h=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:a,access_token:l,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Kt}),{data:p,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new fs;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,i,a,l,c;try{if("email"in e){const{email:h,options:p}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await ps(this.storage,this.storageKey));const{error:y}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},create_user:(i=p==null?void 0:p.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:v}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(a=p==null?void 0:p.data)!==null&&a!==void 0?a:{},create_user:(l=p==null?void 0:p.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(c=p==null?void 0:p.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v})}throw new ga("You must provide either an email or phone number.")}catch(h){if(se(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var n,i;try{let a,l;"options"in e&&(a=(n=e.options)===null||n===void 0?void 0:n.redirectTo,l=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:c,error:h}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:l}}),redirectTo:a,xform:Kt});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const p=c.session,g=c.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var n,i,a,l,c;try{let h=null,p=null;this.flowType==="pkce"&&([h,p]=await ps(this.storage,this.storageKey));const g=await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:p}),headers:this.headers,xform:_b});return!((l=g.data)===null||l===void 0)&&l.url&&nt()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(se(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new Ct;const{error:a}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:a,options:l}=e,{error:c}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:i,type:a,options:l}=e,{data:c,error:h}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h})}throw new ga("You must provide either an email or phone number and a type")}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await bn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Wu:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const c=await bn(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=Qu()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=mb(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{session:null},error:l}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kr}):await this._useSession(async n=>{var i,a,l;const{data:c,error:h}=n;if(h)throw h;return!(!((i=c.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0,xform:Kr})})}catch(n){if(se(n))return QS(n)&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:a,error:l}=i;if(l)throw l;if(!a.session)throw new Ct;const c=a.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await ps(this.storage,this.storageKey));const{data:g,error:v}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:c.access_token,xform:Kr});if(v)throw v;return c.user=g.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(i){if(se(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const n=Date.now()/1e3;let i=n,a=!0,l=null;const{payload:c}=Ku(e.access_token);if(c.exp&&(i=c.exp,a=i<=n),a){const{data:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!h)return{data:{user:null,session:null},error:null};l=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;l={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return this._returnResult({data:{user:l.user,session:l},error:null})}catch(n){if(se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(i=c.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);return l?this._returnResult({data:{user:null,session:null},error:l}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!nt())throw new ma("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ma(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ma("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new zp("No code detected.");const{data:L,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:L.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:a,access_token:l,refresh_token:c,expires_in:h,expires_at:p,token_type:g}=e;if(!l||!h||!c||!g)throw new ma("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let _=v+y;p&&(_=parseInt(p));const w=_-v;w*1e3<=ys&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const P=_-y;v-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,_,v):v-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,_,v);const{data:E,error:b}=await this._getUser(l);if(b)throw b;const N={provider_token:i,provider_refresh_token:a,access_token:l,expires_in:y,expires_at:_,refresh_token:c,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:N,redirectType:e.type},error:null})}catch(i){if(se(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await bn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({error:l});const c=(i=a.session)===null||i===void 0?void 0:i.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(KS(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await Wr(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=rb(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,a;try{const{data:{session:l},error:c}=n;if(c)throw c;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",e,"session",l)}catch(l){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",l),console.error(l)}})}async resetPasswordForEmail(e,n={}){let i=null,a=null;this.flowType==="pkce"&&([i,a]=await ps(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(l){if(se(l))return this._returnResult({data:null,error:l});throw l}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:i,error:a}=await this._useSession(async l=>{var c,h,p,g,v;const{data:y,error:_}=l;if(_)throw _;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",w,{headers:this.headers,jwt:(v=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(a)throw a;return nt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),this._returnResult({data:{provider:e.provider,url:i==null?void 0:i.url},error:null})}catch(i){if(se(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var i;try{const{error:a,data:{session:l}}=n;if(a)throw a;const{options:c,provider:h,token:p,access_token:g,nonce:v}=e,y=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=l==null?void 0:l.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Kt}),{data:_,error:w}=y;return w?this._returnResult({data:{user:null,session:null},error:w}):!_||!_.session||!_.user?this._returnResult({data:{user:null,session:null},error:new fs}):(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),this._returnResult({data:_,error:w}))}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:c}=n;if(c)throw c;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await ob(async a=>(a>0&&await ib(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kt})),(a,l)=>{const c=200*Math.pow(2,a);return l&&Hu(l)&&Date.now()+c-i<ys})}catch(i){if(this._debug(n,"error",i),se(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),nt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const a=await bn(this.storage,this.storageKey);if(a&&this.userStorage){let c=await bn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await ws(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:Qu()}else if(a&&!a.user&&!a.user){const c=await bn(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await Wr(this.storage,this.storageKey+"-user"),await ws(this.storage,this.storageKey,a)):a.user=Qu()}if(this._debug(i,"session from storage",a),!this._isValidSession(a)){this._debug(i,"session is not valid"),a!==null&&await this._removeSession();return}const l=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Wu;if(this._debug(i,`session has${l?"":" not"} expired with margin of ${Wu}s`),l){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Hu(c)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:h}=await this._getUser(a.access_token);!h&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(i,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(i,"error",a),console.error(a);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Ua;const{data:l,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!l.session)throw new Ct;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const h={data:l.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(l){if(this._debug(a,"error",l),se(l)){const c={data:null,error:l};return Hu(l)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(l),l}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,n,i=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const l=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(p){l.push(p)}});if(await Promise.all(c),l.length>0){for(let h=0;h<l.length;h+=1)console.error(l[h]);throw l[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await ws(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const l=Kp(a);await ws(this.storage,this.storageKey,l)}else{const a=Kp(n);await ws(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Wr(this.storage,this.storageKey),await Wr(this.storage,this.storageKey+"-code-verifier"),await Wr(this.storage,this.storageKey+"-user"),this.userStorage&&await Wr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ys);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((i.expires_at*1e3-e)/ys);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${ys}ms, refresh threshold is ${Tc} ticks`),a<=Tc&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Dm)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const a=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&a.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&a.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[l,c]=await ps(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(h.toString())}if(i!=null&&i.queryParams){const l=new URLSearchParams(i.queryParams);a.push(l.toString())}return i!=null&&i.skipBrowserRedirect&&a.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;return l?this._returnResult({data:null,error:l}):await le(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,a;const{data:l,error:c}=n;if(c)return this._returnResult({data:null,error:c});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:g}=await le(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return g?this._returnResult({data:null,error:g}):(e.factorType==="totp"&&p.type==="totp"&&(!((a=p==null?void 0:p.totp)===null||a===void 0)&&a.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Db(e.webauthn.credential_response):Ub(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:p}=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:p}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:a,error:l}=n;if(l)return this._returnResult({data:null,error:l});const c=await le(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});if(c.error)return c;const{data:h}=c;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Nb(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:Lb(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:i}=await this.getUser();if(i)return{data:null,error:i};const a={all:[],phone:[],totp:[],webauthn:[]};for(const l of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])a.all.push(l),l.status==="verified"&&a[l.factor_type].push(l);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:i},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Ku(i.access_token);let c=null;l.aal&&(c=l.aal);let h=c;((n=(e=i.user.factors)===null||e===void 0?void 0:e.filter(v=>v.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=l.amr||[];return{data:{currentLevel:c,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?await le(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ct});const c=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,n){try{return await this._useSession(async i=>{const{data:{session:a},error:l}=i;if(l)return this._returnResult({data:null,error:l});if(!a)return this._returnResult({data:null,error:new Ct});const c=await le(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return c.data&&c.data.redirect_url&&nt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;return i?this._returnResult({data:null,error:i}):n?await le(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Ct})})}catch(e){if(se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:i},error:a}=n;return a?this._returnResult({data:null,error:a}):i?(await le(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ct})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(h=>h.kid===e);if(i)return i;const a=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+WS>a)return i;const{data:l,error:c}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=a,i=l.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:w,error:P}=await this.getSession();if(P||!w.session)return this._returnResult({data:null,error:P});i=w.session.access_token}const{header:a,payload:l,signature:c,raw:{header:h,payload:p}}=Ku(i);n!=null&&n.allowExpired||fb(l.exp);const g=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!g){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:l,header:a,signature:c},error:null}}const v=pb(a.alg),y=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,c,eb(`${h}.${p}`)))throw new Ac("Invalid JWT signature");return{data:{claims:l,header:a,signature:c},error:null}}catch(i){if(se(i))return this._returnResult({data:null,error:i});throw i}}}Fi.nextInstanceID={};const Hb=Fi;class Kb extends Hb{constructor(e){super(e)}}class Qb{constructor(e,n,i){var a,l,c;this.supabaseUrl=e,this.supabaseKey=n;const h=FS(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:AS,realtime:NS,auth:Object.assign(Object.assign({},IS),{storageKey:p}),global:jS},v=MS(i??{},g);this.storageKey=(a=v.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(l=v.global.headers)!==null&&l!==void 0?l:{},v.accessToken?(this.accessToken=v.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=v.auth)!==null&&c!==void 0?c:{},this.headers,v.global.fetch),this.fetch=US(n,this._getAccessToken.bind(this),v.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},v.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new N_(new URL("rest/v1",h).href,{headers:this.headers,schema:v.db.schema,fetch:this.fetch}),this.storage=new CS(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),v.accessToken||this._listenForAuthEvents()}get functions(){return new R_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:i}=await this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,storageKey:c,flowType:h,lock:p,debug:g,throwOnError:v},y,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Kb({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),y),storageKey:c,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:a,userStorage:l,flowType:h,lock:p,debug:g,throwOnError:v,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Y_(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Gb=(s,e,n)=>new Qb(s,e,n);function Jb(){if(typeof window<"u"||typeof process>"u")return!1;const s=process.version;if(s==null)return!1;const e=s.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Jb()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Yb="https://strhxqxvsrecfilfojtc.supabase.co",Xb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InN0cmh4cXh2c3JlY2ZpbGZvanRjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1OTUyNDAsImV4cCI6MjA3OTE3MTI0MH0.DZE2vpUTEqAAIMzT5GUxeV99d98RjDcG-a5IhUtasrI",br=Gb(Yb,Xb,{auth:{persistSession:!0,autoRefreshToken:!0},db:{schema:"public"},realtime:{params:{eventsPerSecond:10}}});let Ss=[];const Ic=new Set,Mm=()=>{Ic.forEach(s=>s())},Zb=()=>{var s;return((s=crypto.randomUUID)==null?void 0:s.call(crypto))??`toast-${Date.now()}-${Math.random().toString(16).slice(2)}`},eE=()=>Ss,tE=s=>(Ic.add(s),()=>Ic.delete(s)),ed=s=>{const e=Ss.filter(n=>n.id!==s);e.length!==Ss.length&&(Ss=e,Mm())},Ju=s=>{const e=Zb(),n={variant:"info",...s,id:e};Ss=[...Ss,n],Mm();const i=s.durationMs??4500;return i!==0&&window.setTimeout(()=>ed(e),i),e},rE=()=>D.useSyncExternalStore(tE,eE),nE={info:"bg-slate-800 text-slate-50 border border-slate-700",success:"bg-emerald-700/90 text-emerald-50 border border-emerald-600",error:"bg-rose-700/90 text-rose-50 border border-rose-600"},sE="ml-3 rounded-md px-2 py-1 text-xs font-semibold transition hover:bg-black/10 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-orange-400",iE=()=>{const s=rE();return s.length===0?null:U.jsx("div",{className:"fixed left-1/2 top-4 z-50 flex w-full max-w-xl -translate-x-1/2 flex-col gap-2 px-4 sm:left-auto sm:right-4 sm:translate-x-0 sm:px-0",children:s.map(e=>U.jsx("div",{className:`${nE[e.variant??"info"]} shadow-lg shadow-black/30 backdrop-blur-md`,children:U.jsxs("div",{className:"flex items-start justify-between px-4 py-3",children:[U.jsxs("div",{className:"flex-1",children:[U.jsx("p",{className:"text-sm font-semibold leading-tight",children:e.title}),e.description&&U.jsx("p",{className:"mt-1 text-sm leading-snug text-slate-200",children:e.description})]}),U.jsx("button",{type:"button",onClick:()=>ed(e.id),"aria-label":"Dismiss notification",className:`${sE} text-inherit`,children:""})]})},e.id))})},Yu=s=>{switch(s){case"success":return"Success";case"error":return"Something went wrong";default:return"Notice"}},eg={show:(s,e)=>Ju({title:(e==null?void 0:e.title)??Yu(e==null?void 0:e.variant),description:s,variant:e==null?void 0:e.variant,durationMs:e==null?void 0:e.durationMs}),success:(s,e)=>Ju({title:(e==null?void 0:e.title)??Yu("success"),description:s,variant:"success",durationMs:e==null?void 0:e.durationMs}),error:(s,e)=>Ju({title:(e==null?void 0:e.title)??Yu("error"),description:s,variant:"error",durationMs:e==null?void 0:e.durationMs}),dismiss:ed},tg=s=>{if(typeof s=="string")return s;if(s instanceof Error)return s.message;if(s&&typeof s=="object"&&"message"in s){const e=s.message;if(typeof e=="string")return e}return"Something went wrong. Please try again."},oE=1e3*15,ji=new Lw({defaultOptions:{queries:{staleTime:oE,gcTime:1e3*60*10,refetchOnWindowFocus:!0,refetchOnReconnect:!0,retry:1,onError:s=>{eg.error(tg(s))}},mutations:{onError:s=>{eg.error(tg(s))}}}}),$n={diaryLibrary:s=>["diary","library",s],diaryStats:s=>["diary","stats",s],homeForYou:s=>["home-for-you",s],homeFeed:s=>["home-feed",s],titleDiary:(s,e)=>["title-diary",s,e],titleDetail:s=>["title-detail",s],conversations:s=>["messages","conversations",s],friendsTitleReactions:(s,e)=>["title-friends-reactions",s,e]},Xu=40,aE=s=>{const e=new Date(s);if(Number.isNaN(e.getTime()))return"Recently";const i=new Date().getTime()-e.getTime(),a=Math.floor(i/1e3);if(a<45)return"Just now";const l=Math.floor(a/60);if(l<60)return`${l} min ago`;const c=Math.floor(l/60);if(c<24)return`${c} h ago`;const h=Math.floor(c/24);if(h===1)return"Yesterday";if(h<7)return`${h} days ago`;const p=Math.floor(h/7);if(p<4)return`${p} wk${p===1?"":"s"} ago`;const g=Math.floor(h/30);if(g<12)return`${g} mo${g===1?"":"s"} ago`;const v=Math.floor(h/365);return`${v} yr${v===1?"":"s"} ago`},lE=s=>{let e=0;for(let i=0;i<s.length;i+=1)e+=s.charCodeAt(i);const n=e%3;return n===0?"teal":n===1?"violet":"orange"},uE=(s,e)=>{var l,c;const n=(s??e??"").trim();if(!n)return"?";const i=n.split(/\s+/);if(i.length>=2){const h=((l=i[0])==null?void 0:l[0])??"",p=((c=i[1])==null?void 0:c[0])??"",g=(h+p).trim();return g?g.toUpperCase():"?"}const a=i[0].replace(/[^A-Za-z0-9]/g,"");return a?a.length===1?a.toUpperCase():(a[0]+a[a.length-1]).toUpperCase():"?"},cE=s=>{if(s&&typeof s=="object"&&!Array.isArray(s)){const e=s;return{rating:typeof e.rating=="number"?e.rating:void 0,review_snippet:typeof e.review_snippet=="string"?e.review_snippet:void 0,headline:typeof e.headline=="string"?e.headline:void 0,extra:typeof e.extra=="string"?e.extra:void 0,emoji:typeof e.emoji=="string"?e.emoji:void 0,reason:typeof e.reason=="string"?e.reason:void 0,score:typeof e.score=="number"?e.score:void 0}}return{}},dE=(s,e,n)=>{const i=e.get(s.user_id);if(!i)return null;const a=cE(s.payload),l=s.title_id?n.get(s.title_id):null;if(!l)return null;const c={id:s.title_id,name:l.primary_title??"Untitled",year:l.release_year??new Date().getFullYear(),posterUrl:l.poster_url??void 0,backdropUrl:l.backdrop_url??null},h={id:i.id,displayName:i.display_name??i.username??"Someone",username:i.username??i.display_name??"",avatarInitials:uE(i.display_name,i.username),avatarColor:lE(i.id)},p={id:s.id,createdAt:s.created_at,createdAtLabel:aE(s.created_at)};switch(s.event_type){case"rating_created":return typeof a.rating!="number"?null:{...p,kind:"friend-rating",user:h,title:c,rating:a.rating,reviewSnippet:a.review_snippet,emoji:a.emoji};case"review_created":return{...p,kind:"friend-review",user:h,title:c,rating:a.rating,reviewSnippet:a.review_snippet??a.headline,emoji:a.emoji};case"watchlist_added":return{...p,kind:"watchlist-add",user:h,title:c,note:a.extra??a.headline};case"recommendation_created":return{...p,kind:"recommendation",user:h,title:c,reason:a.reason??a.headline??a.extra,score:a.score};default:return null}},Fm=async(s,e=null)=>{var E;const{data:n,error:i}=await br.rpc("get_home_feed",{p_user_id:s,p_limit:Xu,p_cursor:e});if(i)throw new Error(i.message);const a=n??[];if(!a.length)return{items:[],nextCursor:null,hasMore:!1};const l=a.length>Xu,c=l?a.slice(0,Xu):a,h=Array.from(new Set(c.map(b=>b.title_id).filter(b=>!!b))),p=Array.from(new Set(c.map(b=>b.user_id).filter(b=>!!b))),[g,v]=await Promise.all([h.length?br.from("titles").select("title_id, primary_title, release_year, poster_url, backdrop_url").in("title_id",h):Promise.resolve({data:[],error:null}),p.length?br.from("profiles").select("id, display_name, username, avatar_url").in("id",p):Promise.resolve({data:[],error:null})]);g.error&&console.warn("[useHomeFeed] Failed to load titles for feed",g.error.message),v.error&&console.warn("[useHomeFeed] Failed to load profiles for feed",v.error.message);const y=new Map;(g.data??[]).forEach(b=>{y.set(b.title_id,b)});const _=new Map;(v.data??[]).forEach(b=>{_.set(b.id,b)});const w=[];c.forEach(b=>{const N=dE(b,_,y);N&&w.push(N)});const P=l?((E=c[c.length-1])==null?void 0:E.created_at)??null:null;return{items:w,nextCursor:P,hasMore:l}},sk=()=>{const{user:s}=$a(),{data:e,isLoading:n,isFetching:i,error:a,fetchNextPage:l,isFetchingNextPage:c,hasNextPage:h}=Qw({queryKey:$n.homeFeed((s==null?void 0:s.id)??null),enabled:!!(s!=null&&s.id),initialPageParam:null,staleTime:1e3*30,refetchOnWindowFocus:!0,refetchOnReconnect:!0,keepPreviousData:!0,queryFn:async({pageParam:y})=>s!=null&&s.id?Fm(s.id,y):{items:[],nextCursor:null,hasMore:!1},getNextPageParam:y=>y.hasMore?y.nextCursor:null});return{items:((e==null?void 0:e.pages)??[]).flatMap(y=>y.items),isLoading:n||!e&&i,isLoadingMore:c,hasMore:!!h,error:a?"We couldnt load your feed right now. Check your connection or try signing in again.":null,loadMore:()=>{h&&l()}}},Nc={totalRated:0,totalWatched:0,averageRating:null,ratingDistribution:[],topGenres:[],watchCountByMonth:[]},hE=s=>{if(!s)return Nc;const e=Array.isArray(s.rating_distribution)?s.rating_distribution.map(c=>{if(!c||typeof c!="object")return null;const h=Number(c.rating),p=Number(c.count);return Number.isNaN(h)||Number.isNaN(p)?null:{rating:h,count:p}}).filter(Boolean):[],n=Array.isArray(s.top_genres)?s.top_genres.map(c=>{if(!c||typeof c!="object")return null;const h=c.genre,p=Number(c.count);return typeof h!="string"||Number.isNaN(p)?null:{genre:h,count:p}}).filter(Boolean):[],i=Array.isArray(s.watch_count_by_month)?s.watch_count_by_month.map(c=>{if(!c||typeof c!="object")return null;const h=c.month,p=Number(c.count);return typeof h!="string"||Number.isNaN(p)?null:{month:h,count:p}}).filter(Boolean):[],a=s.average_rating,l=a===null||typeof a>"u"?null:Number(a);return{totalRated:Number(s.total_rated??0),totalWatched:Number(s.total_watched??0),averageRating:l!==null&&Number.isNaN(l)?null:l,ratingDistribution:e,topGenres:n,watchCountByMonth:i}},Bm=async s=>{const{data:e,error:n}=await br.rpc("get_diary_stats",{p_user_id:s});if(n)throw new Error(n.message);return hE(e==null?void 0:e[0])},ik=()=>{var i;const{user:s}=$a(),e=(s==null?void 0:s.id)??null,n=zg({queryKey:$n.diaryStats(e),enabled:!!e,queryFn:async()=>e?Bm(e):Nc});return{stats:n.data??Nc,isLoading:n.isLoading,isError:n.isError,error:((i=n.error)==null?void 0:i.message)??null}},fE=s=>{if(!s)return"";try{const e=JSON.parse(s);if(!e||typeof e!="object")return typeof e=="string"?e:s;if(typeof e.text=="string")return e.text;const n=e.blocks;if(Array.isArray(n)){const i=n.map(a=>typeof(a==null?void 0:a.text)=="string"?a.text.trim():"").filter(Boolean);if(i.length>0)return i.join(`
`)}return e.type==="image"?typeof e.caption=="string"&&e.caption.trim()?e.caption:"Photo":typeof e.message=="string"?e.message:s}catch{return s}},ok=s=>{if(!s)return{};try{const e=JSON.parse(s);if(e&&typeof e=="object")return{editedAt:typeof e.editedAt=="string"?e.editedAt:void 0,deletedAt:typeof e.deletedAt=="string"?e.deletedAt:void 0,deleted:e.deleted===!0}}catch{}return{}},pE=s=>s.replace(/\s+/g," ").replace(/\u200B/g,"").trim(),gE=(s,e=80)=>{if(!s)return null;const n=fE(s),i=pE(n);if(!i)return null;let a=i;return a.toLowerCase()==="photo"&&(a=" Photo"),a.length<=e?a:`${a.slice(0,e-1).trimEnd()}`},mE=s=>{if(!s)return null;const e=new Date(s);if(Number.isNaN(e.getTime()))return null;const i=new Date().getTime()-e.getTime();if(i<=0)return"Just now";const a=Math.floor(i/1e3);if(a<45)return"Just now";const l=Math.floor(a/60);if(l<60)return`${l} min ago`;const c=Math.floor(l/60);if(c<24)return`${c} h ago`;const h=Math.floor(c/24);if(h===1)return"Yesterday";if(h<7)return`${h} days ago`;const p=Math.floor(h/7);if(p<4)return`${p} wk${p===1?"":"s"} ago`;const g=Math.floor(h/30);if(g<1)return`${p} wk${p===1?"":"s"} ago`;if(g<12)return`${g} mo${g===1?"":"s"} ago`;const v=Math.floor(g/12);return`${v} yr${v===1?"":"s"} ago`},zm=async s=>{const{data:e,error:n}=await br.rpc("get_conversation_summaries",{p_user_id:s});if(n)throw console.error("[useConversations] Failed to load conversation summaries",n),new Error(n.message);return(e??[]).map(a=>{const l=Array.isArray(a.participants)?a.participants:[],c=Array.isArray(a.participant_receipts)?a.participant_receipts:[],h=l.filter(C=>!C.isSelf),p=l.some(C=>C.isSelf),g=!!a.is_group;let v,y;if(g)v=a.title??(h.length>0?h.slice(0,3).map(C=>C.displayName??C.username??"Unknown user").join(", "):"Group conversation"),y=h.length>0?`${l.length} participants`:"Group conversation";else{const C=h[0]??l[0];v=(C==null?void 0:C.displayName)??(C==null?void 0:C.username)??a.title??"Direct message",y=(C==null?void 0:C.username)!=null?`@${C.username}`:p&&h.length===0?"Just you":"Direct message"}const _=a.last_message_body?gE(a.last_message_body):null,w=a.last_message_created_at??a.updated_at??a.created_at??null,P=mE(w),E=a.self_last_read_at??null,b=a.self_last_read_message_id??null,N=!!a.last_message_id&&(b&&b!==a.last_message_id||!b&&w&&(!E||new Date(w).getTime()>new Date(E).getTime())),L=a.last_message_user_id===s;let A=!1;if(!g&&a.last_message_id&&L&&w){const C=c.find(K=>K.userId!==s);if(C!=null&&C.lastReadMessageId)A=C.lastReadMessageId===a.last_message_id;else if(C!=null&&C.lastReadAt){const K=new Date(w).getTime(),G=new Date(C.lastReadAt).getTime();!Number.isNaN(K)&&!Number.isNaN(G)&&G>=K&&(A=!0)}}return{id:a.conversation_id,isGroup:g,title:v,subtitle:y,participants:l.map(C=>({id:C.id,displayName:C.displayName??C.username??"Unknown user",username:C.username,avatarUrl:C.avatarUrl,isSelf:C.isSelf})),lastMessagePreview:_,lastMessageAt:w??null,lastMessageAtLabel:P,hasUnread:N,lastMessageIsFromSelf:L,lastMessageSeenByOthers:A}})},ak=()=>{const{user:s}=$a(),e=(s==null?void 0:s.id)??null;return zg({queryKey:["conversations",e],enabled:!!e,refetchOnWindowFocus:!0,refetchOnReconnect:!0,refetchInterval:e?8e3:!1,refetchIntervalInBackground:!0,queryFn:async()=>e?zm(e):[]})};async function td(s,e,n){var h,p,g;if((h=n==null?void 0:n.signal)!=null&&h.aborted)throw n.signal.reason??new DOMException("Aborted","AbortError");const i=new AbortController,a=(n==null?void 0:n.timeoutMs)??25e3,l=setTimeout(()=>i.abort(),a),c=()=>i.abort();(p=n==null?void 0:n.signal)==null||p.addEventListener("abort",c);try{const{data:v,error:y}=await br.functions.invoke(s,{body:e,signal:i.signal});if(y){const _=new Error(y.message??`Error invoking ${s}`);throw _.status=y.status,_}if(v==null)throw new Error(`Missing data from ${s}`);return v}finally{clearTimeout(l),(g=n==null?void 0:n.signal)==null||g.removeEventListener("abort",c)}}async function lk(s,e,n){const i={path:s,params:{language:S_(),...e}};try{return(await td("tmdb-proxy",i,{signal:n})).data}catch(a){return console.warn(`[tmdb] Request error for ${s}:`,a),null}}function vE(s,e="w500"){return s?`https://image.tmdb.org/t/p/${e}${s}`:null}const rg=s=>{if(!s||typeof s!="object")return!1;const e=s;return typeof e.id=="string"&&typeof e.title=="string"},yE=s=>{if(Array.isArray(s))return s.filter(rg);const e=s.cards;return Array.isArray(e)?e.filter(rg):[]},Lc=s=>["swipeDeck",{variant:s}],qm="mn_swipe_source_weights_v1";function Vm(){if(typeof window>"u")return{"for-you":1,"from-friends":1,trending:1};try{const s=window.localStorage.getItem(qm);if(!s)return{"for-you":1,"from-friends":1,trending:1};const e=JSON.parse(s);return{"for-you":typeof e["for-you"]=="number"?e["for-you"]:1,"from-friends":typeof e["from-friends"]=="number"?e["from-friends"]:1,trending:typeof e.trending=="number"?e.trending:1}}catch{return{"for-you":1,"from-friends":1,trending:1}}}async function Ci(s,e){const n=s==="for-you"?"swipe-for-you":s==="from-friends"?"swipe-from-friends":"swipe-trending";try{const i=await td(n,{limit:e},{timeoutMs:25e3}),a=yE(i).map(l=>({...l,source:s}));if(a.length)return console.debug("[useSwipeDeck]",n,"returned",a.length,"cards"),a}catch(i){(i==null?void 0:i.name)==="AbortError"?console.warn("[useSwipeDeck]",n,"timed out"):console.warn("[useSwipeDeck] invoke error from",n,i)}return[]}async function Wm(s,e,n){var i;if(s==="combined"){const a=n??Vm(),l=Object.values(a).reduce((w,P)=>w+P,0)||1,c=Math.max(e,18),h={"for-you":Math.max(6,Math.round(a["for-you"]/l*c)),"from-friends":Math.max(4,Math.round(a["from-friends"]/l*c)),trending:Math.max(4,Math.round(a.trending/l*c))},[p,g,v]=await Promise.all([Ci("for-you",h["for-you"]),Ci("from-friends",h["from-friends"]),Ci("trending",h.trending)]);let y=[p,g,v];const _=y.flat();if(_.length<c){const w=c-_.length,P=(i=Object.entries(a).sort((b,N)=>N[1]-b[1])[0])==null?void 0:i[0],E=await Ci(P??"for-you",w+6);y=[...y,E]}return _E(y,c)}return Ci(s,Math.max(e,12))}async function wE(s,e,n){const i=(n==null?void 0:n.limit)??40,a=s.getQueryData(Lc(e));if(a!=null&&a.cards.length)return;const l=await Wm(e,i,n==null?void 0:n.weights);s.setQueryData(Lc(e),{status:l.length?"ready":"loading",cards:l,index:null,errorMessage:null})}function _E(s,e){const n=Math.max(...s.map(a=>a.length)),i=[];for(let a=0;a<n;a+=1)for(const l of s){const c=l[a];if(c&&(i.push(c),i.length>=e))return i}return i.slice(0,e)}const SE=(s,e)=>{if(e<=0||s.length===0)return{remaining:s,exhausted:s.length===0};const n=s.slice(Math.min(e,s.length));return{remaining:n,exhausted:n.length===0}};function uk(s,e){const n=e==null?void 0:e.limit,i=Wc(),a=D.useMemo(()=>Lc(s),[s]),l=D.useRef(new Set),c=D.useRef([]),h=D.useRef(!1),[p,g]=D.useState({status:"idle",cards:[],index:null,errorMessage:null}),[v,y]=D.useState(null),_=D.useRef(Vm()),w=D.useCallback(B=>{g(V=>{const ne=typeof B=="function"?B(V):B;return i.setQueryData(a,ne),ne})},[a,i]),P=D.useCallback(B=>{(window.requestIdleCallback??(J=>window.setTimeout(J,280)))(()=>{for(const J of B){if(!J.posterUrl)continue;const ve=new Image;ve.loading="lazy",ve.src=J.posterUrl}})},[]),E=D.useCallback(B=>{const V=vE(B.tmdbPosterPath??B.tmdbBackdropPath,"w780"),ne=B.posterUrl??V??null,J=B.imdbRating==null||Number.isNaN(Number(B.imdbRating))?null:Number(B.imdbRating),ve=B.rtTomatoMeter==null||Number.isNaN(Number(B.rtTomatoMeter))?null:Number(B.rtTomatoMeter);return{...B,imdbRating:J,rtTomatoMeter:ve,posterUrl:ne}},[]),b=D.useCallback(B=>{if(!B.length)return B;const V=l.current,ne=[];for(const J of B)V.has(J.id)||(V.add(J.id),ne.push(E(J)));return ne},[E]),N=D.useCallback(B=>{const V=b(B);V.length&&w(ne=>{const J=[...ne.cards,...V];return c.current=J,P(V),{status:"ready",cards:J,index:ne.index,errorMessage:null}})},[b,P,w]),L=D.useCallback(async(B=n)=>{if(!h.current){h.current=!0,w(V=>({...V,status:"loading",index:V.index,errorMessage:null}));try{const V=await Wm(s,B,_.current);if(!V.length){w(ne=>({...ne,status:c.current.length?"ready":"exhausted",index:ne.index,errorMessage:null}));return}N(V)}catch(V){console.warn("[useSwipeDeck] fetch error",V);const ne=V instanceof Error?V.message:typeof V=="string"?V:"We couldn't load swipe cards. Please retry.";w(J=>({...J,status:"error",index:J.index,errorMessage:ne})),window.setTimeout(()=>{h.current=!1,L(B)},3200);return}finally{h.current=!1,w(V=>V.status==="loading"&&V.cards.length?{...V,status:"ready"}:V)}}},[N,s,n,w]);D.useEffect(()=>{c.current=[],l.current=new Set;const B=i.getQueryData(a),V=B?B.status==="loading"&&B.cards.length?{...B,status:"ready"}:B:{status:"loading",cards:[],index:null,errorMessage:null};c.current=V.cards,l.current=new Set(V.cards.map(ne=>ne.id)),w(V),V.cards.length||L(n)},[a,L,n,i,w]);const A=D.useCallback((B,V)=>{if(!B)return;const ne=V==="like"?.45:V==="dislike"?-.35:-.1,J=_.current,ve={...J,[B]:Math.max(.2,Math.min(3.5,(J[B]??1)+ne))};if(_.current=ve,typeof window<"u")try{window.localStorage.setItem(qm,JSON.stringify(ve))}catch{}},[]),C=D.useCallback(B=>{B<=0||w(V=>{const{remaining:ne}=SE(V.cards,B);return ne.length===V.cards.length?V:(c.current=ne,{...V,cards:ne})})},[w]),K=D.useCallback(()=>{l.current=new Set,c.current=[],h.current=!1,i.removeQueries({queryKey:a}),w({status:"loading",cards:[],index:null,errorMessage:null}),L(n)},[a,L,n,i,w]),G=Kw({mutationFn:async({cardId:B,direction:V,rating:ne,inWatchlist:J,sourceOverride:ve})=>{await td("swipe-event",{titleId:B,direction:V,source:ve??void 0,rating:ne,inWatchlist:J})},onError:(B,V)=>{const ne=B instanceof Error?B.message:typeof B=="string"?B:"We couldn't save that swipe. Please retry.";y({payload:V,message:ne})},onSuccess:()=>{i.invalidateQueries({queryKey:$n.diaryLibrary(null)}),i.invalidateQueries({queryKey:$n.homeForYou(null)}),i.invalidateQueries({queryKey:$n.homeFeed(null)}),y(null)}});return{cards:p.cards,status:p.status,isLoading:p.status==="loading",isError:p.status==="error",isExhausted:p.status==="exhausted",deckError:p.errorMessage??null,fetchMore:L,refresh:K,trimConsumed:C,swipe:B=>{A(B.sourceOverride,B.direction),G.mutate(B)},swipeAsync:async B=>(A(B.sourceOverride,B.direction),G.mutateAsync(B)),swipeSyncError:(v==null?void 0:v.message)??null,retryFailedSwipe:()=>{v&&G.mutate(v.payload)},isRetryingSwipe:G.isPending&&!!v}}const Hm=D.createContext(void 0),bE=({children:s})=>{const[e,n]=D.useState(null),[i,a]=D.useState(!0),l=D.useRef(null),c=D.useCallback(async()=>{a(!0);const{data:g,error:v}=await br.auth.getUser();v&&console.error("Error loading auth user:",v.message),n((g==null?void 0:g.user)??null),a(!1)},[]);D.useEffect(()=>{c();const{data:{subscription:g}}=br.auth.onAuthStateChange((v,y)=>{n((y==null?void 0:y.user)??null),a(!1)});return()=>{g.unsubscribe()}},[c]),D.useEffect(()=>{const g=e==null?void 0:e.id;if(!g){l.current=null;return}if(l.current===g)return;l.current=g;const v=["combined","for-you","from-friends","trending"];(async()=>{await Promise.allSettled([ji.prefetchInfiniteQuery({queryKey:$n.homeFeed(g),initialPageParam:null,queryFn:({pageParam:_})=>Fm(g,_??null)}),ji.prefetchQuery({queryKey:["conversations",g],queryFn:()=>zm(g)}),ji.prefetchQuery({queryKey:$n.diaryStats(g),queryFn:()=>Bm(g)}),...v.map(_=>wE(ji,_,{limit:_==="combined"?36:18}))])})()},[e==null?void 0:e.id]);const h=D.useCallback(async()=>{const{error:g}=await br.auth.signOut();g&&console.error("Error signing out:",g.message),n(null)},[]),p={user:e,loading:i,signOut:h};return U.jsx(Hm.Provider,{value:p,children:s})},$a=()=>{const s=D.useContext(Hm);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},EE=()=>{const[s,e]=D.useState(0),n=D.useRef(1);D.useEffect(()=>{if(typeof window>"u")return;const a=window.setInterval(()=>{n.current=n.current===1?-1:1;const l=n.current*14;e(l)},850);return()=>window.clearInterval(a)},[]);const i=s/5;return U.jsxs("div",{className:"relative flex w-full max-w-md items-center justify-center",children:[U.jsx("div",{"aria-hidden":"true",className:"pointer-events-none absolute inset-0 mx-auto flex h-[72%] max-h-[480px] w-full items-center justify-center rounded-[30px]",style:{transform:"translateY(-40px) scale(0.9)",opacity:1,transition:"transform 280ms ease-out, opacity 280ms ease-out"},children:U.jsxs("div",{className:"relative h-full w-full overflow-hidden rounded-[30px] border border-mn-border-subtle/40 shadow-mn-card",children:[U.jsx("div",{className:"h-full w-full bg-gradient-to-br from-mn-bg via-mn-bg-elevated to-mn-bg blur-[4px]"}),U.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-mn-bg/0 via-mn-bg/30 to-mn-bg/90"})]})}),U.jsxs("article",{className:"relative z-10 mx-auto flex h-[72%] max-h-[480px] w-full select-none flex-col overflow-hidden rounded-[30px] border border-mn-border-subtle/70 bg-gradient-to-br from-mn-bg-elevated/95 via-mn-bg/95 to-mn-bg-elevated/90 shadow-mn-card backdrop-blur",style:{transform:`translateX(${s}px) rotate(${i}deg)`,transition:"transform 480ms cubic-bezier(0.22,0.61,0.36,1)"},children:[U.jsxs("div",{className:"relative h-[58%] overflow-hidden bg-gradient-to-br from-mn-bg/90 via-mn-bg/85 to-mn-bg/95",children:[U.jsx("div",{className:"h-full w-full animate-pulse bg-gradient-to-br from-mn-border-subtle/40 via-mn-border-subtle/20 to-mn-border-subtle/50"}),U.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/25 via-black/10 to-mn-bg/85"}),U.jsxs("div",{className:"absolute left-3 right-3 top-3 flex flex-wrap items-center justify-between gap-2 text-[10px]",children:[U.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-mn-bg/80 px-2 py-1 font-semibold text-mn-text-muted shadow-mn-soft",children:[U.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-mn-border-subtle"}),"Signing you in"]}),U.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-mn-bg/80 px-2 py-1 text-[10px] text-mn-text-muted shadow-mn-soft",children:[U.jsx(i_,{className:"h-3 w-3"}),"Getting your nest ready"]})]})]}),U.jsxs("div",{className:"flex flex-1 flex-col justify-between bg-gradient-to-b from-mn-bg/92 via-mn-bg/96 to-mn-bg px-4 pb-4 pt-3 backdrop-blur-md",children:[U.jsxs("div",{className:"space-y-3 text-left text-[12px] leading-relaxed",children:[U.jsxs("div",{className:"space-y-2",children:[U.jsx("div",{className:"h-5 w-2/3 animate-pulse rounded-full bg-mn-border-subtle/60"}),U.jsx("div",{className:"h-3 w-1/2 animate-pulse rounded-full bg-mn-border-subtle/40"})]}),U.jsxs("div",{className:"space-y-1.5",children:[U.jsx("div",{className:"h-3 w-full animate-pulse rounded-full bg-mn-border-subtle/40"}),U.jsx("div",{className:"h-3 w-5/6 animate-pulse rounded-full bg-mn-border-subtle/30"})]})]}),U.jsx("div",{className:"mt-4 flex flex-wrap items-center gap-2 text-[11px] text-mn-text-secondary",children:U.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-mn-surface-elevated/80 px-2 py-1 shadow-mn-soft",children:[U.jsx(Vg,{className:"h-4 w-4 text-mn-border-subtle"}),"Loading your MoviNesta nest"]})})]})]})]})},kE=()=>{const{user:s,loading:e}=$a(),n=xr();return e?U.jsx("div",{className:"flex min-h-screen items-center justify-center bg-mn-bg px-4 text-mn-text-secondary",children:U.jsx(EE,{})}):s?U.jsx(xg,{}):U.jsx(K0,{to:"/auth/signin",replace:!0,state:{from:n}})},xE=Se.lazy(()=>Qe(()=>import("./SignInPage-DdnuMFQO.js"),__vite__mapDeps([0,1,2,3,4,5,6]))),PE=Se.lazy(()=>Qe(()=>import("./SignUpPage-DjuNiKxo.js"),__vite__mapDeps([7,1,2,3,4,5,6]))),OE=Se.lazy(()=>Qe(()=>import("./ForgotPasswordPage-C74IYt-X.js"),__vite__mapDeps([8,1,3,4,5,6]))),CE=Se.lazy(()=>Qe(()=>import("./ResetPasswordPage-Bff5wCln.js"),__vite__mapDeps([9,1,3,4,5,6]))),TE=Se.lazy(()=>Qe(()=>import("./HomePage-8LMG7YOW.js"),__vite__mapDeps([10,1,11,12,4,13]))),RE=Se.lazy(()=>Qe(()=>import("./SwipePage-CNapmRT7.js"),__vite__mapDeps([14,11,12,4,15,16,17,18]))),jE=Se.lazy(()=>Qe(()=>import("./SearchPage-B6a7yO6o.js"),__vite__mapDeps([19,20,12,4,11,21,5,22,23,13,24,25]))),AE=Se.lazy(()=>Qe(()=>import("./DiaryPage-DZ0cb_mA.js"),__vite__mapDeps([26,11,12,4,27,21,28,5,13,29,22,30,31]))),IE=Se.lazy(()=>Qe(()=>import("./ProfilePage-2KrSOw1X.js"),__vite__mapDeps([32,12,4,11,33,27,21,28,5,13,29,22,30,23,34]))),NE=Se.lazy(()=>Qe(()=>import("./SettingsOverviewPage-BqqoAqXL.js"),__vite__mapDeps([35,12,4,11,36,24,37,38,39]))),LE=Se.lazy(()=>Qe(()=>import("./SettingsProfilePage-BXw8aIxN.js"),__vite__mapDeps([40,12,4,11,33,34,24,15,17]))),DE=Se.lazy(()=>Qe(()=>import("./SettingsAccountPage-BO6CPPPi.js"),__vite__mapDeps([41,11,12,4,28,37,15]))),UE=Se.lazy(()=>Qe(()=>import("./SettingsNotificationsPage-C5cbvuf6.js"),__vite__mapDeps([42,11,12,4,34,16,38,17,15,18]))),$E=Se.lazy(()=>Qe(()=>import("./SettingsAppPage-B3RxP-BO.js"),__vite__mapDeps([43,11,12,4,5,39,15,17]))),ME=Se.lazy(()=>Qe(()=>import("./NotFoundPage-CQmIJr__.js"),[])),FE=Se.lazy(()=>Qe(()=>import("./OnboardingPage-CYAxgdVn.js"),__vite__mapDeps([44,4,5,6]))),BE=Se.lazy(()=>Qe(()=>import("./MessagesPage-DU4KL2tB.js"),__vite__mapDeps([45,11,12,4,20,13]))),zE=Se.lazy(()=>Qe(()=>import("./ConversationPage-BhK-ce9U.js"),__vite__mapDeps([46,28,12,4,13,16,34,21,15,25]))),qE=Se.lazy(()=>Qe(()=>import("./TitleDetailPage-C6NDbnaW.js"),__vite__mapDeps([47,30,12,4,11]))),VE=()=>U.jsx("div",{className:"flex min-h-screen items-center justify-center bg-mn-bg",children:U.jsxs("div",{className:"flex items-end gap-1.5 rounded-2xl border border-mn-border-subtle/80 bg-mn-bg-elevated/80 px-3 py-2 shadow-mn-card",children:[U.jsx("span",{className:"h-3 w-1.5 animate-bounce rounded-full bg-mn-primary",style:{animationDelay:"0ms"},"aria-hidden":"true"}),U.jsx("span",{className:"h-4 w-1.5 animate-bounce rounded-full bg-mn-primary/80",style:{animationDelay:"140ms"},"aria-hidden":"true"}),U.jsx("span",{className:"h-5 w-1.5 animate-bounce rounded-full bg-mn-primary/60",style:{animationDelay:"280ms"},"aria-hidden":"true"})]})}),WE=()=>U.jsx(Se.Suspense,{fallback:U.jsx(VE,{}),children:U.jsxs(G0,{children:[U.jsx($e,{path:"/auth/signin",element:U.jsx(xE,{})}),U.jsx($e,{path:"/auth/signup",element:U.jsx(PE,{})}),U.jsx($e,{path:"/auth/forgot-password",element:U.jsx(OE,{})}),U.jsx($e,{path:"/auth/reset-password",element:U.jsx(CE,{})}),U.jsx($e,{path:"/welcome",element:U.jsx(FE,{})}),U.jsx($e,{element:U.jsx(kE,{}),children:U.jsxs($e,{element:U.jsx(E_,{}),children:[U.jsx($e,{index:!0,element:U.jsx(TE,{})}),U.jsx($e,{path:"/swipe",element:U.jsx(RE,{})}),U.jsx($e,{path:"/messages",element:U.jsx(BE,{})}),U.jsx($e,{path:"/messages/:conversationId",element:U.jsx(zE,{})}),U.jsx($e,{path:"/search",element:U.jsx(jE,{})}),U.jsx($e,{path:"/diary",element:U.jsx(AE,{})}),U.jsx($e,{path:"/title/:titleId",element:U.jsx(qE,{})}),U.jsx($e,{path:"/u/:username",element:U.jsx(IE,{})}),U.jsx($e,{path:"/settings",element:U.jsx(NE,{})}),U.jsx($e,{path:"/settings/profile",element:U.jsx(LE,{})}),U.jsx($e,{path:"/settings/account",element:U.jsx(DE,{})}),U.jsx($e,{path:"/settings/notifications",element:U.jsx(UE,{})}),U.jsx($e,{path:"/settings/app",element:U.jsx($E,{})})]})}),U.jsx($e,{path:"*",element:U.jsx(ME,{})})]})}),HE=()=>U.jsxs(Yw,{children:[U.jsx(WE,{}),U.jsx(iE,{})]}),KE={v7_startTransition:!0,v7_relativeSplatPath:!0};t0.createRoot(document.getElementById("root")).render(U.jsx(Se.StrictMode,{children:U.jsx(bE,{children:U.jsxs(Dw,{client:ji,children:[U.jsx(sw,{basename:"/MoviNesta/".replace(/\/$/,"")||"/",future:KE,children:U.jsx(HE,{})}),!1]})})}));export{sk as A,GE as B,Vg as F,aw as L,n_ as M,Se as R,i_ as S,Qe as _,xr as a,uk as b,Ms as c,td as d,Qw as e,lk as f,$a as g,zg as h,YE as i,U as j,s_ as k,ik as l,JE as m,Wc as n,Kw as o,b_ as p,Na as q,D as r,br as s,vE as t,Aa as u,ak as v,Gy as w,ok as x,fE as y,$n as z};
