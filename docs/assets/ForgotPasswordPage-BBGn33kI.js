import{r as s,j as e,B as f,L as h,s as b}from"./index-n01z0Q-I.js";import{u as g}from"./useDocumentTitle-DUCKsSGw.js";import{A as k}from"./AuthLayout-Z3ZDimkM.js";import{b as w}from"./appUrl-BIFKGN0O.js";import{M as c}from"./material-icon-ik9c9RPC.js";import"./brand-BkRQ_qNJ.js";import"./sparkles-DuMEjElL.js";import"./film-C7XtA2vE.js";const y=/^[^\s@]+@[^\s@]+\.[^\s@]+$/,R=()=>{g("Forgot password");const[t,x]=s.useState(""),[a,i]=s.useState(!1),[d,r]=s.useState(null),[n,m]=s.useState(null),p=async l=>{if(l.preventDefault(),r(null),m(null),!t){r("Please enter your email address.");return}if(!y.test(t)){r("Please enter a valid email address.");return}i(!0);try{const o=typeof window<"u"?w():void 0,{error:u}=await b.auth.resetPasswordForEmail(t,{redirectTo:o});if(u){r(u.message||"We couldn't send the reset email. Please try again in a moment.");return}m("If an account exists for that email, we just sent a password reset link. Please check your inbox.")}catch(o){console.error(o),r("Something went wrong while requesting the reset link.")}finally{i(!1)}};return e.jsxs(k,{kicker:"Reset access",title:"Forgot your password?",description:"Enter the email you use for MoviNesta. We'll send a secure link to reset your password.",footer:e.jsx(h,{to:"/auth/signin",className:"font-medium text-primary hover:underline",children:"Back to sign in"}),children:[d&&e.jsx("div",{role:"alert",className:"rounded-2xl border border-red-200/70 bg-red-50 px-4 py-3 text-sm text-red-600 dark:border-red-500/30 dark:bg-red-500/10 dark:text-red-200",children:d}),n&&e.jsx("div",{role:"status",className:"rounded-2xl border border-emerald-200/70 bg-emerald-50 px-4 py-3 text-sm text-emerald-700 dark:border-emerald-400/40 dark:bg-emerald-400/10 dark:text-emerald-100",children:n}),e.jsxs("form",{onSubmit:p,className:"space-y-4",noValidate:!0,children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"forgot-email",className:"text-sm font-medium text-slate-700 dark:text-slate-200",children:"Email address"}),e.jsxs("div",{className:"relative flex items-center",children:[e.jsx(c,{name:"mail",className:"absolute left-4 text-[18px] text-slate-400 dark:text-slate-500",ariaLabel:"Email"}),e.jsx("input",{id:"forgot-email",type:"email",autoComplete:"email",required:!0,value:t,onChange:l=>x(l.target.value),disabled:a,placeholder:"name@example.com",className:"w-full rounded-2xl border border-slate-200 bg-white px-4 py-3 pl-11 text-sm text-slate-900 placeholder:text-slate-400 shadow-sm transition-all focus:border-primary focus:outline-none focus:ring-2 focus:ring-primary/30 dark:border-white/10 dark:bg-slate-900 dark:text-white dark:placeholder:text-slate-500"})]}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-400",children:"We'll send a secure link that expires shortly."})]}),e.jsxs(f,{type:"submit",className:"w-full rounded-2xl text-sm font-semibold shadow-lg shadow-primary/30",disabled:a||!t,children:[a?"Sending reset linkâ€¦":"Send reset link",e.jsx(c,{name:"arrow_forward",className:"text-[18px]",ariaLabel:"Submit"})]})]})]})};export{R as default};
